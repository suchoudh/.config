T4c.prototype.f0=W(1419,function(a){zx(this.ib.Iw(this.D),"docs-icon-comment-blank-highlighted",a)});X4c.prototype.f0=W(1418,function(a){var b=aI(this.D);this.C.Ye(function(c){var d=a&&c.Gp().kb()==b;c.f0(d)})});VO.prototype.pUa=W(1412,function(a,b){for(var c=this.V[a],d=vd(arguments,1),e=0;e<c.length;++e){var f=c[e];(f.isEnabled(this)||fOc[a])&&f[eOc[a]].apply(f,d)}});
m1b.prototype.qNa=W(1275,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||bG(h)&&d||lVe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||bG(c)&&d||lVe(c)))return c;return null});fma.prototype.sha=W(7,function(){throw Uca("setValue not supported").C;});eda.prototype.H=W(2,function(){throw Uca("remove").C;});Hda.prototype.H=W(1,function(){this.J.splice(this.F,1);this.F--});
ema.prototype.H=W(0,function(){lda(0<=this.F);lma(this.J,this.L[this.F]);mma(this.J);--this.F});function Rbh(a,b){a.YU=b.YU;return a}function Sbh(a,b,c,d){var e=0;Wa(a,b)&&(a=a.slice(e,e+d),e=0);var f=e;for(e+=d;f<e;){var h=Math.min(f+1E4,e);d=h-f;f=a.slice(f,h);f.splice(0,0,c,0);Array.prototype.splice.apply(b,f);f=h;c+=d}}function Tbh(a,b,c){for(a=a.ij();a.C();){var d=a.D();if(Db(b,d))return c&&a.H(),!0}return!1}function Ubh(a,b,c){return a.Wg(b)?a.jza(b,c):null}
function Vbh(a,b){var c=b.Fr();b=b.Gr();var d=a.get(c);return!Db(b,d)||null==d&&!a.Wg(c)?!1:!0}function Wbh(a){return a?a.Gr():null}function Xbh(a){if(a.F.C())return!0;if(!Wa(a.F,a.R))return!1;a.F=a.L.C.ij();return a.F.C()}function Ybh(a,b){return(a=a.C.get(b))?a:[]}function Zbh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(Db(a,d.Fr()))return d}return null}function $bh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}
function ach(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function bch(a,b){for(b=b.ij();b.C();){var c=b.D().Gr();if(Db(a,c))return!0}return!1}function cch(){this.J=this.F=0}t(cch,Ua);cch.prototype.C=function(){return this.F<this.L.size()};cch.prototype.D=function(){this.C();return this.L.Rra(this.J=this.F++)};cch.prototype.H=function(){this.L.ika(this.J);this.F=this.J;this.J=-1};function dch(){cch.call(this)}t(dch,cch);function ech(){this.J=!1}t(ech,Ua);
ech.prototype.C=g("J");ech.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=Xbh(this);return a};ech.prototype.H=function(){this.O.H();this.O=null;this.J=Xbh(this)};function fch(){}t(fch,Ua);fch.prototype.C=function(){return this.F.C()};fch.prototype.D=function(){return this.F.D().Gr()};fch.prototype.H=function(){this.F.H()};function gch(){}t(gch,Ua);gch.prototype.C=function(){return this.F.C()};gch.prototype.D=function(){return this.F.D().Fr()};gch.prototype.H=function(){this.F.H()};
function hch(){this.F=this.J=0}t(hch,Ua);hch.prototype.C=function(){return this.J<this.L.C.length};hch.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};hch.prototype.H=function(){this.L.ika(this.J=this.F);this.F=-1};function ich(a){var b;null==a?b=0:b=Gb(a)|0;return b}function jch(a,b){for(var c=ich(b),d=Ybh(a,c),e=0;e<d.length;e++){var f=d[e];if(Db(b,f.Fr()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Gr()}return null}
function kch(){this.F=0}t(kch,Ua);kch.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};kch.prototype.D=function(){return this.L=this.J[this.F++]};kch.prototype.H=function(){jch(this.O,this.L.Fr());0!=this.F&&this.F--};function lch(){this.D=0}t(lch,Ua);lch.prototype.ij=function(){var a=new kch;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function mch(a){var b=0;for(a=a.ij();a.C();){var c=a.D();b+=ica(c);b|=0}return b}function nch(){}t(nch,Ua);nch.prototype.equals=function(a){return null!=a&&a.L0?Db(this.Fr(),a.Fr())&&Db(this.Gr(),a.Gr()):!1};nch.prototype.gk=function(){return ica(this.Fr())^ica(this.Gr())};nch.prototype.toString=function(){return Xa(this.Fr())+"="+Xa(this.Gr())};nch.prototype.L0=!0;function och(){this.F=0}t(och,nch);och.prototype.Fr=function(){return this.C.value[0]};
och.prototype.Gr=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};och.prototype.sha=function(a){return ach(this.D,this.C.value[0],a)};function pch(){}t(pch,Ua);pch.prototype.C=function(){return!this.J.done};pch.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new och,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};pch.prototype.H=function(){$bh(this.F,this.O.value[0])};function qch(){this.D=this.F=0}t(qch,Ua);
qch.prototype.ij=function(){var a=new pch;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function rch(a){var b=new lch;b.C=new Map;b.F=a;a.C=b;b=new qch;b.C=new Map;b.H=a;a.D=b}function sch(a,b){return Wa(b,a)?"(this Map)":Xa(b)}function tch(){}t(tch,Ua);tch.prototype.toString=function(){return this.C?$b(this.D)?this.C.toString():Xa(this.C.toString())+Xa(this.D):this.J};function uch(a,b){var c=new tch;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Xa(c.F)+Xa(c.D);return c}
function vch(a,b){a.C?Lb(a.C,a.H):a.C=qca(a.F);a=a.C;a.ws=Xa(a.ws)+Xa(b)}function wch(){}t(wch,Ua);m=wch.prototype;m.Fr=g("D");m.Gr=g("C");m.sha=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.L0?Db(this.D,a.Fr())&&Db(this.C,a.Gr()):!1};m.gk=function(){return ica(this.D)^ica(this.C)};m.toString=function(){return Xa(this.D)+"="+Xa(this.C)};m.L0=!0;function xch(){}t(xch,wch);function ych(a,b){var c=new xch;c.D=a;c.C=b;return c}
function zch(a,b,c){var d=ich(b),e=Ybh(a,d);if(0==e.length)a.C.set(d,e);else if(d=Zbh(b,e))return d.sha(c);e[e.length]=ych(b,c);a.D++;return null}function Ach(a,b,c){for(a=a.II().ij();a.C();){var d=a.D();if(Db(b,d.Fr()))return c&&(d=ych(d.Fr(),d.Gr()),a.H()),d}return null}function Bch(){}t(Bch,Ua);m=Bch.prototype;m.add=function(){throw Uca("Add not supported on this collection").C;};m.addAll=function(a){var b=!1;for(a=a.ij();a.C();){var c=a.D();b=!!(+b|+this.add(c))}return b};
m.clear=function(){for(var a=this.ij();a.C();)a.D(),a.H()};m.contains=function(a){return Tbh(this,a,!1)};m.I5b=function(a){for(a=a.ij();a.C();){var b=a.D();if(!this.contains(b))return!1}return!0};m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return Tbh(this,a,!0)};m.Jc=function(a){for(var b=!1,c=this.ij();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Pf=function(){return this.vVa(Array(this.size()))};
m.vVa=function(a){var b=this.size();a.length<b&&(a=Rbh(Array(b),a));for(var c=a,d=this.ij(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};m.toString=function(){for(var a=uch("[","]"),b=this.ij();b.C();){var c=b.D();vch(a,Wa(c,this)?"(this Collection)":Xa(c))}return a.toString()};function Cch(){}t(Cch,Bch);Cch.prototype.clear=function(){this.C.clear()};Cch.prototype.contains=function(a){return this.C.Av(a)};Cch.prototype.ij=function(){var a=this.C.II().ij(),b=new fch;b.F=a;return b};
Cch.prototype.size=function(){return this.C.size()};function Dch(){}t(Dch,Bch);Dch.prototype.equals=function(a){return Wa(a,this)?!0:null!=a&&a.LEa?a.size()!=this.size()?!1:this.I5b(a):!1};Dch.prototype.gk=function(){return mch(this)};Dch.prototype.Jc=function(a){var b=this.size();if(b<a.size())for(var c=this.ij();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.ij();a.C();)c=a.D(),this.remove(c);return b!=this.size()};Dch.prototype.LEa=!0;function Ech(){}t(Ech,Dch);m=Ech.prototype;m.clear=function(){this.C.clear()};
m.contains=function(a){return null!=a&&a.L0?Vbh(this.C,a):!1};m.ij=function(){var a=new ech;a.L=this.C;a.R=a.L.D.ij();a.F=a.R;a.J=Xbh(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Fr()),!0):!1};m.size=function(){return this.C.size()};function Fch(){}t(Fch,Dch);m=Fch.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Wg(a)};m.ij=function(){var a=this.C.II().ij(),b=new gch;b.F=a;return b};
m.remove=function(a){return this.C.Wg(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function Gch(){}t(Gch,Ua);m=Gch.prototype;m.clear=function(){this.II().clear()};m.Wg=function(a){return!!Ach(this,a,!1)};m.Av=function(a){for(var b=this.II().ij();b.C();){var c=b.D().Gr();if(Db(a,c))return!0}return!1};m.equals=function(a){if(Wa(a,this))return!0;if(null==a||!a.j6a||this.size()!=a.size())return!1;for(a=a.II().ij();a.C();){var b=a.D();if(!Vbh(this,b))return!1}return!0};
m.get=function(a){return Wbh(Ach(this,a,!1))};m.gk=function(){return mch(this.II())};m.isEmpty=function(){return 0==this.size()};m.MQb=function(){var a=new Fch;a.C=this;return a};m.jza=function(){throw Uca("Put not supported on this map").C;};m.remove=function(a){return Wbh(Ach(this,a,!0))};m.size=function(){return this.II().size()};m.toString=function(){for(var a=uch("{","}"),b=this.II().ij();b.C();){var c=b.D();c=Xa(sch(this,c.Fr()))+"="+Xa(sch(this,c.Gr()));vch(a,c)}return a.toString()};
m.values=function(){var a=new Cch;a.C=this;return a};m.replace=function(a,b){return Ubh(this,a,b)};m.j6a=!0;function Hch(){}t(Hch,Gch);m=Hch.prototype;m.clear=function(){rch(this)};m.Wg=function(a){var b;bc(a)?b=null==a?!!Zbh(null,Ybh(this.C,ich(null))):void 0!==this.D.C.get(a):b=!!Zbh(a,Ybh(this.C,ich(a)));return b};m.Av=function(a){return bch(a,this.D)||bch(a,this.C)};m.II=function(){var a=new Ech;a.C=this;return a};
m.get=function(a){var b;bc(a)?b=null==a?Wbh(Zbh(null,Ybh(this.C,ich(null)))):this.D.C.get(a):b=Wbh(Zbh(a,Ybh(this.C,ich(a))));return b};m.jza=function(a,b){var c;bc(a)?c=null==a?zch(this.C,null,b):ach(this.D,a,b):c=zch(this.C,a,b);return c};m.remove=function(a){var b;bc(a)?b=null==a?jch(this.C,null):$bh(this.D,a):b=jch(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return Ubh(this,a,b)};function Ich(){}t(Ich,Hch);
Ich.prototype.replace=function(a,b){return Ubh(this,a,b)};function Jch(){}t(Jch,Bch);m=Jch.prototype;m.add=function(a){this.nGa(this.size(),a);return!0};m.nGa=function(){throw Uca("Add not supported on this list").C;};m.clear=function(){this.uVa(0,this.size())};m.equals=function(a){if(Wa(a,this))return!0;if(null==a||!a.KEa||this.size()!=a.size())return!1;a=a.ij();for(var b=this.ij();b.C();){var c=b.D(),d=a.D();if(!Db(c,d))return!1}return!0};
m.gk=function(){for(var a=1,b=this.ij();b.C();){var c=b.D();a=31*a+ica(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(Db(a,this.Rra(b)))return b;return-1};m.ij=function(){var a=new cch;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(Db(a,this.Rra(b)))return b;return-1};m.ika=function(){throw Uca("Remove not supported on this list").C;};
m.uVa=function(a,b){var c=new dch;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.KEa=!0;function Kch(){}t(Kch,Jch);m=Kch.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.nGa=function(a,b){this.C.splice(a,0,b)};m.addAll=function(a){a=a.Pf();if(0==a.length)return!1;Sbh(a,this.C,this.C.length,a.length);return!0};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.Rra=function(a){return this.C[a]};
m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(Db(a,this.C[b])){a=b;break a}a=-1}return a};m.ij=function(){var a=new hch;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(Db(a,this.C[b])){a=b;break a}a=-1}return a};m.ika=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.ika(a);return!0};m.size=function(){return this.C.length};
m.Pf=function(){var a=this.C;return Rbh(a.slice(0,this.C.length),a)};m.vVa=function(a){var b=this.C.length;a.length<b&&(a=Rbh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.uVa=function(a,b){this.C.splice(a,b-a)};m.KEa=!0;function Lch(a){var b=new Mta;return ak(b,6,a)}function Mch(){var a=Kw.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function Nch(a){var b=new om;a.C.forEach(function(c){c.isEmpty()||b.addAll(c.Ed())});return b.Ed()}
function Och(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new Wm(k,h));return!0});return e}function Pch(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new Wm(h,f),!0):!1});return d}function Qch(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?Och(a,!!b,d,e):Pch(a,d,e)}function Rch(a,b){a.C.V=b;a.xa&&a.D&&(P(a.D,0<b),Cp(a.D.childNodes[1],b))}function Sch(a,b,c){a.C.highlightDoco(UQ(a.D,b),null==c?void 0:c)}
function Tch(a,b){var c={},d;for(d in b){var e=UQ(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function Uch(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,u(ba(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function v4(a){return a.C.hasUnpostedDocos()}function Vch(){}t(Vch,Dch);m=Vch.prototype;m.add=function(a){return null==this.C.jza(a,this)};m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Wg(a)};
m.isEmpty=function(){return this.C.isEmpty()};m.ij=function(){return this.C.MQb().ij()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.LEa=!0;function Wch(a,b){return!(!a.C[b]&&!a.J[b])}function Xch(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new Fuf(c,a.H):Guf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||Euf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new fuf(d.D.metadata,d.F):luf),e=b(d.C));if(e)return d.getUrl()}}return null}
function Ych(a){null===a.F&&(a.F=Xch(a.C,function(b){return!!b&&!guf(b)}),null===a.F&&(a.F=Xuf(a,Xch)));return a.F}function Zch(a,b,c,d){fB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(Zch,fB);Zch.prototype.sx=function(){this.dB=[this.C?N$a(this.element):this.element.offsetLeft,this.element.offsetTop];Zch.Ya.sx.call(this)};function $ch(a,b){A.call(this);this.Ng=a;this.C=b}v($ch,A);m=$ch.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);
m.Ef=function(a,b,c){this.Ng.D.Ef(this.C+":"+a,u(this.RJa,this,b),c)};m.rJ=function(a){this.D=u(this.RJa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Ng.D.send(this.C+":"+a,b)};m.RJa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ka=function(){this.Ng=this.Ng.C[this.C]=null};function adh(a){A.call(this);this.D=a;this.C={};this.D.rJ(u(this.F,this))}v(adh,A);
function bdh(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new $ch(a,b);return a.C[b]=c}adh.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};adh.prototype.Ka=function(){Sd(this.C,function(a){Tf(a)});Tf(this.D);delete this.C;delete this.D};
var cdh={$b:!0,ac:!0,bc:!0,cc:!0,gc:!0,hc:!0},ddh={o6a:"all",ZAc:"important",NONE:"none"};function edh(){return S('<div class="'+T("docs-docos-activitybox")+'"><div class="'+T("docs-docos-activitybox-inner")+'"></div></div>')}function fdh(a,b,c){Q.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}t(fdh,Q);m=fdh.prototype;
m.Ca=function(){Q.prototype.Ca.call(this);var a=this.oa(),b=fy(edh,{},{},a);this.pb(b);this.D=a.getElement("docs-docos-caret");this.H=a.eb("docs-docos-activitybox-inner",b);this.L&&(vx(b,"docos-enable-new-header"),vx(this.D,"docos-enable-new-header"));this.O?vx(b,"docos-streampanesize"):vx(b,"docos-streampanesize-legacy")};
m.Ia=function(){wz(this.getElement(),"docos");this.F=new oA(this.getElement());this.F.xj("close-box",27);this.C=new Gx(this.getElement(),"toggle_display");Hx(this.C,!0);Sme(this.C,!1);this.C.JKa=!1;this.getHandler().listen(this.F,"shortcut",this.nUb).listen(this.C,"show",this.$9b).listen(this.C,"hide",this.Z9b).listen(this.C,"beforeshow",this.Y9b).listen(this.C,"beforehide",this.X9b)};m.wb=g("H");m.$9b=function(){P(this.D,!0);this.dispatchEvent("show")};m.Z9b=function(){P(this.D,!1)};m.Y9b=function(){return this.dispatchEvent("beforeshow")};
m.X9b=function(){return this.J?!1:this.dispatchEvent("hide")};m.setVisible=function(a){this.C&&this.C.setVisible(a)};m.isVisible=function(){return!!this.C&&this.C.isVisible()};m.nUb=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};m.Ka=function(){Tf(this.F);delete this.F;delete this.D;delete this.H;Tf(this.C);delete this.C;Q.prototype.Ka.call(this)};
function gdh(a,b,c){bS.call(this,void 0,b,!0,!0);this.L=a;this.H=c;this.setTitle("Comment limit");Kx(this,"You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy.");this.C.setContent("Make a copy");TZe(this,"Reload");this.vs=!0}t(gdh,bS);gdh.prototype.Ca=function(){bS.prototype.Ca.call(this);vx(this.getElement(),"post-limit-error-dialog")};
gdh.prototype.bA=function(){var a=Xy(Ty(new Sy,12));(Ft(),Uu).qb(!0,a);this.H.C(30066);bS.prototype.bA.call(this)};gdh.prototype.mY=function(){KE(this.L,!0);this.H.C(30065)};
function hdh(a,b,c,d,e,f,h,k,l){f=void 0===f?!1:f;h=void 0===h?new Zo:h;k=void 0===k?(Ft(),u4a):k;Uo.call(this);this.F=null;this.ma=!1;this.gb=h;this.C=a;this.Qa=e;this.Ra=new gdh(b,this.gb,this.Qa);this.Va=c;this.Sa=d;this.Ma=f;this.D=new fdh(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.gb);this.Oa=new Vo(this);this.V=new Lz(this);this.Ba=new Nz(void 0,void 0,!0,AB.getInstance());this.J=k;this.xa=
!1;this.Ea=z(y(),"docs-edll");this.O=(this.H=gy())&&z(y(),"docs-ehspc");this.Ja=l||null;this.L=null;this.R=!1;this.C.onReady(u(this.m$b,this))}t(hdh,Uo);m=hdh.prototype;m.render=ba();
m.m$b=function(){var a=this;if(!this.H||this.O)var b=idh(this);this.V.yb((Ft(),Hv),ft,this.wfc);b=this.H?ap("docs-chrome"):b.parentNode.parentNode;this.D.render(b);P(this.D.getElement(),!1);Hv.Pa(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.wb());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,this.Ea);this.Va&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");
jdh(this)?kdh(this):this.C.isLinkedDocoDeleted()&&ldh();this.C.setListener(Docos.OptionName.DIALOG_OPENED,u(this.FWa,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,u(this.FWa,this));this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(this.R=!0,mdh(this,this.C.hasUnseenDocos()),this.C.setListener(Docos.EventType.UNSEEN_DOCOS_UPDATED,function(){a.R&&mdh(a,a.C.hasUnseenDocos())}));Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,u(this.jac,
this));this.C.setOption(Docos.OptionName.SORT_PANE,!0);this.V.yb(this.J,ct,this.r_a);this.r_a(new pYa("enabled",this.J.isEnabled(),!1));this.Ma||this.C.setListener(Docos.EventType.NETWORK_ERROR,u(this.tUb,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,u(this.b$b,this));this.Oa.listen(this.D,["show","hide"],this.F7b)};
function idh(a){var b=a.gb.getElement("docs-docos-commentsbutton");a.F=CT(null);Iy(a.F,16,!1);a.F.Wa(b);a.C.isBadgingEnabled&&a.C.isBadgingEnabled()&&(a.L=a.gb.Ca("SPAN","docs-docos-commentsbutton-badge"),mdh(a,!1),a.gb.appendChild(b,a.L));Pz(a.Ba,a.F,(Ft(),Hv),Rz);a.C.setOption(Docos.OptionName.STREAM_BUTTON,b);return b}m.FWa=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};
m.jac=function(a){if(!this.H||this.O)a=a.getArgs(),this.qCa(a.getDisplay(),!1),this.Ja&&this.Ja(Aw(this.D.wb()))};m.r_a=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};function jdh(a){if(a.H||!a.Ea)return!0;var b=a.C.getLinkedDoco();return!!b&&(!a.C.hasDoco(b)||a.C.isDocoResolved(b)||!a.C.getDocoPosition(b))}m.wfc=function(){this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(mdh(this,!1),this.R=!1);kdh(this);var a=this.D;a.C&&!zab(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
m.tUb=function(){if(!this.ma&&Fq(this.Sa,0)){if(this.C.hasPendingContent()){var a=fA("Failed to post comment due to a network error.","warning",!0);dA.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason");this.ma=!0}};
m.b$b=function(){var a=this.Ra;a.setVisible(!0);a.H.C(30064);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason")};function ldh(){var a=fA("This comment has been deleted.","info",!0);dA.getInstance().postMessage(a)}m.F7b=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a||this.O);this.F&&this.F.Ib(a);a||this.dispatchEvent("activity-box-closed")};
m.qCa=function(a,b){b=void 0===b?!0:b;a&&kdh(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function mdh(a,b){a.L&&P(a.L,b)}function kdh(a){a.xa||(a.xa=!0,a.C.renderPaneSurface())}m.Ka=function(){Tf(this.F);Tf(this.Oa);Tf(this.D);Tf(this.Ba);Tf(this.V);Uo.prototype.Ka.call(this)};function w4(a,b,c){Ho.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}t(w4,Ho);function ndh(){Uo.call(this);this.F=new om;this.D=this.H=this.J=null;this.L=this.C=!1}t(ndh,Uo);
function odh(a,b,c){x4(a);a.D=b;a.H=c;a.dispatchEvent(new w4("Be",[b],c))}ndh.prototype.R=function(a,b){x4(this);this.D=a;this.H=b;this.dispatchEvent(new w4("ze",[a],b))};function pdh(a){a.C||a.D||x4(a);a.dispatchEvent("Je")}ndh.prototype.O=function(){x4(this);this.dispatchEvent("Ee")};ndh.prototype.reset=function(){x4(this);this.dispatchEvent("He")};function x4(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}
ndh.prototype.Ka=function(){delete this.J;delete this.F;delete this.H;delete this.D;Uo.prototype.Ka.call(this)};function qdh(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function rdh(a){var b=new Lta,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new NEd(b)}function sdh(a,b){return(a=XH(a,b))?a.Ec():null}
function tdh(a,b){return b?(b=WEd(b))&&XEd(YEd(b))?sdh(a,b.kb()):null:null}var udh=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,vdh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function wdh(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Oe(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(udh,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,r){return Nd(n[2],r)&&Yga(n[1],q)>Yga(n[1],r)},l||(e="http://"),l=h.match(vdh),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Qe("a",b,h));d.push(l);return""});return Re(d)}function xdh(a,b,c){nJ.call(this,35);this.dd=a;this.C=b;this.F=c}t(xdh,nJ);xdh.prototype.Id=function(){var a=new EF,b=po(this.F,this.C);D(a,1,this.dd);D(a,2,b);return a};xdh.prototype.Cg=ea(!1);function y4(){}y4.prototype.getType=ea("ApiEventArgs");y4.prototype.getType=y4.prototype.getType;function ydh(a){this.C=a}v(ydh,y4);ta("docos.api.FindSelectionArgs",ydh,void 0);function zdh(a){return"FindSelectionArgs"===a.getType()}ydh.isFindSelectionArgs=zdh;ydh.prototype.getType=ea("FindSelectionArgs");ydh.prototype.getVerticalOffset=g("C");ydh.prototype.getVerticalOffset=ydh.prototype.getVerticalOffset;function Adh(a){this.F=a}Adh.prototype.C=function(){if(!eI(this.F.C))return[];var a=hI(this.F.C),b=OI(a);if(Qjc(GK(this.F.Ma,a),b).length){var c=nI(a,b);a=a.Jb();var d=b.x;b=b.y;c=[iM(this.F)?H2b(c,a,d,b):ritz_api.RitzModelApi.getA11yDisplayValue(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};Adh.prototype.D=ea(0);function Bdh(a,b){this.F=a;this.J=b;this.H=ZDd()}Bdh.prototype.C=function(){if(!eI(this.F.C))return[];var a=hI(this.F.C),b=OI(a);a=Qjc(GK(this.F.Ma,a),b);if(!a.length)return["Not on a comment"];a=this.H.sb(a[0]);b=this.J;b.C.verbalizeDoco(UQ(b.D,a));return[]};Bdh.prototype.D=ea(0);function Cdh(a,b,c,d,e,f,h,k,l,n,q,r,w){A.call(this);this.D=a;this.V=b;this.xa=c;this.Sa=d;this.H=e;this.Xa=f;this.Qa=h;this.Va=k;this.C=l;this.L=n;this.J=b.Ma;this.F=b.C;this.O=ZDd();this.ma={};this.Ea=new om;this.Ba=new zIa(0);a=[this.Ba];ud(q.F,a);gjb(q,a);q.C=ejb(q.F);fjb(q);this.Ja=r;this.Ma=new Drf(w,this.Ja.F);this.qa(this.Ma);this.R=new Vo(this);this.qa(this.R);this.Ra=!1;Ddh(this)}t(Cdh,A);
function Ddh(a){var b=bd(JUb,function(d){return!cdh[d]});a.R.listen(a.Sa,"activity-box-closed",a.PCb).listen(a.H,"mouseover",z4(a,a.sNb)).listen(a.H,"click",z4(a,a.K0b)).listen(a.H,"selectionChange",z4(a,a.tNb)).listen(a.H,"inputBoxActivate",z4(a,a.pNb)).listen(a.H,"hide_docos",z4(a,a.rNb)).listen(a.F,"oa",z4(a,a.J0b)).listen(a.Qa,"Id",a.GJb).listen(a.Qa,"Jd",a.EJb).listen(a.Qa,"Kd",a.DJb).listen(a.H,"insert_doco",a.H0b).listen(new hP(a.Va),OQc(),a.wNb).listen(a.V,"docos_change",a.ENb).listen(a.L,
"Yi",a.Dqb).listen(a.F,"na",a.wSa).listen(a.H,"overlay-redraw",a.dFb);var c=nG(a.F);a.R.listen(c,b,a.qNb);a.R.listen(c,["fc"],z4(a,a.I0b));VQ(a.D,Docos.EventType.HOVER,z4(a,a.Xvb));VQ(a.D,Docos.EventType.SELECTED,z4(a,a.G0b));VQ(a.D,Docos.EventType.CREATED,a.jQa,a);VQ(a.D,Docos.EventType.UNRESOLVED,a.jQa,a);VQ(a.D,Docos.EventType.DELETED,a.kQa,a);VQ(a.D,Docos.EventType.RESOLVED,a.kQa,a);VQ(a.D,Docos.EventType.POSTED,a.Awb,a);VQ(a.D,Docos.EventType.PENDING,a.IFb,a);VQ(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.Pzb,a);jD.yb(ct,u(a.LAb,a));(Ft(),Hv).yb(ct,u(a.iqb,a));Iv.subscribe("action",u(a.xDb,a));Jv.subscribe("action",u(a.EDb,a));Kv.subscribe("action",u(a.FDb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Ja.C(rv,new Zv(b));a.Ma.bind(rv.getId(),new Bdh(a.V,a.D));a.Ja.C(sv,new Zv(b));a.Ma.bind(sv.getId(),new Adh(a.V));a.wSa()}m=Cdh.prototype;m.wSa=function(){var a=eI(this.F);(Ft(),Iv).Pa(a);Jv.Pa(a);Kv.Pa(a)};m.dFb=function(){Edh(this.L)};
m.LAb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.V.aQ())};function z4(a,b){return function(c){a.Ra||b.call(a,c)}}m.H0b=function(){var a=hI(this.F),b=OI(a);if(b&&!v4(this.D)&&!Fdh(this,a,b)){var c=ritz_api.RitzModelApi.getNewWorkbookRangeId();a=new xdh(c,a.Jb(),un(b));b=u(this.MAb,this,c,b);a.D=b;this.Xa.C(a)}};m.MAb=function(a,b,c){c&&(a=Gdh(this,this.O.sb(new WDd(a))))&&(this.C.dispatchEvent(new w4("De",[a],b)),this.xa.Cb(2))};
function Fdh(a,b,c){b=Qjc(GK(a.J,b),c);return b.length?(Sch(a.D,a.O.sb(b[0]),!0),!0):!1}m.jQa=function(a){var b=this;$c(a.D,function(c){Hdh(b,!0,c);b.Ea.add(c)})};m.kQa=function(a){var b=this;$c(a.D,function(c){Hdh(b,!1,c);b.Ea.remove(c)})};
function Hdh(a,b,c,d,e){c=Gdh(a,c);d=d||tdh(a.F,c);e=e||hS(c);if(c&&d&&e){var f=GK(a.J,d);if(b){var h=f.C.dg(e.y,e.x)||new om;h.add(c);f.J++;bVb(f.C,e.y,e.x,h)}else(h=f.C.dg(e.y,e.x))&&h.remove(c)&&f.J--;bVb(f.D,e.y,e.x,!0);f.H.Gb()||f.H.start();a.F.getActiveGrid()&&(d=d==hI(a.F),b?(a=a.C,(b=d?e:null)&&Xm(b,a.J)&&a.F.add(c),a.dispatchEvent(new w4("ve",[c],b))):(a=a.C,(b=d?e:null)&&Xm(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new w4("Ge",[c],b))))}else a.C.dispatchEvent("Ie")}
function Gdh(a,b){if(!b)return null;if(!a.ma[b]){var c=a.O.D(b);c&&(a.ma[b]=c)}return a.ma[b]}m.J0b=function(){this.C.reset()};m.Xvb=function(a){a=Idh(this,a);var b=hS(a);this.C.dispatchEvent(new w4("Ae",[a],b))};m.Awb=ba();m.IFb=function(){dWe(this.Ba,this.D.C.hasPendingContent())};m.Pzb=function(a){this.Sa&&(a.J||this.C&&!this.C.D)&&this.Sa.qCa(!0)};m.PCb=function(){this.xa.Cb(3)};
m.G0b=function(a){if(!(a.C&&zdh(a.C)||v4(this.D))){var b=Idh(this,a),c=hS(b);b&&c?(this.Ra=!0,odh(this.C,b,c)):b||a.J?this.C.reset():b||this.xa.Cb(3)}};m.Dqb=function(){this.Ra=!1};m.rNb=function(){this.C.dispatchEvent("Ce")};m.tNb=function(){if(!this.L.isEmpty()&&!v4(this.D)){this.xa.Cb(3);var a=this.C,b=OI(hI(this.F));Xm(a.H,b)||!a.D&&!a.C&&Xm(a.J,b)||(x4(a),a.dispatchEvent(new w4("ye",[],b)))}};
m.K0b=function(){var a=hI(this.F);if(!v4(this.D)&&a){var b=GK(this.J,a),c=(a=OI(a))?Qjc(b,a):[];c.length&&(b=this.C,c=c[0],Xm(b.H,a)?(x4(b),b.dispatchEvent(new w4("we",[],a))):b.dispatchEvent(new w4("we",[c],a)))}};m.pNb=function(){v4(this.D)||this.C.reset()};m.I0b=function(){pdh(this.C)};m.qNb=function(){pdh(this.C)};
m.ENb=function(a){a=a.O||[];wd(a);for(var b=0;b<a.length;b++){var c=this.O.sb(new WDd(a[b]));if(c){var d=Gdh(this,c);(d=EYe(this.J,d))?(Hdh(this,!1,c,d.model,d.ppa),Hdh(this,!0,c),this.C.dispatchEvent("Ie")):this.Ea.contains(c)&&Hdh(this,!0,c)}}};m.sNb=function(a){var b=hI(this.F);if(b){if((a=a.Ek)&&ctc(a)){var c=OH(b,a.y,a.x);a=c?Kn(c):a}else a=null;b=GK(this.J,b);b=a?Qjc(b,a):[];c=this.C;c.F.clear();c.F.addAll(b);c.J=a;c.dispatchEvent(new w4("xe",b,a))}};
m.GJb=function(){if(!v4(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;x4(a);a.C=b;a.dispatchEvent("Fe")}}};m.EJb=function(){if(!v4(this.D)){var a=this.C;a.C||(x4(a),a.L=!0,a.C=!0,a.dispatchEvent("Fe"))}};m.DJb=function(){if(!v4(this.D)){var a=this.C;a.C&&a.L&&(x4(a),a.dispatchEvent("Fe"))}};m.wNb=function(a){a.stopPropagation()};function Idh(a,b){b=b.D;return Gdh(a,b.length?b[0]:null)}
m.F0b=function(a){var b=Gdh(this,a);a=tdh(this.F,b);if(!b||!a)return"";b=hS(b);a=uI(nI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};m.iqb=function(){var a=this.D;if(a=Hvd(a.D,a.C.getLinkedDoco())||"")if(a=Gdh(this,a)){var b=hS(a);odh(this.C,a,b)}else(Ft(),Hv).qb()};m.xDb=function(){var a=hI(this.F);Fdh(this,a,OI(a))};m.EDb=function(){Jdh(this,!1)};m.FDb=function(){Jdh(this,!0)};
function Jdh(a,b){var c=Kdh(a,b),d=$H(a.F),e=hI(a.F),f=OI(e),h=GK(a.J,e);f=Qch(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.Ec(),h=GK(a.J,e),f=Qch(h,null,b),k=k.yg(),k!=d););f&&null!==k&&(b=Qjc(h,f)[0],cI(a.F,k,u(a.L0b,a,e,b,f)))}function Kdh(a,b){var c=b?u(a.F.qNa,a.F):u(a.F.Nsa,a.F);return function(d){return c(d,0,!0,!0)}}m.L0b=function(a,b,c){odh(this.C,b,c);RI(a,c)};
m.Ka=function(){delete this.H;delete this.Va;delete this.O;delete this.ma;delete this.D;delete this.J;delete this.R;delete this.Xa;delete this.F;delete this.V;Tf(this.Ba);delete this.Ba;Tf(this.L);delete this.L;Tf(this.C);delete this.C;A.prototype.Ka.call(this)};var Ldh={aDc:"docos-insert-discussion",Enc:"docos-cancel-insert-discussion",yKc:"docos-new-doco",zKc:"docos-new-reply",jrc:"docos-delete-doco",nrc:"docos-delete-reply",Suc:"docos-edit-doco",Uuc:"docos-edit-reply",Tuc:"docos-edit-draft",Imc:"docos-before-highlight-doco",zAc:"docos-highlight-doco",OSc:"docos-speak-doco",WPc:"docos-resolve-doco",zmc:"docos-back-to-document",mkc:"docos-accept-suggestion",LPc:"docos-reject-suggestion",mpc:"docos-convert-doco",mrc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",TWc:"docos-update-sort",sXc:"docos-vote-doco",tXc:"docos-vote-reply",$Jc:"mouse-hover-doco-view"};function Mdh(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.L=void 0===c?!1:c;this.J=void 0===d?!0:d;this.O=void 0===e?null:e;this.H=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.NT=void 0===k?!1:k}function A4(){return new Mdh("")}function B4(a){return new Ndh(a)}function Ndh(a){this.L=a;this.J=void 0;this.H=!1;this.D=this.F=!0;this.C=void 0;this.NT=!1}function C4(a,b){a.J=b;return a}function Odh(a){a.H=!0;return a}function Pdh(a){a.F=!1;return a}
function Qdh(a,b){a.D=b;return a}function Rdh(a){a.NT=!0;return a}function D4(a){return new Mdh(a.L,a.J,a.H,a.F,void 0,a.D,a.C,a.NT)};function E4(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}ta("docos.Event",E4,void 0);ta("docos.api.Event",E4,void 0);E4.prototype.getType=g("type");E4.prototype.getType=E4.prototype.getType;E4.prototype.getAnchors=g("anchors");E4.prototype.getAnchors=E4.prototype.getAnchors;
E4.prototype.getDocos=g("docos");E4.prototype.getDocos=E4.prototype.getDocos;E4.prototype.isNonAnchored=g("nonAnchored");E4.prototype.isNonAnchored=E4.prototype.isNonAnchored;E4.prototype.isUserInitiated=g("userInitiated");E4.prototype.isUserInitiated=E4.prototype.isUserInitiated;E4.prototype.getArgs=g("args");E4.prototype.getArgs=E4.prototype.getArgs;E4.prototype.canPreventDefault=ea(!1);E4.prototype.canPreventDefault=E4.prototype.canPreventDefault;
E4.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};E4.prototype.preventDefault=E4.prototype.preventDefault;E4.prototype.getAnchorIds=g("D");E4.prototype.getAnchorIds=E4.prototype.getAnchorIds;E4.prototype.getDocoHandles=g("F");E4.prototype.getDocoHandles=E4.prototype.getDocoHandles;function Sdh(a){return new F4(a)}E4.builder=Sdh;function F4(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}ta("docos.api.Event.Builder",F4,void 0);
F4.prototype.addAnchorId=function(a){this.C.push(a);return this};F4.prototype.addAnchorId=F4.prototype.addAnchorId;F4.prototype.setAnchorIds=function(a){this.C=a;return this};F4.prototype.setAnchorIds=F4.prototype.setAnchorIds;F4.prototype.addDocoHandle=function(a){this.D.push(a);return this};F4.prototype.addDocoHandle=F4.prototype.addDocoHandle;F4.prototype.setDocoHandles=function(a){this.D=a;return this};F4.prototype.setDocoHandles=F4.prototype.setDocoHandles;
F4.prototype.setNonAnchored=function(a){this.F=a;return this};F4.prototype.setNonAnchored=F4.prototype.setNonAnchored;F4.prototype.setUserInitiated=function(a){this.H=a;return this};F4.prototype.setUserInitiated=F4.prototype.setUserInitiated;F4.prototype.setApiEventArgs=function(a){this.args=a;return this};F4.prototype.setApiEventArgs=F4.prototype.setApiEventArgs;F4.prototype.isEmpty=function(){return ld(this.C)&&ld(this.D)&&!this.args};F4.prototype.isEmpty=F4.prototype.isEmpty;
F4.prototype.build=function(){return new E4(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new y4)};F4.prototype.build=F4.prototype.build;function Tdh(a,b){E4.call(this,a,[],[],!1,!1,new y4);this.interval=this.interval=b}v(Tdh,E4);ta("docos.api.TimedEvent",Tdh,void 0);function Udh(){this.C={};this.D={}}function Vdh(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Oo(c,"end",function(){delete f[b];delete h[b];e()})}function Wdh(a,b){(a=a.C[b])&&a.stop()}Udh.prototype.getDuration=function(a){return this.D[a]};function Xdh(a){var b=a.Ri,c=a.eC,d=a.Ee;a=a.vS;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function Ydh(a){var b=a.size,c=a.Ee,d=a.Qeb,e=a.Vpa;a=a.T2;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(d?' src="'+T(dx(d))+'"':"")+(e?' data-hovercard-id="'+T(e)+'"':"")+(a?' data-name="'+T(a)+'"':"")+"/>")};function Zdh(a,b){var c=a.fHa,d=a.vj,e=a.Co;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(Ydh({size:32,Ee:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={vj:d,Co:e};d=e.vj;e=e.Co;var f='aria-label="'+
bx("Mark as done and hide discussion.");b=""+R(Tz({cd:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:ax(f+'"'),style:e?4:0,content:$w(""+R(Xdh({Ri:"docos-icon-accept-checkmark-black",eC:"docos-icon-accept-checkmark-size",Ee:"docos-icon-checkmark jfk-button-img"}))),dK:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function $dh(a,b){return a?aeh(G4(a),b):!1}function beh(a,b){return a?$dh(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function ceh(a,b){a=G4(a);return deh(a,b)}function eeh(a,b,c){a=deh(a,b,!0);return c?(new JA("Reassign to {user}")).format({user:a}):(new JA("Assign to {user}")).format({user:a})}function deh(a,b,c){return aeh(a,b)?c?"you":"You":H4(a)}function aeh(a,b){return null!=a.getEmail()&&null!=b.Vg().getEmail()&&a.getEmail()==b.Vg().getEmail()};function I4(a,b){Q.call(this,b);this.Yc=feh(a);this.C=J4(a)}v(I4,Q);I4.prototype.Fd=!1;I4.prototype.Ia=function(){I4.Ya.Ia.call(this);this.Fd&&(this.Vd(),geh(this))};function heh(a){a.Fd||(a.Fd=!0,a.getHandler().listen(a.C,"r",a.Vd),a.Vd(),geh(a))}I4.prototype.Vd=function(){if(this.tb()){var a=this.getElement(),b=this.C.D;zx(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));zx(this.getElement(),"docos-offline",this.C.J)}};
function K4(a,b,c,d){a.Yc&&(d=a.Yc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function geh(a){a.tb()&&K4(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.bh)}I4.prototype.bh=function(a){a.stopPropagation()};function ieh(a,b,c,d){this.C=a;this.D=b;this.H=c;this.F=(void 0===d?null:d)||null};function jeh(a,b,c,d){I4.call(this,a,b);this.H=a;this.Hc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new Uz(null);this.qa(this.R)}t(jeh,I4);m=jeh.prototype;
m.Ca=function(){var a=this.oa(),b=L4(keh(this)),c=fy(Zdh,{fHa:ceh(b,this.C),vj:this.C.vj(),Co:"legacy"!=this.C.F});this.pb(c);this.L=a.eb("docos-icon-checkmark",c);this.O=a.eb("docos-icon-img-container",c);this.J=a.eb("docos-mark-done-button",c);this.R.Wa(this.J);K4(this,this.R,"action",this.NSb);this.F=a.eb("docos-assigneeview-assignee-text",c);this.D=pV(a,"IMG","docos-assigneeview-avatar",c);a=G4(b);leh(M4(this.H),this.D,a.D,H4(a));meh(this,b)};
m.Ia=function(){I4.prototype.Ia.call(this);var a=L4(keh(this));a=G4(a);neh(this,a,this.F);neh(this,a,this.D)};
function meh(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!$dh(b,a.C)||"black"==vz()&&Hf||"material_light_background"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=beh(b,a.C);yx(a.getElement(),["docos-assignee-you","docos-assignee-other"]);yx(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);yx(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
yx(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);vx(a.L,d);vx(a.O,e);vx(a.J,c);vx(a.getElement(),b)}function keh(a){return N4(a.H).fd(a.getId())}m.update=function(){var a=L4(keh(this)),b=ceh(a,this.C)||"";Cp(this.F,b);O4(M4(this.H),this.D);b=G4(a);leh(M4(this.H),this.D,b.D,H4(b));meh(this,a);neh(this,b,this.F);neh(this,b,this.D)};
function neh(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.NSb=function(a){a&&a.stopPropagation();(a=keh(this))&&!a.isResolved()&&(a=P4(this.H),this.dispatchEvent("br"),a.Bf("docos-resolve-doco").qb(new ieh(this.getId(),!0,oeh(this.V))),this.dispatchEvent("ar"))};m.xd=function(){I4.prototype.xd.call(this)};
m.Ka=function(){I4.prototype.Ka.call(this);delete this.F;delete this.D;delete this.L};function Q4(a){J(this,a,0,-1,null,null)}v(Q4,I);m=Q4.prototype;m.ea=function(){var a=new E;peh(this,a);return Y(a)};function peh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function qeh(a){J(this,a,0,1,null,null)}v(qeh,I);var reh={};qeh.prototype.ea=function(){var a=new E;seh(this,a);return Y(a)};function seh(a,b){Lj(a,b,reh,qeh.prototype.getExtension)};function teh(a){J(this,a,0,-1,null,null)}v(teh,I);m=teh.prototype;m.ea=function(){var a=new E;ueh(this,a);return Y(a)};function ueh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=N(a,qeh,3);null!=c&&b.Aa(3,c,seh);c=K(a,4);null!=c&&b.Ha(4,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};
m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function veh(a){J(this,a,0,-1,null,null)}v(veh,I);veh.prototype.ea=function(){var a=new E;weh(this,a);return Y(a)};function weh(a,b){a=N(a,fY,1);null!=a&&b.Aa(1,a,hmf)};function xeh(a){J(this,a,0,-1,null,null)}v(xeh,I);xeh.prototype.ea=function(){var a=new E;yeh(this,a);return Y(a)};function yeh(a,b){var c=N(a,fY,1);null!=c&&b.Aa(1,c,hmf);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Cj(b,3,c);c=K(a,4);null!=c&&Cj(b,4,c)}xeh.prototype.D=function(a){L(this,2,a)};function zeh(a){J(this,a,0,-1,Aeh,null)}v(zeh,I);var Aeh=[5];zeh.prototype.ea=function(){var a=new E;Beh(this,a);return Y(a)};function Beh(a,b){var c=K(a,1);null!=c&&Cj(b,1,c);c=K(a,2);null!=c&&Cj(b,2,c);c=K(a,3);null!=c&&Cj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Zj(a,xeh,5);0<c.length&&Hj(b,5,c,yeh)};function Ceh(a){J(this,a,0,-1,null,null)}v(Ceh,I);Ceh.prototype.ea=function(){var a=new E;Deh(this,a);return Y(a)};function Deh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)};function Eeh(a){J(this,a,0,-1,null,null)}v(Eeh,I);m=Eeh.prototype;m.ea=function(){var a=new E;Feh(this,a);return Y(a)};function Feh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&Bj(b,2,c);c=K(a,3);null!=c&&Bj(b,3,c)}m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};function Geh(a){J(this,a,0,-1,null,null)}v(Geh,I);m=Geh.prototype;m.ea=function(){var a=new E;Heh(this,a);return Y(a)};function Heh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=N(a,Eeh,3);null!=c&&b.Aa(3,c,Feh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.Ha(5,c);c=K(a,9);null!=c&&b.Ha(9,c);c=K(a,6);null!=c&&b.Ha(6,c);c=N(a,Ceh,7);null!=c&&b.Aa(7,c,Deh);c=K(a,8);null!=c&&b.Ha(8,c);c=K(a,11);null!=c&&b.Ha(11,c);c=K(a,10);null!=c&&b.Ha(10,c);c=K(a,12);null!=c&&b.Ha(12,c)}
m.getName=function(){return K(this,1)};m.Xc=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Hc=function(a){return L(this,9,a)};function Ieh(a){J(this,a,0,-1,Jeh,null)}v(Ieh,I);var Jeh=[8];m=Ieh.prototype;m.ea=function(){var a=new E;Keh(this,a);return Y(a)};
function Keh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=a.getContent();null!=c&&b.Aa(3,c,peh);c=N(a,Q4,4);null!=c&&b.Aa(4,c,peh);c=N(a,fY,5);null!=c&&b.Aa(5,c,hmf);c=N(a,Geh,14);null!=c&&b.Aa(14,c,Heh);c=K(a,6);null!=c&&Cj(b,6,c);c=K(a,7);null!=c&&Cj(b,7,c);c=R4(a);0<c.length&&Hj(b,8,c,Keh);c=S4(a);null!=c&&b.Aa(9,c,ueh);c=N(a,yT,21);null!=c&&b.Aa(21,c,tqe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.Ha(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Cj(b,13,c);
c=K(a,15);null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.Ha(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,veh,18);null!=c&&b.Aa(18,c,weh);c=N(a,zeh,19);null!=c&&b.Aa(19,c,Beh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Hc=function(a){return L(this,1,a)};m.getContent=function(){return N(this,Q4,3)};m.setContent=function(a){return ak(this,3,a)};m.wt=function(){return null!=K(this,3)};function R4(a){return Zj(a,Ieh,8)}
function S4(a){return N(a,teh,9)}m.getOrigin=function(){return K(this,17)};function Leh(a,b){void 0!==b.getId()&&a.Hc(b.getId());var c=T4(b);if(void 0!==c){var d=T4(a);c?d?Meh(d,c):ak(a,2,c):ak(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.gq();if(void 0!==d)if(c=a.gq(),d)if(c){void 0!==d.getId()&&c.Hc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?Neh(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,U4,3);void 0!==d&&(e=N(c,U4,3),d?e?Leh(e,d):ak(c,3,d):ak(c,3,void 0))}else a.bv(d);else a.bv(void 0);void 0!==Nj(b,
6)&&(c=Nj(b,6),L(a,6,c));void 0!==Nj(b,7)&&(c=Nj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Nj(b,9)&&(b=Nj(b,9),L(a,9,b))}
function Meh(a,b){void 0!==b.getId()&&a.Hc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?Neh(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,Q4,4);void 0!==c&&(d=N(a,Q4,4),c?d?Neh(d,c):ak(a,4,c):ak(a,4,void 0));c=N(b,fY,5);void 0!==c&&(c?ak(a,5,c):ak(a,5,void 0));d=N(b,Geh,14);if(void 0!==d)if(c=N(a,Geh,14),d)if(c){void 0!==d.getName()&&c.Xc(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,Eeh,3);if(void 0!==e){var f=
N(c,Eeh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else ak(c,3,e);else ak(c,3,void 0)}void 0!==Nj(d,4)&&(e=Nj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,Ceh,7);void 0!==f&&(e=N(c,Ceh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):ak(c,7,f):ak(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else ak(a,14,d);else ak(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));R4(b)&&(c=sd(R4(a),R4(b)),ck(a,8,c));d=S4(b);void 0!==d&&(c=S4(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,qeh,3)&&(e=N(d,qeh,
3),ak(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):ak(a,9,d):ak(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Nj(b,12)&&(c=Nj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Nj(b,15)&&(c=Nj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,veh,18);void 0!==c&&(e=N(a,veh,18),c?e?(d=N(c,fY,1),void 0!==d&&(c=N(e,fY,1),d?c?
(void 0!==d.getName()&&c.Xc(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Hc(d.getId()),void 0!==Nj(d,5)&&(e=Nj(d,5),L(c,5,e)),void 0!==Nj(d,7)&&(e=Nj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):ak(e,1,d):ak(e,1,void 0))):ak(a,18,c):ak(a,18,void 0));d=N(b,zeh,19);void 0!==d&&(c=N(a,zeh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,
4)&&(e=K(d,4),L(c,4,e)),void 0!==Zj(d,xeh,5)&&(d=Zj(d,xeh,5),ck(c,5,d))):ak(a,19,d):ak(a,19,void 0));void 0!==N(b,yT,21)?(c=N(b,yT,21),ak(a,21,c)):void 0!==b.getContent()&&ak(a,21,void 0);void 0!==Nj(b,22)&&(c=Nj(b,22),L(a,22,c));void 0!==Nj(b,23)&&(b=Nj(b,23),L(a,23,b))}function Neh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function Oeh(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Ld(b)?Md(b.toLowerCase()):null;this.L=c;this.D=d;this.dd=e;this.H=f;this.C=h}Oeh.prototype.getName=g("J");Oeh.prototype.getEmail=g("F");Oeh.prototype.getId=g("dd");function H4(a){a=Ld(sf(a.getName()))?a.getEmail():a.getName();return sf(a)}Oeh.prototype.equals=function(a){return this.J==a.J&&this.F==a.F&&this.L==a.L&&this.dd==a.dd&&this.H==a.H&&this.C==a.C};
function Peh(a){var b=Qeh(Reh(Seh(Teh((new V4).Xc(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Hc(a.getId()||""),!!Nj(a,5));a=!!Nj(a,7);b.D=a;return Ueh(b)}function Veh(a){var b=(new fY).Hc(a.getId()||""),c=a.getName();null!==c&&b.Xc(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function V4(){}V4.prototype.Xc=function(a){this.H=a;return this};function Teh(a,b){a.C=b&&!Ld(b)?Md(b.toLowerCase()):null;return a}
function Seh(a,b){a.L=b;return a}function Reh(a,b){a.J=b;return a}V4.prototype.Hc=function(a){this.dd=a;return this};function Qeh(a,b){a.F=b;return a}function Ueh(a){return new Oeh(a.H,a.C,a.L,a.J,a.dd,a.F,a.D)};function Weh(a){N(a,fY,1);this.C=a}function G4(a){a=N(a.C,fY,1);return Peh(a)}Weh.prototype.ue=g("C");Weh.prototype.equals=function(a){return fk(this.C,a.C)};function Xeh(a){var b=new veh;a=Veh(a);b=ak(b,1,a);return new Weh(b)};function Yeh(a){N(a,fY,1);K(a,2);this.C=a}Yeh.prototype.ue=g("C");function Zeh(a){this.C=a}function $eh(a,b){var c=[];a=Zj(a.C,xeh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new Yeh(e))}return c}function W4(a){return null!=K(a.C,4)?K(a.C,4):0}Zeh.prototype.ue=g("C");function afh(){var a=bfh;this.C=[];this.D={};this.F=a}afh.prototype.text=function(a){this.C.push(a)};function cfh(a,b){if(a.D[b])a.C.push(b);else{var c=new dfh(b,a.C.length);a.C.push(c);a.D[b]=c}}function efh(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=bd(Xd(a.D),function(e){return e.D>c.D});zd(d,function(e,f){return yd(e.D,f.D)});a.C.push(new ffh(a.F[b].close,d,a.F))}else a.C.push(b)}afh.prototype.getResult=function(){return this.C.join("")};
function dfh(a,b){this.F=a;this.D=b;this.C=null}dfh.prototype.getName=g("F");dfh.prototype.toString=function(){return null!==this.C?this.C:this.F};function ffh(a,b,c){this.F=a;this.C=b;this.D=c}ffh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function gfh(a){a=Ne(wdh(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new hfh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new ifh(a.substring(0,c))),a=a.substring(c);b.push(new hfh(a));return new jfh(b)}function kfh(a){var b=new afh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=lfh.test(d);d=mfh.test(d);f?d?b.D[e]?efh(b,e):cfh(b,e):cfh(b,e):d?efh(b,e):b.text(e)}return new hfh(b.getResult())}
function nfh(a){return new hfh(a.replace(ofh,"<br>"))}var ofh=/\r\n|\n|\r/g,bfh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},lfh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,mfh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function hfh(a){this.bf=a}hfh.prototype.C=function(a){return a(this.bf)};hfh.prototype.toString=g("bf");function ifh(a){this.bf=a}ifh.prototype.C=function(){return this};ifh.prototype.toString=g("bf");
function jfh(a){this.Zh=a}jfh.prototype.C=function(a){var b=ed(this.Zh,function(c){return c.C(a)});return new jfh(b)};jfh.prototype.toString=function(){return this.Zh.join("")};function pfh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=pfh.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),ak(a,4,void 0),ak(a,9,void 0));if(void 0!==N(a,yT,21)||void 0!==a.getContent())this.D=null;Meh(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return fk(this.C,a.C)};
m.kx=function(){var a=N(this.C,fY,5)||new fY;return Peh(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.Lu=function(){this.H||(this.H=WV(K(this.C,6)));return this.H};m.iR=function(){if(void 0===K(this.C,7))return this.Lu();this.J||(this.J=WV(K(this.C,7)));return this.J};function qfh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=WV(K(a.C,13))),b=a.F;if(!b||a.iR()>b)b=a.iR();return b}
function rfh(a){if(void 0!==S4(a.C)&&("text/html"==S4(a.C).getType()||"text/plain"==S4(a.C).getType())){var b=S4(a.C).getValue();b="text/html"==S4(a.C).getType()?b:mf(b)}return b||""}m.M4=function(){if(void 0!==S4(this.C)){var a=N(S4(this.C),qeh,3);if(a)return a.Pf()}return null};m.Mha=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};
m.Nha=function(){if(null!=N(this.C,yT,21)&&!this.D){var a=N(this.C,yT,21);a=K(a,2)||"";this.D=Ue(a,null)}return this.D};m.Zx=function(){return null!=N(this.C,Q4,4)?N(this.C,Q4,4).getValue()||"":""};m.zs=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.sS=function(){return!!Nj(this.C,12)};m.Pq=function(){return!!K(this.C,13)};m.pC=function(){var a=N(this.C,veh,18);return null!=a?new Weh(a):null};m.nA=function(){var a=N(this.C,zeh,19);return null!=a?new Zeh(a):null};
m.Uj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};m.QI=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function sfh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.Jwa=function(){return!!Nj(this.C,22)};m.Ewa=function(){return 2==this.getOrigin()};function X4(a,b){this.C=new Ieh;L(this.C,11,a);b&&b!=a&&this.C.Hc(b)}
function tfh(a,b){var c=R4(a.C);c.push(b.C);ck(a.C,8,c);return a}function ufh(a,b){L(a.C,16,b);return a}function Y4(a){L(a.C,12,!0);return a}function vfh(a,b){L(a.C,6,b);return a}function wfh(a){var b=Ra();L(a.C,13,b);return a}function xfh(a){L(a.C,13,0);return a}function yfh(a,b){ak(a.C,18,b.ue());L(a.C,10,4);return a}function zfh(a,b){b=Veh(b);ak(a.C,5,b);return a}function Afh(a,b){ak(a.C,19,b.ue());return a}function Bfh(a){L(a.C,20,1);return a}
function Z4(a,b,c){b=Md(b);var d=(new Q4).setType("text/plain").setValue(b);ak(a.C,4,d);b=(new Q4).setType("text/html").setValue(gfh(b).C(kfh).C(nfh).toString());a.C.setContent(b);L(a.C,7,c);return a};function Cfh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function Dfh(a,b){return a.F.getId()==b.kx().getId()}function Efh(a,b){return Dfh(a,b)&&!!b.Zx()&&("suggest"==a.C||"full"==a.C)}function Ffh(a,b){return b instanceof pfh&&void 0!==b.Mha()?!1:(a.H||Dfh(a,b))&&(!!b.Zx()||b.Uj())&&("suggest"==a.C||"full"==a.C)}function Gfh(a,b){return a.D&&!b.Uj()&&("suggest"==a.C||"full"==a.C)}Cfh.prototype.bxa=g("D");function Hfh(a){return"suggest"==a.C||"full"==a.C};function Ifh(a){J(this,a,0,-1,null,null)}v(Ifh,I);Ifh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.Ha(1,b);return Y(a)};function Jfh(a,b){this.D=a;this.C=b||null}Jfh.prototype.gp=function(a,b,c){this.D(a,b,c)};Jfh.prototype.ECa=function(a){this.C&&this.C(a)};function Kfh(a,b,c,d,e){d=d?d.Pf():void 0;e=e?e.Pf():void 0;a(b,c,d,e)};function Lfh(a){Uo.call(this);this.h3(a)}v(Lfh,Uo);m=Lfh.prototype;
m.h3=function(a){var b=a.kd;this.dh=b;if(void 0===b.Vg())throw Error("Invalid or missing user.");var c=b.Vg();this.VJa=Ueh(Qeh(Reh(Seh(Teh((new V4).Xc(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Hc(c.getId()||""),!!Nj(c,5)));this.$fa=!!Nj(b,40);this.Fba=!Nj(b,20);this.Gba=K(b,11);this.RLa=!!Nj(b,12);this.sqa=K(b,6);this.UJa=void 0!==a.l?!!a.l:!!Nj(b,25);this.i0a=K(b,21);this.uqa=K(b,23);this.WJa=K(b,24);this.mUa=K(b,31);void 0!==a.i?this.tqa=a.i:this.tqa=void 0;if(a=gY(b))this.i3=K(a,1);this.dispatchEvent("r")};
m.sqa=null;m.mUa=null;m.tqa=void 0;m.Gba=null;m.UJa=!1;m.$fa=!1;m.i0a=null;m.uqa=null;m.WJa=null;m.Fba=!0;m.RLa=!1;m.VJa=null;m.i3=null;m.dh=null;m.Vg=g("VJa");function Mfh(a,b,c){function d(f){return c?td(f):f}var e=null;a&&Ea(a)&&(e=d(a),Ea(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function Nfh(a){this.C=a};function Ofh(){}Ofh.prototype.install=function(a){a=a&&Yo(a);Wcb(a)};Ofh.prototype.C=function(a,b){tz(a,b,void 0)};Ofh.prototype.hf=function(a){a=a&&Yo(a);adb(a)};Ofh.prototype.D=function(a,b){TV(a,b)};function Pfh(a,b){b=void 0===b?function(){return tse()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));Ea(c)&&(c=Mfh(c,"kd",!0),c.unshift("kd"),a.kd=new omf(c));Lfh.call(this,a);this.Ij=b}t(Pfh,Lfh);m=Pfh.prototype;
m.h3=function(a){Lfh.prototype.h3.call(this,a);this.L=this.L||G7b("disco");var b;if(!(b=this.Ra)){b=G7b("usp_dm");var c=new VSd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Ra=b;this.nj=a["anchor-is-orphaned-fn"]||re;this.Ba=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new Nfh(a.containerdiv));this.jr=b;this.Ob=a.storage||null;this.vd=!!a["storage-ro"];this.Ud=!!a["disable-focus"];this.sD=!!a.so;this.jg=a.docscroller||null;this.Ro=a["inactive-doco-indent"]||10;this.Xa=
a["instant-docos-div"]||null;this.ob=a["enable-new-delete-ui"]||!1;this.jb=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new Jfh(b,c));this.Bm=a["memory-monitor-fn"]||null;this.ub=a.layout||null;this.wl=!!a.layoutrtl;this.H=a.listeners||{};this.O=a.panediv||null;this.xa=a.panekbdiv||null;this.A3()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.fb=
b;this.Pc=a.quotefn||null;this.Fd=a["user-color-provider-fn"]||null;this.tD=a["user-color-provider-from-name-fn"]||null;this.Vs=a.quoterenderfn||null;this.jj=!!a["hide-notification"];this.J=!!a.offline;this.Dc=!!a.nocss;this.Lc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Vd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Nj(this.dh,8);this.D=new Cfh(this.Vg(),c?c:d?"readonly":"full",!!Nj(this.dh,
3),b);this.Va=!!a.iph;this.uq=a.maxheight||0;this.Yc=!!a.showerrors;this.jd=a["stream-button"]||null;this.Ne=!!a["disable-spfw"];this.Sa=a["anchor-mutate-fn"]||null;Qfh(this)||(this.Sa=null);this.Qg=!!a["enable-comment-button"];this.Ma=!!a["enable-gsuite-embedding"];this.Zg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.vn=a["acl-fix-fn"]||null;this.Xl=a["load-acl-fixer-fn"]||null;this.cf=a["intercept-docos-edit-fn"]||null;this.bj=a["is-an-illegal-write-fn"]||null;this.Pd=
!!a["defer-first-sync"];this.Fb=!!a["enable-lazy-loading"];this.Ja=!!a["enable-all-docos-in-anchored-stream"];this.qz=a["stream-pane-banner-message"]||null;this.Ut=a["stream-pane-banner-learn-more-url"]||null;this.On=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Qa=(b=a["impression-recorder-fn"])?Qa(Kfh,b):null;this.Oh=a.hidepromofn;this.Tt=a.showpromofn;this.Om=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new Ofh;this.Nn=a["browser-app-clipboard"]||
null;this.cb=a["modal-dialog-z-index"]||null;this.Lf=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Ea=a["static-input-pane-message"]||null;this.Sba=a["drive-id"]||null;this.rb=!!a["enable-roving-tabindex"];this.bh=a["auto-complete-factories"]||[];this.xo=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.Db=a["link-opener"]||null;this.Yj=a["last-viewed-timestamp"]||null;this.dispatchEvent("r")};
function Rfh(a){return null!=K(a.dh,44)&&null!=K(gY(a.dh),51)&&!!Nj(gY(a.dh),51)}m.UK=function(){if(this.jj)return!1;var a=Nj(this.dh,26);return null!=a?!!a:!0};m.Hga=function(){return!!Nj(this.dh,43)};m.Rwa=function(){var a=!1,b=gY(this.dh);b&&(a=Nj(b,2));return!!Nj(this.dh,43)&&!!a};function Sfh(a){return!!gY(a.dh)&&!!Nj(gY(a.dh),32)}m.tsa=g("Sba");function Qfh(a){return a.dh&&!!Nj(a.dh,18)}m.vj=function(){return!!Nj(this.dh,39)};
m.A3=function(){return null!=K(this.dh,44)&&!!Nj(gY(this.dh),53)&&!this.Vg().C};m.fH=function(){return null!=K(this.dh,44)&&!!Nj(gY(this.dh),54)&&!this.Vg().C};function $4(a){return null!=K(a.dh,44)&&null!=K(gY(a.dh),55)&&!!Nj(gY(a.dh),55)}function Tfh(a){return null!=K(a.dh,44)&&!!Nj(gY(a.dh),56)}function Ufh(a){return null!=K(a.dh,44)&&!!Nj(gY(a.dh),57)}function Vfh(a){return a.Ij()&&!!Nj(a.dh,10)&&!a.Ud}function Wfh(a){return Nj(a.dh,10)?a.bh:[]}
function Xfh(a){return!!gY(a.dh)&&!!Nj(gY(a.dh),50)};function Yfh(a,b,c,d,e,f){I4.call(this,a,c);this.D=J4(a);this.Qa=Rm(Wc(y(),"docs-seu")||this.D.Lf||window.location.href);this.Rc=new jz(c,new Zfh(d));this.F=new sz("",this.Rc,void 0,c);this.F.qO=!0;this.Ga(this.F);this.J=null;kd(e,"edit")&&(this.J=new ez("Edit"),this.J.Kc("docos-edit-menuitem"),this.Rc.Ga(this.J,!0));this.H=null;kd(e,"delete")&&(this.H=new ez("Delete"),this.H.Kc("docos-delete-menuitem"),this.Rc.Ga(this.H,!0));this.R=null;kd(e,"reanchor")&&Sfh(this.D)&&(this.R=new ez("Reanchor comment"),
this.R.Kc("docos-reanchor-menuitem"),this.Rc.Ga(this.R,!0));this.xa=null;kd(e,"disable")&&(this.xa=new ez("Turn off suggested action items"),this.xa.Kc("docos-disable-menuitem"),this.Rc.Ga(this.xa,!0));this.Ja=null;kd(e,"help")&&(this.Ja=new ez("Learn more"),this.Ja.Kc("docos-help-menuitem"),this.Rc.Ga(this.Ja,!0));d=N4(a).fd(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ma=f?a5(d,f):null;this.V=null;J4(a).D.bxa()&&kd(e,"resolve")&&(this.V=new ez(""),this.Rc.Ga(this.V,
!0));this.O=this.Ba=this.ma=null;kd(e,"link")&&(this.Ba=new ez("Link to this comment..."),this.Ba.Kc("docos-link-menuitem"),this.Rc.Ga(this.Ba,!0),this.O=new vrf(c,this.D.Nn||void 0,void 0,null===this.D.cb?void 0:this.D.cb),this.Ga(this.O),vx(Ox(this.O),"docos"),this.O.setTitle("Link to this comment..."),$fh(this,b));this.Ea=J4(a).xo.map(function(h){return{Kab:h,ONa:new ez(h.getLabel())}});for(a=0;a<this.Ea.length;a++)this.Rc.Ga(this.Ea[a].ONa,!0)}t(Yfh,I4);m=Yfh.prototype;
m.Gc=function(a){I4.prototype.Gc.call(this,a);a=this.oa().eb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Yc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Wa(a),this.F.Pa(!0),this.D.C.C(a,"More options..."),this.F.Ce("More options..."))};
m.Ia=function(){var a=this;I4.prototype.Ia.call(this);agh(this);K4(K4(K4(this,this.Rc.getElement(),"click",this.jWa),this.F.getElement(),"click",this.jWa),this.D,"r",this.gub);K4(this,this.F.getElement(),"keyup",this.Sgc);bgh(this,this.J,this.cic);bgh(this,this.H,this.aic);bgh(this,this.Ba,this.Qac);bgh(this,this.R,this.gic);bgh(this,this.V,this.hic);bgh(this,this.xa,this.bic);bgh(this,this.Ja,this.fic);for(var b={},c=0;c<this.Ea.length;b={s$:b.s$},c++)b.s$=this.Ea[c],bgh(this,b.s$.ONa,function(d){return function(){d.s$.Kab.C((a.Ma||
a.L).Zx())}}(b))};m.Jh=function(a){this.oa().Ti(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){agh(this)};function $fh(a,b){if(a.O){var c=a.Qa.clone();b=c.D.set("disco",b);a.O.VWa(Lm(c,b).toString())}}function bgh(a,b,c){b&&K4(a,b,"action",c)}m.hic=function(a){Gfh(this.D.D,this.L)&&(this.dispatchEvent(new cgh("r")),dgh(this,a))};m.cic=function(a){egh(this)&&(this.dispatchEvent(new cgh("e")),dgh(this,a))};
m.bic=function(a){this.dispatchEvent(new cgh("i"));dgh(this,a)};m.aic=function(a){fgh(this)&&(this.F.zd(!1),this.dispatchEvent(new cgh("d")),dgh(this,a))};m.gic=function(a){this.dispatchEvent(new cgh("ra"));dgh(this,a)};m.fic=function(a){this.dispatchEvent(new cgh("h"));dgh(this,a)};m.Qac=function(a){dgh(this,a);this.O.setVisible(!0)};function dgh(a,b){b.stopPropagation();a.F.zd(!1)}m.Sgc=function(a){27==a.keyCode&&a.stopPropagation()};m.jWa=function(a){a.stopPropagation()};m.gub=function(){agh(this)};
function egh(a){return Efh(a.D.D,a.Ma||a.L)&&!a.ma}function fgh(a){return Ffh(a.D.D,a.Ma||a.L)&&!a.D.ma}function agh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=ggh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Pa(Gfh(a.D.D,a.L))}a.J&&(b=egh(a),a.J.Pa(b),a.J.setVisible(b));a.H&&(b=fgh(a),a.H.Pa(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Pa(b),a.R.setVisible(b))}function cgh(a){Ho.call(this,a)}t(cgh,Ho);
function Zfh(a){a=void 0===a?"docos-docomenu":a;hz.call(this);this.D=a}t(Zfh,hz);Zfh.prototype.Lb=function(){return(new dr("goog-menu"," ","docos"," ",this.D)).toString()};function hgh(){kC.call(this,!1)}t(hgh,kC);hgh.prototype.nO=function(a){kC.prototype.nO.call(this,a)};function igh(){this.C=!1;this.D=new Of;this.qa(this.D)}v(igh,A);function jgh(a,b,c,d,e,f,h){this.H=a;this.D=b;this.J=c;this.F=d;this.Wy=e;this.aX=f;this.C=h}jgh.prototype.fd=g("D");function kgh(){}function b5(a){var b=new kgh;b.F=a;return b}function c5(a,b){a.D=b;return a}function lgh(a,b){a.Wy=b;return a}function d5(a){return new jgh(a.F,a.D,a.J||!1,a.C||null,a.Wy||null,a.aX||null,a.H||null)};function mgh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.$r=h}function e5(){}function f5(a,b){a.H=b;return a}function g5(a,b){a.F=b;return a}function h5(a,b){a.$r=b;return a}function i5(a){return new mgh(a.H,a.L||!1,a.C||null,a.J||null,a.D||null,a.F||null,a.$r||null)};function U4(a){J(this,a,0,-1,null,null)}v(U4,I);function ngh(a){J(this,a,0,-1,null,null)}v(ngh,I);m=U4.prototype;m.ea=function(){var a=new E;ogh(this,a);return Y(a)};function ogh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=T4(a);null!=c&&b.Aa(2,c,Keh);c=K(a,3);null!=c&&Cj(b,3,c);c=K(a,4);null!=c&&Cj(b,4,c);c=a.gq();null!=c&&b.Aa(5,c,pgh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.Ha(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};
m.Hc=function(a){return L(this,1,a)};function T4(a){return N(a,Ieh,2)}m.gq=function(){return N(this,ngh,5)};m.bv=function(a){return ak(this,5,a)};m=ngh.prototype;m.ea=function(){var a=new E;pgh(this,a);return Y(a)};function pgh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=a.getTitle();null!=c&&b.Aa(2,c,peh);c=N(a,U4,3);null!=c&&b.Aa(3,c,ogh)}m.getId=function(){return K(this,1)};m.Hc=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,Q4,2)};m.setTitle=function(a){return ak(this,2,a)};function qgh(a,b,c){var d=T4(a);this.F=a;this.O=b;this.Jt=c||null;this.R=null;this.J={};this.D={};this.C=new pfh(d);this.H=void 0;this.wS=!!N(d,veh,18);b=this.getId();if(a=T4(a)){a=R4(a);for(c=0;c<a.length;c++)d=new pfh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,sfh(d)&&(this.H=sfh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=qgh.prototype;m.kx=function(){return this.C.kx()};m.getId=function(){return this.C.getId()};
function j5(a){return K(a.C.C,11)||""}m.iR=function(){var a=K(this.F,4);if(void 0===a)return this.Lu();this.V||(this.V=WV(a));return this.V};m.getContent=function(){return this.C.getContent()};m.zs=function(){return this.C.zs()};m.Mha=function(){return this.C.Mha()};m.Zx=function(){return this.C.Zx()};function k5(a){return K(a.F,8)||""}m.Nha=function(){return this.C.Nha()};m.M4=function(){return this.C.M4()};m.oA=function(){return void 0!==K(this.F,8)};m.isResolved=function(){return!!Nj(this.F,6)};
function l5(a,b){var c=Xd(a.D);b&&c.push(a.C);Ad(c,function(d,e){return VV(d.Lu(),e.Lu())});return c}function a5(a,b){return a.D[b]||null}m.Lu=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=WV(a)):this.L=null;return this.L};m.getNewDocoType=g("Jt");m.ix=function(){return"draft"==this.Jt||"client-integrated-draft"==this.Jt||"instant-doco"==this.Jt};function rgh(a){return sgh(a)}function sgh(a){return a.ix()||"smart-todo"==a.Jt}m.iZ=function(){return"smart-todo"==this.Jt};
m.sS=function(){return!!Nj(this.F,9)};m.Pq=function(){return this.C.Pq()};m.nA=function(){return this.C.nA()};m.pC=function(){return this.C.pC()};function L4(a){var b=a.C.pC()?a.C.pC():null;a=l5(a);for(var c=0;c<a.length;c++){var d=a[c];d.pC()&&(d=d.pC(),b?(b=new Weh(gk(b.ue())),d=G4(d),d=Veh(d),ak(b.C,1,d)):b=new Weh(gk(d.C)))}return b}function ggh(a){return a.C.pC()?a.C:null}m.Uj=function(){return this.C.Uj()};m.isTodo=function(){return null!=this.wS?this.wS:this.wS=!!ggh(this)};m.QI=function(){return this.C.QI()};
function tgh(a){if(void 0!==a.H)return a.H;if(!a.Uj())return a.H=null;for(var b in a.D){var c=sfh(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.Jwa=function(){return this.C.Jwa()};m.Ewa=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=l5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};function ugh(a){this.C=a;this.Jt=null}
function m5(a){var b=new U4;a=a.C;ak(b,2,a);a.getId()||K(a,11);b.Hc(a.getId()||K(a,11));return new ugh(b)}function vgh(a,b){L(a.C,8,b);return a}function n5(a,b){L(a.C,9,b);return a}function wgh(a,b){a.Jt=b;return a}ugh.prototype.getNewDocoType=g("Jt");function xgh(a,b){L(a.C,3,b);return a}ugh.prototype.getId=function(){return T4(this.C).getId()};function ygh(a,b,c,d,e,f,h,k){Ho.call(this,a);this.Tr=b;this.C=c;this.L=d;this.$r=e;this.D=f;this.O=h;this.F=k}t(ygh,Ho);ygh.prototype.getSource=g("Tr");function zgh(){this.$r=this.D=this.F=this.Tr=this.Bw=null;this.H=this.C=0;this.J=!1}function Agh(a){var b=new zgh;b.Bw=a;return b}function Bgh(a,b){a.Tr=b;return a}function Cgh(a,b){a.F=b;return a}function Dgh(a,b){a.H=b;return a}function Egh(a,b){a.J=b;return a}function Fgh(a){return new ygh(a.Bw,a.Tr,a.F,a.D,a.$r,a.C,a.H,a.J)};function Ggh(a){A.call(this);this.C=a;this.F=J4(a);this.D=Hgh(this.C);this.H={}}v(Ggh,A);function Igh(a,b,c,d,e,f){var h=uf(),k=new X4(h);d&&Z4(k,d,Ra());f&&Bfh(k);e&&(d=Ueh(Qeh(Teh(new V4,e).Hc(""),!1)),d=Xeh(d),yfh(k,d));c=wgh(xgh(n5(vgh(m5(k),b),!1),Date.now()),c);Jgh(N4(a.C),c);N4(a.C).flush();o5(a.D,i5(h5(g5(f5(new e5,43008),h),b)));return p5(N4(a.C),h)}
function Kgh(a,b,c,d,e){d=Qeh(Teh(new V4,d).Hc(""),!1);Ld(sf(e))||d.Xc(e);e=Ueh(d);d=Xeh(e);e=uf();var f=Ra();c=Bfh(yfh(Z4(zfh(new X4(e),a.F.Vg()),c,f),d));c=wgh(n5(vgh(m5(c),b),!1),"smart-todo");Jgh(N4(a.C),c);N4(a.C).flush();o5(a.D,i5(h5(g5(f5(new e5,43023),e),b)));return p5(N4(a.C),e)}
function Lgh(a,b,c,d,e){var f=uf(),h=Ra();c=Z4(zfh(vfh(Y4(new X4(f)),h),a.F.Vg()),c,h);e&&Bfh(c);d&&(d=Ueh(Qeh(Teh(new V4,d).Hc(""),!1)),d=Xeh(d),yfh(c,d));b=wgh(vgh(xgh(n5(m5(c),!0),h),b),"discussion");Jgh(N4(a.C),b);N4(a.C).flush();b=N4(a.C).fd(f);q5(a.D,d5(c5(b5(43009),b)));return p5(N4(a.C),f)}m=Ggh.prototype;m.Kfb=function(a){Mgh(N4(this.C),a);N4(this.C).flush()};
m.Gfb=function(a,b,c,d,e){e=void 0===e?null:e;if(a=N4(this.C).fd(a)){if(d&&!a.pC())throw Error("Cannot reassign a doco with no existing assignment");if(a.Uj()&&d)throw Error("Cannot reassign a suggestion.");var f=uf(),h=Ra();b=zfh(vfh(Z4(Y4(new X4(f)),b,h),h),this.F.Vg());c&&ufh(b,c);d&&yfh(b,d);c=tfh(new X4(j5(a),a.getId()),b);c=n5(m5(c),!0);r5(N4(this.C),c);N4(this.C).flush();d=c5(b5(d?43020:43010),a);e&&(d.C=e);q5(this.D,d5(d))}};
m.Nfb=function(a,b){if(a=N4(this.C).fd(a)){var c=new X4(j5(a),a.getId()),d=null!=a.nA()?new Zeh(a.nA().ue().clone()):new Zeh(new zeh);L(d.C,4,b?1:0);Y4(Afh(c,d));c=n5(m5(c),!0);r5(N4(this.C),c);N4(this.C).flush();q5(this.D,d5(c5(b5(b?43040:43041),a)))}};
m.Ofb=function(a,b,c){if(a=N4(this.C).fd(a)){var d=new X4(j5(a),a.getId());if(c=a5(a,c)){var e=null!=c.nA()?new Zeh(c.nA().ue().clone()):new Zeh(new zeh),f=new X4(j5(a),c.getId());L(e.C,4,b?1:0);tfh(d,Y4(Afh(f,e)));d=n5(m5(d),!0);r5(N4(this.C),d);N4(this.C).flush();q5(this.D,d5(lgh(c5(b5(b?43042:43043),a),c)))}}};
m.akb=function(a,b,c,d){d=void 0===d?null:d;if(a=N4(this.C).fd(a))if(b=a5(a,b)){var e=Ra();c=Z4(Y4(new X4(K(b.C,11)||"",b.getId())),c,e);c=tfh(new X4(j5(a),a.getId()),c);c=n5(m5(c),!0);r5(N4(this.C),c);N4(this.C).flush();a=lgh(c5(b5(43021),a),b);d&&(a.C=d);q5(this.D,d5(a))}};m.L8b=function(a,b){if(a=N4(this.C).fd(a)){var c=Ra();b=Z4(new X4(j5(a),a.getId()),b,c);b=n5(m5(b),!1);r5(N4(this.C),b);N4(this.C).flush()}};
m.Lfb=function(a,b,c,d){d=void 0===d?null:d;if(a=N4(this.C).fd(a)){if(a.Uj())throw Error("Cannot resolve a suggestion.");var e=uf(),f=Ra();e=zfh(vfh(Y4(new X4(e)),f),this.F.Vg());L(e.C,10,b?0:1);c&&Z4(e,c,f);c=tfh(new X4(j5(a),a.getId()),e);c=n5(m5(c),!0);L(c.C,6,b);r5(N4(this.C),c);N4(this.C).flush();b=c5(b5(b?43014:43015),a);null!=d&&(b.C=d);q5(this.D,d5(b))}};
m.Hfb=function(a,b,c){c=void 0===c?null:c;var d=N4(this.C),e=d.fd(a);e&&(this.H[p5(d,a)]=Yd(je(e.D)),a=wfh(Y4(new X4(j5(e),e.getId()))),a=n5(m5(a),!0),e.iZ()||(e=c5(b5(43017),e),null!=b&&(e.aX=b),c&&(e.C=c),q5(this.D,d5(e))),r5(d,a),d.flush())};
function Ngh(a,b){var c=N4(a.C);if(s5(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ja[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=xfh(Y4(new X4(j5(d),d.getId()))),f=a.H[b];delete a.H[b];a=je(d.J);b=je(d.D);for(var h=0;h<f.length;h++){var k=f[h];tfh(e,xfh(Y4(new X4(K((b[k]||a[k]).C,11)||"",k))))}e=n5(m5(e),!0);r5(c,e);c.flush();return p5(c,d.getId())}
m.Mfb=function(a,b){if(a=s5(N4(this.C),a)){var c=a.QI();if(!a.Uj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=Y4(new X4(j5(a),a.getId()));c=(new teh).setType("application/vnd.google-apps.docs.mds");b=ak(c,3,b);ak(a.C,9,b);b=n5(m5(a),!0);r5(N4(this.C),b);N4(this.C).flush()}};
m.Zjb=function(a,b,c){c=void 0===c?null:c;if(a=N4(this.C).fd(a)){var d=Ra();b=Z4(Y4(new X4(j5(a),a.getId())),b,d);b=n5(m5(b),!0);r5(N4(this.C),b);N4(this.C).flush();a=c5(b5(43022),a);c&&(a.C=c);q5(this.D,d5(a))}};m.Yeb=function(a,b,c){(a=N4(this.C).fd(a))&&(b=a5(a,b))&&Ogh(this,a,b,c)};function Ogh(a,b,c,d){d=void 0===d?null:d;var e=lgh(c5(b5(43016),b),c);d&&(e.C=d);q5(a.D,d5(e));r5(N4(a.C),Pgh(b,c));N4(a.C).flush()}
function Pgh(a,b){b=wfh(Y4(new X4(K(b.C,11)||"",b.getId())));a=tfh(new X4(j5(a),a.getId()),b);return n5(m5(a),!0)}m.Jfb=function(a){var b=s5(N4(this.C),a,!0);a=Qgh(N4(this.C),a);b&&a&&Ogh(this,b,a)};m.Ifb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=s5(N4(this.C),d,!0);d=Qgh(N4(this.C),d);e&&d&&b.push(Pgh(e,d))}Rgh(N4(this.C),b,"c")};function Sgh(a,b){if(!b)return!1;if(!b.Uj()||!b.QI())throw Error("Attempting to accept/reject a non-suggestion.");return Tgh(N4(a.C),b)?!0:!1}
function Ugh(a,b,c,d){a=ufh(zfh(vfh(Y4(new X4(c)),Ra()),a.F.Vg()),b.QI());L(a.C,10,d?2:3);b=tfh(new X4(j5(b),b.getId()),a);return n5(m5(b),!0)};function Vgh(){Uo.call(this)}v(Vgh,Uo);function Wgh(a,b){Ho.call(this,a);this.zm=b||null}v(Wgh,Ho);function Xgh(a){J(this,a,0,-1,null,null)}v(Xgh,I);Xgh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.Ha(1,b);b=K(this,2);null!=b&&a.Ha(2,b);b=K(this,3);null!=b&&a.Ha(3,b);b=K(this,4);null!=b&&a.Ha(4,b);return Y(a)};Xgh.prototype.Vf=function(){return K(this,1)};function Ygh(){Mq.call(this,"",void 0,!0);this.F=new Hq(u(this.C,this));this.qa(this.F);this.H=null}t(Ygh,Mq);Ygh.prototype.O=function(a,b,c,d){if(this.H&&!Gd(a,"Error in protected function: ")){var e=new Xgh;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);Zgh(this.H,"rjse",c,void 0,ya,!0,1)}};Ygh.prototype.Ka=function(){Mq.prototype.Ka.call(this);delete this.F};function $gh(a){Uo.call(this);var b=this;this.F=null;this.H=new Co;this.qa(this.H);this.C=a;Do(this.H,this.C.JH(),function(){"hidden"===b.C.getState()&&(b.D=new WB);"visible"!=b.C.getState()||gpb(b.D)||(b.dispatchEvent("Zi"),ahh(b))});this.D=new WB;ahh(this)}t($gh,Uo);$gh.prototype.format=function(a){var b=new WB(a);b=(new WB).getTime()-b.getTime();if(15552E6<b||-864E5>b)return bhh.format(a);b=umf(a.getTime());return chh.format(a)+(" "+b)};
function ahh(a){var b=new WB;b.add(new VB(0,0,1));b=b.getTime();dq(a.F);a.F=cq(function(){a.dispatchEvent("Zi");ahh(a)},b-Ra(),a)}za($gh);var chh=new ZB(7),bhh=new ZB(2);function dhh(a,b,c){this.Cy=a;this.src=b;this.C=c};function ehh(a){A.call(this);this.C=a;this.D={};this.J={};this.L=this.C.J;this.dd=0;this.H=[];this.Oa=new Vo(this);this.qa(this.Oa);this.Oa.listen(this.C,"r",this.O)}t(ehh,A);function fhh(a){return"legacy"===a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}function ghh(a,b,c,d){if(b){var e="dcs-img-"+a.dd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||hhh(a);ihh(a,e)}}
function leh(a,b,c,d){b&&a.H.push(new dhh(b,c,d))}function jhh(a){cq(function(){for(;this.H.length;){var b=this.H.pop();ghh(this,b.Cy,b.src,b.C)}},0,a)}function O4(a,b){b&&b.id&&(a.Oa.zc(b,khh,a.F),delete a.D[b.id],delete a.J[b.id])}ehh.prototype.O=function(){var a=this.C.J;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)ihh(this,b)};
ehh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.C.C(b,"")),this.Oa.zc(b,khh,this.F),b.src=hhh(this)):O4(this,b)}};function ihh(a,b){a.Oa.listen(a.D[b],khh,a.F);a.D[b].src=a.J[b]}
function hhh(a){return Tfh(a.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png"}var khh=[Af?"readystatechange":"load","abort","error"];function lhh(){OV.call(this);this.V=!1}v(lhh,OV);function J4(a){return a.get("config")}function P4(a){var b=PV(a,"action_registry");if(!b){b=new hgh;for(var c=Xd(Ldh),d=0;d<c.length;d++){var e=c[d];e=O((new wt(e)).Hj("label",e).Hj("visible",!0).Hj("hint",e).Hj("enabled",!0));b.Ps(e);b.qa(e)}a.Ef("action_registry",b)}return b}function N4(a){return a.get("stream")}function M4(a){return a.get("imageManager")}function mhh(a){return a.get("subscriptionManager")}
function Hgh(a){return a.get("impressionRecorder")}function feh(a){return PV(a,"errorReporter")}function nhh(a){var b=PV(a,"batchEventTracker");b||(b=new igh,a.Ef("batchEventTracker",b));return b};function ohh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=J4(a).On}function phh(a,b){a.C!=b&&(a.C=b,b={bk:a.D,UPb:a.O,$Pb:b},P4(a.L).Bf("mouse-hover-doco-view").qb(b))};function qhh(a){a=a||{};var b=a.nK,c=a.z1,d=a.aQb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+QV(c)+"><span class="+QV(d)+">"+R(b)+"</span></div>":"<span class="+QV(d)+">"+R(b)+"</span>");return S(a)};function rhh(a){a=a||{};var b=a.Ri,c=a.eC;a=a.vS;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(Xdh({Ri:""+b,eC:""+c,vS:a})):"")+"</div>")};function shh(a,b){a=a||{};var c=S;if(a.Lk){a=a||{};var d=a.author,e=a.ah,f=a.rF,h=a.zoa,k=a.Ee,l=a.Pm,n=a.kA,q=a.Uj,r=a.ix,w=a.p8,x=a.nK,F=a.ZY,M=a.vj,X=a.Hga,U=a.Rwa,ca=a.isBadgingEnabled,ma=a.timestamp,va=a.Meb,xa=a.Co;d='<div class="'+T("docos-anchoredreplyview")+(k?" "+T(k):"")+(q?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(Ydh({size:32,Qeb:va,Vpa:f?""+
f:"",T2:Zw(d)&&!e?""+d:"",Ee:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(n?'<div class="'+T("docos-user-presence")+'"></div>':"")+(ca?'<span class="'+T("docos-new-tag")+'" style="display:none"></span>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'"'+(f?' data-hovercard-id="'+T(f)+'"':"")+(Zw(d)&&!e?' data-name="'+T(d)+'"':"")+">"+(d?R(d):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+
" "+T("docos-replyview-timestamp")+'">'+(ma?R(ma):"")+'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+" "+T("hide-on-readonly")+'">';Zw(q)&&Zw(n)?(x=x={Co:xa},x=S(thh({cd:"docos-accept-suggestion jfk-button-collapse-right",Co:x.Co},b)),xa=xa={vj:M,Co:xa},M=xa.vj,xa=xa.Co,b=""+R(Tz({title:"Reject suggestion",style:xa?4:0,cd:"docos-reject-suggestion jfk-button-collapse-left",content:$w(""+(xa?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(Xdh({Ri:"docos-icon-reject-suggestion-cross",eC:"docos-icon-reject-suggestion-cross-size",Ee:"jfk-button-img"})))),dK:M},b)),b=S(b),b=x+b):r?b="":(M=n?X?S(thh({cd:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},b)):S(R(Tz({cd:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},b))):"",!Zw(X)||!Zw(F)&&x?b="":U?(X=(X=a)||{},xa=X.kA,x=X.ZY,X=X.vj,U=R(Xdh({Ri:"docos-icon-thumb-black",eC:"docos-icon-thumb-size",Ee:"jfk-button-img",
vS:!0}))+'<div class="'+T("like-button-text")+'">',U+="0</div>",b=""+R(Tz({cd:"docos-like-button "+(Zw(xa)&&!x?"jfk-button-collapse-left":""),title:"Like this",content:$w(U),dK:X},b)),b=S(b),b=R(b)):(X=(X=a)||{},xa=X.kA,x=X.ZY,X=X.vj,U='<div class="'+T("vote-button-text")+'">',U+="+1</div>",b=""+R(Tz({cd:"docos-vote-button "+(Zw(xa)&&!x?"jfk-button-collapse-left":""),title:"+1 this comment",content:$w(U),dK:X},b)),b=S(b),b=R(b)),b=M+b+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
b=d+b+'</div></div><div class="'+T("docos-collapsible-replyview")+" "+(h?"":T("docos-collapsible-replyview-empty"))+'">'+(n||F?"":R(qhh(Xw({z1:""},a))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(h?R(h):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';b=b+'Show more</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');b+="Show less";var Ca;n?
Ca=R(qhh(Xw({z1:"docos-root-reply-action-text-wrapper"},a))):F?Ca=R(qhh(Xw({z1:"docos-action-text-bottom-wrapper"},a))):Ca="";b+="</div></div></div>"+(l?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+Ca+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(w?R(w):"")+"</div></div>";b=S(b)}else n=a||{},w=n.author,F=n.ah,h=n.rF,d=n.zoa,M=n.Ee,l=n.Moa,Ca=n.Pm,xa=n.kA,a=n.p8,x=n.timestamp,X=n.isBadgingEnabled,U=n.Co,n.ix?(l=(l=Xw({author:w,
rF:h,Ee:M,p8:a},n))||{},b=l.author,Ca=l.rF,a=l.Ee,l=l.p8,b=S('<div class="'+T("docos-streamrootreplyview")+(a?" "+T(a):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(Ca?' data-hovercard-id="'+T(Ca)+'"':"")+(b?' data-name="'+T(b)+'"':"")+">"+(b?R(b):"")+'</div><div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(l?R(l):"")+"</div></div>")):xa?(Ca=(Ca=n)||{},M=Ca.author,xa=Ca.rF,a=Ca.zoa,x=Ca.Ee,l=Ca.Pm,
n=Ca.hcc,w=Ca.bxa,F=Ca.p8,h=Ca.nK,d=Ca.ZY,X=Ca.timestamp,b='<div class="'+T("docos-streamrootreplyview")+(x?" "+T(x):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(xa?' data-hovercard-id="'+T(xa)+'"':"")+(M?' data-name="'+T(M)+'"':"")+">"+(M?R(M):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(rhh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+
T("docos-streamdocoview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(X?R(X):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+
T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=bx("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',n&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(n)+'<div class="'+T("docos-replyview-quote-collapse")+
" "+T("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(T("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(a)+"</div>"+(h?R(qhh(Xw({z1:"docos-root-reply-action-text-wrapper"},Ca))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+T("docos-streamdocoview-comment-control")+" "+
T("goog-inline-block")+'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=bx("Reply to this comment"),b+='">Reply</div></div>',w&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',d?(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',
b+=bx("Mark as done and hide discussion"),b+='">Mark as done'):(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=bx("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(l?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(F?R(F):"")+"</div></div>",b=S(b)):(b='<div class="'+
T("docos-streamreplyview")+'">'+R(Ydh({size:U?32:24,Vpa:h?""+h:"",T2:Zw(w)&&!F?""+w:"",Ee:"docos-replyview-avatar docos-streamreplyview-avatar"}))+(Zw(X)&&!xa?'<span class="'+T("docos-new-tag")+'" style="display:none"></span>':"")+'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+T("docos-streamreplyview-text")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(h?' data-hovercard-id="'+T(h)+'"':"")+(w?
' data-name="'+T(w)+'"':"")+">"+(w?R(w):"")+"</div>"+R(qhh(n))+' <br><span class="'+T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+" "+T("docos-replyview-static")+'">'+R(d)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(x?R(x):"")+"</div>",Zw(l)||Zw(Ca)?(w=w={xcb:!0,Moa:l,Pm:Ca},l=w.Moa,n=w.Pm,w=w.xcb,F='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+
" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',n&&(F+=(w?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',F+=bx("Make changes to your comment"),F+='">Edit</div>'),l&&(F+=(w?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+
" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',F+=bx("Permanently delete your comment"),F+='">Delete</div>'),l=S(F+"</div>"),l=R(l)):l="",b=b+l+"</div>"+(Ca?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(a?R(a):"")+"</div></div></div>"),b=S(b);return c(b)}
function uhh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function thh(a,b){a=a||{};var c=a.cd;a=a.Co;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(Xdh({Ri:"docos-icon-accept-checkmark-black",eC:"docos-icon-accept-checkmark-size",Ee:"jfk-button-img"}));return d(R(Tz({cd:c?""+c:"",style:a?4:0,content:$w(""+e)},b)))};function vhh(a,b){a=a||{};var c=a.hIa,d=a.cd,e=a.jLa;a=a.kLa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(jod({$l:c,cd:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function whh(a,b){a=a||{};var c=a.Ee,d=a.Maa,e=a.zgc,f=a.Roa,h=a.lLa,k=a.fHa,l=a.vj,n=a.nK,q=a.fD,r=a.gH,w=a.hH,x=a.Ev;c='<div class="'+T("docos-input")+(c?" "+T(c):"")+'" style="display: none">'+(x?'<div class="'+T("docos-input-textarea")+" "+T("docos-input-contenteditable")+(h?" "+T(h):"")+'" contenteditable="true"></div>':'<textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>');r?(r=r={vj:l},r=r.vj,r=""+R(Tz({title:"Mention a person",
style:4,cd:"docos-at-mention-icon docs-material",content:$w('<div class="'+T("docs-icon")+" "+T("goog-inline-block")+'"><div class="'+T("docs-icon-img-container")+" "+T("docs-icon-img")+" "+T("docs-icon-at-mention-20")+'" aria-hidden="true">&nbsp;</div></div>'),tabIndex:0,dK:r},b)),r=S(r)):r="";a=c+r+(n?R(qhh(Xw({z1:"docos-edit-pane-action-text-wrapper",aQb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+'<div id="docos-input-assignment-panel" class="'+
T("docos-input-assignment-panel")+'" style="display: none">'+R(jod({cd:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=(w?a+"Your @mention will add people to this discussion and send an email.":a+"Your +mention will add people to this discussion and send an email.")+
('</div><div class="'+T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+'"></div><div class="'+T("docos-input-buttons")+
'">'+R(Tz({style:2,cd:"docos-input-post docos-input-buttons-post"},b)));w="";w=f?w+(""+f):w+"Discard comment";f="";f=d?f+R(d):f+"Cancel";a+=R(Tz({cd:"docos-input-cancel",title:w,content:$w(f),dK:l},b));return S(a+"</div></div>")};function xhh(a,b){a=a||{};var c=S;if(a.Lk){a=a||{};var d=a.author,e=a.iZ,f=a.ZY,h=a.vj,k=a.Co;if(a.ix){a=(a=Xw({author:d,vj:h},a))||{};d=a.author;e=a.vj;f=a.fD;h=a.gH;k=a.hH;var l=a.Ev;b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(shh(Xw({author:d,Lk:!0,kA:!0,Ee:"docos-replyview-first"},a),b))+"</div>"+R(whh({Ee:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",vj:e,fD:f,gH:h,hH:k,Ev:l},b)))}else e?
(a=(a=Xw({vj:h,Co:k},a))||{},d=a.Icb,e=a.vj,f=a.Co,h=a.Ev,k='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(Xdh({Ri:"docos-icon-explore",eC:"docos-icon-explore-size",vS:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+
'"><div class="'+T("docos-smarttodoview-headertext-inner")+'">',k=k+'Suggested action item</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(rhh({eC:"docos-icon-overflow-three-dots-size",Ri:"docos-icon-overflow-three-dots",vS:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),k+=R(whh({Ee:"docos-docoview-input-pane",Maa:"Dismiss",Roa:"Dismiss suggested action item",vj:e,Ev:h},b)),d&&(k+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+
'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+'" role="button" tabindex="0" aria-expanded="false">',k+="Bad suggestion?</div></div>"),e=k,d?(a=a||{},a=a.vj,d='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',d=d+"Tell us why you didn't like this</div><div class=\""+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),d+=R(vhh({hIa:"Not an action item",cd:"docos-smarttodoview-feedback-checkbox-container",
jLa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",kLa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),d+=R(vhh({hIa:"Wrong assignee",cd:"docos-smarttodoview-feedback-checkbox-container",jLa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",kLa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),d+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+
'" role="button" tabindex="0">',d=d+'Write feedback</div><div class="'+(T("docos-smarttodoview-feedback-buttonlist")+'">'),d+=R(Tz({style:2,cd:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",dK:a},b)),d+=R(Tz({cd:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",dK:a},b)),b=S(d+"</div></div>")):b="",b=S(e+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-assigneecontainer")+
'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else{e=a||{};f=e.author;d=e.ah;var n=
e.rF;h=e.Co;k=e.vj;l=e.ix;var q=e.fH;a=S;d='<div class="'+T("docos-docoview-tesla-conflict")+'">'+R(Ydh({size:h?32:48,Vpa:n?""+n:"",T2:Zw(f)&&!d?""+f:"",Ee:"docos-streamdocoview-avatar"}))+(Zw(q)&&!l?'<span class="'+T("docos-root-new-tag")+'" style="display:none"></span>':"")+'<div class="'+T("docos-streamdocoview-content")+'">';l?(e=(e=Xw({author:f,vj:k},e))||{},f=e.author,h=e.vj,k=e.fD,l=e.gH,n=e.hH,q=e.Ev,b=S('<div class="'+T("docos-streampane-draft")+'">'+R(shh(Xw({author:f,Lk:!1,kA:!0,ix:!0,
Ee:"docos-replyview-first"},e),b))+"</div>"+R(whh({Ee:"docos-streamdocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",vj:h,fD:k,gH:l,hH:n,Ev:q},b)))):b='<div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(Ydh({size:h?32:24,Ee:"docos-streamreplyview-avatar"}))+'<div class="'+T("docos-input-pane-placeholder")+
'" style="display: none"></div></div>';b=a(d+b+"</div></div>")}return c(b)};function t5(){this.C=y()}function yhh(a){return"PLACEHOLDER_TEXT"===Wc(a.C,"docs-edpme")}function zhh(a){return"PLUS_MENTION_ICON"===Wc(a.C,"docs-edpme")};function Ahh(a,b){Ho.call(this,a);this.bk=b}t(Ahh,Ho);function O5(a){Ahh.call(this,"rd",a)}t(O5,Ahh);function P5(a,b,c,d,e){I4.call(this,a,d);this.R=a;this.fb=c;this.jb=[];this.O=null;this.Sa=new ohh(this.R,b,this.Lk());this.Hc(b);this.Qa=null;this.Pd=e;this.ub=this.xa=null;this.Gd=!0;this.Dc=!1}t(P5,I4);m=P5.prototype;m.gB=ba();m.Hc=function(a){I4.prototype.Hc.call(this,a);this.Sa.D=a};m.getContext=g("R");m.fd=function(){return N4(this.R).fd(this.getId())||null};m.ql=function(){var a=this.getId();return Bhh(this.Pd,a)};m.TS=ea(null);m.kya=ea(!1);
m.Ca=function(){var a=this.fd(),b=a.kx();a=L4(a);var c="Unknown"===b.getName();c=fy(xhh,{author:b.getName(),ah:b.C,rF:this.C.V&&!c?b.getId():null,Lk:this.Lk(),ZY:!!a,vj:this.C.vj(),Co:"legacy"!=this.C.F,fH:this.C.fH(),gH:zhh(new t5),hH:Ufh(this.C),Ev:$4(this.C)});this.Lk()||Rfh(this.C)||vx(c,"docos-streampanemargin-legacy");this.pb(c);this.Ce(b,a||void 0)};
m.Ce=function(a,b){b=b?ceh(b,this.C):void 0;a=a.getName();var c=Wd(this.fd().D),d=this.fd().isResolved()?"Resolved":"Open";b=a&&b?(new JA("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new JA("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new JA("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});rx(this.getElement(),b)};m.Ia=function(){I4.prototype.Ia.call(this);K4(K4(this,this.getElement(),["click","keypress","keyup"],this.KSb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.G9b);Dp(this.getElement(),!0)};m.xd=function(){I4.prototype.xd.call(this);phh(this.Sa,!1)};m.Jaa=ea(!1);
m.lBa=ba();m.Aha=function(){if("legacy"==this.C.F&&this.Lk()&&(!this.xa||!this.ub)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");vx(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");vx(c,"docos-anchoreddocoview-arrow-outer");this.ub=c;a.At(b,this.xa,0);a.At(b,this.ub,0)}};m.Vc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Gd;a||this.setVisible(!0);this.O=new dn(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Vc();return this.O.height};m.KSb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.iWa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.G9b=function(a){var b=this.Sa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||phh(b,"mouseenter"==a.type);a.stopPropagation()};m.HZ=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new O5(this.getId()))};m.setVisible=function(a){this.Gd=a;P(this.getElement(),a)};m.isVisible=g("Gd");m.G5a=ba();
function Chh(a){var b=["docos-docoview-tesla-conflict"],c=[];Dhh(a,"docos-anchoreddocoview",a.Lk(),b,c);Dhh(a,"docos-streamdocoview",!a.Lk(),b,c);Dhh(a,"docos-docoview-active",a.ql(),b,c);Rfh(a.C)&&Dhh(a,"docos-docoview-active-experiment",a.ql(),b,c);var d=a.fd();Dhh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)wx(a.getElement(),b),yx(a.getElement(),c),a.jb=sx(a.getElement())}function Dhh(a,b,c,d,e){c&&!kd(a.jb,b)?d.push(b):!c&&kd(a.jb,b)&&e.push(b)}m.mU=da("Qa");
function Ehh(a){return a.Qa?a.Qa:a.C.uq}m.getDocoMaxHeight=g("Qa");m.Ka=function(){I4.prototype.Ka.call(this);delete this.R};function Fhh(a,b){this.C=a;this.gb=b}
function Ghh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=bx("Contact information.");f+='">'+R(Ydh({size:32,Ee:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=Vw(d);We(c,d);d=b.getEmail();d=Ld(sf(b.getName()))?d:b.getName()+" "+d;rx(c,d);c=pV(a.gb,"IMG","docos-contact-row-avatar",c);O4(a.C,c);ghh(a.C,c,b.D,H4(b));
return c};function Hhh(a,b,c,d){d=void 0===d?null:d;zz.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new Fhh(M4(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.Lk());this.D=null}t(Hhh,zz);m=Hhh.prototype;m.Ia=function(){zz.prototype.Ia.call(this);this.D=fp("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.fTb).listen(this.getElement(),"focus",this.Sy).listen(this.getElement(),["mousedown","blur"],this.k1a)};
m.fTb=function(a){this.C&&this.C.fd()==N4(this.L).R||(this.zd(!this.qf()),this.k1a());a.stopPropagation()};m.Sy=function(){vx(this.D,"docos-assignee-select-focus")};m.k1a=function(){xx(this.D,"docos-assignee-select-focus")};m.Ze=function(a){return this.Bb()&&2>this.Bb().mc()?!1:zz.prototype.Ze.call(this,a)};m.Yf=function(a){this.C&&this.C.fd()==N4(this.L).R&&(this.Bb()&&2>this.Nh()||zz.prototype.Yf.call(this,a))};function Ihh(a){return(a=a.uf())?a.Vg():null}
m.He=function(a){zz.prototype.He.call(this,a);var b=a.getElement();b&&(vx(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&vx(b,"docs-gm"),this.O&&a.render(this.H.O))};m.Am=function(){var a=this.Bb().getElement();gw(a,"width",this.J.offsetWidth+"px");zz.prototype.Am.call(this);var b=parseInt(j9a(a,"top"),10)||0,c=mw(this.J).x;this.O?(c-=mw(this.H.O).x,b+=-2):b+=-1;jw(a,c,b)};function Jhh(a){var b=new om;if(!a.Bb())return b;a.Bb().Ye(function(c){b.add(c.Vg())});return b}
m.update=function(a,b){if(!Jhh(this).equals(new om(a))||Ihh(this)!=b){for(var c=new jz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new Khh(f,this.R,this.oa());f.equals(b)&&(d=h);c.Ga(h,!0)}this.He(c);Bz(this,d);P(this.getElement(),1<this.Nh())}};m.reset=function(){this.Bb().ud();Bz(this,null)};function Khh(a,b,c){var d=c.createElement("div");ez.call(this,d,void 0,c);this.D=a;this.C=b;this.F=Ghh(this.C,this.D,d)}t(Khh,ez);m=Khh.prototype;
m.Ca=function(){ez.prototype.Ca.call(this);vx(this.getElement(),"docos-assignee-select-item")};m.Ia=function(){ez.prototype.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.eTb)};m.Vg=g("D");m.Ug=ea("");m.eTb=function(a){a.stopPropagation()};m.Ka=function(){ez.prototype.Ka.call(this);var a=this.F;a&&O4(this.C.C,a)};function Lhh(){Mhh(this)}t(Lhh,Ua);m=Lhh.prototype;m.px=function(a){ic(a);mda(this.D.add(a),a);this.C=null;return a};m.JA=function(a){kda(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};m.xY=function(a){return this.D.contains(a)};m.cleanup=function(){this.D.clear();this.C=null};m.iterator=function(){if(!this.C){var a=new Kch,b=this.D;a.C=[];b=b.Pf();Sbh(b,a.C,0,b.length);this.C=a}return this.C.ij()};m.ij=function(){return this.iterator()};
function Mhh(a){var b=new Vch,c=new Ich;rch(c);b.C=c;a.D=b;a.C=null};function Nhh(a){Mhh(this);this.F=a}t(Nhh,Lhh);Nhh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();Ohh(b,this.F)}};Nhh.prototype.get=g("F");function Phh(a,b,c){return new Qhh(a,b,c)}function Qhh(a,b,c){this.C=Rhh(a,b);this.Rd=c;this.F=!1;this.D=-1;Shh(this,0)}Qhh.prototype.w6=g("F");Qhh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function Rhh(a,b){for(var c=[],d={},e=0;e<b.length;d={eV:d.eV,v$:d.v$},e++){d.v$=b[e];var f=d;var h=new Nhh(null);f.eV=h;d.v$.H(a.token,a.Oaa,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.eV.set(new Thh(l,n,r,k.v$.getType(),w,q)):r&&k.eV.set(Uhh())}}(d))||d.eV.set(Uhh());c.push(d.eV)}return c}function Shh(a,b){a.F||(b>=a.C.length?(a.Rd(Uhh()),a.close()):(a.D=b,a.C[b].px(a),b=a.C[b].get(),null!==b&&Ohh(a,b)))}
function Ohh(a,b){b.isEmpty()?(a.C[a.D].JA(a),Shh(a,a.D+1)):(a.Rd(b),b.complete&&a.close())}function Vhh(a,b,c){this.token=a;this.Oaa=b;this.C=c}function Thh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}Thh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function Uhh(){return new Thh([],new mEd(!1),!0,0,!1,void 0)};function Whh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function Xhh(a){this.nbc=a}t(Xhh,Lhb);function Yhh(a){this.C=a};function Zhh(){this.className="docos-ac-highlighted"}Zhh.prototype.Rva=function(a,b,c){Ld(b)||c.C&&/^\W/.test(b)?c=null:(b=pf(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.By(a,c)};
Zhh.prototype.By=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.By(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Yo(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Mp(b,f)),f=h,h=Mp(b,""),b.bx(f,a),b.bx(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function $hh(a,b,c,d,e,f,h,k,l){var n=this;l=void 0===l?5E3:l;TA.call(this,this,new aih(h,f,k,this),new bih("\n",null,!0));this.Mna=!0;this.L.Eh=this;this.Ma=c.map(function(q){return new cih(n,q)});this.Sa=new Zhh;this.Fta(ap(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Ra=l;this.Ja=!1;this.Ba=null;this.Ea=!1}v($hh,TA);var dih=/[\n]$/;m=$hh.prototype;
m.uJ=function(a,b,c){var d=this,e=Ra(),f=this.L.D;this.R&&this.R.gp("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=eih(this.L,a),l=fih(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new Xhh(new Whh(e,f,n.getType(),h,x,F,w)),w.XAa=!h,w.Dea=r.noa,c(a,q,w),h=!1)})}else b=Phh(new Vhh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new Xhh(new Whh(e,f,q.type,
h,q.complete,q.F,q.D));r.XAa=!h;q.C&&(r.Dea=q.C.noa);c(a,q.rows,r);h=!1}}),this.C=new gih(b,this.Ra)}else c(a,[])};function fih(a,b,c){return a.Ma.filter(function(d){return d.F(b,c)})}
m.xx=function(a,b){b||(b=new Lhb);$hh.Ya.xx.call(this,a,b);if(b instanceof Xhh){this.Ba=b.nbc;var c=hih(this,this.Ba,a.length,!1);b=this.Ba;var d=c,e=Ra()-b.startTime,f=Ra()-b.J;this.R&&(b.C&&(this.R.gp("dac",e,d.sb()),this.R.gp("dact",f,d.sb())),b.D&&(this.R.gp("dacfr",e,d.sb()),this.R.gp("dacfrt",f,d.sb())))}else this.Ba=null;if(this.ma){b=this.ma;d=a.length;a=this.Ea?5:0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=iih[a])&&h.n0;b.C=a}else b.C&&0==d&&(h=(h=iih[b.C])&&h.A0,b.C=null);h&&
jih(b,h,c)}};function hih(a,b,c,d){var e=new ZSd;e=L(e,1,c).setType(kih(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,UA(a,a.J)),L(c,6,b.L));return Lch(c)}function kih(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 8;default:return 0}}m.Pr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.gR()&&this.Sa.Rva(c,a.data.gR().D,new Yhh(a.data.gR().C)))};
m.ZB=function(){var a=Rhb(this)?this.F[UA(this,this.J)]:null,b;this.Ba&&(b=hih(this,this.Ba,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=iih[a.getType()])&&jih(c,a.Z_,b);c.C=null}this.Ja=!0;return $hh.Ya.ZB.call(this)};m.wh=function(){this.Ea=!1;if(!this.Ja&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&iih[a.C];b&&jih(a,b.xW);a.C=null}this.Ja=!1;$hh.Ya.wh.call(this)};function lih(a){return Rhb(a)?a.F[UA(a,a.J)].getId():null}
m.Ka=function(){$hh.Ya.Ka.call(this);Uf(this.Ma);this.C&&(this.C.cancel(),this.C=null)};function bih(a,b,c,d){WA.call(this,a,b,c,d);this.D=0;this.b6a=this.n2a=this.o2a=!1;this.R=this.V=null}v(bih,WA);bih.prototype.Yf=function(){this.Eh.qf()&&this.Eh.wh()};bih.prototype.Pg=function(a){this.D=Ra();return(37===a.keyCode||39===a.keyCode)&&this.Eh.qf()||38===a.keyCode&&this.Eh.qf()&&-1===this.Eh.J?(this.Eh.wh(),!0):bih.Ya.Pg.call(this,a)};
bih.prototype.EF=function(a,b){var c=null;if(a){c=a.FX();var d=mih(this,a.getToken());c={start:c.ll()+d,end:c.Mw()+d}}b=bih.Ya.EF.call(this,a,b);if(a){d=c.end;var e=this.Zl;e&&(VA(e,c.start),Xhb(e,d));a.c8()}return b};function mih(a,b){var c=a.So();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function eih(a,b){return a.So()-mih(a,b)}function cih(a,b){this.C=a;this.D=b}
cih.prototype.H=function(a,b,c,d){var e=this,f=a.replace(dih,"");return this.D.H(f,b,c,function(h,k,l,n,q){d(h.map(function(r){return new nih(e.C,r,a)}),k,l,n,q)})};cih.prototype.getType=function(){return this.C.Ea?5:this.D.getType()};cih.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function nih(a,b,c){this.F=a;this.C=b;this.D=c}m=nih.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.F.Ea?5:this.C.getType()};m.gR=function(){return this.C.gR()};
m.FX=function(){return this.C.FX()};m.render=function(a){this.C.render(a)};m.c8=function(){this.C.c8()};m.getToken=g("D");m.toString=function(){var a=dih.test(this.D)?"\n"[0]:"";return this.FX().C+a};function gih(a,b){var c=this;this.D=a;this.C=cq(function(){c.C=null;c.D.close()},b)}gih.prototype.cancel=function(){null!==this.C&&(dq(this.C),this.C=null);this.D.close()};
function aih(a,b,c,d){hB.call(this,b,d);this.Ma=!!c;this.V=!0;this.uEa=!1;this.O=!0;this.className="docos-ac";a&&(this.R=a)&&(this.Qa=a)}v(aih,hB);aih.prototype.Wc=function(){aih.Ya.Wc.call(this);rx(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=kw(this.getElement()),b=this.Ma?-2:-1;jw(this.getElement(),a.x,a.y+b)}};function oih(a){this.C=null;this.D=a}function jih(a,b,c){if(c){var d=new vk;ak(d,11,c)}a.D&&a.D(b,void 0,d)}var pih={},iih=(pih[1]={n0:43002,A0:43004,xW:43006,Z_:43E3},pih[2]={n0:43003,A0:43005,xW:43007,Z_:43001},pih[3]={n0:43068,A0:43069,xW:43066,Z_:43067},pih[4]={n0:43072,A0:43073,xW:43070,Z_:43071},pih[5]={n0:43088,A0:43090,xW:43091,Z_:43089},pih[6]={n0:43098,A0:43100,xW:43097,Z_:43099},pih);function qih(a,b,c,d){Uo.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new lB(a);No(this.F,"input",this.L,!1,this);rih(this)}v(qih,Uo);qih.prototype.L=function(){rih(this)};function rih(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Cp(a.H,String(1==a.J?b:a.D-b))}qih.prototype.Ka=function(){qih.Ya.Ka.call(this);delete this.C;this.F.dispose();this.F=null};function sih(a,b){return tih(a,b,!1)}function uih(a,b){return tih(a,b,!0)}function tih(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?Id(n,h):Kd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function vih(a,b,c,d,e,f,h){b.getEmail();this.Bc=a;this.D=b;this.dd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(vih,A);m=vih.prototype;m.Vg=g("D");m.getId=g("dd");m.getType=g("L");m.gR=g("H");m.FX=g("J");m.render=function(a){this.C=Ghh(this.Bc,this.D,a)};m.c8=ba();m.Ka=function(){var a=this.C;a&&O4(this.Bc.C,a)};function wih(a,b,c){this.D=a;this.C=b;xih(this.C);this.F=c}function yih(a,b){for(var c=0,d=b-1;0<=d;d--)if(zih.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(zih.has(a[b])){d=b;break}return{text:a.slice(c,d),bw:c,jH:d}}function Aih(a,b){for(var c=0,d=b-1;0<=d;d--)if(Bih.has(a[d])&&(0==d||zih.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(zih.has(a[b])){d=b;break}return{text:a.slice(c,d),bw:c,jH:d}}
function Cih(a,b,c,d,e,f,h,k,l){return a.C.Lo(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,PX(Ych(r))?w=(new XX(Ych(r))).setSize(96).nB():w=Ych(r)||null,w=Ueh(Reh(Teh(new V4,r.getEmail()).Xc(r.getName()),w).Hc(""))):w=null;return{Xdb:r,rD:w}}).filter(function(r){return r.rD}).map(function(r,w){var x=r.rD;w=h+w;r=r.Xdb.getType();var F=new cS(d,!0),M=c;x.getName()&&(M=Dih(x.getName(),b,M));var X=(Ufh(a.D)?"@":"+")+x.getEmail(),U=zih.has(b[M.jH]);return new vih(a.F,x,w,k,F,
new dS(b.slice(0,M.bw)+X+(U?"":" ")+b.slice(M.jH),M.bw+X.length+1,M.bw+X.length+1),r)});l(n,!q.zk(),a.C.C)},e)}
function Dih(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Eih).filter(function(l){return!!l}),e=b.slice(0,c.jH).split(Eih);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.jH-a,{text:b.slice(a,c.jH),bw:a,jH:c.jH};f++}return c}
var zih=new Set([" ","\t","\n"]),Bih=new Set(["@","+"]),Eih=/[ ]/;var Fih="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
Gih=new om(["everybody","nobody"]);function Hih(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(Hih,A);Hih.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=yih(a,b);var f=Iih(this,b.text);a=Cih(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,Jih,f.query.length,k,l)});this.C=a.zk()?a:null;return!0};
Hih.prototype.F=function(a,b){a=yih(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||kd(Fih,a.text.trim().toLowerCase())||Gih.contains(a.text.trim().toLowerCase())?!1:!0};function Iih(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:se}:null!=a[2]?{query:a[2],filter:uih}:null!=a[3]?{query:a[3],filter:sih}:null}Hih.prototype.getType=ea(2);Hih.prototype.Ka=function(){delete this.C};var Jih=new mEd(!1);function Kih(a){A.call(this);this.L=a;this.J=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null;this.D=0}t(Kih,A);Kih.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Aih(a,b);var f=Lih(this,b.text);a=Cih(this.L,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",this.getType(),function(h,k,l){k&&(e.C=null);d(h,Mih,f.query.length,k,l)});this.C=a.zk()?a:null;return!0};
Kih.prototype.F=function(a,b){a=Aih(a,b);"@"==a.text.charAt(0)?this.D=6:"+"==a.text.charAt(0)&&(this.D=1);return this.J.test(a.text)};function Lih(a,b){a=b.match(a.J);return null===a?null:null!=a[1]?{query:a[1],filter:se}:null}Kih.prototype.getType=g("D");Kih.prototype.Ka=function(){delete this.C};var Mih=new mEd(!0);function Nih(a){var b=[];for(a=a.firstChild;a;){switch(a.nodeType){case 3:b.push(Ep(a));break;case 1:b=b.concat(Oih(a));break;default:throw Error("Unexpected NodeType in inputpane: "+a.nodeType);}a=a.nextSibling}return b}function Oih(a){var b=[];switch(a.tagName){case "BR".toString():a.previousSibling&&3===a.previousSibling.nodeType||b.push("");break;case "P".toString():case "DIV".toString():b=b.concat(Nih(a));break;default:throw Error("Unexpected TagName in inputpane: "+a.tagName);}return b}
function Pih(a){a=a.split("\n");for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(0===c?d:Qe("DIV",null,d||Ve))}return Re(b)};function Qih(a){var b=Pa(a).toString();VO.call(this,b,void 0);this.D=a;this.D.id=this.id;this.ob=new lL(new mL)}t(Qih,BPc);function Rih(a){var b=a.ob;if(a.queryCommandValue("usinglorem"))a="\u00a0";else if(a.Nf()){var c=a.getElement(),d=c.cloneNode(!1);c=c.innerHTML;Af&&c.match(/^\s*<script/i)&&(c="\u00a0"+c);d.innerHTML=c;a.pUa(11,d);a=a.aka(10,d.innerHTML)}else a=a.D.innerHTML;b.D=cnc(b);b=Hmc.prototype.L.call(b,a);return Nih(b).join("\n")}
Qih.prototype.JS=function(a,b,c){BPc.prototype.JS.call(this,a,b,c);this.dispatchEvent("dom_manipulated")};function Sih(a){TO.call(this);this.D=a;this.Oa=new Vo(this);this.C=null}t(Sih,TO);Sih.prototype.KL=ea("MaxCharacterPlugin");Sih.prototype.I8=function(a){var b=this;TO.prototype.I8.call(this,a);this.Oa.Nc(a,"load",function(){b.C=new lB(a.getElement());b.Oa.listen(b.C,"input",b.F).listen(a,"dom_manipulated",b.F)})};Sih.prototype.F=function(){var a=this.If,b=Rih(a);b.length>this.D&&(DZe(a,Pih(b.substring(0,this.D).trim())),EOc(a))};var Tih=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,Uih=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function Vih(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Md(a[b]).replace(/^\W+/,"").toLowerCase();return a};function Wih(a){this.C=new RK(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");xih(this.J)}function Xih(a,b){var c=Ueh(Qeh(Teh(new V4,b).Hc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Lo(b,1,u(a.L,a,b)))}Wih.prototype.L=function(a,b){if(null!==b&&0<b.length&&this.C.Wg(a)){b=b[0];var c=null;PX(Ych(b))?c=(new XX(Ych(b))).setSize(96).nB():c=Ych(b)||null;b=Ueh(Reh(Teh(new V4,a).Xc(b.getName()),c).Hc(""));this.C.set(a,b)}delete this.H[a]};
function Yih(a){return a.C.C.next.value||null}function Zih(a){return a.F?a.D:null};function $ih(){TO.call(this);this.Oa=new Vo(this)}t($ih,TO);$ih.prototype.KL=ea("PastePlugin");$ih.prototype.I8=function(a){TO.prototype.I8.call(this,a);this.Oa.Nc(a,"load",this.D)};$ih.prototype.D=function(){this.Oa.listen(this.If.getElement(),"paste",this.C)};$ih.prototype.C=function(a){a.preventDefault();(a=a.re().clipboardData.getData("text/plain"))&&ajh(this,a)};
function ajh(a,b){var c=a.If;c.JS(function(){var d=qp(Pih(b)),e=bjh(a,d);c.getRange().rO(d);UM(e,e.nodeValue?e.nodeValue.length:0).select()})}function bjh(a,b){return b.hasChildNodes()?bjh(a,b.childNodes[b.childNodes.length-1]):b};function cjh(a,b,c){Ho.call(this,c)}t(cjh,Ho);function djh(a){a=a.iPb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function ejh(a,b,c){I4.call(this,a,b);this.D=c}t(ejh,I4);ejh.prototype.Ca=function(){this.pb(fy(djh,{iPb:this.D}))};ejh.prototype.Ia=function(){I4.prototype.Ia.call(this);this.setVisible(!1)};ejh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function fjh(){TO.apply(this,arguments)}t(fjh,TO);fjh.prototype.KL=ea("SuppressKeyboardShortcutPlugin");fjh.prototype.WQa=function(a){return gjh(a)};fjh.prototype.YQa=function(a){return gjh(a)};function gjh(a){return(a.ctrlKey||a.metaKey)&&hjh.has(a.keyCode)?(a.preventDefault(),!0):!1}var hjh=new Set([66,85,73]);function ijh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;I4.call(this,a,b);this.Va=a;this.ma=new Uz("",b);var e=this.C.vj();this.ma.nP=e;this.Ga(this.ma);this.V=new Uz("",b);this.Ga(this.V);this.Ba=b.Hb().body;this.F=c;this.H=new Wih(this.Va);this.Qa=this.rb=null;this.Ja=new Hhh(b,this.C,this.Va,this.F);this.L=(this.Ne="legacy"!=this.C.F)?new GQ(b):new HQ(!1,b);this.ub=!1;this.Ra=!d;c=Kw.getInstance();this.jd=Lw(c);this.Pc=Lw(c);this.vd=Lw(c);this.Dc=null;z(y(),"docs-edp")&&(this.Dc=new ejh(a,
b,"focused-presenceindicator"));this.Lc=0;this.xa="";this.fb="Comment draft";this.ob=this.Xa=this.Pd=null;this.Fb=!0;this.Ea=!1;this.Ob=this.Db=this.O=this.jb=this.cb=null;this.Sa=!1;this.J=this.Ma=null;Hgh(a);this.R=null}t(ijh,I4);m=ijh.prototype;m.Ca=function(){var a=zhh(new t5);this.Gc(fy(whh,{vj:this.C.vj(),fD:this.C.Ea,gH:a,hH:Ufh(this.C),Ev:$4(this.C)},void 0,this.oa()))};
m.Gc=function(a){I4.prototype.Gc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.D=b.eb("docos-input-textarea",a);$4(this.C)&&(this.R=new Qih(this.D),XO(this.R,new fjh),XO(this.R,new bQc),XO(this.R,new $ih),XO(this.R,new Sih(2048)));this.Xa=new mB;this.Xa.Wa(this.D);this.qa(this.Xa);yhh(new t5)&&this.D.setAttribute("placeholder",this.xa);if(zhh(new t5)){this.Ma=b.eb("docos-at-mention-icon",a);null!=this.Ma&&(this.J=new Uz(null,b),this.J.Wa(this.Ma),this.J.setVisible(!1));
var c=this.Xa.Pe()?"left":"right";gw(this.D,"padding-"+c,"36px")}this.Ra||P(this.D,this.Ra);this.ob=b.eb("docos-input-at-reply-message",a);this.ob.setAttribute("id",this.jd);this.cb=b.eb("docos-input-acl-fixer-message",a);this.cb.setAttribute("id",this.Pc);this.jb=b.eb("docos-input-assignment-message",a);this.jb.setAttribute("id",this.vd);this.Qa=b.eb("docos-input-assignment-panel",a);c=this.Ja;var d=this.Qa;c.J=d;qz(c,new Dcb(d,9));this.rb=b.eb("docos-input-assignee-text",a);c=b.eb("docos-input-assignee-select",
a);this.Ja.Wa(c);this.Ja.Pa(!0);if(c=b.eb("docos-input-assignment-box",a))this.L.Wa(c),FQ(this.L,this.rb);c=jjh(this);if(0<c.length){d=!this.F||!this.F.Lk();var e;d?e=this.C.O:this.F&&(e=this.F.getElement());this.O=new $hh(this.C,this.D,c,new oih(this.C.Qa),this.C.R||void 0,e||void 0,this.D||void 0,d);this.qa(this.O)}if(e=b.eb("docos-input-cancel",a))this.V.Wa(e),rx(e,this.V.Ol());(a=b.eb("docos-input-post",a))&&this.ma.Wa(a);this.Dc&&this.F.Lk()&&(a=this.oa().eb("docos-focusedpresenceindicator-container",
this.getElement()),this.Dc.render(a))};function jjh(a){var b=[],c=new Fhh(M4(a.Va),a.oa());c=Vfh(a.C)?new wih(a.C,a.Va.get("contactStore"),c):null;if(Vfh(a.C)){var d=new Kih(c);a.qa(d);b.push(d)}d=Wfh(a.C).map(function(e){return e.F()});ud(b,d);Vfh(a.C)&&(c=new Hih(a.C.Zg,c),a.qa(c),b.push(c));return b}
m.Ia=function(){I4.prototype.Ia.call(this);f_e(this.getElement(),!1);$4(this.C)||(this.Db=new qih(this.D,null,2048),this.qa(this.Db));this.Ob=new lB(this.D);this.qa(this.Ob);K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(this,this.Ob,"input",this.RQa),this.D,"keydown",this.lF),this.D,"keyup",this.jTb),this.D,"keypress",this.iTb),this.V,"action",this.hTb),this.ma.getElement(),["click","keypress","keyup"],this.u4a),this.ma,"action",this.nWa),this.Qa,"click",this.P7b),this.L,"change",this.R7b),this.L.tm(),"keypress",
this.S7b),this.Qa,["keyup","keypress"],this.Q7b),this.Ja,"action",this.O7b),this.D,"pointerdown",this.gTb);$4(this.C)&&K4(this,this.R,"dom_manipulated",this.RQa);this.J&&(K4(this,this.J,"action",this.s8b),K4(this,this.J.getElement(),"blur",this.a8b));this.O&&(K4(this,this.O,"update",this.orb),K4(this,this.O,"suggestionsupdate",this.t5a));this.D[kjh]=u(this.blur,this);this.D[ljh]=u(this.$8b,this);this.V.getElement()&&(K4(this,this.V.getElement(),["click","keypress","keyup"],this.u4a),this.V.Pa(!0));
if(this.F&&L4(this.F.fd())&&sgh(this.F.fd())){var a=this.H,b=G4(L4(this.F.fd())).getEmail();b&&!a.C.Wg(b)&&Xih(a,b);a.C.isEmpty();a=this.H;b=Yih(this.H);kd(a.C.Ed(),b);a.D=b;a.F=!0;this.L.Ib(!0)}yhh(new t5)?(this.setValue(""),this.Ce(this.fb+". "+this.xa)):this.setValue(this.xa);this.Sa=!0;ox(this.D,"label",this.fb);Xfh(this.C)&&(Dp(this.getElement(),!0),rx(this.getElement(),"This is the input pane."))};m.gTb=function(a){pj&&Jf(73)&&a.target.setPointerCapture(a.pointerId)};
m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return $4(this.C)?this.R?Rih(this.R):"":this.D?this.D.value:""};m.setValue=function(a){$4(this.C)?DZe(this.R,Pih(a.trim())):this.D.value=a};m.isEmpty=function(){return Ld(this.getValue())};function Q5(a){return!Ld(a.getValue())&&!a.Sa}m.Ce=da("fb");
m.reset=function(a){this.Ea||this.isDisposed()||(yhh(new t5)?(this.D.setAttribute("placeholder",this.xa),this.setValue("")):this.setValue(this.xa),this.Sa=!0,this.J&&this.J.setVisible(!1),ox(this.D,"label",this.fb),Af?cq(this.lTa,0,this):this.lTa(),R5(this,a),this.D&&(this.D.style.height=""),a||mjh(this),njh(this,"none"))};
function njh(a,b){if(a.ob&&a.cb&&a.jb){P(a.ob,"atReplyMessage"==b);P(a.cb,"aclFixerMessage"==b);P(a.jb,"assignmentMessage"==b);var c=a.L.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.jd;break;case "assignmentMessage":d=a.vd;break;case "aclFixerMessage":d=a.Pc}null!=d?ox(c,"describedby",d):px(c,"describedby")}}}
m.ready=function(a,b,c){this.isDisposed()||(this.R&&!this.R.Nf()&&FOc(this.R),this.Sa&&(this.Pd=!b&&a||"",this.setValue(a||""),this.Sa=!1),vx(this.getElement(),"docos-input-typing"),c||this.focus(),R5(this))};m.blur=function(a){this.F&&this.dispatchEvent(new Ho("b",this.F));if(this.J){var b=this.J.Gb();a=a&&a.relatedTarget==this.J.getElement();b||a||this.J.setVisible(!1)}};m.a8b=function(a){a.relatedTarget!=this.D&&this.J.setVisible(!1)};m.focus=function(){Af||cq(this.mWa,0,this);this.mWa()};
m.mWa=function(){!this.isDisposed()&&Cw(this.D)&&(this.D.focus(),this.J&&!this.C.J&&(this.J.setVisible(!0),ojh(this)))};m.lTa=function(){this.isDisposed()||xx(this.getElement(),"docos-input-typing")};
function R5(a,b){var c=Md(a.getValue());c=!a.Sa&&c!=a.Pd;a.ma.Pa(!a.Ea&&(!a.Ra||c&&!a.isEmpty()));a.t5a();var d=pjh(a),e=a.H.D,f=a.H.C.Ed().length;if(a.Ra){var h=a.H;var k=a.getValue(),l=d?G4(d):void 0;d=Vih(Uih,k);k=h.C;h.C=new RK(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];k.Wg(q)?h.C.set(q,k.get(q)):Xih(h,q)}l&&(l=sf(l.getEmail()),!Ld(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=Yih(h))?k.getEmail():null;(h.F||l==n)&&l&&h.C.Wg(l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
qjh(a,!1);e=a.C;0!=f||!h||a.Ea||!Nj(e.dh,33)||e.J||e.ma||(f=e.Xl,e=Yih(a.H)?Yih(a.H).getEmail():null,f&&e&&f([e]));f=h&&!a.ub&&a.F&&!a.F.fd().isResolved()&&a.Ra&&(a.F.kya()||!!ggh(a.F.fd()));Nj(a.C.dh,38)&&(f?(a.L.Pa(!a.Ea),a.Ja.Pa(!a.Ea),a.Ja.update(a.H.C.Ed(),d),f=eeh(d,a.C,!!pjh(a)),e=a.Ja.getElement(),Cp(a.rb,f),rx(e,f+". Choose an assignee."),zx(a.rb,"docos-input-assignee-text-no-chevron",!Cw(e)),P(a.Qa,!0),rjh(a,!0)):(qjh(a,!1),a.L.Pa(!1),a.Ja.reset(),P(a.Qa,!1),rjh(a,!1)));a.Ea&&Vfh(a.C)&&
!a.H.C.isEmpty()?njh(a,"aclFixerMessage"):a.Fb&&Vfh(a.C)&&!a.H.C.isEmpty()?a.L.isChecked()?njh(a,"assignmentMessage"):a.Fb?njh(a,"atReplyMessage"):njh(a,"none"):njh(a,"none");(f=Zih(a.H))&&a.F?(e=!!pjh(a),f=eeh(f,a.C,e),e=e?"Reassign":"Assign"):a.ub?(f="Save changes",e="Save"):!a.F||a.F.fd().ix()?(f="Post Comment",e="Comment"):a.F.fd().iZ()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.ma.getElement()&&J4(a.Va).C.C(a.ma.La(),f);Cp(a.ma.getElement(),e);c?(sjh.contains(a)||
(sjh.add(a),a.dispatchEvent(new cjh(a.F.getId(),1,"pr"))),vx(a.getElement(),"docos-input-nohide")):(tjh(a),xx(a.getElement(),"docos-input-nohide"));ujh(a);b||a.dispatchEvent("s")}function tjh(a){sjh.contains(a)&&(sjh.remove(a),a.dispatchEvent(new cjh(a.F.getId(),0,"pr")))}
m.t5a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.O&&this.O.qf()&&(this.getElement().setAttribute("aria-autocomplete","list"),Rhb(this.O)&&this.getElement().setAttribute("aria-activedescendant",lih(this.O)))};function rjh(a,b){if(b=b&&a.F)b=a.F,b=b.Lk()&&b.Dc;b?(a.C.Tt||re)("docosTodos",u(a.h$b,a)):(a.C.Oh||re)("docosTodos")}m.h$b=function(){this.dispatchEvent("ph")};function qjh(a,b){a.L.Ib(b);a.H.F=b}
function pjh(a){return a.F&&!a.F.fd().ix()&&ggh(a.F.fd())?L4(a.F.fd()):null}m.u4a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.hTb=function(){this.dispatchEvent("c");this.reset()};m.nWa=function(){if(this.ma.isEnabled()){var a=this.H.C.ef(),b=this.C;if(Nj(b.dh,33)&&!b.J&&!b.ma&&!ld(a)&&(b=this.C.vn)){njh(this,"aclFixerMessage");this.Ea=!0;R5(this);this.V.getElement()&&this.V.Pa(!1);b(a,u(this.Xpb,this));return}vjh(this)}};
m.P7b=function(){this.Ea||(qjh(this,!this.L.isChecked()),R5(this))};m.R7b=function(){var a=this.L.isChecked();this.H.F=a;R5(this)};m.S7b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.L,a.Ib(a.kE?!1:!0),this.L.dispatchEvent("change"),this.ma.focus())};m.Q7b=function(a){a.stopPropagation()};m.O7b=function(){this.L.Ib(!0);var a=this.H,b=Ihh(this.Ja);kd(a.C.Ed(),b);a.D=b;a.F=!0;R5(this)};
m.Xpb=function(a){this.Ea&&(this.Ea=!1,"continue"==a?vjh(this):njh(this,"atReplyMessage"),this.F.getContext()&&(R5(this),this.V.getElement()&&this.V.Pa(!0)))};function vjh(a){Af&&a.F&&a.F.fd().ix()&&Tf(a.Db);a.dispatchEvent("p");a.reset()}m.$8b=function(){this.ready(void 0,void 0,!0);this.F&&this.dispatchEvent(new Ho("f",this.F));this.J&&!this.C.J&&(this.J.setVisible(!0),ojh(this))};
function ujh(a){if(!a.D)return!1;var b=a.D.clientHeight,c=a.D.scrollHeight,d=zw(a.D).height;return b!=c&&0<d?(yw(a.D,d+c-b),ojh(a),!0):!1}function ojh(a){if(null!=a.Ma){var b=kw(a.D),c=zw(a.D),d=zw(a.Ma).height;if(a.Xa.Pe())a.Ma.style.left=b.x+"px";else{var e=Iw(a.D.parentElement).right;a.Ma.style.right=e+"px"}a.Ma.style.top=b.y+c.height-d+"px"}}
m.lF=function(a){ujh(this)&&this.dispatchEvent("s");this.Lc=a.keyCode;if(13==a.keyCode)wjh?a.metaKey&&Gf&&pj&&xjh(this,a):xjh(this,a);else if(27==a.keyCode){Df&&a.preventDefault();if(this.O&&this.O.qf())return;this.isEmpty()&&this.reset();this.F&&this.dispatchEvent(new Ho("e",this.F));mjh(this)}a.stopPropagation()};
m.jTb=function(a){ujh(this)&&this.dispatchEvent("s");var b=this.Lc;this.Lc=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Ud){Hd(this.getValue(),"\n")?this.lF(a):a.preventDefault();return}this.Ud=!1}a.stopPropagation()};m.iTb=function(a){if(13==a.keyCode&&wjh)xjh(this,a);else if(27==a.keyCode){if(this.O&&this.O.qf())return;this.blur();mjh(this)}a.stopPropagation()};function xjh(a,b){if(b.ctrlKey||b.metaKey)a.Ud=!0,a.ma.getElement().focus(),a.nWa()}
function mjh(a){a.Ba&&(Af&&!Jf("9")?a.Ba.focus():cq(function(){return a.Ba.focus()}))}m.RQa=function(){R5(this)};m.orb=function(){R5(this)};m.s8b=function(){this.O.Ea=!0;this.focus();yjh(this,Ufh(this.C)?"@":"+");var a=Whb(this.D,!0)[0];zjh(this,a-1)&&(yjh(this," ",a-1),a+=1,T_e(this.D,a));zjh(this,a+1)&&(yjh(this," ",a),T_e(this.D,a));this.O.update(!0)};
function yjh(a,b,c){c&&T_e(a.D,c);c=a.D;if(Shb(c)){var d=c.value,e=c.selectionStart;c.value=d.substr(0,e)+b+d.substr(c.selectionEnd);c.selectionStart=e;c.selectionEnd=e+b.length}else if(Thb())d=Uhb(c),c=d[1],d[0].inRange(c)&&(d=c.duplicate(),c.text=b,c.setEndPoint("StartToStart",d),c.select());else throw Error("Cannot set the selection end");b=Whb(a.D,!1)[1];T_e(a.D,b)}function zjh(a,b){a=a.getValue();return 1>b||b>a.length?!1:" "!=a[b-1]}
m.Ka=function(){I4.prototype.Ka.call(this);tjh(this);this.D&&(this.D[kjh]=null,this.D[ljh]=null);delete this.D;delete this.Db;delete this.Ob};var sjh=new om,kjh=Af?"onfocusout":"onblur",ljh=Af?"onfocusin":"onfocus",wjh=Gf||zf||Df;Ef&&Jf("530");function Ajh(a,b,c,d,e,f,h,k){d=void 0===d?0:d;Ahh.call(this,a,b);this.xn=c||null;this.Yp=d;this.C=e||null;this.Y1=h;this.Lk=k}t(Ajh,Ahh);function Bjh(a){this.C=J4(a)};function Cjh(a,b){b.iZ()?a.V+=1:b.ix()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Uj()?(b=tgh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Djh(a,b,c,d,e){this.bk=a;this.C=b||null;this.xn=c||null;this.Yp=d||null;this.flags=e||null};function Ejh(a,b,c,d){Ho.call(this,b,a);this.source=c;this.C=d}t(Ejh,Ho);function Fjh(a,b){this.D=a;this.Tr=b;this.C=[]}function Gjh(a){return new Ejh(a.D,"bu",a.Tr,a.C)};function Hjh(){this.D={};this.C={};this.F=0}function Ijh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Jjh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Kjh(c,d);a.C[c][d||"$"]=b}Hjh.prototype.bind=function(a,b){if(null!==Ijh(this,a,b))return!1;this.F++;Jjh(this,this.F,a,b);return!0};function Ljh(a,b,c){var d=Ijh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Mjh(a,b,c,d,e){var f=Ijh(a,b,c);if(null===f||null!==Ijh(a,d,e))return!1;Ljh(a,b,c||void 0);Jjh(a,f,d,e);return!0}
function Njh(a,b,c){return Ijh(a,b,c)||0}Hjh.prototype.getDocoHandles=function(){for(var a=Yd(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Kjh(a,b){this.C=a;this.D=b||null};function Ojh(){this.D={}}Ojh.prototype.C=function(a){sgh(a)||(this.H(a),a.sS()&&(this.D[a.getId()]=!0))};Ojh.prototype.H=function(a){delete this.D[j5(a)];delete this.D[a.getId()]};Ojh.prototype.F=function(){return!ce(this.D)};function Pjh(a){this.J=a;this.D=new Ojh}Pjh.prototype.C=function(a){this.D.C(a);a=this.J.bj;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Pjh.prototype.H=function(a){this.D.H(a)};Pjh.prototype.F=function(){return this.D.F()};function Qjh(a){Uo.call(this);this.L=a;this.C={};this.R=null;this.F={};this.J=[];this.Ma=[];this.Ja={};this.V={};this.H=new Map;this.D=new Hjh;this.Qa=[];this.xa=!1;this.Ba=this.O=null;this.Sa=!1;this.Ea=new Pjh(this.L)}v(Qjh,Uo);function Rjh(a,b){a.Uj();var c="<i>Made a suggestion</i>";(a=a.M4())&&(b=b.Vs)&&(b=b(a).C())&&(c=b);return c}function Sjh(a,b){return"n"!=b&&!sgh(a)&&a.sS()}
function Tjh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Fjh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=k5(d);h.C.push(new Djh(b,c,d,e,f));k&&a.dispatchEvent(Gjh(h))}
function r5(a,b,c,d){c=c||"c";var e=Ujh(a),f=Vjh(a,b.getId(),K(T4(b.C),11)||"");if(f){var h=f.getId(),k=f.Pq();b=b.C;var l=gk(f.F);T4(b);var n=T4(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!f.Pq();for(var w=(void 0===K(n,13)||0==K(n,13))&&f.Pq(),x=R4(n),F=!1,M=0;M<x.length;M++){var X=x[M],U=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;U||(U=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!U);if(U){var ca=U.getId();U.update(X);if(ca!=U.getId()&&(delete f.D[ca],f.D[U.getId()]=U,Njh(f.O,
r,ca)&&!Mjh(f.O,r,ca,r,U.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+U.getId());U.Pq()?(delete f.D[U.getId()],f.J[U.getId()]=U,Ljh(f.O,r,U.getId())):F&&!U.Pq()&&(delete f.J[U.getId()],f.D[U.getId()]=U,f.O.bind(r,U.getId()))}else U=new pfh(X),U.Pq()?(f.J[U.getId()]=U,Ljh(f.O,r,U.getId())):(f.D[U.getId()]=U,delete f.J[U.getId()],f.O.bind(r,U.getId())),U=R4(T4(f.F)),U.push(X),X=T4(f.F),ck(X,8,U)}r=0;void 0!==Nj(b,6)&&Nj(b,6)!=f.isResolved()&&(r=Nj(b,6)?r|2:r|4);q&&!F?r|=16:
w&&(r|=8);ck(n,8,[]);q&&(n.setContent(void 0),ak(n,4,void 0),ak(n,9,void 0));Leh(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.wS=null;fk(f.F,l)||(r|=1);b=r;a.Ea.C(f);Wjh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],a.H.delete(h),l=Njh(a.D,h),delete a.Ja[l],a.C[f.getId()]=f,l&&!Mjh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Njh(a.D,f.getId());f.Pq()?(delete a.C[f.getId()],a.H.delete(h),Ljh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ja[l]=f),Sjh(f,
c)&&(nd(a.J,f.getId()),nd(a.Ma,f.getId())),d=Cgh(Bgh(Agh("dd"),c),f.getId()),k=k5(f),d.$r=k,d.C=l,d=Dgh(d,b),h!=f.getId()&&(d.D=h),a.dispatchEvent(Fgh(d))):(k&&(delete a.F[f.getId()],delete a.Ja[l],a.C[f.getId()]=f,(a.L.Ja||k5(f))&&a.D.bind(f.getId()),l=Njh(a.D,f.getId())),0!=b&&(Sjh(f,c)&&nd(a.J,f.getId()),Tjh(a,c,h,f,l,b,d)))}else f=new qgh(b.C,a.D,b.Jt?b.Jt:void 0),a.Ea.C(f),f.Pq()?a.F[f.getId()]=f:Xjh(a,f,c,d);Ujh(a)!=e&&(e=Ujh(a)?32:0,c=Fgh(Dgh(Bgh(Agh("p"),c),e)),a.dispatchEvent(c))}
function Rgh(a,b,c){for(var d=new Fjh(a,c),e=0;e<b.length;e++)r5(a,b[e],c,d);a.dispatchEvent(Gjh(d))}function Jgh(a,b){b.getNewDocoType()||wgh(b,"draft");b=new qgh(b.C,a.D,b.Jt?b.Jt:void 0);a.Ea.C(b);Xjh(a,b)}
function Xjh(a,b,c,d){if(Nj(a.L.dh,38)||!b.isTodo()){c=c||"c";var e=null;b.oA()&&(e=Yjh(a,k5(b)));e&&sgh(e)?(Mjh(a.D,e.getId(),null,b.getId(),null),Mgh(a,e.getId(),c)):(a.L.Ja||b.oA())&&a.D.bind(b.getId());a.C[b.getId()]=b;Wjh(a,b);e=8|(b.isResolved()?2:0);Sjh(b,c)&&nd(a.J,b.getId());var f=Njh(a.D,b.getId());Tjh(a,c,void 0,b,f,e,d)}}
function Mgh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.oA()){var e=k5(d);delete a.V[k5(d)]}a.Ea.H(d);d=Njh(a.D,b);delete a.C[b];Ljh(a.D,b);b=Cgh(Bgh(Agh("dd"),c),b);b.C=d;b=Dgh(b,16);void 0!=e&&(b.$r=e);a.dispatchEvent(Fgh(b))}}function S5(a,b){if(!b)a.R=null;else if(!b||a.fd(b)){if(a.L.fH()){var c=!0;c=void 0===c?!1:c;a.H.delete(b);a.dispatchEvent(Fgh(Cgh(Bgh(Agh("sd"),"c"),b)));c&&Zjh(a)}a.R=a.fd(b)}}function Tgh(a,b){b=b.getId();return kd(a.Qa,p5(a,b))}
Qjh.prototype.ma=function(a){return(this.L.Ja||a.oA())&&(!a.isResolved()||this.xa)};function $jh(a){var b=je(a.C);le(b,a.F);return b}function akh(a){var b=new qdh;a=Xd($jh(a));for(var c=0;c<a.length;c++)Cjh(b,a[c]);return rdh(b)}function bkh(a){function b(d){return d.sS()}var c=bd(Xd(a.C),b);a=bd(Xd(a.F),b);return c.concat(a)}function ckh(a,b,c){var d=!1;d=void 0===d?!1:d;a.H.set(b,new Set(c));a.dispatchEvent(Fgh(Cgh(Bgh(Agh("ud"),"c"),b)));d&&Zjh(a)}
function Zjh(a){(a=a.L.H["unseen-docos-updated"])&&a((new F4("unseen-docos-updated")).setNonAnchored(!0).build())}function Ujh(a){return a.Sa?a.Ea.F():!1}function dkh(a){for(var b=0;b<a.J.length;b++){var c=a.J[b],d=a.fd(c);d||(d=a.F[c]);if(d&&d.sS())return!0}return!1}Qjh.prototype.fd=function(a){return this.C[a]};function Vjh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}function Wjh(a,b){k5(b)&&(b.Pq()?delete a.V[k5(b)]:a.V[k5(b)]=b)}
function Yjh(a,b){var c=a.V[b]||null;return c&&k5(c)!=b?(delete a.V[b],null):c}function s5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function Qgh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?a5(a,b):null:null}Qjh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function p5(a,b,c){return Njh(a.D,b,c)}
Qjh.prototype.flush=function(a){this.dispatchEvent(Fgh(Egh(Bgh(Agh("f"),"c"),!!a)));this.dispatchEvent(Fgh(Bgh(Agh("af"),"c")))};function ekh(a,b){a=a.Ba;if(!a)return null;b=b.Fc(a.getKey());if(!b)return null;a=b.eb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new mn(b,b+a.height)}function fkh(a,b){return(a=gkh(a,b))?new eY(a.getKey().getId(),a.getValue()):null}
function gkh(a,b){var c=a.O;if(!c)return null;var d=a.Ba;if(!d)return null;var e=d.getKey();e=je(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=l5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+hkh(h,c,b);if(k>d)return new eY(h,d-a);a=k}return null}function ikh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Tq('<span class="%s">%s</span>',d,h));c+=h}return c}
function hkh(a,b,c){a=jkh(a,c);if(!a)return 0;a=qp(a).textContent.toLowerCase();return Yga(a,b.toLowerCase())}function jkh(a,b){var c=a.Nha();if(!c){var d=kkh();a.Uj()?c=nL(d,Rjh(a,b)):a.getContent()?c=nL(d,a.getContent()):c=null}return c}function kkh(){var a=Umc(new mL);a.F=se;return new lL(a)};function lkh(a,b){this.C=a;this.D=b};function mkh(a,b,c){this.C=a;this.D=b;this.F=c};function nkh(a,b,c,d){I4.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new Uz(null);this.F=this.J=this.H=null;this.qa(this.D)}t(nkh,I4);m=nkh.prototype;m.Gc=function(a){I4.prototype.Gc.call(this,a);this.H=this.oa().eb("like-button-text",a);this.J=this.oa().eb("docos-icon",a);this.F=this.oa().eb("docos-icon-img",a);this.D.Wa(this.getElement())};m.Ia=function(){K4(this,this.D,"action",this.VSb);K4(this,this.getElement(),["click","keypress","keyup"],this.USb);this.update()};m.kWa=da("L");
m.USb=function(a){a.stopPropagation()};function okh(a){var b=N4(a.R).fd(a.L);return null!=a.O?a5(b,a.O):b}m.VSb=function(a){a.stopPropagation();a=P4(this.R);var b=okh(this).nA();b=!b||1!=W4(b);null!=this.O?a.Bf("docos-vote-reply").qb(new mkh(this.L,b,this.O)):a.Bf("docos-vote-doco").qb(new lkh(this.L,b))};
m.update=function(){var a=okh(this).nA(),b=!a||0==$eh(a,1).length&&1!=W4(a);xx(this.H,"no-votes");!b||vx(this.H,"no-votes");yx(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);yx(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?vx(this.F,"docos-icon-thumb-black"):1==W4(a)?(vx(this.J,"current-user-has-up-vote"),vx(this.F,"docos-icon-thumb-green")):0<$eh(a,1).length&&(vx(this.J,"post-has-votes-no-current-user-vote"),vx(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=$eh(a,1),b=W4(a),c=c.length,1==b&&c++);Cp(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==W4(a))&&(b="Unlike this"),a=$eh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=tf(b,"\n",H4(Peh(N(a[c].C,fY,1))));this.D.getElement()&&J4(this.R).C.C(this.D.La(),b)};function pkh(a,b){a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';a+=R(Tz({id:"docos-shadow-confirm",
content:$w("Delete")},b));a+=R(Tz({id:"docos-shadow-cancel",content:$w("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function qkh(a,b){I4.call(this,a,b);this.D=this.J=this.L=this.V=this.Ba=this.R=this.Rd=null;this.H=new Uz(null,b);this.Ga(this.H);this.F=new Uz(null,b);this.Ga(this.F);this.Kg=this.O=null;this.ma=!1;this.xa=new Lz(this);this.qa(this.xa);a=P4(a);this.xa.yb(a.Ta("docos-highlight-doco"),ft,this.n2)}t(qkh,I4);function rkh(a,b){skh||(skh=new qkh(a,b),skh.render());return skh}m=qkh.prototype;m.Ca=function(){this.pb(fy(pkh,{},void 0,this.oa()))};
m.Ia=function(){I4.prototype.Ia.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Wa(a.getElement("docos-shadow-cancel"));this.H.Pa(!0);this.F.Wa(a.getElement("docos-shadow-confirm"));this.F.Pa(!0);this.O=new xB(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);yB(this.O);this.Kg=new Fx(a.Hb());this.qa(this.Kg);this.ma=!0}K4(K4(K4(K4(this,this.H,"action",this.nTb),this.F,"action",this.oTb),this.getElement(),
["keyup","keydown"],this.pTb),this.Kg,"focusin",this.Sy)};m.prompt=function(a,b,c,d,e,f){this.tb()&&this.xd();if(c!=this.V){var h=tkh[c];h&&this.oa().Be(this.L,h);this.V=c}this.Rd=b;this.R=a;this.J=e||null;b=zw(a);ww(this.D,b);b=hw(a,"paddingLeft");c=hw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?Mw(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ba=d.getId(),this.getHandler().listen(d,"rd",this.qTb))};
m.xd=function(){I4.prototype.xd.call(this);this.J=this.R=this.Rd=null};m.n2=function(){ww(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();up(this.getElement());this.tb()&&this.xd()};m.oTb=function(){this.Rd&&this.Rd();this.n2()};m.pTb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.n2())};m.nTb=function(){this.n2()};m.qTb=function(a){a.target&&a.target.getId()==this.Ba&&this.R&&P(this.getElement(),!0)};
m.Sy=function(a){a=a.target;Ap(this.getElement(),a)||this.n2()};var skh=null,ukh={},tkh=(ukh["delete-discussion"]="Delete this comment thread?",ukh["delete-reply"]="Delete this comment?",ukh);function vkh(a,b){return 1==b&&!a.C&&!a.getId()};function wkh(a,b,c,d){I4.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new Uz(null);this.F=null;this.qa(this.D)}t(wkh,I4);m=wkh.prototype;m.Gc=function(a){I4.prototype.Gc.call(this,a);this.F=this.oa().eb("vote-button-text",a);this.D.Wa(this.getElement())};m.Ia=function(){K4(this,this.D,"action",this.dTb);K4(this,this.getElement(),["click","keypress","keyup"],this.cTb);this.update()};m.kWa=da("H");m.cTb=function(a){a.stopPropagation()};
function xkh(a){var b=N4(a.L).fd(a.H);return null!=a.J?a5(b,a.J):b}m.dTb=function(a){a.stopPropagation();a=P4(this.L);var b=xkh(this).nA();b=!b||1!=W4(b);null!=this.J?a.Bf("docos-vote-reply").qb(new mkh(this.H,b,this.J)):a.Bf("docos-vote-doco").qb(new lkh(this.H,b))};
m.update=function(){var a=xkh(this).nA();yx(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==W4(a)?vx(this.F,"current-user-has-up-vote"):0<$eh(a,1).length&&vx(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=$eh(a,1);b=W4(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Cp(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==W4(a))&&(b="Remove your +1"),a=$eh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=
tf(b,"\n",H4(Peh(N(a[c].C,fY,1))));this.D.getElement()&&J4(this.L).C.C(this.D.La(),b)};function ykh(a,b,c,d,e,f,h){I4.call(this,a,d);this.F=a;this.rb=J4(this.F).R;this.Qg=new Bjh(a);this.O=b;this.H=e;this.Zg=h||"";this.Ne=u(this.WSb,this);this.D=null;this.Hc(f||"root");this.xa=c;this.Fb=!0;this.cb=2;this.Ud=!1;this.cf=this.F.get("relativeDateFormatter");this.Pc=this.Qa=this.Va=this.Ja=this.Ra=this.Pd=this.Xa=this.fb=this.jb=this.jd=this.Dc=this.vd=this.Ob=this.Ba=this.jg=this.Db=this.ub=this.Ea=this.Lf=this.R=this.L=this.J=this.V=this.ma=this.Sa=this.Lc=this.Ma=null;this.ob=new lL(Qmc(Umc(new mL),
["data-rawHref"]));K4(this,this.cf,"Zi",u(this.UVa,this,!0))}t(ykh,I4);m=ykh.prototype;m.fd=function(){return N4(this.F).fd(this.O)};function zkh(a){return a5(a.fd(),a.getId())}function T5(a){return U5(a)?a.fd():zkh(a)}
m.Ca=function(){var a=this.oa(),b=T5(this),c=b.kx(),d=Akh(this),e=Bkh(this);if(U5(this)&&rfh(this.fd().C)){var f=Md(rfh(this.fd().C));f=f.replace(Ckh,"<br>").replace(Dkh," ");f=nL(this.ob,f)}else f=null;var h=f;f="legacy"!=this.C.F;var k="Unknown"===c.getName();b=fy(shh,{author:c.getName(),ah:c.C,rF:this.C.V&&!k?c.getId():null,zoa:e||"",Ee:this.Zg,Lk:this.xa,Moa:Ekh(this),Pm:V5(this),bxa:d,kA:U5(this),Uj:b.Uj(),hcc:h?h:"",p8:Fkh(this),nK:Gkh(this),ZY:!!T5(this).pC(),vj:this.C.vj(),Hga:this.C.Hga(),
Rwa:this.C.Rwa(),isBadgingEnabled:this.C.fH(),timestamp:Hkh(this),Meb:Tfh(this.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Co:f},void 0,a);this.pb(b);d=a.eb("docos-accept-suggestion",b);h=a.eb("docos-reject-suggestion",b);this.Ob=a.eb("docos-body-action-text",b);this.Dc=a.eb("docos-anchoredreplyview-buttonholder",b);this.Ra=a.eb("docos-author",b);d&&h&&(this.ma=new Uz(null,a),k=this.C.vj(),this.ma.nP=k,this.qa(this.ma),this.V=
new Uz(null,a),this.qa(this.V),this.ma.Wa(d),this.V.Wa(h));if(k=a.eb("docos-replyview-resolve-button",b)){this.J=new Uz(null,a);var l=this.C.vj();this.J.nP=l;this.qa(this.J);this.J.Wa(k)}(k||d&&h)&&Ikh(this);d=this.oa();h=d.eb("docos-vote-button",b);k=d.eb("docos-like-button",b);if(h||k)h?(this.R=new wkh(this.F,this.O,d,U5(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(h)):k&&(this.R=new nkh(this.F,this.O,d,U5(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(k));d=a.eb("docos-overflowmenu-outer",
b);(V5(this)||Ekh(this)||U5(this))&&d&&(f=fy(rhh,{Ri:"docos-icon-overflow-three-dots",eC:"docos-icon-overflow-three-dots-size",vS:f}),a.appendChild(d,f),gw(d,"visibility",""),f=[],V5(this)&&(f=f.concat(["edit"])),Ekh(this)&&(f=f.concat(["delete"])),U5(this)&&(this.C.Lc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new Yfh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Wa(d));this.Ma=a.eb("docos-replyview-body",b);this.Lf=a.eb("docos-streamreplyview-text",b)||
this.Ma;this.Ea=a.eb("docos-collapsible-replyview",b);this.ub=a.eb("docos-replyview-timestamp",b);U5(this)&&rfh(this.fd().C)&&(this.Ba=a.eb("docos-replyview-quote",b),this.jb=a.eb("docos-replyview-quote-expand",b),this.Xa=a.eb("docos-replyview-quote-collapse",b));(this.Db=a.eb("docos-show-less",b))&&Jkh(this);this.jg=a.eb("docos-show-more",b);this.Pd=a.Uf("docos-replyview-static",b);V5(this)&&this.D&&Kkh(this);(V5(this)||Ekh(this))&&(this.fb=a.eb("docos-replyview-control",b))&&P(this.fb,!this.fd().isResolved());
this.Ja=pV(a,"IMG","docos-replyview-avatar",b);if(f=a.eb("docos-user-presence",b))d=this.C,c=(h=d.Fd)&&c.getId()?h(c.getId()):(d=d.tD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Va=a.eb("docos-replyview-origin",b);Lkh(this);this.C.fH()&&(!this.xa&&U5(this)?this.Qa=this.H.vd:this.Qa=a.eb("docos-new-tag",b),a=N4(this.F),c=this.O,a=a.H.has(c)?a.H.get(c):new Set,c=T5(this))&&(a=a.has(c.getId()),this.Qa&&P(this.Qa,a));e&&(this.Sa=e,Mkh(this,Ne(e)),Nkh(this),Okh(this));Pkh(this)};
function Pkh(a){if(Xfh(a.C)){var b={AUTHOR_NAME:T5(a).kx().getName(),CREATION_TIME:Hkh(a)};if(a.Ma.textContent)if(Gkh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ma.textContent;b.ACTION_TEXT=Gkh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ma.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Gkh(a);c=(new JA(c)).format(b);rx(a.getElement(),c)}}
function Qkh(a){var b=a.fd();if(b)if(b.isResolved()){if(a.H.lCa(!1),b=a.fd())b.Uj(),Rkh(a,!1,oeh(a.H))}else a.Zv()}function Skh(a){a.D||(a.D=new ijh(a.F,a.oa(),a.H),a.qa(a.D),a.Ga(a.D),a.D.xa="Edit your comment...",a.D.Fb=!1,K4(K4(K4(a,a.D,"p",a.Zgc),a.D,"c",a.UHa),a.D,"s",a.XSb),a.getElement()&&Kkh(a))}
function Kkh(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.xa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):U5(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=Gkh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");var h=zhh(new t5);d=fy(whh,{Ee:c,lLa:d,Roa:e,nK:f,vj:a.C.vj(),fD:a.C.Ea,gH:h,hH:Ufh(a.C),Ev:$4(a.C)});c=a.getElement();e=b.eb("docos-edit-pane-placeholder",c);b.YC(d,e);a.D.Wa(d);a.D.setVisible(!1);d=a.H.getElement();a.D.Ba=d;a.vd=
b.eb("docos-edit-pane-action-text",c)}m.x$b=function(a){a&&a.stopPropagation();Qkh(this)};m.Zv=function(){this.dispatchEvent("br");this.H.lCa(!1);var a=this.fd();a&&(a.Uj()?Tkh(this):Rkh(this,!0,oeh(this.H)));this.dispatchEvent("ar")};
m.Ia=function(){I4.prototype.Ia.call(this);K4(this,this.getElement(),["click","keypress","keyup"],this.YSb);this.Ba&&(K4(K4(this,this.Xa,"click",this.Z4a),this.jb,"click",this.Z4a),Ukh(this));this.J&&K4(this,this.J,"action",this.x$b);this.ma&&this.V&&K4(K4(K4(this,this.ma,"action",this.E7b),this.V,"action",this.w$b),this.C,"r",this.ZSb);this.L&&K4(K4(K4(this,this.L,"d",this.v8b),this.L,"e",this.$Sb),this.L,"ra",this.o$b);var a=T5(this).kx();Vkh(this,a);this.Ra&&Wkh(this,a);Xkh(this,a);this.D&&(a=
this.H.getElement(),this.D.Ba=a);this.collapse();Xfh(this.C)&&Dp(this.getElement(),!0)};m.ZSb=function(){Ikh(this)};
function Ikh(a){var b=a.fd();if(b){var c=T5(a);if(c){var d=c.Uj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.QI())return;d=a.C.D;d=c.Uj()&&"full"==d.C&&Tgh(N4(a.F),b)&&!a.C.ma;var e=a.C.D;b=c.Uj()&&(Dfh(e,c)||"full"==e.C)&&Tgh(N4(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&J4(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&J4(a.F).C.C(a.V.getElement(),f);a.ma.Pa(d);a.V.Pa(b)}else ggh(b)?
(c=!0,a.J.Pa(!1),P(a.J.getElement(),!1)):(c=Akh(a),a.J.Pa(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":N4(a.F).xa?"Mark as resolved":"Mark as resolved and hide discussion",a.C.Hga()||Cp(a.J.getElement(),d),a.J&&a.J.getElement()&&J4(a.F).C.C(a.J.La(),b));!a.Dc||null!==a.jd&&a.jd==c||(P(a.Dc,c),a.jd=c)}}}}function Ykh(a){var b=D4(C4(B4(a.H.getId()),a.H.fb)),c=P4(a.F);c.Bf("docos-before-highlight-doco").qb(b);S5(N4(a.F),a.H.getId());c.Bf("docos-highlight-doco").qb(b)}
m.$Sb=function(){Ykh(this);Zkh(this)};m.v8b=function(){Ykh(this);U5(this)?this.H.M3a():$kh(this)};m.o$b=function(a){Ykh(this);this.dispatchEvent(new Ahh("ra",this.O));a.stopPropagation()};function Vkh(a,b){var c=b.D,d=M4(a.F);a.Ja&&vkh(b,T5(a).getOrigin())&&(c=fhh(d),vx(a.Ja,"docos-avatar-unverified"),a.C.C.C(a.Ja,"Author from imported document"));leh(d,a.Ja,c,H4(b))}function Wkh(a,b){(b=b.getName())?(b=nL(a.ob,b),We(a.Ra,b)):(b=nL(a.ob,""),We(a.Ra,b))}
function Xkh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ra&&a.C.C.C(a.Ra,c),a.Ja&&a.C.C.C(a.Ja,c))}function alh(a,b){a.J&&a.oa().Ti(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Ti(a.ma.getElement(),b),a.oa().Ti(a.V.getElement(),b));a.L&&a.L.Jh(b);a.R&&a.oa().Ti(a.R.getElement(),b)}function blh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.ql()&&this.Fb&&Ukh(this);var a=this.D&&V5(this)&&Q5(this.D),b=Bkh(this),c=Ne(b),d=!this.Sa||Ne(this.Sa)!=c;d&&(this.Sa=b,We(this.Ma,b),Okh(this));Nkh(this);Mkh(this,c);U5(this)||this.dispatchEvent(new O5(this.getId()));V5(this)&&this.fb&&!a&&P(this.fb,!this.fd().isResolved());b=T5(this).kx();Vkh(this,b);this.Ra&&Wkh(this,b);Xkh(this,b);Lkh(this);if(this.xa&&!a){switch(this.cb){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.ql()?this.expand():this.collapse()}Jkh(this)}this.UVa();
d&&(this.D&&this.D.tb()&&this.D.reset(!0),this.UHa());Ikh(this);this.R&&this.R.update();this.L&&this.L.update();Pkh(this)};m.gB=function(){if(this.Lc){var a=clh(this,this.Lc);a.Wo()!=this.Sa.Wo()&&(this.Sa=a,We(this.Ma,this.Sa),Okh(this))}};function Bkh(a){var b=T5(a),c=b.Nha();if(!c){c=b.getContent();var d=b.zs();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Uj()&&(c=Rjh(b,a.C));c=nL(a.ob,c)}a.Lc=c;return clh(a,c)}
function clh(a,b){var c=N4(a.F),d=c.O;if(!d)return b;a=(c=fkh(c,a.C))&&c.getKey()==T5(a).getId()?c.getValue():void 0;c=kkh();var e=mp("DIV");e.appendChild(qp(nL(c,mf(d))));d=e.innerHTML;e.replaceChild(qp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new mn(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new mn(f,r)),f=r):k||((w=Kd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new mn(f,r+1)),h=ikh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=ikh(q,b,h);h+=b.slice(f,b.length);return nL(c,h)}m.UVa=function(a){if(this.ub){var b=Hkh(this);b&&(a&&(this.ub.textContent=b),a=T5(this),U5(this)||this.xa||a.Lu().equals(a.iR())||(this.ub.textContent=b))}};function Hkh(a){var b=a.cf,c=T5(a),d=c.Lu();return d?a.xa||U5(a)||!(a=c.iR())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return Cw(this.getElement())};m.XSb=function(a){this.dispatchEvent(new O5(this.O));a.stopPropagation()};function $kh(a){var b=a.getElement();b&&(a.C.ob?(b=a.C.jb,b(function(){return a.Ne()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):rkh(a.F,a.oa()).prompt(b,a.Ne,"delete-reply",a,a.H.getElement(),!a.xa))}
m.YSb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!U5(this)&&ux(c,"docos-replyview-delete")&&b?($kh(this),a.stopPropagation(),a.preventDefault()):ux(c,"docos-replyview-edit")&&b?(Zkh(this),a.stopPropagation(),a.preventDefault()):ux(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new O5(this.O)),this.Db.focus()):ux(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new O5(this.O)),this.jg.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&Ap(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function dlh(a,b){var c=a.fd();if(!c||Tgh(N4(a.F),c)){var d=T5(a);d&&d.QI()&&(c=a.C.H[b])&&(a=p5(N4(a.F),a.O))&&(d=d.oA&&d.oA()&&!d.isResolved()?k5(d):void 0,b=(new F4(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function Tkh(a){var b=a.fd();b&&b.Uj()&&dlh(a,"before-suggestion-accepted")}m.E7b=function(){var a=Date.now();Tkh(this);this.rb&&this.rb.gp("dsabb",Date.now()-a)};function Rkh(a,b,c){var d=a.fd(),e=a.H;e.D&&Q5(e.D)&&e.D.setValue("");d&&!d.Uj()&&d.isResolved()!=b&&P4(a.F).Bf("docos-resolve-doco").qb(new ieh(a.O,b,c||null,a.xa?null:105))}m.w$b=function(){var a=Date.now();dlh(this,"before-suggestion-rejected");this.rb&&this.rb.gp("dsrbb",Date.now()-a)};
m.expand=function(){T5(this).Uj()||(xx(this.Ea,"docos-collapsed-replyview"),this.cb=150>=this.Ea.offsetHeight?2:1,Jkh(this))};m.collapse=function(){!T5(this).Uj()&&this.xa&&(xx(this.Ea,"docos-collapsed-replyview"),150>=this.Ea.offsetHeight?this.cb=2:(this.cb=0,vx(this.Ea,"docos-collapsed-replyview")),Jkh(this))};function Jkh(a){if(!T5(a).Uj()){var b=1==a.cb;b!=a.Ud&&(a.Db.style.display=b?"block":"none",a.Ud=b)}}function U5(a){return"root"==a.getId()}
function Ekh(a){var b=T5(a);return b?Ffh(a.C.D,b)&&!a.C.ma:!1}function V5(a){var b=T5(a);return b?Efh(a.C.D,b):!1}function Akh(a){var b=a.fd();return b?Gfh(a.C.D,b):!1}m.WSb=function(){if(this.isDisposed())return!1;P4(this.F).Bf("docos-delete-reply").qb({bk:this.O,ABa:this.getId(),yf:this.xa?null:105});return!0};function Zkh(a){V5(a)&&(Skh(a),elh(a,!1),a.Ea&&a.expand(),a.D.setVisible(!0),a.D.ub=!0,a.D.ready(T5(a).Zx()))}
m.UHa=function(){V5(this)&&(elh(this,!0),this.Ea&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.ub=!1))};m.Zgc=function(){if(V5(this)){Skh(this);var a=P4(this.F),b=this.D.getValue(),c=this.xa?null:105;Ld(b)||(U5(this)?a.Bf("docos-edit-doco").qb({id:this.O,text:b,Qqa:this.D,yf:c}):(b={bk:this.O,ABa:this.getId(),text:b,Qqa:this.D,yf:c},a.Bf("docos-edit-reply").qb(b)))}};function elh(a,b){for(var c=0;c<a.Pd.length;++c)P(a.Pd[c],b)}
m.Z4a=function(){var a=ux(this.Ba,"docos-replyview-quote-collapsed");P(this.jb,!a);P(this.Xa,a);this.Fb=!a;a?Bx(this.Ba,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):Bx(this.Ba,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function Ukh(a){!a.Ba||0>=zw(a.Ba).height||(Bx(a.Ba,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<zw(a.Ba).height?(P(a.jb,!0),P(a.Xa,!1),Bx(a.Ba,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.jb,!1),P(a.Xa,!1)),a.Fb=!0)}m.xd=function(){I4.prototype.xd.call(this);O4(M4(this.F),this.Ja)};function Lkh(a){var b=Fkh(a);b?(b=nL(a.ob,b),We(a.Va,b),P(a.Va,!0)):P(a.Va,!1)}
function Fkh(a){var b=T5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=gY(a.dh)&&Nj(gY(a.dh),33)&&b.Jwa()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function Gkh(a){var b=a.Qg;var c=T5(a),d=a.fd();c&&d?(a=c.Mha(),0==a&&L4(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.pC(),c=(d=ggh(d))&&d.getId()!=c.getId(),a=G4(a),b=deh(a,b.C,!0),b=c?(new JA("Reassigned to {user}")).format({user:b}):(new JA("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Mkh(a,b){b=-1==ye(b,!0);if(null===a.Pc||b!=a.Pc)f_e(a.Lf,b),a.Pc=b}
function Nkh(a){var b=Gkh(a);a.Ob&&Cp(a.Ob,b);a.vd&&Cp(a.vd,b)}function Okh(a){if(a.C.Db)for(var b=cp("A",a.Ma),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Rf(d,Qo,a.b8b)}}m.b8b=function(a){a_e(this.C.Db,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var Dkh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Ckh=/[\n-\x0B]/g;function flh(a,b){I4.call(this,a,b);this.D=!1;this.F=null}t(flh,I4);flh.prototype.Ca=function(){var a=this.oa();this.pb(fy(uhh,{},void 0,a));this.F=a.eb("docos-showrepliesbutton-collapsed",this.getElement())};flh.prototype.setVisible=function(a){a!=this.D&&this.tb()&&(P(this.getElement(),a),this.D=a)};flh.prototype.isVisible=g("D");function W5(a,b,c,d,e){P5.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new ykh(a,b,this.Lk(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Lc=u(this.OSb,this);this.Pc=Hgh(a);this.Ja="docos-docoview-input-pane";this.Ob="";this.vd=this.Fb=this.jd=null;this.rb=!1;this.J=null;this.cb=new t5;Xfh(this.C)&&(a=new oA(this),this.qa(a),a.xj("up",38),a.xj("down",40),this.getHandler().listen(a,"shortcut",this.$vb))}t(W5,P5);
function glh(a){if(!a.D){a.D=new ijh(a.getContext(),a.oa(),a);a.qa(a.D);var b=hlh(a);a.D.xa=b;a.D.Ce("Reply");a.GCa();a.getElement()&&ilh(a)}}m=W5.prototype;m.$vb=function(a){switch(a.identifier){case "down":a=jlh(this);var b=klh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=jlh(this),b=klh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function jlh(a){var b=l5(a.fd(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function klh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Pp(e);if(d==f||e.contains(d,f))return c}return-1}
function ilh(a){var b=a.oa(),c=zhh(a.cb);c=fy(whh,{Ee:a.Ja,lLa:"",Roa:a.Ob,nK:"",vj:a.C.vj(),fD:a.C.Ea,gH:c,hH:Ufh(a.C),Ev:$4(a.C)});var d=a.getElement(),e=b.eb("docos-input-pane-placeholder",d);b.YC(c,e);a.D.Wa(c);a.D.Ba=d}m.GCa=function(){this.D&&K4(K4(K4(K4(K4(K4(this,this.D,"p",this.TSb),this.D,"c",this.RSb),this.D,"b",this.QSb),this.D,"e",this.SSb),this.D,"s",this.HZ),this.D,"f",this.TRb)};
m.Ca=function(){P5.prototype.Ca.call(this);var a=this.getElement(),b=this.oa();this.D&&ilh(this);mx(a,"listitem");this.Fb=b.eb("docos-docoview-replycontainer",a);this.jd=b.eb("docos-docoview-rootreply",a);this.C.fH()&&(this.vd=b.eb("docos-root-new-tag",a));this.F.render(this.jd);llh(this)};m.Ia=function(){P5.prototype.Ia.call(this);K4(this,this.getElement(),["keydown","keypress","keyup"],this.PSb);if(this.D){var a=this.getElement();this.D.Ba=a}Dp(this.getElement(),!0)};m.wb=g("Fb");
m.Hc=function(a){P5.prototype.Hc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&$fh(b.L,a);b.R&&b.R.kWa(a)}};m.iWa=function(a){if(!ux(a.target,"docos-noclick")){var b=P4(this.getContext()),c=C4(B4(this.getId()),this.fb);b.Bf("docos-before-highlight-doco").qb(D4(c));S5(N4(this.R),this.getId());b.Bf("docos-highlight-doco").qb(D4(Rdh(c)));this.ma=!0;this.l_a(a)}};m.l_a=ba();
m.PSb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&$$a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&Hfh(this.C.D)&&this.ma&&(glh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.M3a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.fd().Uj())this.Lc("suggestion");else if(b){var c=function(){return a.Lc("discussion")};this.C.ob?(0,this.C.jb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):rkh(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function llh(a){for(var b=l5(a.fd()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new ykh(a.getContext(),a.getId(),a.Lk(),a.oa(),a,e);a.Hf(f,Qw(a,c)+1,!0);c=a.H[e]=f}}}m.TSb=function(){if(this.D){var a=this.D.getValue(),b=Zih(this.D.H);b=b?Xeh(b):void 0;if(!Ld(a)){var c=p5(N4(this.getContext()),this.getId());this.dispatchEvent(new Ajh("sr",this.getId(),k5(this.fd()),c,a,void 0,b,this.Lk()))}}};
m.RSb=function(){var a=h5(g5(f5(new e5,43012),this.fd().getId()),k5(this.fd()));this.Lk()||(a.C=105);o5(this.Pc,i5(a))};m.QSb=function(){this.ql()&&(this.ma=!0)};m.SSb=function(){this.ql()&&(this.ma=!0)};m.G5a=function(){var a=N4(this.getContext()),b=this.fd().getId();a=a.H.has(b)?a.H.get(b):new Set;var c=this.F;b=a.has(b);c.Qa&&P(c.Qa,b);for(var d in this.H)b=this.H[d],c=a.has(d),b.Qa&&P(b.Qa,c)};
m.TRb=function(){if(zhh(this.cb)||yhh(this.cb)&&null==oeh(this)){var a=h5(g5(f5(new e5,43095),this.fd().getId()),k5(this.fd()));this.Lk()||(a.C=105);o5(this.Pc,i5(a))}};m.focus=function(){glh(this);var a=this.ql();a&&Cw(this.getElement())&&Hfh(this.C.D)&&(this.ma=!0);if(a){var b=this.oa();a=Pp(b);(Af&&!a||!b.contains(this.getElement(),a))&&cq(function(){this.tb()&&!b.contains(this.getElement(),Pp(b))&&this.getElement().focus()},0,this)}};
function mlh(a){var b=a.fd();if(b){var c=null,d;b:{for(d=Qw(a,a.F);d<a.mc();d++){var e=a.Ac(d);if((e=e==a.J?null:e)&&2==(zkh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.mc();d++)if(e=a.Ac(d),e=e==a.J?null:e){if(2!=(zkh(e)||b).getOrigin())break;P(e.Va,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Va,!0)}}
m.update=function(){var a=this.fd();this.F.update();this.Ce(a.kx(),L4(a)||void 0);llh(this);for(var b in this.H){var c=this.H[b];a5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.rb&&(this.rb=a.isResolved(),glh(this),this.rb?(this.D.xa="Adding a comment will re-open this discussion...",this.D.Ce("Adding a comment will re-open this discussion")):(b=hlh(this),this.D.xa=b,this.D.Ce("Reply")),!a.isResolved()&&Q5(this.D)||this.D.reset(!0));Chh(this);!this.ql()&&
this.D&&this.D.blur();mlh(this);a=this.Sa;b=this.getElement();a.C&&b&&a.F&&(Aw(b).contains(new Wm(a.H,a.J))||phh(a,!1))};m.OSb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");P4(this.getContext()).Bf("docos-delete-doco").qb({xn:k5(this.fd()),bk:this.getId(),Yp:p5(N4(this.getContext()),this.getId()),OT:a,yf:0==this.Lk()?105:null});return!0};function hlh(a){return yhh(a.cb)?"Reply or add others with @":"Reply..."}
function nlh(a){var b=P4(a.getContext()),c=a.Lk()?null:105;b.Bf("docos-resolve-doco").qb(new ieh(a.getId(),!1,null,c))}function oeh(a){return a.D&&Q5(a.D)?a.D.getValue():null}function olh(a){var b=a.getContext(),c=a.fd();c&&q5(Hgh(b),d5(c5(b5(43045),c)));a=a.getId();P4(b).Bf("docos-speak-doco").qb(a)}m.lCa=ba();m.Ka=function(){P5.prototype.Ka.call(this);this.J&&delete this.J;delete this.Fb;delete this.H;delete this.D};function plh(a,b,c,d,e){W5.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Ea=new jeh(a,d,b,this);this.Ma=this.ob=this.Ra=null;this.Va=new oA(this);this.qa(this.Va);b=this.Va;b.xj("backToDocument",85);b.xj("resolve",69);b.xj("blur",27);b.xj("next",74);b.xj("next",st(["N","C"]));b.xj("prev",75);b.xj("prev",st(["P","C"]));b.xj("speakComment",st(["A","C"]));b.xj("reply",82);this.getHandler().listen(this.Va,"shortcut",this.LSb);this.getHandler().listen(this,"rd",this.MSb);this.Xa=!1;this.Ja+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Db=null;z(y(),"docs-edp")&&(this.Db=new ejh(a,d,"unfocused-presenceindicator"));this.Ud="legacy"!=this.C.F;this.Ba=null}t(plh,W5);m=plh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&N4(this.R).O&&this.gB();W5.prototype.setVisible.call(this,a)};m.gB=function(){this.F.gB();for(var a in this.H)this.H[a].gB()};m.Hc=function(a){W5.prototype.Hc.call(this,a);this.Ea&&this.Ea.Hc(a)};m.Lk=ea(!0);m.TS=function(){return this.fd()?k5(this.fd()):null};
m.Ca=function(){W5.prototype.Ca.call(this);var a=this.oa(),b=this.getElement();this.Ra=a.eb("docos-replyview-control",b);this.ob=a.eb("docos-anchoreddocoview-internal",b);this.Ma=a.eb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.fd(),d=!!c&&Gfh(J4(this.getContext()).D,c);zx(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=L4(c))a=a.eb("docos-anchoreddocoview-assigneecontainer",b),this.Ea.render(a),qlh(this,c);this.D&&(a=this.getElement(),
this.D.Ba=a);this.Db&&(a=this.oa().eb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Db.render(a))};m.Ia=function(){W5.prototype.Ia.call(this);var a=this.fd();a&&L4(a)&&this.Hf(this.Ea,Qw(this,this.F));Chh(this);2<=Wd(this.fd().D)&&(a=rlh(this))&&slh(this,a);this.C0(!0);mlh(this);tlh(this);K4(K4(this,this,"show",this.t_a),this,"hide",this.s_a)};
m.xd=function(){var a=this.fd();if(a)if(this.D&&Q5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().zc(this,"show",this.t_a);this.getHandler().zc(this,"hide",this.s_a);W5.prototype.xd.call(this)};m.Jh=function(a){this.oa().Ti(this.getElement(),a)};function ulh(a,b){alh(a.F,b);for(var c in a.H)alh(a.H[c],b)}m.Z8b=function(){var a=new Mdh(this.getId(),this.fb),b=P4(this.getContext());b.Bf("docos-before-highlight-doco").qb(a);S5(N4(this.R),this.getId());b.Bf("docos-highlight-doco").qb(a)};
m.MSb=function(){this.O=null;if(Ehh(this)){var a=this.Ma.scrollHeight>this.Ma.offsetHeight,b=this.getElement();a&&!this.Ba&&b?(this.Ba=new RJ(b),K4(this,this.Ba,"mousewheel",this.vNb)):!a&&this.Ba&&(this.Ba.dispose(),this.Ba=null);a=a?G9a():0;b=this.Ud?282:240;xw(this.getElement(),b+a);xw(this.Ma,b+a)}};m.t_a=function(a){a.target instanceof jz&&(vx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.s_a=function(a){a.target instanceof jz&&(xx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.lCa=function(a){this.Ra&&P(this.Ra,a)};m.Jaa=ea(!0);m.update=function(){W5.prototype.update.call(this);var a=this.ql();this.ql()?this.L||this.C.rb||(this.L=new xB(this.getElement(),this.oa()),this.qa(this.L),yB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Xa&&vlh(this);this.Xa=a;tlh(this);if(a=L4(this.fd()))this.Ea.update(),qlh(this,a);this.V&&this.lBa()};
function tlh(a){var b=a.fd();null!=b.R&&(glh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.C0(!0);mlh(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=rlh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.wb().style.maxHeight="",slh(this,a),this.C0(!0),mlh(this)}};m.GCa=function(){W5.prototype.GCa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.C0,this,!0)),this.getHandler().listen(this.D,"e",this.wQa),this.getHandler().listen(this.D,"f",this.Z8b))};
function rlh(a){var b=J4(a.getContext()).jr;a=Ehh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function slh(a,b){var c=a.getElement(),d=Wd(a.fd().D);if(!(2>d||c.offsetHeight<b)){var e=Qw(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new flh(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Hf(a.J,f+e);var h=a.J;h.F&&Cp(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Ac(l+e).setVisible(!1)}}}
m.lBa=function(){var a=this.Vc();this.V&&this.expand();this.collapse();var b=this.Vc();gn(a,b)||this.dispatchEvent(new O5(this.getId()))};m.C0=function(a){var b=Ehh(this);b&&(glh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.wb().style.maxHeight=b+"px":this.wb().style.maxHeight="",a&&(this.ob.scrollTop=this.ob.scrollHeight))};
m.LSb=function(a){var b=P4(this.getContext());switch(a.identifier){case "backToDocument":b.Bf("docos-back-to-document").qb({bk:this.getId()});break;case "resolve":Qkh(this.F);break;case "blur":this.wQa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":olh(this);break;case "reply":this.D.focus()}};m.wQa=function(){var a=P4(this.getContext());a.Bf("docos-before-highlight-doco").qb(A4());S5(N4(this.R),null);a.Bf("docos-highlight-doco").qb(A4())};
m.focus=function(){W5.prototype.focus.call(this);this.Xa=this.ql();vlh(this)};function vlh(a){glh(a);Q5(a.D)||a.Xa||a.D.reset(!0);a.ql()&&(a.expand(),a.Aha());a.C0(!0);a.dispatchEvent(new O5(a.getId()))}m.mU=function(a){W5.prototype.mU.call(this,a);this.C0(!1)};m.Ka=function(){W5.prototype.Ka.call(this);delete this.Va;delete this.Ra};function qlh(a,b){var c=a.xa;c&&(a=beh(b,a.C),yx(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),vx(c,a))}m.vNb=function(a){this.ql()&&a.stopPropagation()};function wlh(a,b,c,d,e){this.Jt=a;this.bf=void 0===b?null:b;this.kbb=void 0===c?null:c;this.Aja=void 0===d?null:d;this.sjc=void 0===e?!1:e}m=wlh.prototype;m.getNewDocoType=g("Jt");m.getText=g("bf");m.getAssigneeEmail=g("kbb");m.getOriginatingDocoType=g("Aja");m.getWasSmartTodo=g("sjc");function xlh(a,b,c,d){return wlh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(xlh,wlh);function X5(a,b,c,d,e,f,h){P5.call(this,a,b,c,e,f);this.$r=d;this.Ea=this.Va=null;this.D=new ijh(a,this.oa(),this,h);this.Ga(this.D);this.Hc(b)}t(X5,P5);m=X5.prototype;m.Ca=function(){this.Ea=new oA(this.getElement());this.qa(this.Ea);var a=this.Ea;a.xj("backToDocument",85);a.xj("blur",27);a.xj("next",74);a.xj("next",st(["N","C"]));a.xj("prev",75);a.xj("prev",st(["P","C"]));a.xj("reply",82)};
m.Ia=function(){P5.prototype.Ia.call(this);this.getHandler().listen(this.D,"p",this.K_a).listen(this.D,"c",this.Uza).listen(this.D,"s",this.HZ).listen(this.D,"b",this.ISb).listen(this.D,"e",this.Oua).listen(this.D,"f",this.$za);this.getHandler().listen(this.Ea,"shortcut",this.JSb);var a=this.getElement();this.D.Ba=a;this.Va=new xB(this.getElement(),this.oa());this.qa(this.Va);yB(this.Va)};m.zlb=function(a,b,c,d,e){P4(this.getContext()).Bf("docos-convert-doco").qb({bk:a,xn:b,Yp:c,OZa:d,OT:e})};
m.K_a=function(){var a=this.jya()?this.jya().getEmail():void 0,b=this.fd().getNewDocoType()?this.fd().getNewDocoType():void 0,c=this.Zca();var d=this.fd().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new xlh(c,a,b,1==d);c=p5(N4(this.getContext()),this.getId());cq(u(this.zlb,this,this.getId(),this.TS(),c,a,b))};m.ylb=function(a,b,c,d){P4(this.getContext()).Bf("docos-delete-doco").qb({bk:a,xn:b,Yp:c,OT:d})};
m.Uza=function(){var a=p5(N4(this.getContext()),this.getId()),b=this.fd().getNewDocoType()?this.fd().getNewDocoType():void 0;cq(u(this.ylb,this,this.getId(),this.TS(),a,b))};m.TS=g("$r");m.kya=ea(!0);m.iWa=function(a){ylh(this);a.stopPropagation()};function ylh(a){var b=P4(a.getContext()),c=Rdh(C4(B4(a.getId()),a.fb));b.Bf("docos-before-highlight-doco").qb(D4(c));S5(N4(a.R),a.getId());b.Bf("docos-highlight-doco").qb(D4(c))}
m.JSb=function(a){var b=P4(this.getContext());switch(a.identifier){case "backToDocument":b.Bf("docos-back-to-document").qb({bk:this.getId()});break;case "blur":b.Bf("docos-before-highlight-doco").qb(A4());S5(N4(this.R),null);b.Bf("docos-highlight-doco").qb(A4());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){Chh(this);this.Aha()};m.ISb=function(a){this.HZ(a)};
m.Oua=function(){var a=P4(this.getContext());a.Bf("docos-before-highlight-doco").qb(A4());S5(N4(this.R),null);a.Bf("docos-highlight-doco").qb(A4())};m.$za=function(){this.ql()||ylh(this)};m.focus=function(){this.ql()&&(Af?cq(this.Y0a,0,this):this.Y0a())};m.HZ=function(a){var b=Ehh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}P5.prototype.HZ.call(this,a)};
m.Y0a=function(){this.D.ready();var a=this.oa(),b=Pp(a);(Af&&!b||!a.contains(this.getElement(),b))&&cq(function(){this.tb()&&this.getElement().focus()},0,this)};function zlh(a,b,c,d,e,f){X5.call(this,a,b,c,d,e,f);this.H=new t5;yhh(this.H)?this.D.xa="Comment or add others with @":this.D.xa="Reply...";this.L=!1;this.F=this.J=null;this.Ba=Hgh(a)}t(zlh,X5);m=zlh.prototype;
m.Ca=function(){var a=this.oa(),b=this.C.Vg(),c="Unknown"===b.getName(),d=zhh(this.H);c=fy(xhh,{author:b.getName(),ah:b.C,rF:this.C.V&&!c?b.getId():null,ix:!0,Lk:!0,vj:this.C.vj(),fD:this.C.Ea,gH:d,hH:Ufh(this.C),Ev:$4(this.C)},void 0,a);this.pb(c);this.D.Wa(a.eb("docos-docoview-input-pane",c));gy()&&!this.Lk()&&this.D.focus();this.J=a.eb("docos-author",c);this.F=pV(a,"IMG","docos-replyview-avatar",c);d=a.eb("docos-replyview-origin",c);P(d,!1);if(a=a.eb("docos-user-presence",c))if(c=this.C.Fd)a.style.backgroundColor=
c(b.getId());X5.prototype.Ca.call(this)};m.Ia=function(){X5.prototype.Ia.call(this);Chh(this);var a=this.fd().Zx();Ld(a)||this.D.ready(a,!0,!0);a=this.C.Vg();ghh(M4(this.getContext()),this.F,a.D,H4(a))};m.jya=function(){return Zih(this.D.H)};m.Zca=function(){return this.D.getValue()};m.Oua=function(a){Q5(this.D)?this.HZ(a):X5.prototype.Oua.call(this,a)};
m.update=function(){X5.prototype.update.call(this);var a=this.ql();a!=this.L&&(this.ql()||Q5(this.D)?this.dispatchEvent(new O5(this.getId())):this.Uza());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.L=a};m.Lk=ea(!0);m.$za=function(){X5.prototype.$za.call(this);if(zhh(this.H)||yhh(this.H)&&null==(this.D&&Q5(this.D)?this.D.getValue():null)){var a=h5(g5(f5(new e5,43094),this.fd().getId()),k5(this.fd()));o5(this.Ba,i5(a))}};
m.xd=function(){X5.prototype.xd.call(this);P4(this.getContext()).Bf("docos-edit-draft").qb({bk:this.getId(),text:this.Zca(),mHa:this.F})};m.Ka=function(){X5.prototype.Ka.call(this);delete this.J;delete this.F};function Alh(a,b,c,d,e,f){zlh.call(this,a,b,c,d,e,f);this.fd()}t(Alh,zlh);function Blh(a,b,c,d,e,f){zlh.call(this,a,b,c,d,e,f);this.fd()}t(Blh,zlh);Blh.prototype.V=function(a,b,c,d,e,f){this.dispatchEvent(new Ajh("sd",a,b,c,d,e,f,this.Lk()))};Blh.prototype.K_a=function(){var a=p5(N4(this.getContext()),this.getId()),b=Zih(this.D.H);if(null!=b){Nj(this.C.dh,38);var c=Xeh(b)}cq(u(this.V,this,this.getId(),this.TS(),a,this.Zca(),"instant-doco"==this.fd().Jt,c))};Blh.prototype.ma=function(a,b,c,d){P4(a).Bf("docos-cancel-insert-discussion").qb({bk:b,xn:c,Yp:d})};
Blh.prototype.Uza=function(){var a=p5(N4(this.getContext()),this.getId());cq(u(this.ma,this,this.getContext(),this.getId(),this.TS(),a))};function Clh(a,b,c,d,e,f){b=wlh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.od=a||null;return b}t(Clh,wlh);Clh.prototype.getPosition=g("od");function Dlh(a){this.Aja=a}Dlh.prototype.getOriginatingDocoType=g("Aja");function Elh(a,b,c){this.Aja=a;this.wS=b;this.DQb=c;return this}t(Elh,Dlh);Elh.prototype.isTodo=g("wS");Elh.prototype.isWrongAssignee=g("DQb");function Flh(a,b,c,d,e,f){X5.call(this,a,b,c,d,e,f,!0);this.Ma=this.Ja=this.H=this.L=this.ma=this.J=this.F=this.Ra=this.V=this.Ba=null;this.Xa=Hgh(a)}t(Flh,X5);m=Flh.prototype;
m.Ca=function(){var a=this.C,b=this.oa();a=fy(xhh,{Lk:!0,iZ:!0,Icb:!!Nj(a.dh,41),vj:a.vj(),Co:"legacy"!=a.F,Ev:$4(a)},void 0,b);this.pb(a);this.D.Fb=!1;this.D.Wa(b.eb("docos-docoview-input-pane",a));this.Ba=b.eb("docos-input-assign-to-text",a);this.V=b.Fa("docos-smarttodoview-body",a);this.V.id=Nw(this,"body");this.F=b.eb("docos-smarttodoview-feedback",a);this.Ja=b.eb("docos-smarttodoview-showfeedbackdialog-button",a);this.Ma=b.eb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");
c.push("disable");c.push("help");this.H=new Yfh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.H);this.H.Wa(b.Fa("docos-overflowmenu-outer",a));this.F&&(this.J=Glh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=Glh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Ra=Hlh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=Hlh(this,"docos-smarttodoview-feedback-submit"))&&
this.oEa());b=b.Fa("docos-smarttodoview-headertext",a);b.id=Nw(this,"headertext");ox(a,"labelledby",b.id);ox(a,"describedby",this.V.id);X5.prototype.Ca.call(this)};function Glh(a,b,c){var d=a.oa(),e=a.getElement();b=d.eb(b,e);c=d.eb(c,e);e=null;b&&(e=new HQ(!1,d),c&&FQ(e,c),e.Wa(b),a.qa(e));return e}function Hlh(a,b){var c=a.oa();b=c.eb(b,a.getElement());var d=null;b&&(d=new Uz(null,c),d.Wa(b),rx(b,d.Ol()),a.qa(d));return d}
m.Ia=function(){X5.prototype.Ia.call(this);K4(K4(K4(this,this.H,"e",this.bTb),this.H,"i",this.Mvb),this.H,"h",this.Dzb);this.F&&(this.Ja&&this.getHandler().Rf(this.Ja,Qo,this.gKb),this.Ma&&this.getHandler().Rf(this.Ma,Qo,this.GNb),this.J&&K4(this,this.J,"change",this.oEa),this.L&&K4(this,this.L,"change",this.oEa),this.Ra&&K4(this,this.Ra,"action",this.Uxb),this.ma&&K4(this,this.ma,"action",this.aTb));this.D.ready(void 0,void 0,!0);this.update()};
m.Aha=function(){X5.prototype.Aha.call(this);this.xa&&vx(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){X5.prototype.update.call(this);var a=L4(this.fd());a=G4(a);a=deh(a,this.C,!0);a=(new JA("Assign to {user}?")).format({user:a});Cp(this.Ba,a);P(this.Ba,!0);a=nL(new lL(new mL),this.fd().getContent());We(this.V,a);this.resize()};m.Lk=ea(!0);
m.bTb=function(){var a=G4(this.fd().pC()).getEmail();a=new Clh(void 0,"client-integrated-draft",this.fd().Zx(),a,"smart-todo",!0);var b=p5(N4(this.getContext()),this.getId());P4(this.getContext()).Bf("docos-convert-doco").qb({bk:this.getId(),Yp:b,OZa:a,OT:"smart-todo"})};m.Mvb=function(){P4(this.getContext()).Bf("docos-disable-smart-todo-feature").qb()};
m.Dzb=function(){Rw("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});o5(this.Xa,i5(h5(g5(f5(new e5,43029),this.fd().getId()),k5(this.fd()))))};m.gKb=function(){this.F&&P(this.F,!0);o5(this.Xa,i5(h5(g5(f5(new e5,43025),this.fd().getId()),k5(this.fd()))))};m.GNb=function(){P4(this.getContext()).Bf("docos-write-feedback").qb({source:"smart-todo"})};m.Uxb=function(){this.F&&P(this.F,!1);this.focus()};
m.oEa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Pa(a||b)};m.aTb=function(){P4(this.getContext()).Bf("docos-reject-doco-with-feedback").qb({bk:this.getId(),xn:this.TS(),Yp:p5(N4(this.getContext()),this.getId()),OT:"smart-todo",mlb:new Elh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.jya=function(){return L4(this.fd())?G4(L4(this.fd())):null};m.Zca=function(){return this.fd().Zx()};
m.Ka=function(){X5.prototype.Ka.call(this);delete this.Ba;delete this.V;delete this.F;delete this.H;delete this.Ja;delete this.Ma};function Ilh(a,b,c,d){this.C=a;this.H=b;this.gb=c;this.D=d}Ilh.prototype.F=function(a){a=N4(this.C).fd(a);var b=this.H.xk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Blh(this.C,a.getId(),b,k5(a),this.gb,this.D);case "client-integrated-draft":return new Alh(this.C,a.getId(),b,k5(a),this.gb,this.D);case "smart-todo":return new Flh(this.C,a.getId(),b,k5(a),this.gb,this.D);default:return new plh(this.C,a.getId(),b,this.gb,this.D)}};function Jlh(a,b){this.C=a;this.D=b}Jlh.prototype.clone=function(){return new Jlh(this.C,this.D)};Jlh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function Y5(a,b){Uo.call(this);this.gb=b;this.L=a;this.D=null;if(a=Z5(this).L)this.D=new Jlh(a,!0);this.xa=!a;this.Ba=!a;this.ob=this.H=null}v(Y5,Uo);m=Y5.prototype;m.hCa=da("O");m.xk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.ZQ=function(){return[]};m.rr=function(){return this.H?this.H.getId():null};m.gX=function(){return this.H?j5(this.H):null};m.hX=function(){var a=this.rr();return a?this.O.Fc(a):null};
m.oa=g("gb");function Z5(a){return J4(a.L)}m.getContext=g("L");m.cH=function(){return this.xk().getId()};m.Rca=g("D");m.Wka=function(a,b){var c=this.rr();return a||c?b==this.cH()||this.D&&this.D.C==a?!0:!Bhh(this,a):!1};function Bhh(a,b){if(a.rr()==b)return!0;a=a.gX();return!!a&&a==b}
m.yqa=function(a,b,c){if(this.Wka(a,b)){var d=Bhh(this,a)?null:this.H;this.H=N4(this.L).fd(a)||null;var e=d&&a!=d.getId()&&(!j5(d)||a!=j5(d));if(e){var f=this.O.Fc(d.getId());f&&!d.Pq()&&f.update()}d=!d||e;b=b==this.cH()&&(void 0===c||c);a&&(d||b)&&(d&&this.A1a(),(c=this.O.Fc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new Jlh(a,b),d&&this.aAa(a))}};m.A1a=ba();
m.tTa=function(a,b){var c=P4(this.L);c.Bf("docos-before-highlight-doco").qb(a);S5(N4(this.L),b.getId());c.Bf("docos-highlight-doco").qb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==Z5(this).L&&(a=Z5(this).H["highlight-initial-doco"]))&&(b=(new F4("highlight-initial-doco")).addAnchorId(k5(b)).addDocoHandle(p5(N4(this.getContext()),c)).setNonAnchored(!(b.oA()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){Klh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){Klh(this,!1,void 0,a,b,c)};m.kja=ba();m.ija=ba();function Klh(a,b,c,d,e,f){var h=N4(a.L),k=Llh(a,h,b,!!d,!!e);k||!c||e||(k=Llh(a,h,!b,!!d,!1));b=P4(a.L);k&&(a=D4(Rdh(Qdh(Odh(C4(B4(k.getId()),a.cH())),void 0!==f?f:!0))),b.Bf("docos-before-highlight-doco").qb(a),S5(h,k.getId()),b.Bf("docos-highlight-doco").qb(a))}
function Llh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.xk().mc();if(0==h)return null;a:{var k=a.rr();if(k){var l=a.xk();if(k=l.Fc(k)){l=Qw(l,k);break a}}l=-1}0>l&&(l=0,f=a.xk().Ac(l));for(k=l;!f||d&&!Tgh(b,f.fd());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.xk().Ac(l)}return f}
m.aAa=function(a){if(a==Z5(this).L){var b=this.O.Fc(a);b&&b.ql()&&!this.Ba&&(this.Ba=!0,b=Z5(this).H["linked-doco-highlighted"])&&(a=N4(this.L).fd(a),a=Sdh("linked-doco-highlighted").addAnchorId(k5(a)).setUserInitiated(!0).build(),b(a))}};m.oda=function(a){for(var b=this.xk(),c=b.mc(),d=c,e=0;e<c;++e){var f=b.Ac(e);if(f&&0>=this.kW(a,f)){d=e;break}}return d};
function Mlh(a){if(a.O4()){for(var b=a.xk(),c=[],d=b.mc(),e=0;e<d;++e)c.push(b.Ac(e));c.sort(u(a.kW,a));for(e=0;e<d;++e)b.Ac(e)!=c[e]&&b.Hf(c[e],e)}}m.Nz=function(){jhh(M4(this.getContext()))};m.uK=ba();m.Ola=function(a){(a=this.O.Fc(a))&&a.G5a()};m.xqa=function(){for(var a=this.xk().mc(),b=new qdh,c,d=0;d<a;d++)c=this.xk().Ac(d),null!=c&&(c=c.fd(),null!=c&&Cjh(b,c));return rdh(b)};m.cL=ya;m.Jba=re;m.l3=re;m.m3=ba();m.Ka=function(){Y5.Ya.Ka.call(this);this.H=null};
m.wqa=function(a){a=a.EW()||a;a instanceof Y5&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ba=this.Ba)};m.EW=ea(null);m.gCa=da("ob");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof Y5){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ba==a.Ba}else a=!1;return a};function Nlh(a,b){Ho.call(this,a);this.TJa=b}v(Nlh,Ho);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function Olh(a){this.C=[];if(a)a:{if(a instanceof Olh){var b=a.ef();a=a.Ed();if(0>=this.ke()){for(var c=this.C,d=0;d<b.length;d++)c.push(new eY(b[d],a[d]));break a}}else b=Yd(a),a=Xd(a);for(d=0;d<b.length;d++)Plh(this,b[d],a[d])}}function Plh(a,b,c){var d=a.C;d.push(new eY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=Olh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)md(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function Qlh(a){return a.C[0]&&a.C[0].getKey()}m.Ed=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.ef=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Av=function(a){return gd(this.C,function(b){return b.getValue()==a})};m.Wg=function(a){return gd(this.C,function(b){return b.getKey()==a})};m.clone=function(){return new Olh(this)};m.ke=function(){return this.C.length};m.isEmpty=function(){return ld(this.C)};m.clear=function(){md(this.C)};function Rlh(){Olh.call(this)}v(Rlh,Olh);Rlh.prototype.enqueue=function(a,b){Plh(this,a,b)};function $5(a,b){Y5.call(this,a,b);this.V=N4(this.getContext());this.C={};this.R={};this.fb=new Rlh;this.J=new Udh}v($5,Y5);m=$5.prototype;m.ZQ=function(){var a=$5.Ya.ZQ.call(this);a.push("docos-layout-anchored");Z5(this).Vd&&a.push("docos-layout-anchored-shadows");return a};m.Mpa=function(a){return(new Ilh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.HP=function(a){if(this.V.ma(a)){var b=a.getId(),c=p5(this.V,b),d=this.jsa(c,!1);if(d){var e=this.Mpa(a);this.R[c]&&delete this.R[c];c=this.oda(e);if(c<=this.xk().mc()&&-1<c)for(Slh(this,e,d,c);!this.fb.isEmpty()&&Qlh(this.fb)<=this.xk().mc();)e=this.fb.remove(),Slh(this,e.view,e.position,e.index);else this.fb.enqueue(c,new Tlh(e,d,c))}else this.R[c]=a;b=Qdh(B4(b),!a.iZ());a.Uj()||C4(b,this.cH());d&&a.ix()&&Ld(a.Zx())&&(d=P4(this.getContext()),d.Bf("docos-before-highlight-doco").qb(D4(b)),S5(this.V,
a.getId()),d.Bf("docos-highlight-doco").qb(D4(b)));(d=this.Rca())&&d.C==a.getId()&&(Qdh(b,d.D),cq(u(this.tTa,this,D4(b),a),0))}};function Slh(a,b,c,d){var e=Ra();a.xk().Hf(b,d,!0);a.Via(c.x,c.y,b,!1);b=Ra()-e;(a=Z5(a).H["doco-rendered"])&&a(new Tdh("doco-rendered",b))}m.dU=function(a){var b=this.xk().Fc(a);a==this.rr()&&(this.H=null);if(b){var c=this.V.fd(a);c&&c.isResolved()&&b.Lk()&&Z5(this).jd?Ulh(this,a,b):(this.xk().removeChild(b,!0),Tf(b));this.VK(this.C)}};
function Ulh(a,b,c){function d(){q||(q=!0,Tf(c),up(e),vx(h,"docos-resolve-highlight"),cq(function(){xx(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=mw(e),h=Z5(a).jd,k=zw(h),l=zw(e),n=mw(h);n.x+=(k.width-l.width)/2;a.xk().removeChild(c);vx(e,"docos-readonly");c.xd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;Af?Vlh(a,e,f,n,d,b):Wlh(a,e,c.getId(),f,n,d)}
function Wlh(a,b,c,d,e,f){Wdh(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";cq(function(){Oo(b,WEa,f);cq(f,570);vx(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function Vlh(a,b,c,d,e,f){var h=new fB(b,[c.x,c.y],[d.x,d.y],270),k=new Pib(b,270);k.play();Vdh(a.J,f,h,270,function(){Tf(h);Tf(k);e()})}
function Xlh(a){var b=[];a.xk().Ye(function(c){var d=c.fd();null!=d&&null!=k5(d)?(d=p5(this.V,c.fd().getId()),this.jsa(d,!0)||this.R[d]||(this.R[d]=c.fd(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new Nlh("rv",b))}m.Iba=function(a){for(var b=je(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.VK(b)};m.j3=function(a){var b=je(this.C),c;for(c in a)b[c]=a[c];this.VK(b)};m.jsa=function(a){return this.C[a]||null};
m.Jba=function(a){a=Ylh(this,a);return a?(a=a?a.getElement():null)?new Wm(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=Ylh(this,a))?a.getDocoMaxHeight():null};m.vqa=function(a,b){(a=Ylh(this,a))&&a.mU(b)};function Ylh(a,b){return(b=s5(a.V,b))?a.xk().Fc(b.getId()):null}m.Ka=function(){$5.Ya.Ka.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function Tlh(a,b,c){this.bk=a.getId();this.view=a;this.position=b;this.index=c};function Zlh(a,b){$5.call(this,a,b)}t(Zlh,$5);m=Zlh.prototype;m.O4=ea(!1);m.kW=ea(0);m.B0=ba();m.WK=function(){Xlh(this)};m.Nz=function(){$5.prototype.Nz.call(this);this.xk().Ye(function(a){var b=a.fd();b&&null!=k5(b)&&(b=p5(N4(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.Via(b.x,b.y,a,!1))},this)};m.VK=function(a){this.C=a;Xlh(this);for(var b in this.C)(a=this.R[b])&&this.HP(a);this.Nz()};m.Via=function(a,b,c){(c=c.getElement())&&O$a(c,a,b,J4(this.getContext()).wl)};function a6(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Ld(f)?f:null}ta("docos.api.Assignee",a6,void 0);a6.prototype.getToken=g("L");a6.prototype.getToken=a6.prototype.getToken;a6.prototype.getEmail=g("F");a6.prototype.getEmail=a6.prototype.getEmail;a6.prototype.getAffinity=g("D");a6.prototype.getAffinity=a6.prototype.getAffinity;a6.prototype.getMatchingMethod=g("H");a6.prototype.getMatchingMethod=a6.prototype.getMatchingMethod;a6.prototype.O=g("C");
a6.prototype.isMatchedOnEmailUserName=a6.prototype.O;a6.prototype.getName=g("J");a6.prototype.getName=a6.prototype.getName;function $lh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function amh(a,b,c,d){return new a6(a.C,b,d,a.L,a.D,c)}function bmh(a,b){return a.C.toLowerCase().replace(cmh,"")==b?a.D=!0:!1}$lh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&dmh(this,e)){var f=sf(e.getEmail());Ld(f)||c.push(amh(this,f,e.getName(),0))}}a.resolve(c)};
function dmh(a,b){if(b.getEmail())var c=sf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||Gih.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(kd(Fih,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&kd(f,d[h]))&&
1<d[h].length)return!0;return bmh(a,e)}function emh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new $lh(a[d],"full-query",b));return c}function fmh(a,b){for(var c=[],d=0;d<a.length;d++)ud(c,gmh(a[d],b));return c}function gmh(a,b){return Vih(Tih,a).map(function(c){return new $lh(c,"email",b)})}var cmh=/^[@+]|[@+]$/g;function hmh(a){this.zhc=a}hmh.prototype.get=g("zhc");ta("docos.api.AssigneeThenable",hmh,void 0);hmh.prototype.get=hmh.prototype.get;function imh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new om;this.J=d}function jmh(a,b,c){c=void 0===c?!1:c;var d=Zp();a.C.C?kmh(a,b,d,c||!1):xih(a.C).then(u(function(e,f,h){h?kmh(this,e,f,c||!1):f.reject()},a,b,d));return new hmh(d.C)}function kmh(a,b,c,d){var e=Qa(fmh,b,a.D);b=u(a.H,a,Qa(emh,b,a.D),c,function(){return c.resolve(null)},d);a.H(e,c,b,d)}
imh.prototype.H=function(a,b,c,d){a=a();for(var e=[],f=0;f<a.length;f++){var h=a[f];var k=this.C,l=Zp();Ld(h.C)?l.resolve([]):bmh(h,h.J)||h.C.toLowerCase()==h.F?l.resolve([amh(h,h.F,null,Number.MAX_VALUE)]):k.Lo(h.C,5,u(h.O,h,l));h=l.C;ud(e,h)}lmh(this,e,b,c,d)};function lmh(a,b,c,d,e){Yp(b).then(function(f){for(var h=[],k=0;k<f.length;k++){var l=f[k];l.XQ&&l.value&&ud(h,l.value)}ld(h)?d():mmh(a,h,c,e)})}
function mmh(a,b,c,d){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var e=[],f=[],h=0;h<b.length;h++){var k=b[h];k.C?f.push(k):e.push(k.getEmail())}ld(f)?(nmh(a,e),d?omh(a,b,c):a.J(e).then(function(l){return pmh(a,b,c,l)})):omh(a,f,c)}else omh(a,b,c)}function omh(a,b,c){b.sort(Qa(qmh,a.D));c.resolve(b[0])}function nmh(a,b){var c=a.F;iAa(b,c.contains,c)||(a.F.addAll(b),o5(a.L,i5(f5(new e5,43026))))}
function pmh(a,b,c,d){for(var e=[],f={S0:0};f.S0<d.length;f={S0:f.S0},f.S0++){var h=id(b,function(k){return function(l){return l.getEmail()==d[k.S0]}}(f));h&&e.push(h)}ld(e)?c.resolve(null):omh(a,e,c)}function qmh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function rmh(a){this.Kcb=a;return this}t(rmh,y4);rmh.prototype.getCancelAnchorId=g("Kcb");rmh.prototype.getCancelAnchorId=rmh.prototype.getCancelAnchorId;function smh(a,b,c,d,e,f){a=E4.call(this,a,b,c,d,e,f||new y4)||this;a.C=!1;return a}t(smh,E4);smh.prototype.canPreventDefault=ea(!0);smh.prototype.preventDefault=function(){this.C=!0};function tmh(a){return F4.call(this,a)||this}t(tmh,F4);tmh.prototype.build=function(){return new smh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new y4)};function umh(){this.D=!1}umh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};umh.prototype.zk=function(){return!this.D&&(null==this.C||this.C.zk())};function vmh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Zp();this.L=c}v(vmh,A);function xih(a){if(!tse())return Tp(!1);if(a.C)return Tp(!0);if(!a.F){var b=je(Nrf);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Lo(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.R)){var k=new ZSd;h=L(k,1,h);h=Lch(h);c.gp("dacpc",Ra()-a.L,h.sb())}})}return a.H.C}
vmh.prototype.Lo=function(a,b,c,d){var e=this;if(!tse())return new Irf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(ef(a)&&this.F&&this.F.zk()){var k=new umh,l=Ra();this.H.C.then(function(){var n=e.J.R;if(k.zk()){var q=e.D.Lo(h,c);n&&n.gp("dcrdtdr",Ra()-l);k.D||(k.C=q)}else n&&n.gp("dcrdc",Ra()-l)});return k}return this.D.Lo(h,c)};vmh.prototype.Ka=function(){delete this.D};function wmh(a){this.C=a}v(wmh,y4);ta("docos.api.OriginatingDocoTypeArgs",wmh,void 0);wmh.prototype.getOriginatingDocoTypeArgs=g("C");wmh.prototype.getOriginatingDocoTypeArgs=wmh.prototype.getOriginatingDocoTypeArgs;function b6(a,b,c){this.C=c;this.$r=a;this.D=b}v(b6,wmh);ta("docos.api.ConvertDocoArgs",b6,void 0);b6.prototype.getAnchorId=g("$r");b6.prototype.getAnchorId=b6.prototype.getAnchorId;b6.prototype.getNewDocoArgs=g("D");b6.prototype.getNewDocoArgs=b6.prototype.getNewDocoArgs;function c6(a,b,c,d){this.F=a;this.od=void 0!==b?b:null;this.D=void 0==c?-1:c;this.C=d||null}v(c6,y4);c6.prototype.isInstantDoco=g("F");c6.prototype.getPosition=g("od");c6.prototype.getInstantDocoSpacerIndex=g("D");c6.prototype.getEntryPoint=g("C");c6.prototype.isInstantDoco=c6.prototype.isInstantDoco;c6.prototype.getInstantDocoSpacerIndex=c6.prototype.getInstantDocoSpacerIndex;c6.prototype.getEntryPoint=c6.prototype.getEntryPoint;function xmh(a){this.F=a}xmh.prototype.C=function(a,b){return b?(a=this.F.fd(b.bk))?L4(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};xmh.prototype.D=ea(0);function ymh(a,b){this.od=a;this.$r=b;return this}t(ymh,y4);ymh.prototype.getPosition=g("od");ymh.prototype.getAnchorId=g("$r");ymh.prototype.getPosition=ymh.prototype.getPosition;ymh.prototype.getAnchorId=ymh.prototype.getAnchorId;function zmh(a){A.call(this);this.C=a}t(zmh,A);function o5(a,b){var c=J4(a.C).Qa;if(c){var d=new vk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);Amh(a,d,b.D);b.J&&(a=akh(N4(a.C)).C.clone(),ak(d,10,a));a=new Ifh;b.$r&&L(a,1,b.$r);c(b.H,b.F||void 0,d,a)}}
function q5(a,b){var c=J4(a.C).Qa;if(c){var d=b.fd();var e=new vk;var f=d.Ewa();e=L(e,2,f);null!=d.nA()&&(f=$eh(d.nA()).length,L(e,8,f));null!=b.Wy&&(f=b.Wy.Ewa(),L(e,3,f));if(null!=b.aX){var h=b.aX;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new hPd;var k=new dPd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);ak(f,2,h);ak(e,5,f);break;case "suggestion":L(e,4,5);break;
default:L(e,4,0)}}null!=b.C&&L(e,7,b.C);null!=J4(a.C).Ra&&(f=J4(a.C).Ra,ak(e,12,f));null!=J4(a.C).L&&(f=J4(a.C).L==d.getId(),L(e,13,f));f=d.QI();h=L4(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);Amh(a,e,d.getId());b.J&&(a=akh(N4(a.C)).C.clone(),ak(e,10,a));a=new Ifh;d=k5(b.fd());a=L(a,1,d);c(b.H,b.F||void 0,e,a)}}function Amh(a,b,c){a=N4(a.C).R;null!=c&&b.Ig(null!=a&&c==a.getId())}zmh.prototype.Ka=function(){A.prototype.Ka.call(this)};function Bmh(){}Bmh.prototype.C=function(){return["Comment changed"]};Bmh.prototype.D=ea(0);function Cmh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Yp&&a.addDocoHandle(d.Yp),d.xn&&a.addAnchorId(d.xn));return a};function Dmh(a,b){this.C=a;this.aX=b;return this}t(Dmh,wmh);Dmh.prototype.getFeedback=g("aX");ta("docos.api.FeedbackArgs",Dmh,void 0);Dmh.prototype.getFeedback=Dmh.prototype.getFeedback;function Emh(a){this.NT=a;return this}t(Emh,y4);Emh.prototype.isOriginInStreamOrGutter=g("NT");ta("docos.api.HighlightDocoArgs",Emh,void 0);Emh.prototype.isOriginInStreamOrGutter=Emh.prototype.isOriginInStreamOrGutter;function Fmh(a){var b=a.YOb,c=a.Mb,d=a.JPb;a=a.ZOb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function Gmh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=Ey(Dy,0<c.length?c[0]:"docs-instant-button");Gy.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;Jy(this,2,!0)}t(Gmh,Gy);m=Gmh.prototype;m.Ca=function(){var a=this.oa(),b={Mb:!1};b.YOb=this.R.join(" ");ld(this.J)||(b.JPb=this.J.join(" "));ld(this.L)||(b.ZOb=this.L.join(" "));this.pb(fy(Fmh,b,void 0,a))};
function Hmh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.tb()){var h=0>=c;a.isVisible()||h?(Imh(a),Jmh(a,b,d,f),e&&e()):(a.D=new Kmh(b,d,f,e),b=!a.C,h||b||Imh(a),a.C||(a.C=cq(function(){Jmh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Rd;k&&k();a.D=null;a.C=null},c,a)))}}
m.hf=function(a){if(this.tb()){if(void 0===a?0:a)gw(this.getElement(),"top","0px"),vx(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(xx(this.getElement(),"docs-instant-button-visible"),Bw(this.La(),0),this.F=!1);Imh(this)}};m.Yf=function(a){this.isVisible()&&(Gy.prototype.Yf.call(this,a),a.stopPropagation())};m.Vm=function(a){this.isVisible()&&(Gy.prototype.Vm.call(this,a),a.stopPropagation())};m.cS=function(a){this.isVisible()&&a.stopPropagation()};
function Jmh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;xx(a.getElement(),"docs-instant-quick-hide");vx(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function Imh(a){a.C&&(dq(a.C),a.C=null)}m.isVisible=function(){ux(this.getElement(),"docs-instant-button-visible");return this.F};function Kmh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Rd=d}Kmh.prototype.getOpacity=g("C");function Lmh(a,b){I4.call(this,a,b);this.D=null;this.F=a}t(Lmh,I4);Lmh.prototype.Ca=function(){I4.prototype.Ca.call(this);this.D=new Gmh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Wa(this.D.getElement())};
Lmh.prototype.Ia=function(){I4.prototype.Ia.call(this);J4(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||J4(this.F).C.D(this.getElement(),!0);this.D.Ia();K4(this,this.D,"action",this.H)};function Mmh(a,b,c,d){wz(a.D.getElement(),"docos");J4(a.F).C.D(a.getElement(),!1);var e=a.D.H;Hmh(a.D,b,c,d,function(){e!=b&&J4(a.F).C.hf(a.getElement())})}Lmh.prototype.hf=function(a){this.D.isVisible()&&J4(this.F).C.D(this.getElement(),!0);this.D.hf(a)};Lmh.prototype.H=function(){this.hf();this.dispatchEvent("create-draft")};function Nmh(a,b){A.call(this);this.D=a;this.F=J4(a);this.C=b;this.H=new Lz(this);a=P4(this.D);this.H.yb(a.Ta("docos-edit-reply"),ft,this.O8b).yb(a.Ta("docos-delete-reply"),ft,this.x8b).yb(a.Ta("docos-edit-doco"),ft,this.K8b).yb(a.Ta("docos-edit-draft"),ft,this.N8b)}t(Nmh,A);function Omh(a,b,c,d,e,f){return d6(a,u(a.FPb,a,b,c,d,e,void 0===f?!1:f))}m=Nmh.prototype;m.FPb=function(a,b,c,d,e,f,h){if(Pmh(h))return a=Igh(this.C,a,b,c,d,e),f.Xi.callback(a),a;f.Xi.callback(0);return 0};
m.HPb=function(a,b,c,d,e,f){if(Pmh(f))return a=Kgh(this.C,a,b,c,d),e.Xi.callback(a),a;e.Xi.callback(0);return 0};m.EPb=function(a,b,c,d,e,f){if(Pmh(f))return a=Lgh(this.C,a,b,c,d),e.Xi.callback(a),a;e.Xi.callback(0);return 0};function Qmh(a,b){return d6(a,u(a.Acc,a,b))}m.N8b=function(a){var b=this,c=a.data;d6(this,u(this.M8b,this,c.bk,c.text)).addCallback(function(d){d&&c.mHa&&O4(M4(b.D),c.mHa);return d})};m.M8b=function(a,b,c,d){e6(u(this.C.L8b,this.C,a,b),c,d)};
m.Acc=function(a,b,c){e6(u(this.C.Kfb,this.C,a),b,c)};function Rmh(a,b,c,d,e,f,h,k){return d6(a,u(a.gab,a,b,c,d,e,f,h,k))}
m.gab=function(a,b,c,d,e,f,h,k,l){if(Pmh(l)){l=this.C;var n,q;a&&(q=Yjh(N4(l.C),a))&&"instant-doco"==q.Jt&&(n=31);var r=f5(new e5,43009);null!=q&&g5(r,q.getId());null!=n&&(r.C=n);q&&q.ix()&&a!=b&&Mgh(N4(l.C),q.getId());a=uf();n=Ra();q=zfh(vfh(Y4(new X4(a)),n),l.F.Vg());c&&Z4(q,c,n);d&&(c=(new teh).setType("text/plain").setValue(d),ak(q.C,9,c));e&&(ufh(q,e),r.J=e);f&&(yfh(q,f),r.D=f);c=xgh(n5(m5(q),!0),n);b&&(vgh(c,b),h5(r,b));h&&(r.C=h);r5(N4(l.C),c);N4(l.C).flush();o5(l.D,i5(r));o5(l.D,i5(f5(r,e?
43096:f?43101:43102)));b=p5(N4(l.C),a);k.Xi.callback(b);return b}k.Xi.callback(0);return 0};m.K8b=function(a){var b=a.data;d6(this,u(this.$jb,this,b.id,b.text,b.yf)).addCallback(function(c){c||b.Qqa.dispatchEvent("c")})};m.$jb=function(a,b,c,d,e){e6(u(this.C.Zjb,this.C,a,b,c),d,e)};m.x8b=function(a){a=a.data;d6(this,u(this.w8b,this,a.bk,a.ABa,a.yf)).addCallback(ba())};m.w8b=function(a,b,c,d,e){e6(u(this.C.Yeb,this.C,a,b,c),d,e)};
m.O8b=function(a){var b=a.data;d6(this,u(this.bkb,this,b.bk,b.ABa,b.text,b.yf)).addCallback(function(c){c||b.Qqa.dispatchEvent("c")})};m.bkb=function(a,b,c,d,e,f){e6(u(this.C.akb,this.C,a,b,c,d),e,f)};m.hab=function(a,b,c,d,e,f,h){e6(u(this.C.Gfb,this.C,a,b,c,d,e),f,h)};m.njc=function(a,b,c,d){e6(u(this.C.Nfb,this.C,a,b),c,d)};m.ojc=function(a,b,c,d,e){e6(u(this.C.Ofb,this.C,a,b,c),d,e)};m.fdc=function(a,b,c,d,e,f){e6(u(this.C.Lfb,this.C,a,b,c,d),e,f)};
function e6(a,b,c){Pmh(c)?(a(),b.Xi.callback(!0)):b.Xi.callback(!1)}m.Teb=function(a,b,c,d,e){e6(u(this.C.Hfb,this.C,a,b,c),d,e)};m.tic=function(a,b,c){if(Pmh(c))return a=Ngh(this.C,a),b.Xi.callback(a),a;b.Xi.callback(0);return 0};m.Uec=function(a,b,c,d){e6(u(this.C.Mfb,this.C,a,b),c,d)};m.Xeb=function(a,b,c){e6(u(this.C.Jfb,this.C,a),b,c)};m.Veb=function(a,b,c){e6(u(this.C.Ifb,this.C,a),b,c)};function Smh(a,b,c,d){return d6(a,u(a.P$a,a,b,c,d))}
m.P$a=function(a,b,c,d,e){if(Pmh(e)){e=this.C;a=s5(N4(e.C),a);if(Sgh(e,a)){var f=uf();r5(N4(e.C),Ugh(e,a,f,b));c||(c=e.D,b=c5(b5(b?43027:43028),a),b.J=!0,q5(c,d5(b)));b=p5(N4(e.C),a.getId(),f)}else b=0;d.Xi.callback(b);return b}d.Xi.callback(0);return 0};
m.kGa=function(a,b,c,d){if(Pmh(d)){d=this.C;for(var e=[],f=[],h=[],k=0;k<a.length;k++){var l=s5(N4(d.C),a[k]);if(Sgh(d,l)){var n=uf();e.push(Ugh(d,l,n,b));f.push(l.getId());h.push(n)}}Rgh(N4(d.C),e,"c");a=[];for(k=0;k<f.length;k++)a.push(p5(N4(d.C),f[k],h[k]));c.Xi.callback(a);return a}a=[];c.Xi.callback(a);return a};function d6(a,b){var c=new vq,d={Xi:c};(a=a.F.cf)?a(d,b):b(d,"edit-not-intercepted");return c}function Pmh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function Tmh(a,b){A.call(this);this.C=[];this.F=new adh(a);this.D=bdh(this.F,"user");this.J=bdh(this.F,"control");this.Bd=new bq(b||50);this.Bd.start();No(this.Bd,"tick",this.k2a,!1,this);this.J.Ef("setPeerReady_",u(this.Yec,this))}v(Tmh,A);m=Tmh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.k2a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Bd.stop(),a;}};m.Ef=function(a,b,c){this.D.Ef(a,b,c)};m.rJ=function(a){this.D.rJ(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({e0:a,zm:b})};m.Yec=function(a){a?this.Bd.stop():this.Bd.start();if(!this.H){this.H=!0;this.k2a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.e0,b.zm)}this.C=null}};m.Ka=function(){Tf(this.F);Tf(this.Bd);Tmh.Ya.Ka.call(this)};function Umh(a){J(this,a,0,-1,null,null)}v(Umh,I);Umh.prototype.ea=function(){var a=new E;Vmh(this,a);return Y(a)};function Vmh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}Umh.prototype.getId=function(){return K(this,1)};Umh.prototype.Hc=function(a){return L(this,1,a)};function Wmh(a){J(this,a,"u",-1,Xmh,null)}v(Wmh,I);var Xmh=[1,2];Wmh.prototype.ea=function(){var a=new E;var b=Zj(this,U4,1);0<b.length&&Hj(a,1,b,ogh);b=Zj(this,Umh,2);0<b.length&&Hj(a,2,b,Vmh);return Y(a)};Wmh.le="u";function Ymh(a){Uo.call(this);this.C=a;this.Oa=new Vo(this);this.qa(this.Oa);this.Oa.listen(this.C,"u",this.D);this.C.Zd(this)}v(Ymh,Vgh);Ymh.prototype.D=function(a){var b=Mfh(a.zm.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new Wgh("u",new Wmh(b))));a.stopPropagation()};function Zgh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&Ea(n[0])&&d(n[0])});a.C.YJa(b,c?c.Pf():void 0,l,e,f,h,k)};function Zmh(a,b,c){lse.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.qa(this.C);this.C.rJ(u(this.D,this));this.F=b}v(Zmh,lse);Zmh.prototype.send=function(a,b){Ja(b)&&(b=Tm(b));this.C.send(a,{t:this.F,p:b})};Zmh.prototype.D=function(a,b){mse(this,a,b)};Zmh.prototype.qba=function(a,b,c){b=Zmh.Ya.qba.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?Zmh.Ya.qba.call(this,a,b.p,c):null};function $mh(){Uo.call(this)}v($mh,Uo);function anh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Uo.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new Co;this.qa(this.J);Do(this.J,this.H.getStatus().C,function(l){l.D.Mk()&&Ql(l.C)?k.dispatchEvent(new Wgh("r")):l.C.equals(Sza)?k.dispatchEvent(new Wgh("p")):Rl(l.C)&&k.dispatchEvent(new Wgh("e"))});this.F=function(l){l&&k.dispatchEvent(new Wgh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t(anh,$mh);
anh.prototype.XJa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.Fba)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new nNa;var b=this.D.Vg().getId();a.R=b;BMa(a,this.D.Gba,this.O,this.D.uqa);this.C=a;this.C.subscribe("9",this.F)}};
anh.prototype.YJa=function(a,b,c,d,e,f,h){b=b?["p",Tm(b)]:[];bnh(this,b,"/docos/p/"+a,c,d,e,f,h)};function bnh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?FAa(b):void 0;c=fr(a.H.Xe(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.rq();h?Tl(c,h):Tl(c,3);d&&Vl(c,function(n){d(n.Oe())});e&&Ul(c,e,f);k&&hr(c,k);null!=a.L&&(c.Ra=a.L);c.Re()}anh.prototype.Ka=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());$mh.prototype.Ka.call(this)};function cnh(a,b,c){this.seq=dnh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var dnh=1;function enh(a){Uo.call(this);this.C=a;this.C.Ef("recv",u(this.v$b,this),!0);this.C.Ef("recvEvt",u(this.u$b,this),!0);this.D={}}v(enh,$mh);m=enh.prototype;m.v$b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.u$b=function(a){this.dispatchEvent(new Wgh(a.type,a.payload))};m.XJa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.YJa=function(a,b,c,d,e,f,h){a=new cnh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ka=function(){enh.Ya.Ka.call(this);delete this.C};function fnh(a){A.call(this);this.F=a;this.D=this.C=null}t(fnh,A);
function gnh(a){if(a.C)return a.C;var b=J4(a.F),c=b.tqa;if(void 0!==c)return c&&(a.C=new Ymh(c),a.qa(a.C)),a.C;if(b.UJa){var d=Qhd();c=new nMa(new s9b,void 0,void 0,void 0,new aKa,void 0,void 0,aMa(XLa(d)));var e=b.uqa;e&&c.t7(e);var f=b.WJa;f&&wMa(c,f);b.RLa&&fKa(c.D,"anon","true");(f=b.mUa)&&fKa(c.D,"invite",f);f=null;if(b.Fba){f=new nNa;var h=b.Vg().getId();f.R=h;hKa(c.H,f);BMa(f,b.Gba,d,e)}b=new anh(c,!0,["id",b.Gba],f,null!=b.i3?b.i3:6E4,b,d);b.qa(c);a.C=new Ymh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.i0a;if(!b)throw Error("Peer missing.");c={};d=new Em(window.location.href);(e=Pm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Em(b)).toString());d=Qhd();b=(new Em(b)).Nb("ctoken",d).toString();c.pu=b;a.D=mp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new OT(c);kte(b,a.D);b.connect();b=new Tmh(b);c=feh(a.F);b=new Zmh(b,d,c);c=new enh(b);a.C=new Ymh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
fnh.prototype.Ka=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ka.call(this)};function hnh(a,b){this.C=a;this.F=b}hnh.prototype[Cva]=!0;function f6(a,b,c){var d=Ra();b();b=Ra()-d;a.F.gp(c,b)}m=hnh.prototype;m.yqa=function(a,b,c){a=u(this.C.yqa,this.C,a,b,c);f6(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);f6(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);f6(this,a,"dvmhp")};m.WK=function(){var a=u(this.C.WK,this.C);f6(this,a,"dvmla")};
m.Nz=function(){var a=u(this.C.Nz,this.C);f6(this,a,"dvmfl")};m.HP=function(a){a=u(this.C.HP,this.C,a);f6(this,a,"dvmadv")};m.B0=function(a){a=u(this.C.B0,this.C,a);f6(this,a,"dvmudv")};m.dU=function(a){a=u(this.C.dU,this.C,a);f6(this,a,"dvmrdv")};m.xk=function(){return this.C.xk()};m.hCa=function(a){this.C.hCa(a)};m.ZQ=function(){return this.C.ZQ()};m.rr=function(){return this.C.rr()};m.gX=function(){return this.C.gX()};m.hX=function(){return this.C.hX()};m.oa=function(){return this.C.oa()};
m.cH=function(){return this.C.cH()};m.Rca=function(){return this.C.Rca()};m.Wka=function(a,b){return this.C.Wka(a,b)};m.kja=function(){this.C.kja()};m.ija=function(){this.C.ija()};m.kW=function(a,b){return this.C.kW(a,b)};m.uK=function(a,b){this.C.uK(a,b)};m.Ola=function(a){this.C.Ola(a)};m.xqa=function(){return this.C.xqa()};m.cL=function(a){this.C.cL(a)};m.Jba=function(a){return this.C.Jba(a)};m.l3=function(){return this.C.l3()};m.m3=function(a){this.C.m3(a)};m.dispose=function(){this.C.dispose()};
m.isDisposed=function(){return this.C.isDisposed()};m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Nc=function(a,b,c,d){return this.C.Nc(a,b,c,d)};m.zc=function(a,b,c,d){return this.C.zc(a,b,c,d)};m.SU=function(a){return this.C.SU(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.WC=function(a){return this.C.WC(a)};m.wu=function(){return this.C.wu()};m.TQ=function(a,b,c){return this.C.TQ(a,b,c)};m.EL=function(a,b){return this.C.EL(a,b)};
m.aE=function(a,b,c,d){return this.C.aE(a,b,c,d)};m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.EW=function(){return this.C.EW()||this.C};m.wqa=function(a){this.EW().wqa(a)};m.equals=function(a){return this===a};m.gCa=function(a){this.EW().gCa(a)};function inh(a,b){hnh.call(this,a,b);this.D=a}t(inh,hnh);m=inh.prototype;m.Iba=function(a){a=u(this.D.Iba,this.D,a);f6(this,a,"davmddp")};m.j3=function(a){a=u(this.D.j3,this.D,a);f6(this,a,"davmudp")};m.VK=function(a){a=u(this.D.VK,this.D,a);f6(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.vqa=function(a,b){this.D.vqa(a,b)};function jnh(a){J(this,a,0,-1,knh,null)}v(jnh,I);var knh=[1];jnh.prototype.ea=function(){var a=new E;var b=Zj(this,U4,1);0<b.length&&Hj(a,1,b,ogh);b=K(this,2);null!=b&&Cj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Cj(a,4,b);b=K(this,5);null!=b&&a.Ha(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};function lnh(a){J(this,a,"sr",-1,mnh,null)}v(lnh,I);var mnh=[1];lnh.prototype.ea=function(){var a=new E;var b=Zj(this,U4,1);0<b.length&&Hj(a,1,b,ogh);b=K(this,2);null!=b&&Cj(a,2,b);b=K(this,3);null!=b&&Cj(a,3,b);return Y(a)};lnh.le="sr";function nnh(a,b,c){Uo.call(this);this.C=a;this.xa=b;this.V=c||null;this.Oa=new Vo(this);this.qa(this.Oa);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new Lz(this);this.qa(this.ma);this.Oa.listen(this.H,"r",this.t$b).listen(this.H,"u",this.uac).listen(this.H,"e",this.GSb).listen(this.H,"p",this.HSb);this.Oa.listen(N4(a),["dd"],this.FSb).listen(N4(a),"bu",this.ESb)}t(nnh,Uo);
function onh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return pnh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new vq),a.F="in-progress",pnh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function pnh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.hWa(b))}function qnh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Sd(null):d.callback(c)}m=nnh.prototype;
m.hWa=function(a){for(var b=N4(this.C),c=bkh(b),d=[],e=0;e<c.length;e++){d.push(gk(c[e].F));var f=c[e].getId();qd(b.J,f)}b=new jnh;d=ck(b,1,d);this.L&&L(d,2,this.L);J4(this.C).tsa()&&(b=J4(this.C).tsa(),L(d,5,b));Zgh(this.H,"sync",d,u(this.r9b,this),u(this.q9b,this),!1,a?a:void 0)};m.q9b=function(){this.O=!1;qnh(this,!0)};m.GSb=function(){this.dispatchEvent("net-error")};m.HSb=function(){this.dispatchEvent("post-limit-error")};
m.r9b=function(a){a=new lnh(a);var b=this.O;this.O=!1;var c=Ra();if(b){var d=g6(this.xa,"model-loaded");if(d){var e=(new F4("model-loaded")).build();d(e)}}d=N4(this.C);try{if(rnh(this,a,b),this.L=K(a,2),dkh(d))cq(u(this.hWa,this));else{var f=Ra()-c;qnh(this,!1,b?f:void 0);this.V&&this.V.gp("dscat",f)}}catch(h){throw cq(function(){throw h;}),h;}};
function rnh(a,b,c){var d=N4(a.C),e=$jh(d),f=Zj(b,U4,1);b=0<f.length;var h=N4(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=gk(l.value);var n=T4(l),q=Vjh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=N4(r.C);n=T4(l);delete e[q.getId()];var x=q.getId();if(kd(w.J,x))n=!1;else{x=q.getId();if(x=kd(w.Ma,x)){if(q.Pq()){snh(r,q);n=!1;break a}r=q.getId();qd(w.Ma,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=je(q.D);w=ja(R4(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(tnh(gk(q[x.value].C)));q=R4(n);ck(n,8,sd(q,w));n=!0}}n&&k.push(new ugh(l))}Rgh(h,k,"n");h=ja(bkh(d));for(k=h.next();!k.done;k=h.next())k=k.value,k.Pq()&&void 0===k.C.C.getId()&&snh(a,k);if(c){h=ja(Object.keys(e));for(k=h.next();!k.done;k=h.next())k=e[k.value],sgh(k)||void 0===k.C.C.getId()&&!k.Pq()||(b=!0,k=gk(k.F),T4(k),f=T4(k),ck(f,8,[]),l=Ra(),L(f,13,l),L(f,12,!1),
L(k,9,!1),r5(d,new ugh(k),"n"));if(J4(a.C).fH()&&(a=N4(a.C),e=a.L.Yj)){h=$jh(a);for(var F in h){k=h[F];f=[];if(l=k)l=k.isResolved(),n=k.Uj()&&!!tgh(k),l=!(l||n);if(l){if(l=k.Lu())l=k.Lu().getTime()>e;if(l)f.push(F),f.push.apply(f,ka(Object.keys(je(k.D)))),ckh(a,F,f);else{l=l5(k);for(n=0;n<l.length;n++){q=l[n].getId();if(w=a5(k,q))w=a5(k,q).Lu().getTime()>e;w&&f.push(q)}0!=f.length&&ckh(a,F,f)}}}Zjh(a)}}b&&d.flush(c)}
function snh(a,b){a=N4(a.C);var c=gk(b.F),d=T4(c);L(c,9,!1);L(d,12,!1);b=b.getId();qd(a.J,b);r5(a,new ugh(c),"n")}function tnh(a){var b=Ra();L(a,13,b);L(a,12,!1);return a}m.t$b=function(){var a=12E4*Math.random();null!==this.R&&dq(this.R);this.R=cq(function(){onh(this,J4(this.C).$fa?1:void 0)},a,this)};
m.uac=function(a){if(a.zm){var b=a.zm;a=N4(this.C);var c=0;b=Zj(b,U4,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=gk(d.value);var e=T4(d);e=Vjh(a,e.getId(),K(e,11));e&&e.sS()||(r5(a,new ugh(d),"n"),c++)}0<c&&N4(this.C).flush()}};m.FSb=function(a){"n"!=a.getSource()&&Ujh(N4(this.C))&&onh(this)};m.ESb=function(a){"n"!=a.source&&Ujh(N4(this.C))&&onh(this)};m.Ka=function(){Uo.prototype.Ka.call(this);delete this.C;delete this.Oa;delete this.ma};function unh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.Oa=new Vo(this);this.qa(this.Oa);this.C=null;this.O=!1;this.J=null}t(unh,A);function vnh(a){if(!Wch(a.H,"netIo"))return!1;a.C=new nnh(a.H,a.F,a.D.R||void 0);a.qa(a.C);a.Oa.listen(a.C,"net-error",a.V);a.Oa.listen(a.C,"post-limit-error",a.R);return!0}unh.prototype.V=function(){wnh(this.F,"fe")};unh.prototype.R=function(){wnh(this.F,"p")};function xnh(a){a.O=!0;a.J=Ra();yq(onh(a.C,a.D.sD?1:void 0).addCallback(a.L,a),a.ma,a)}
function ynh(a){if(Qfh(a.D)){var b=a.C.D;b?b.addCallback(function(){return znh(a)}):znh(a)}}unh.prototype.L=function(a){var b=this.D.R;b&&b.ECa(akh(N4(this.H)).C.clone().sb());if(b=g6(this.F,"sync-success")){var c=(new F4("sync-success")).build();b(c)}(b=g6(this.F,"initial-anchored-render-done"))&&null!==a&&b(new Tdh("initial-anchored-render-done",a));(a=g6(this.F,"initial-sync-and-render-complete"))&&a(new Tdh("initial-sync-and-render-complete",Ra()-this.J));wnh(this.F,"s");wnh(this.F,"r")};
unh.prototype.ma=function(){var a=g6(this.F,"sync-error");if(a){var b=(new F4("sync-error")).build();a(b)}wnh(this.F,"e")};function znh(a){a.C.L=null;onh(a.C,a.D.$fa?1:void 0)};function Anh(){}Anh.prototype.C=function(a,b){return b?b.Y1?["Action item created"]:["Comment created"]:[]};Anh.prototype.D=ea(0);function Bnh(){}Bnh.prototype.C=function(){return["Reply added"]};Bnh.prototype.D=ea(0);function Cnh(a){var b=a.Aab,c=a.ePb,d=a.p7b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function Dnh(a){UV.call(this);this.V=a;this.Ja=J4(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(Dnh,UV);m=Dnh.prototype;
m.Ca=function(){UV.prototype.Ca.call(this);vx(Ox(this),"docos");var a=Pa(Ox(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;dy(this.wb(),Cnh,{Aab:this.O,ePb:this.R,p7b:this.ma});cy(this,"ok");a=this.Ja.cb;null!==a&&(gw(this.Jq(),"z-index",a),gw(Ox(this),"z-index",a+1))};
m.Ia=function(){UV.prototype.Ia.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Ux(this.D,"ok");No(this.F,"click",u(this.iEa,this));No(this.H,"click",u(this.iEa,this));No(this.L,"click",u(this.iEa,this))};
m.update=function(){this.xa.disabled=!0;Enh(mhh(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.NBa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}Fnh(mhh(this.V),a)};m.iEa=function(){var a=this;Enh(mhh(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.xd=function(){To(this.F);To(this.H);To(this.L)};m.Ka=function(){UV.prototype.Ka.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function Gnh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}ta("docos.api.StorageUpdate",Gnh,void 0);function Hnh(a,b){if(a){b||a.unshift(void 0);Inh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),Jnh(c[2],b),Hnh(c[3],b),b&&c.shift());b&&a.shift()}}function Jnh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Inh(a,b){if(a){b||a.unshift(void 0);Jnh(a[3],b);Jnh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Inh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function Knh(a){A.call(this);this.D=a;this.C=J4(a).Ob;this.H=[];this.F=[];J4(a).vd||(this.Oa=new Vo(this),this.qa(this.Oa),this.Oa.listen(N4(a),["f","dd"],this.Qfb).listen(N4(a),"bu",this.Pfb))}v(Knh,A);m=Knh.prototype;m.Qfb=function(a){if("o"!=a.getSource()&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=td(this.H);var b=td(this.F);this.C.c6a(a,b,u(this.HNb,this,a),u(this.FNb,this,b));this.H=[];this.F=[]}}else Lnh(this,a.type,a.C,a.L)};
m.Pfb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,Lnh(this,a.type,c.bk,c.C)};function Lnh(a,b,c,d){if(c){var e;"bu"==b?e=N4(a.D).fd(c):e=N4(a.D).F[c];(b=e)&&b.Pq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!sgh(b)&&(e=gk(b.F).Pf(),e=ke(e),Hnh(e,!1),b=new Gnh(c,e,b.sS()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.HNb=function(a){for(var b=0;b<a.length;b++);};
m.FNb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);Mnh(this,d,c)};m.pAb=function(a,b){if(0<b.length){for(var c=N4(this.D),d=0;d<b.length;d++){Ea(b[d]);var e=ke(b[d]);Hnh(e,!0);e=new U4(e);r5(c,new ugh(e),"o")}c.flush(!0)}a()};m.oAb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);Mnh(this,d,c);a()};
function Mnh(a,b,c){if(a=feh(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ka=function(){Knh.Ya.Ka.call(this);delete this.D;delete this.Oa;delete this.C};function Nnh(a,b){var c=new dsf(new Srf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));fsf(c,b);b=c.D;a=null!=K(a.dh,50)?K(a.dh,50):4;L(b,5,Onh(a));return vvf(c)}function Onh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function Pnh(a,b){this.F=a;this.D=b;this.H=J4(this.D);this.C=null};function Qnh(a){this.F=a}Qnh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.fd(b.C))?L4(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};Qnh.prototype.D=ea(0);function Rnh(a,b){this.F=a;this.H=N4(this.F);this.J=b}Rnh.prototype.C=function(a,b){var c=this.H.fd(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.ix())return["Draft comment"];b=[];c=l5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Uj()){var h=this.J;var k=f.M4();null==k?h="":(h=h(k).C(),h=null==h?"":dBd(h,TAd.getInstance()))}else h=f.Zx();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(H4(f.kx())+(" on "+a.format(qfh(f)))));b.push(h+f)}return b};
Rnh.prototype.D=ea(0);function Snh(a){this.tfc=a;return this}t(Snh,y4);Snh.prototype.shouldOverrideHide=g("tfc");Snh.prototype.shouldOverrideHide=Snh.prototype.shouldOverrideHide;function Tnh(a){this.C=a}v(Tnh,y4);ta("docos.api.ToggleShowStreamPaneArgs",Tnh,void 0);Tnh.prototype.getDisplay=g("C");Tnh.prototype.getDisplay=Tnh.prototype.getDisplay;function Unh(a){oA.call(this,a);this.xj("back-to-document",[85]);this.xj("next-doco",[74]);this.xj("prev-doco",[75]);this.xj("prev-anch",[75,1]);this.xj("next-anch",[74,1]);this.xj("resolve",[69]);this.xj("reopen",[69,1]);this.xj("reply",[82]);this.xj("speak-comment",st(["A","C"]));this.addEventListener("shortcut",this.Ea)}t(Unh,oA);Unh.prototype.Ea=function(a){this.dispatchEvent(a.identifier)};function Vnh(a,b){var c=a.UK,d=a.d7b,e=a.Ebb,f=a.Dbb,h=a.Co,k=a.A3,l='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';l+=bx("Comment history box.");var n='"><div class="'+T("docos-streampane-content")+'">';d?(b='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',a=a={Co:h},d="",a.Co?(d+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',d+="Comment</div></div>"):(d+='<div class="'+T("docs-material")+'">'+R(Xdh({Ri:"docos-icon-add-comment",eC:"docos-icon-add-comment-size",Ee:"docos-new-comment-icon",vS:!0})),d+="Comment</div>"),a=S(d),b=b+R(a)+"</div>",c?(c='<div class="'+T("docos-notification-settings")+'">',h=h={Co:h},h=h.Co,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(Xdh({Ri:"docos-icon-bell",eC:"docos-icon-bell-size",Ee:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=c+R(h)+"</div>"):h="",k=b+h+(k?'<div class="'+T("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=a.rD,k=a.UK,c=a.fD,a=a.Ev,h='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(Ydh({size:48,Ee:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+
'"><div class="'+T("docos-streampane-username")+" "+T("goog-inline-block")+'">'+R(h)+"</div>"+R(whh({Ee:"docos-streampane-input-pane",zgc:!0,fD:c,Ev:a},b)),k&&(h+='<div class="'+T("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=S(h+"</div></div>"));l+=n+k;e&&(l+='<div class="'+T("docos-streampane-bannertext")+'">'+R(e),f&&(l+='<a target="_blank" rel="noreferrer" href="'+T(cx(f))+'" class="'+T("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+" "+T("goog-inline-block")+'">';return S(l+"You do not have permission to add comments.</div></div></div>")}function Wnh(a){a=a.message;return S('<div class="'+T("docos-streampane-error")+'">'+R(a)+"</div>")};function Xnh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+Ynh({lr:"spinner-blue"})+Ynh({lr:"spinner-red"})+Ynh({lr:"spinner-yellow"})+Ynh({lr:"spinner-green"})+"</div></div>")}
function Ynh(a){a=a.lr;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function Znh(a,b){I4.call(this,a,b);this.D=null}t(Znh,I4);Znh.prototype.Ca=function(){var a=this.oa();this.D=fy(Xnh,{},void 0,a);this.pb(this.D)};Znh.prototype.hf=function(){this.D.parentElement.removeChild(this.D)};Znh.prototype.Ka=function(){delete this.D};function $nh(a,b){Vo.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=P4(this.O);this.Kg=null;this.R=new oA(this.C.oa().Hb());this.R.xj("blur",27);this.V=new Lz(this);this.qa(this.V);this.V.yb(this.J.Ta("docos-new-doco"),ft,this.vSb).yb(this.J.Ta("docos-highlight-doco"),ft,this.uSb);this.listen(this.C,"bd",this.tSb).listen(this.C,"br",this.wSb)}t($nh,Vo);
function aoh(a){0==a.D&&0<a.C.mc()&&(a.D=boh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.mc();c++)boh(a,c)==a.D&&(b=c);coh(a);h6(a.C,!1);b=a.C.Ac(b).getId();b=new Mdh(b,a.C.getId());a.J.Bf("docos-before-highlight-doco").qb(b);a.J.Bf("docos-highlight-doco").qb(b)}}function coh(a){a.Kg||(a.Kg=new Fx(a.C.oa().Hb()),a.qa(a.Kg));a.listen(a.Kg,"focusin",a.z_a).listen(a.R,"shortcut",a.vQa)}m=$nh.prototype;
m.z_a=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,doh(this,!0),h6(this.C,!0),this.zc(this.Kg,"focusin",this.z_a).zc(this.R,"shortcut",this.vQa),a=A4(),this.J.Bf("docos-before-highlight-doco").qb(a),this.J.Bf("docos-highlight-doco").qb(a))};m.vQa=function(){h6(this.C,!1);doh(this,!1)};
m.uSb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Fc(a)){if(this.D=p5(N4(this.O),b.C),b.D==this.C.getId()){coh(this);doh(this,!1);a instanceof plh&&(a.Jh(!0),ulh(a,!0));h6(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof plh)a:if(glh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.V.focus();else{b=l5(a.fd(),!1);for(var c=b.length-1;0<=c;c--)if(blh(a.H[b[c].getId()]))break a;blh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,h6(this.C,!0),doh(this,!0)};
m.vSb=function(a){a=a.data;var b=s5(N4(this.O),a.Yp);if(b){for(var c=0;c<this.C.mc();c++)if(b.getId()==this.C.Ac(c).getId()){this.D=a.Yp;break}this.F=!0;h6(this.C,!1,!0);doh(this,!1)}};m.tSb=function(){eoh(this)};m.wSb=function(){N4(this.O).xa||eoh(this)};function eoh(a){if(1==a.C.mc())a.D=0,h6(a.C,!1);else{for(var b=0,c=0;c<a.C.mc();c++)if(boh(a,c)==a.D){b=c;break}b==a.C.mc()-1?b--:b++;a.D=boh(a,b);a.F=!0;h6(a.C,!1,!0);doh(a,!1)}}
function doh(a,b){for(var c=J9a(a.C),d=0;d<c.length;d++){var e=a.C.Fc(c[d]);e instanceof plh&&(e.Jh(b),ulh(e,b))}}function boh(a,b){return p5(N4(a.O),a.C.Ac(b).getId())};function foh(a,b,c,d){this.D=a;this.H=b;this.C=c||null;this.F=d||null};function goh(a,b,c,d){I4.call(this,a,d);this.Ja=c;this.context=a;this.D=b;this.D.hCa(this);this.O={};this.J=[];this.H=[];this.Ba=!1;this.ma=this.F=this.R=null;this.xa=new Lz(this);this.qa(this.xa);a=N4(this.context);this.getHandler().listen(a,"bu",this.W7b).listen(a,"dd",this.y8b).listen(a,"f",this.X8b).listen(a,"sd",this.C$b).listen(a,"ud",this.rac).listen(b,"rv",this.Gcc).listen(this,"ra",this.n$b).listen(this,"sd",this.T$b).listen(this,"sr",this.U$b).listen(this,"sn",this.D$b).listen(this,"sp",
this.E$b).listen(this,"bd",this.X7b).listen(this,"ar",this.J7b).listen(this,"ph",this.p9b);heh(this)}v(goh,I4);m=goh.prototype;
m.Ia=function(){goh.Ya.Ia.call(this);wz(this.getElement(),"docos");wx(this.getElement(),["docos","docos-stream-view"]);mx(this.getElement(),"list");Rfh(this.C)?vx(this.getElement(),"docos-stream-view-height"):(vx(this.getElement(),"docos-stream-view-legacy"),vx(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&vx(this.getElement(),"docs-gm");wx(this.wb(),this.D.ZQ());this.getHandler().listen(this,"rd",this.Wfb);var a=P4(this.context);this.xa.yb(a.Ta("docos-highlight-doco"),
ft,this.nja);J4(this.context).rb&&ux(this.getElement(),"docos-layout-vertical")&&(this.R=new $nh(this.context,this),this.F=this.ib.createElement("DIV"),vx(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.Sy).listen(this.F,"focus",this.G$b),hoh(this).appendChild(this.F),this.ma=new nB);this.qGa()};m.ZJa=ea(!0);m.Yaa=function(){this.D.WK();ioh(this);this.D.cL(!0);this.dispatchEvent("ail")};m.Sy=function(){aoh(this.R)};m.G$b=function(){var a=this.R;a.H=!0;aoh(a)};
m.qGa=function(){var a=N4(this.context);if(Wd(a.C)){this.D.cL(!1);a=je(a.C);for(var b in a)joh(this,b);this.D.uK();this.Yaa()}};m.gB=function(a,b){for(var c=this.mc()-1;0<=c;--c){var d=this.Ac(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.gB()}};
m.nja=function(a){var b=a.data;a=b.C;var c=b.D;b=b.H;if(!this.context.V&&this.D.Wka(a,c)){if(this.ma&&a&&this.D.rr()!=a){var d=this.mc();d="Comment "+(Qw(this,this.Fc(a))+1+(" of "+(d+" ")));oB(this.ma,d)}this.dispatchEvent("us");this.D.yqa(a,c,b);ioh(this);this.dispatchEvent("ud")}};m.W7b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.bk;c=c.C;b&&(N4(this.context).fd(b),(c=this.Fc(b)||c&&this.Fc(c))?(c.getId()!=b&&c.Hc(b),this.J.push(b)):this.O[b]=!0)}};m.y8b=function(a){this.H.push(a.C)};
function ioh(a){a.Ba||a.D.Nz()}m.X8b=function(a){this.D.cL(!a.F);this.Ba=!0;for(var b=0;b<this.H.length;++b)koh(this,this.H[b]);for(var c in this.O)joh(this,c);ce(this.O)||this.D.uK();for(b=0;b<this.J.length;++b)loh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.WK();this.D.Nz();this.Ba=!1;this.D.cL(!0)};m.Wfb=function(a){this.Fc(a.bk)&&(this.D.B0(a.bk),ioh(this))};m.C$b=function(a){a.C&&this.Fc(a.C)&&this.D.Ola(a.C)};m.rac=function(a){a.C&&this.Fc(a.C)&&this.D.Ola(a.C)};
m.n$b=function(a){var b=N4(this.context).fd(a.bk);if(a=J4(this.context).H.reanchor)b=k5(b),b=Sdh("reanchor").addAnchorId(b).build(),a(b),this.context.V=!0};m.T$b=function(a){var b={text:a.C,xn:a.xn,Yp:a.Yp,egb:a.xn,Y1:a.Y1};a.xn&&J4(this.context).Pc&&(b.quote=(0,J4(this.context).Pc)(a.xn));a.xn&&J4(this.context).Sa&&(b.xn=(0,J4(this.context).Sa)(a.xn));0==a.Lk&&(b.yf=105);P4(this.context).Bf("docos-new-doco").qb(b)};
m.U$b=function(a){var b=N4(this.context).fd(a.bk);if(!b)throw Error(a.bk+" not contained within appropriate stream.");var c=P4(this.context),d=0==a.Lk?105:null;b.isResolved()?c.Bf("docos-resolve-doco").qb(new ieh(a.bk,!1,a.C,d)):c.Bf("docos-new-reply").qb(new foh(a.bk,a.C,a.Y1,d))};m.D$b=function(){this.D.highlightNext()};m.E$b=function(){this.D.highlightPrevious()};m.X7b=function(){this.D.kja()};m.J7b=function(){this.D.ija()};
function joh(a,b){var c=N4(a.context).fd(b);c&&a.Ja(c)&&!a.Fc(b)&&(a.dispatchEvent("us"),a.D.HP(c),a.dispatchEvent("ud"),a.R&&h6(a,!0))}function loh(a,b){a.dispatchEvent("us");var c=a.Fc(b);if(c){var d=N4(a.context).fd(b);d&&a.Ja(d)?(c.update(),a.D.B0(b)):koh(a,b)}a.dispatchEvent("ud")}function koh(a,b){b&&(a.dispatchEvent("us"),a.D.dU(b),a.dispatchEvent("ud"))}m.Gcc=function(a){for(var b=a.TJa.length,c=0;c<b;++c)koh(this,a.TJa[c])};m.k8=function(){for(var a=this.mc(),b=0;b<a;++b)this.Ac(b).k8()};
function hoh(a){return(a=a.getElement())?a.parentElement:null}function h6(a,b,c){if(!b&&!c||0!=a.mc())a.oa().Ti(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Ti(a.F,b))}m.Ka=function(){goh.Ya.Ka.call(this);delete this.xa};m.p9b=function(){var a=this.D.hX();null==a||a.isDisposed()||(a.update(),a.focus())};function moh(a){A.call(this);this.C=[];this.D=!1;this.F=new Gq;this.H=a?!1:!0}t(moh,A);moh.prototype.start=function(){this.H=!0;noh(this)};function noh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Sk(u(a.J,a)))}moh.prototype.J=function(){this.C.shift()();this.D=!1;noh(this)};moh.prototype.Ka=function(){this.F.dispose();A.prototype.Ka.call(this)};function ooh(a,b,c,d){goh.call(this,a,b,c,d);this.Qa=new moh;this.L=[];this.Ma=new Znh(a,d);this.Ea=!1;this.V=null}v(ooh,goh);m=ooh.prototype;m.ZJa=g("Ea");m.Yaa=function(){ooh.Ya.Yaa.call(this);this.Ma.hf();this.Ea=!0;this.V&&this.nja(this.V)};m.uGa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Fc(b)||(joh(this,b),a++)}0==this.L.length?this.Yaa():(a=this.Qa,b=u(this.uGa,this),a.C.push(b),noh(a))};
m.qGa=function(){var a=N4(this.context);if(Wd(a.C)){this.Ma.render(hoh(this));this.D.cL(!1);a=je(a.C);for(var b in a)this.L.push(b);b=this.Qa;a=u(this.uGa,this);b.C.push(a);noh(b)}};m.nja=function(a){this.Ea?ooh.Ya.nja.call(this,a):this.V=a};function poh(a,b,c,d,e){W5.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];J4(a).Lc&&(c=c.concat(["link"]));this.L=new Yfh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);glh(this);this.Ja+=" docos-streamdocoview-input-pane";this.Ob="Discard reply";this.Ba=this.V=this.Ma=this.Va=this.Ra=this.Ea=null}t(poh,W5);m=poh.prototype;
m.Ca=function(){W5.prototype.Ca.call(this);var a=this.oa(),b=this.getElement();this.Ea=a.eb("docos-streamdocoview-inputcontainer",b);this.Ra=a.eb("docos-streamdocoview-reopen-control",b);this.Va=a.eb("docos-streamdocoview-resolve-control",b);this.L.Wa(a.eb("docos-actionmenu-outer",b));rx(this.L.F.La(),"More options");this.Ma=a.eb("docos-author",b);this.V=pV(a,"IMG","docos-streamdocoview-avatar",b);this.Ba=pV(a,"IMG","docos-streamreplyview-avatar",this.Ea);a=this.oa();b=this.getElement();var c=a.eb("docos-docoview-comment",
b);c&&(J4(this.getContext()).C.C(c,"Reply to this comment"),rx(c,"Reply to this comment"));if(c=a.eb("docos-docoview-resolve",b))J4(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),rx(c,"Mark as resolved and hide discussion");if(a=a.eb("docos-docoview-reopen",b))J4(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),rx(a,"Mark as open and return discussion to the document view")};
m.Ia=function(){W5.prototype.Ia.call(this);qoh(this);var a=this.getElement();this.D.Ba=a;K4(K4(K4(K4(this,this.L,"d",this.M3a),this.L,"e",this.I8b),this.L,"r",this.y$b),this.L,"ra",this.p$b);a=this.fd().kx();roh(this,a);soh(this,a);a=J4(this.getContext()).Vg();leh(M4(this.getContext()),this.Ba,a.D,H4(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Ba&&this.C.C.C(this.Ba,a)};m.Hc=function(a){W5.prototype.Hc.call(this,a);this.L&&$fh(this.L,a)};m.Lk=ea(!1);
m.update=function(){W5.prototype.update.call(this);var a=this.fd().kx();roh(this,a);soh(this,a);this.L.update();qoh(this);this.Ea&&(a=!ce(this.H)||Q5(this.D)||this.ql(),P(this.Ea,a))};function roh(a,b){var c=M4(a.getContext()),d=b.D;a.V&&vkh(b,a.fd().getOrigin())&&(d=fhh(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));leh(c,a.V,d,H4(b))}function soh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ma&&a.C.C.C(a.Ma,c),a.V&&a.C.C.C(a.V,c))}
function qoh(a){var b=a.fd();a.Ra&&P(a.Ra,b.isResolved());a.Va&&P(a.Va,!b.isResolved())}m.l_a=function(a){var b=this.getElement();a=a.target;ux(a,"docos-docoview-comment")&&b?this.D.ready():ux(a,"docos-docoview-resolve")&&b?toh(this):ux(a,"docos-docoview-reopen")&&b&&nlh(this)};m.I8b=function(){Zkh(this.F)};m.y$b=function(){this.fd().isResolved()?nlh(this):toh(this)};m.p$b=function(a){this.dispatchEvent(new Ahh("ra",this.fd().getId()));a.stopPropagation()};
function toh(a){var b=P4(a.getContext());a.dispatchEvent("br");var c=new ieh(a.getId(),!0,Q5(a.D)?a.D.getValue():null,105);b.Bf("docos-resolve-doco").qb(c);a.dispatchEvent("ar")}m.k8=function(){var a=this.F;a.Fb&&!a.H.ql()||Ukh(a)};m.xd=function(){W5.prototype.xd.call(this);var a=M4(this.getContext());O4(a,this.V);O4(a,this.Ba)};m.Ka=function(){W5.prototype.Ka.call(this);delete this.L;delete this.Ma;delete this.V;delete this.Ba;delete this.Ea;delete this.Ra;delete this.Va};function uoh(a,b,c,d){this.C=a;this.H=b;this.gb=c;this.D=d}uoh.prototype.F=function(a){a=N4(this.C).fd(a);var b=this.H.xk().getId();switch(a.getNewDocoType()){case "draft":return new Blh(this.C,a.getId(),b,k5(a),this.gb,this.D);default:return new poh(this.C,a.getId(),b,this.gb,this.D)}};function voh(a,b){Y5.call(this,a,b)}v(voh,Y5);m=voh.prototype;m.O4=function(){return"none"!=J4(this.getContext()).fb};m.Mpa=function(a){return(new uoh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.kW=function(a,b){a=a.fd();b=b.fd();if(!a||!b)throw Error("Doco view missing doco.");var c=Z5(this).fb;Z5(this).Vg().getEmail();switch(c){case "creation":c=b.Lu().getTime()-a.Lu().getTime();break;case "priority":c=a.isResolved()||a.Uj()&&!!tgh(a);var d=b.isResolved()||b.Uj()&&!!tgh(a);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=L4(a),c=L4(b),d=$dh(d,Z5(this))?1:0,c=($dh(c,Z5(this))?1:0)-d));c=c||woh(this,a,b)||xoh(a,b);break;default:c=xoh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<
a.getId()?1:0);return c};function xoh(a,b){return b.iR().getTime()-a.iR().getTime()}function woh(a,b,c){a=Z5(a).Vg().getEmail();var d=new Set,e=new Set;l5(b,!0).forEach(function(f){d.add.apply(d,ka(Vih(Uih,f.Zx())))});l5(c,!0).forEach(function(f){e.add.apply(e,ka(Vih(Uih,f.Zx())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.HP=function(a){var b=this.xk(),c=this.Mpa(a),d=0;this.O4()&&(d=this.oda(c));b.Hf(c,d,!0);c.update();if(c=b=this.Rca())b.C!=a.getId()?c=!1:(c=a.oA()?k5(a):void 0,d=J4(this.getContext()).nj,d=null!=c&&d(c),c=null==c||a.isResolved()||!!tgh(a)||d);c&&(b=D4(Qdh(C4(B4(a.getId()),this.cH()),b.D)),this.tTa(b,a))};m.dU=function(a){this.xk().Fc(a)&&(a=this.xk().removeChild(a),Tf(a))};m.B0=function(a){if(this.O4()){var b=this.xk();if(a=b.Fc(a)){var c=Qw(b,a),d=this.oda(a);c!=d&&b.Hf(a,d)}}};
m.kja=function(){Klh(this,!0,!0)};m.ija=function(){if(this.H&&this.rr()){var a=this.rr();S5(N4(this.getContext()),a);this.cH()&&P4(this.getContext()).Bf("docos-highlight-doco").qb(D4(Odh(C4(B4(a),this.cH()))))}};m.WK=function(){Mlh(this)};function yoh(a){a=a||{};var b=a.udc,c=a.vdc,d=a.vcb,e=a.ucb;a=a.Leb;if(Zw(d)||Zw(c)){var f;Zw(a)&&Zw(c)?f='<a href="'+T(cx(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function zoh(a,b){Q.call(this,b);this.C=a}t(zoh,Q);zoh.prototype.Ca=function(){this.pb(fy(yoh,{ucb:K(this.C,4),vcb:this.C.Dl(),Leb:K(this.C,5),udc:K(this.C,2),vdc:K(this.C,1)},void 0,this.oa()))};function Aoh(a,b){I4.call(this,a,b);this.Rc=new jz(b);this.F=a;for(var c in ddh){a=ddh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new mU(d,a,b);this.Rc.Ga(a,!0)}this.D=new pz("",this.Rc,yG.getInstance(),b);qz(this.D,new Dcb(null,9));this.D.qO=!0;this.Ga(this.D)}t(Aoh,I4);m=Aoh.prototype;
m.Ia=function(){I4.prototype.Ia.call(this);var a=this.oa(),b=a.eb("docos-ns-caption",this.getElement());a=a.eb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().Be(a,"Notifications");b=J4(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Rc.mc();a++){var c=this.Rc.Ac(a),d=c.getElement();a:{switch(c.Ua()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}K4(this,this.D,"action",this.mTb);K4(this,this.C,"r",this.lya);K4(this,this.getElement(),"keyup",this.ulb);K4(this,this.Rc,"show",this.lTb);K4(this,this.Rc,"hide",this.kTb);this.lya()};m.lTb=function(){0<this.Rc.mc()&&this.Rc.Qh(0)};m.kTb=function(a){a.stopPropagation()};m.ulb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.mTb=function(a){var b=a.target.Ua(),c=mhh(this.F);b!=Enh(c)&&Fnh(c,b);this.lya();a.stopPropagation()};m.lya=function(){var a=this;!this.C.J&&this.C.UK()?Enh(mhh(this.F)).then(function(b){for(var c=0;c<a.Rc.mc();++c){var d=a.Rc.Ac(c);d.Ib(d.Ua()==b)}b=!a.C.J&&a.C.UK();a.D.Pa(b)},void 0,this):this.D.Pa(!1)};function Boh(a,b,c,d){I4.call(this,a,b);this.F=new voh(a,b);this.qa(this.F);this.D=c?new ooh(a,this.F,hfa(rgh),b):new goh(a,this.F,hfa(rgh),b);this.Ga(this.D);this.J=a;this.Ba=null;this.Ja=!!d;Nj(this.C.dh,30)||(this.H=new ijh(a,b),this.qa(this.H),this.Ga(this.H),this.H.xa="Add a comment");this.V=null;Nj(this.C.dh,30)&&this.C.UK()&&!this.C.ma&&(this.V=new Aoh(a,b),this.Ga(this.V));this.L=null;this.C.A3()&&(this.L=new $T(b),this.Ga(this.L));this.R=null;Nj(this.C.dh,30)&&(this.R=new Uz("",b,"legacy"!=
this.C.F?4:void 0),this.Ga(this.R));this.Ea=new Lz(this);this.qa(this.Ea);this.xa=new zoh(N(this.C.dh,imf,2)||new imf,b);this.Ga(this.xa);this.O="";this.ma=null;heh(this)}v(Boh,I4);m=Boh.prototype;m.I0a=0;m.Oz=null;m.Hba=null;m.DW=null;m.ND=null;m.bH=null;
m.Ca=function(){var a="legacy"!=this.C.F,b=this.oa(),c=fy(Vnh,{rD:this.C.Vg().getName(),UK:this.C.UK(),d7b:!!Nj(this.C.dh,30),fD:this.C.Ea,Ebb:this.C.qz,Dbb:this.C.Ut,Co:a,A3:this.C.A3(),Ev:$4(this.C)},void 0,b);Nj(this.C.dh,30)&&vx(c,"docos-enable-docs-header");a&&vx(c,"docs-gm");this.pb(c);a=b.eb("docos-streampane-content",c);this.D.render(a);this.bH=Nj(this.C.dh,30)?this.D.wb():this.C.O;this.xa.render(c);this.Hba=b.eb("docos-streampane-username",c);this.DW=pV(b,"IMG","docos-streampane-avatar",
c)};
m.Ia=function(){Boh.Ya.Ia.call(this);var a=this.oa(),b=this.getElement();this.H&&this.H.Wa(a.eb("docos-streampane-input-pane",b));if(this.V){var c=a.eb("docos-notification-settings",b);this.V.Wa(c)}c=J4(this.J).C;if(this.L){var d=a.Fa("docos-priority-checkbox",b);this.L.render(d);this.L.Ib(!0);this.L.setContent("For you");K4(this,this.L,"action",this.Vcb);c.C(this.L.La(),"Sort by discussions relevant to me")}this.R&&(a=a.eb("docos-new-comment-button",b),this.R.Wa(a),c.C(a,this.C.Ma?"Add comment not available":"Add a comment"),
K4(this,this.R,"action",this.Rfb),this.F5a(),this.getHandler().listen(this.C,"r",this.F5a));this.C.xa&&(b=this.C.xa,this.H&&(this.H.Ba=b));Dp(b,!0);this.ND=new Unh(b);No(this.ND,"next-doco",this.M9b,!0,this);this.ND.addEventListener("prev-doco",this.e$b,!0,this);No(this.ND,"resolve",u(this.O$a,this),!0);No(this.ND,"reopen",u(this.Vfb,this),!0);No(this.ND,"back-to-document",this.xbb,!0,this);No(this.ND,"speak-comment",this.Kgc,!0,this);b=P4(this.J);a=this.C.Ma?this.i9b:this.Ufb;this.Ea.yb(b.Ta("docos-highlight-doco"),
ft,a);this.H&&K4(this,this.H,"p",this.G7b);K4(K4(K4(K4(K4(K4(K4(K4(this,this.getElement(),"click",this.Sfb),this.D,"f",this.Y8b),this.D,"b",this.$7b),this.D,"e",this.Q8b),this.D,"us",this.S$b),this.D,"ud",this.R$b),this.D,"ail",this.Q$b),this,["aftershow","afterhide"],this.Tfb);b=this.C.Vg();ghh(M4(this.J),this.DW,b.D,H4(b));this.Hba&&(a=b.getName())&&this.C.C.C(this.Hba,a);this.DW&&(a=b.getName())&&this.C.C.C(this.DW,a);this.Ja||(this.Ba=new xB(this.getElement(),this.oa()),this.qa(this.Ba),yB(this.Ba));
Coh(this)};m.Tfb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof vrf;var d=(new F4(b)).setNonAnchored(!0).setApiEventArgs(new Snh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.k8=function(){this.D.k8()};m.Sfb=function(a){ux(a.target,"docos-streampane-notificationslink")&&!this.C.J&&this.dispatchEvent("dnd")};
m.G7b=function(){var a=this.H.getValue();Ld(a)||(P4(this.J).Bf("docos-new-doco").qb({text:a,xn:null,Yp:0,quote:null,yf:105}),this.Oz=null)};m.Y8b=function(a){if(a=a.target)this.Oz=a.getElement()};m.$7b=function(a){Doh(this,a)};m.Q8b=function(a){Doh(this,a)};function Doh(a,b){(b=b.target)&&b.getElement()==a.Oz&&(a.Oz=null)}m.S$b=function(){null!=this.Oz&&(this.I0a=this.Oz.offsetTop)};m.R$b=function(){null!=this.Oz&&this.bH&&(this.bH.scrollTop+=this.Oz.offsetTop-this.I0a)};m.Q$b=function(){this.dispatchEvent("initial-load-complete")};
m.Ufb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.L)&&Eoh(this,a.C||null);if(a=a.C?this.D.Fc(a.C):null)this.Oz=a.getElement()};m.i9b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?N4(this.J).fd(b):null)&&(b=(new F4("toggle-show-stream-pane")).addAnchorId(k5(b)).addDocoHandle(p5(N4(this.J),b.getId())).setNonAnchored(!(b.oA()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new Tnh(!0)).build(),c(b));Eoh(this,a.C||null)};
function Eoh(a,b){(b=b?a.D.Fc(b):null)?(a.Oz=b.getElement(),a.bH&&(a.bH.scrollTop=b.getElement().offsetTop)):a.Oz=null}m.M9b=function(){this.F.highlightNext()};m.e$b=function(){this.F.highlightPrevious()};m.O$a=function(){var a=this.F.hX(),b=this.F.rr();b=b?N4(this.J).fd(b):null;a&&b&&(a=a.F,b.Uj()?Tkh(a):Rkh(a,!0))};m.Vfb=function(){var a=this.F.hX();a&&Rkh(a.F,!1)};m.xbb=function(){var a=P4(this.J),b=this.F.rr();a.Bf("docos-back-to-document").qb({bk:b})};m.Kgc=function(){var a=this.F.hX();a&&olh(a)};
function Coh(a){if(""!=a.O&&!a.ma&&a.tb()){var b=fy(Wnh,{message:a.O});a.ma=new Q;a.ma.Wa(b);a.Hf(a.ma,0)}}m.F5a=function(){this.R.Pa(this.C.Qg)};m.Rfb=function(){this.dispatchEvent({type:"create-draft",yf:105})};m.Vcb=function(){var a=P4(this.J),b=this.L.isChecked();this.bH&&(this.bH.scrollTop=0);a.Bf("docos-update-sort").qb({Ggc:b?"updated":"priority"})};m.xd=function(){Boh.Ya.xd.call(this);O4(M4(this.J),this.DW)};
m.Ka=function(){Boh.Ya.Ka.call(this);delete this.Hba;delete this.DW;delete this.Oz;delete this.bH;delete this.xa;delete this.H;delete this.F;delete this.D;delete this.Ea;this.ND&&(delete this.ND,this.ND=null)};function Foh(a){J(this,a,"gs",-1,null,null)}v(Foh,I);Foh.prototype.ea=function(){var a=new E;var b=this.Fp();null!=b&&a.Aa(1,b,nmf);return Y(a)};Foh.le="gs";Foh.prototype.Fp=function(){return N(this,mmf,1)};function Goh(a){J(this,a,0,-1,null,null)}v(Goh,I);Goh.prototype.ea=function(){var a=new E;var b=this.Fp();null!=b&&a.Aa(1,b,nmf);return Y(a)};Goh.prototype.Fp=function(){return N(this,mmf,1)};function Hoh(a){A.call(this);this.H=a;this.D=this.C=null;this.F=Zp();Wch(this.H,"netIo")&&this.F.resolve()}t(Hoh,A);function Enh(a){if(a.C)return Tp(Ioh(a.C));a.D||(a.D=a.F.C.then(function(){return new Sp(function(b,c){Zgh(a.H.get("netIo"),"uc",void 0,function(d){return b(new Foh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.Fp();a.D=null;return Ioh(a.C)},void 0,a)}
function Fnh(a,b){var c="all"==b;b="none"==b;var d=(new mmf).Pa(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new Goh;b=ak(b,1,a.C);Zgh(a.H.get("netIo"),"uc",b)}function Ioh(a){return Qj(a,2,!0)?Nj(a,3)?"all":Qj(a,4,!0)||Qj(a,5,!0)?"important":"none":"none"};function Joh(a,b){var c=a.fd(),d=b.fd();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.Lu();a=d.Lu();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function Koh(a,b){this.C=a;this.od=b}Koh.prototype.fd=g("C");Koh.prototype.getPosition=g("od");function Loh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function Moh(a,b){return a.C().Ac(b).getId()}function Noh(a,b){for(var c=a.C().mc(),d=0;d<c;++d)a.H(Moh(a,d),Infinity);a.layout(b||[])}m=Loh.prototype;m.layout=function(a){do{var b=a;Ooh(this,0,this.C().mc(),1,-Infinity,this.Xlb,this.Ylb,b);b=a;Ooh(this,this.C().mc()-1,-1,-1,Infinity,this.Abb,this.Bbb,b);a.pop()}while(0<a.length)};function Poh(a,b){0==a.D&&(a.D=1);a.F=sd(b,a.F);wd(a.F)}
function Qoh(a){0!=a.D&&(2==a.D?Noh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function Ooh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=Moh(a,b);var n=b;n=a.C().Ac(n).getHeight();var q=a;var r=b;r=q.C().Ac(r).fd().getId();q=q.J(r);r=a.L(l);e=kd(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.Xlb=function(a,b){return b+a+10};m.Abb=function(a,b){return b-10};m.Ylb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.Bbb=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function Roh(a,b){var c=this;$5.call(this,a,b);this.F={};this.ma={};this.Ea=new Loh(u(this.xk,this),u(this.lWa,this),u(this.Wra,this),u(this.zec,this));this.Va=J4(a).Ro;this.Ja=new RK;this.jb=!0;this.Fb=new Sq(this.Wic,500,this);this.Qa=this.Sa=null;this.Ma=nhh(a);this.ub=new Co;this.qa(this.ub);Do(this.ub,this.Ma.D,function(){c.Ra=!0;c.cb&&Soh(c,c.cb);Qoh(c.Ea);c.rb&&c.Nz();c.Ra=!1});this.rb=!1;this.cb=null;this.Xa=this.Ra=!1}v(Roh,$5);var Toh=null;m=Roh.prototype;
m.ZQ=function(){var a=Roh.Ya.ZQ.call(this);a.push("docos-layout-vertical");return a};m.O4=ea(!0);m.cL=da("jb");m.kW=function(a,b){a=a.fd();b=b.fd();if(!a||!b)throw Error("Doco view missing doco.");var c=p5(N4(this.getContext()),a.getId()),d=p5(N4(this.getContext()),b.getId());return Joh(new Koh(a,this.C[c]||new Wm(Number.MAX_VALUE,Number.MAX_VALUE)),new Koh(b,this.C[d]||new Wm(Number.MAX_VALUE,Number.MAX_VALUE)))};m.B0=function(a){this.uK(a,!1)};m.aAa=function(a){Roh.Ya.aAa.call(this,a);this.Nz()};
m.A1a=function(){for(var a=this.xk(),b=a.mc(),c=0;c<b;c++){var d=a.Ac(c);d.getId()!=this.rr()&&d.getId()!=this.gX()&&d.Jaa()&&d.collapse()}};m.WK=function(){Xlh(this);Mlh(this);for(var a=this.xk(),b=a.mc(),c=0;c<b;++c){var d=a.Ac(c);d.Jaa()&&!d.ql()&&d.lBa()}a=[];(b=this.rr())&&a.push(b);this.Ma.C||this.Ra?(b=this.Ea,b.D=2,Poh(b,a||[])):Noh(this.Ea,a);Uoh(this)};m.m3=function(a){this.Sa=a.clone();this.Qa&&this.Qa.contains(a)?this.Fb.start():(a=this.Fb,a.stop(),a.kta())};
m.Wic=function(){if(this.O){this.Qa=this.Sa.clone();var a=this.xk();this.Qa.expand(500,0,500,0);var b=a.mc(),c="";0<b&&(c=a.Ac(b-1).getId());for(var d=0;d<b;d++){var e=a.Ac(d),f=this.ma[e.getId()];f=Voh(e,this.Qa,f.y,c);e.setVisible(f)}}};
m.Nz=function(){Roh.Ya.Nz.call(this);if(this.Ma.C)this.rb=!0;else{Qoh(this.Ea);var a=this.xk(),b;for(b in this.F){var c=a.Fc(b);if(c){var d=b==this.rr()||b==this.gX()?-10:this.Va,e=!c.kya();b!=this.rr()&&b!=this.gX()&&this.ob&&(e=e&&this.ob.Va);this.Via(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}Uoh(this);this.rb=!1}};function Voh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.ql()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function Uoh(a){var b=Z5(a).H.bounds;b&&(a=a.l3(),!Toh&&!a||Cd(Toh,a)||(Toh=a,a=(new F4("bounds")).setUserInitiated(!0).build(),b(a)))}m.Wra=function(a){if(a&&!(a in this.F))if(Z5(this).Va){var b=this.lWa(a);null!==b&&(this.F[a]=b)}else if(b=this.xk().Fc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.zec=function(a,b){this.F[a]=b};m.uK=function(a){Xlh(this);if(Z5(this).Va)Woh(this);else{var b=[];this.rr()&&b.push(this.rr());a&&b.push(a);Xoh(this,b)}};
function Woh(a){Z5(a).Va&&(a.F={});var b=a.rr();Xoh(a,b?[b]:[])}function Xoh(a,b){a.Ma.C||a.Ra?Poh(a.Ea,b):a.Ea.layout(b)}m.VK=function(a){var b=Yd(a),c=Wd(this.C),d=b.length!=c;this.Xa=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Xa=!0;break}}d&&(this.Ma.C?this.cb=a:Soh(this,a))};
function Soh(a,b){a.C=b;Yoh(a);Xlh(a);a.Xa&&(Mlh(a),a.Xa=!1);Woh(a);b=a.Ja.ef();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.HP(d)}a.uK();a.Nz();a.cb=null}function Yoh(a){var b=Object.keys(a.C);b.sort(u(a.xbc,a));a.Ja.clear();for(var c=N4(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=s5(c,parseInt(e,10));f&&c.ma(f)&&a.Ja.set(e,a.Ja.ke())}}
m.xbc=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=s5(N4(this.getContext()),c);d=s5(N4(this.getContext()),d);return Joh(new Koh(c,b),new Koh(d,a))};m.dU=function(a){Roh.Ya.dU.call(this,a);Yoh(this)};m.oda=function(a){a=p5(N4(this.getContext()),a.getId()).toString();var b=this.Ja.get(a);null==b&&(Yoh(this),b=this.Ja.get(a));return b};
m.Via=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Sa){var h=this.xk();f=h.mc();h=h.Ac(f-1).getId();f=Voh(c,this.Sa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.jb&&l&&this.xk().mc()<Zoh(this);k=this.jb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));Wdh(this.J,h);var n=new Zch(e,[a,b],f,DM);Vdh(this.J,h,n,f,function(){return Tf(n)})}else jw(e,
a,b),f||c.setVisible(!1);c.Dc=-10==a;this.ma[h]=new Wm(a,b);this.F[h]=b}};function $oh(a,b){return(a=a.C[b])?a.y:null}m.lWa=function(a){a=p5(N4(this.getContext()),a);return $oh(this,a)};m.jsa=function(a,b){a=$oh(this,a);return null===a?null:new Wm(b?-10:this.Va,a)};
m.l3=function(){var a=this.xk();if(!a||!a.tb())return null;var b=a.mc();if(!b)return null;var c=a.Ac(0);b=a.Ac(b-1);a=b.getElement();c=this.Wra(c.getId());b=this.Wra(b.getId());return null!=c&&null!=b?[c,210+this.Va,b+a.offsetHeight,this.Va]:null};function Zoh(a){a=Z5(a);return(a=null!=K(a.dh,47)?K(a.dh,47):null)?a:100};function aph(a){this.Tr=a;return this}t(aph,y4);aph.prototype.getSource=g("Tr");ta("docos.api.WriteFeedbackArgs",aph,void 0);aph.prototype.getSource=aph.prototype.getSource;if(!bph)var bph=ea("");if(!cph)var cph=ea("");function i6(a,b){var c=this;A.call(this);this.Pc=Ra();this.J={};this.F=new lhh;var d=i6.__default_config;d&&le(this.J,d);a&&le(this.J,a);this.D=new Pfh(this.J,b);this.F.Ef("config",this.D);this.ma={};Nj(this.D.dh,17)&&(this.Za=new Ygh,this.F.Ef("errorReporter",this.Za),this.iya=this.Za.F.C(this.iya));this.xa=null;this.V={};this.Ja=null;this.Va=!1;this.Xa=!0;this.R=new unh(this.F,this.D,this);dph(this,"s",function(){c.C.Sa=!0;if(0<Wd(c.C.C)){eph(c);var e=c.D.Bm;e&&e(43082,3E4)}});dph(this,"fe",u(this.DSb,
this));dph(this,"p",u(this.ASb,this));this.Fb=new Pnh(this,this.F);Mch();this.iya()}v(i6,A);ta("Docos",i6,void 0);ta("docos.api.connect",function(a){return new i6(a)},void 0);m=i6.prototype;m.h5a=!1;m.XT=null;m.Za=null;m.Y7=null;m.vv=null;m.yn=null;m.Qt=null;m.g_a=!1;m.vDa=null;m.Hu=null;m.QS=null;
m.iya=function(){if(this.Za)for(var a in i6.prototype)La(this[a])&&(this[a]=this.Za.F.C(this[a]));this.cb=new ehh(this.D);this.F.Ef("imageManager",this.cb);a=new Hoh(this.F);this.F.Ef("subscriptionManager",a);this.Ba=new zmh(this.F);this.F.Ef("impressionRecorder",this.Ba);this.fb=Zmd(Yo());this.qa(this.fb);this.Yc=new $gh(this.fb);this.F.Ef("relativeDateFormatter",this.Yc);this.C=new Qjh(this.D);this.F.Ef("stream",this.C);this.Qa=new fnh(this.F);this.qa(this.Qa);this.Oa=new Vo(this);this.qa(this.Oa);
this.Ea=null;this.O=new Ggh(this.F);this.F.Ef("controller",this.O);this.H=new Nmh(this.F,this.O);if(Nj(this.D.dh,19)){this.Ea=new Knh(this.F);this.qa(this.Ea);a=this.Ea;var b=u(this.sEb,this),c=u(this.iva,this);a.C?a.C.gWa(u(a.pAb,a,b),u(a.oAb,a,c)):c()}else this.iva();this.QS=fph(this);this.F.Ef("contactStore",this.QS);this.Ra=this.D.Vg().getEmail()?new imh(this.QS,this.D.Vg(),this.Ba,this.D.Om):null;a=P4(this.F);this.L=this.Db=null;ap("docs-aria-speakable")&&(this.Db=Evf(void 0,!0),this.L=new Drf(this.Db,
a),this.L.bind("docos-new-doco",new Anh),this.L.bind("docos-new-reply",new Bnh),this.L.bind("docos-delete-doco",new xmh(this.C)),this.L.bind("docos-resolve-doco",new Qnh(this.C)),this.L.bind("docos-speak-doco",new Rnh(this.F,this.J.quoterenderfn)),this.L.bind("docos-edit-doco",new Bmh));this.Sa=new Lz(this);this.qa(this.Sa);this.Sa.yb(a.Ta("docos-cancel-insert-discussion"),ft,this.e8b).yb(a.Ta("docos-delete-doco"),ft,this.ySb).yb(a.Ta("docos-reject-doco-with-feedback"),ft,this.u8b).yb(a.Ta("docos-convert-doco"),
ft,this.q8b).yb(a.Ta("docos-before-highlight-doco"),ft,this.Sza).yb(a.Ta("docos-highlight-doco"),ft,this.hya).yb(a.Ta("docos-new-doco"),ft,this.zSb).yb(a.Ta("docos-resolve-doco"),ft,this.CSb).yb(a.Ta("docos-back-to-document"),ft,this.U7b).yb(a.Ta("docos-new-reply"),ft,this.L9b).yb(a.Ta("docos-write-feedback"),ft,this.Hac).yb(a.Ta("docos-disable-smart-todo-feature"),ft,this.z8b).yb(a.Ta("docos-vote-doco"),ft,this.Dac).yb(a.Ta("docos-vote-reply"),ft,this.Eac).yb(a.Ta("docos-update-sort"),ft,this.tac).yb(a.Ta("mouse-hover-doco-view"),
ft,this.H9b);this.Oa.listen(this.C,"dd",this.E9b).listen(this.C,"af",this.I7b).listen(this.C,"bu",this.D9b).listen(this.C,"p",this.U9b).listen(this.D,"r",this.o1)};function fph(a){var b=Ppd("client").then(function(){var c=wa("gapi.config.update");a.D.sqa&&c("googleapis.config/sessionIndex",a.D.sqa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return wa("gapi.client")});return new vmh(a.D,Nnh(a.D,b),a.Pc)}
function eph(a){a.QS&&!a.QS.C&&Hfh(a.D.D)&&Vfh(a.D)&&xih(a.QS)}function gph(a){if(!a.Qt){hph(a);var b=a.F,c=Yo(a.D.O);var d=a.D;d=gy()?d.Fb&&!z(y(),"docs-ehspc"):d.Fb;a.Qt=new Boh(b,c,d,a.D.Ne);a.Oa.listen(a.Qt,"dnd",a.Svb);a.Oa.listen(a.Qt,"initial-load-complete",a.UKb);a.Oa.listen(a.Qt,"create-draft",a.Vd)}return a.Qt}m.Svb=function(){this.jb()};m.UKb=function(){var a=g6(this,"initial-pane-render-done");if(a&&this.vDa){var b=Ra()-this.vDa;a(new Tdh("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.O;this.C.O=a;var c=this.C,d=this.D,e={},f=c.O;c=je(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.oA()&&!sgh(k)){var l=hkh(k,f,d);k=je(k.D);for(var n in k)l+=hkh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,le(a,e),this.vv.gB(a));this.V=e;e={};for(var q in this.V)e[p5(this.C,q)]=this.V[q];return e};i6.prototype.find=i6.prototype.find;i6.prototype.jd=function(){this.C.O&&(this.C.O=null,this.vv.gB(this.V,!0),this.V={})};i6.prototype.clearFind=i6.prototype.jd;
i6.prototype.jr=function(){var a=this.D;var b=gkh(this.C,a);b?(b=b.getKey(),a=(a=jkh(b,a))?qp(a).textContent:null):a=null;return a};i6.prototype.getSelectedMatchA11yContext=i6.prototype.jr;i6.prototype.highlightNext=function(a,b,c){this.yn&&this.yn.highlightNext(!!a,b,c)};i6.prototype.highlightNext=i6.prototype.highlightNext;i6.prototype.highlightPrevious=function(a,b,c){this.yn&&this.yn.highlightPrevious(!!a,b,c)};i6.prototype.highlightPrevious=i6.prototype.highlightPrevious;
i6.prototype.select=function(a,b){var c=s5(this.C,a);a=c?c.getId():"";b=c?new eY(a,b):null;c=this.C.Ba;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.Ba=b;b=c?this.vv.Fc(c.getKey()):null;c=this.vv.Fc(a);b&&b!=c&&b.gB();if(c){c.Jaa()&&(b=fkh(N4(this.F),this.D),c.expand(b?b.getKey():void 0));c.gB();b=ekh(this.C,this.vv);d=P4(this.F);var e=Pdh(B4(a));e.C=b?b.start:0;e=D4(e);d.Bf("docos-before-highlight-doco").qb(e);S5(N4(this.F),a);
d.Bf("docos-highlight-doco").qb(e);if(b&&Ehh(c)&&(a=c.wb())){c=zw(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};i6.prototype.select=i6.prototype.select;i6.prototype.SQb=function(){var a=this.C.Ba;if(a){this.C.Ba=null;(a=this.vv.Fc(a.getKey()))&&a.gB();a=P4(this.F);var b=Pdh(B4(""));b.C=0;b=D4(b);a.Bf("docos-before-highlight-doco").qb(b);S5(N4(this.F),null);a.Bf("docos-highlight-doco").qb(b)}};
i6.prototype.unselect=i6.prototype.SQb;i6.prototype.B7b=function(){var a=this.C,b=new Fjh(a,"c"),c;for(c in a.C)b.C.push(new Djh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Gjh(b));a.flush(!0)};i6.prototype.updateAll=i6.prototype.B7b;i6.prototype.yV=function(){return!!Nj(this.D.dh,19)&&!!this.D.Ob&&!this.D.vd};i6.prototype.isSavingToOfflineStorage=i6.prototype.yV;i6.prototype.hK=function(){return 0<sjh.ke()};i6.prototype.hasUnpostedDocos=i6.prototype.hK;
i6.prototype.kK=function(){for(var a=Yd(this.C.V),b=0,c;c=a[b];b++){var d=this.C;if((c=Yjh(d,c))&&(c.Uj()?Tgh(d,c):d.ma(c)))return!0}return!1};i6.prototype.hasVisibleAnchoredDocos=i6.prototype.kK;i6.prototype.qoa=function(a){var b=this.C,c=b.xa;b.xa=a;if(c!=b.xa&&this.vv&&(a=this.vv,b=N4(a.context),Wd(b.C))){for(c=a.mc()-1;0<=c;--c){var d=a.Ac(c).getId();loh(a,d)}b=je(b.C);for(d in b)joh(a,d);a.D.WK();ioh(a);a.D.uK()}};
i6.prototype.o1=function(){iph(this);0<Wd(this.C.C)&&eph(this);if(this.Qt)if("none"!=this.D.fb){var a=this.Qt.D;a.D.WK();ioh(a)}else this.Qt.k8()};i6.prototype.setResolvedAnchoredDocosVisible=i6.prototype.qoa;i6.prototype.zV=function(a,b,c){return jph(this,a,b?b:void 0,c)};i6.prototype.newDoco=i6.prototype.zV;
i6.prototype.WU=function(a,b,c){if(null==a||Ld(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;kph(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo()).addCallback(c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.omb();d6(f,u(f.HPb,f,a,d,e,b)).addCallback(c);
break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();d6(f,u(f.EPb,f,a,d,e,b)).addCallback(c);break;default:throw Error("Unknown NewDocoArgs type.");}};i6.prototype.interceptingNewDoco=i6.prototype.WU;function jph(a,b,c,d,e,f,h){lph(a,b,c);b=Igh(a.O,b,d||"draft",e,f,h);mph(a,b,c);return b}function kph(a,b,c,d,e,f,h){lph(a,b,c);return Omh(a.H,b,d||"draft",e,f,h).addCallback(function(k){mph(a,k,c);return k})}
function lph(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.ob();c&&(a.xa=c)}function mph(a,b,c){if(!(0>=b))if(gy()&&"absolute"!=a.D.ub&&z(y(),"docs-ehspc"))c=gph(a),a=s5(a.C,b),c.F&&null!=a&&c.F.HP(a);else if(c){var d={};d[b]=c;j6(a).j3(d)}}
i6.prototype.AV=function(a,b){if(null==a||Ld(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return jph(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),Kgh(this.O,a,c,d,b.omb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,Lgh(this.O,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};i6.prototype.newDoco2=i6.prototype.AV;i6.prototype.J0=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");Rmh(this.H,void 0,a,void 0,void 0,b,void 0).addCallback(function(e){0<e&&d.rb(e);return e}).addCallback(c)};i6.prototype.interceptingNewSuggestion=i6.prototype.J0;
i6.prototype.WM=function(a,b,c){var d=this;Smh(this.H,a,!0,b).addCallback(function(e){nph(d,a);return e}).addCallback(c)};i6.prototype.interceptingAcceptSuggestion=i6.prototype.WM;i6.prototype.fV=function(a,b,c){var d=this;Smh(this.H,a,!1,b).addCallback(function(e){nph(d,a);return e}).addCallback(c)};i6.prototype.interceptingRejectSuggestion=i6.prototype.fV;i6.prototype.$M=function(a,b){var c=this.H;d6(c,u(c.kGa,c,a,!0)).addCallback(b)};i6.prototype.interceptingAcceptSuggestions=i6.prototype.$M;
function nph(a,b){(b=s5(a.C,b))&&a.yn&&a.yn.dU(b.getId())}i6.prototype.hV=function(a,b){var c=this.H;d6(c,u(c.kGa,c,a,!1)).addCallback(b)};i6.prototype.interceptingRejectSuggestions=i6.prototype.hV;i6.prototype.iO=function(a,b){var c=this.H;d6(c,u(c.Xeb,c,a)).addCallback(b)};i6.prototype.interceptingDeleteReply=i6.prototype.iO;i6.prototype.fN=function(a,b){var c=this.H;d6(c,u(c.Veb,c,a)).addCallback(b)};i6.prototype.interceptingDeleteReplies=i6.prototype.fN;
i6.prototype.jj=function(a){return(a=s5(this.C,a))?k5(a):null};i6.prototype.getAnchorData=i6.prototype.jj;i6.prototype.Vs=function(a){return(a=s5(this.C,a))?a.QI():null};i6.prototype.getSuggestionId=i6.prototype.Vs;i6.prototype.wl=function(){return this.D.Vg().getId()};i6.prototype.getCurrentAuthor=i6.prototype.wl;i6.prototype.Ij=function(a){return(a=s5(this.C,a))?a.kx().getId():null};i6.prototype.getAuthor=i6.prototype.Ij;i6.prototype.Yj=function(a){return(a=s5(this.C,a))?a.kx().getName():null};
i6.prototype.getAuthorName=i6.prototype.Yj;i6.prototype.vn=function(a){"string"===typeof a&&(a=this.Ma(a));return oph(this).D.Jba(a)};i6.prototype.getDocoPosition=i6.prototype.vn;i6.prototype.getDocoMaxHeight=function(a){return j6(this).getDocoMaxHeight(a)};i6.prototype.getDocoMaxHeight=i6.prototype.getDocoMaxHeight;i6.prototype.lna=function(a,b){j6(this).vqa(a,b)};i6.prototype.setDocoMaxHeight=i6.prototype.lna;i6.prototype.Qg=function(a){a=pph(this,a);j6(this).VK(a)};i6.prototype.flushAnchors=i6.prototype.Qg;
i6.prototype.Zg=function(a){j6(this).VK(a)};i6.prototype.flushDocoPositions=i6.prototype.Zg;i6.prototype.gcc=function(a){a=pph(this,a);j6(this).j3(a)};i6.prototype.updateAnchors=i6.prototype.gcc;i6.prototype.lic=function(a){j6(this).j3(a)};i6.prototype.updateDocoPositions=i6.prototype.lic;i6.prototype.Pd=function(a){j6(this).Iba(ed(a,this.Ma,this))};i6.prototype.deleteAnchors=i6.prototype.Pd;i6.prototype.Ud=function(a){j6(this).Iba(a)};i6.prototype.deleteDocoPositions=i6.prototype.Ud;
i6.prototype.gjc=function(a){this.yn?this.yn.m3(a):this.Ja=a};i6.prototype.updateViewport=i6.prototype.gjc;i6.prototype.Ne=da("Va");i6.prototype.enableAnchoredDocoAnimations=i6.prototype.Ne;i6.prototype.On=function(){var a=this.D.L;return(a=a?this.C.fd(a):void 0)?k5(a):""};i6.prototype.getLinkedAnchor=i6.prototype.On;i6.prototype.xo=function(){var a=this.D.L;return null===a?0:p5(this.C,a)};i6.prototype.getLinkedDoco=i6.prototype.xo;i6.prototype.rV=function(){var a=this.D.L;return null===a?!1:!!this.C.F[a]};
i6.prototype.isLinkedDocoDeleted=i6.prototype.rV;function pph(a,b){var c={};Sd(b,function(d,e){(e=this.Ma(e))&&(c[e]=d)},a);return c}i6.prototype.ina=function(a){this.C.Qa=a};i6.prototype.setActiveSuggestions=i6.prototype.ina;i6.prototype.Nn=function(){var a=this.C.R;return a&&a.Uj()?a.getId():null};i6.prototype.getHighlightedSuggestionDocoId=i6.prototype.Nn;i6.prototype.Ma=function(a){return(a=Yjh(this.C,a))?p5(this.C,a.getId()):0};
i6.prototype.gna=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.vDa=Ra();gph(this).tb()&&(Tf(this.Qt),this.Qt=null);f_e(this.D.O,!1);gph(this).render(this.D.O)};i6.prototype.renderPaneSurface=i6.prototype.gna;i6.prototype.wV=function(){return gph(this).D.ZJa()};i6.prototype.isPaneSurfaceRendered=i6.prototype.wV;function j6(a){a.yn||(a.yn=qph(a),a.Ja&&(a.yn.m3(a.Ja),a.Ja=null));return a.yn}
function oph(a){if(!a.vv){hph(a);var b=j6(a);a.vv=new goh(a.F,b,u(a.C.ma,a.C),b.oa())}return a.vv}function hph(a){if(!a.h5a){a.h5a=!0;var b=a.D.O,c=a.D.Ba;b&&(a.D.Dc||Dw(Gqe(""),b),a.D.C.install(b));!c||b&&$o(b)==$o(c)||(a.D.Dc||Dw(Gqe(""),c),a.D.C.install(c))}}i6.prototype.ena=function(){if(!this.D.Ba)throw Error("Anchor surface div not specified in config.");oph(this).tb()&&(Tf(this.vv),this.vv=null,qph(this));f_e(this.D.Ba,!1);oph(this).render(this.D.Ba)};i6.prototype.renderAnchorSurface=i6.prototype.ena;
function qph(a){var b=a.D.ub,c=Roh;"absolute"==b&&(c=Zlh);if(a.yn&&(a.yn instanceof c||a.yn.EW()instanceof c))return a.yn;var d=Yo(a.D.Ba);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new inh(c,d));a.yn&&(a.yn.wqa(c),Tf(a.yn));a.yn=c;a.yn.gCa(a);a.qa(a.yn);return a.yn}
i6.prototype.fna=function(){if(!this.D.Xa)throw Error("Instant docos div not specified in config.");this.Hu&&this.Hu.tb()&&(Tf(this.Hu),this.Hu=null);this.Hu||this.J["enable-gsuite-embedding"]||(this.Hu=new Lmh(this.F,Yo(this.D.Xa)),this.Oa.listen(this.Hu,"create-draft",this.Ob),this.Hu.render(this.D.Xa))};i6.prototype.renderInstantDocosButton=i6.prototype.fna;i6.prototype.Uoa=function(a,b,c){this.Hu&&Mmh(this.Hu,a,b,c)};i6.prototype.showInstantDocosButtonAt=i6.prototype.Uoa;
i6.prototype.ob=function(a){this.Hu&&this.Hu.hf(a)};i6.prototype.hideInstantDocosButton=i6.prototype.ob;i6.prototype.Oh=function(){return this.yn?this.yn.l3():null};i6.prototype.getAnchorSurfaceBounds=i6.prototype.Oh;i6.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.h3(this.J))};i6.prototype.setOption=i6.prototype.setOption;i6.prototype.Ut=function(){if(this.Qt){var a=this.Qt;a.C.xa&&a.C.xa.focus()}};i6.prototype.grabFocus=i6.prototype.Ut;
i6.prototype.una=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.h3(this.J)};i6.prototype.setListener=i6.prototype.una;function rph(a,b){return b&&a.C.ma(b)?b.getId():null}i6.prototype.Om=function(a){return(a=s5(this.C,a))?a.Lu()?a.Lu().getTime():null:null};i6.prototype.getDocoCreationTime=i6.prototype.Om;
i6.prototype.QK=function(a,b){var c=P4(this.F);a=Yjh(this.C,a);a=rph(this,a);var d=Pdh(B4(a||""));b&&(b=this.D.Ma?this.Qt.D.getId():oph(this).getId(),C4(d,b));c.Bf("docos-before-highlight-doco").qb(D4(d));S5(N4(this.F),a);c.Bf("docos-highlight-doco").qb(D4(d))};i6.prototype.highlightAnchor=i6.prototype.QK;
i6.prototype.rb=function(a,b){var c=P4(this.F);a=s5(this.C,a);a=rph(this,a);var d=Pdh(B4(a||""));b&&(b=this.D.Ma?this.Qt.D.getId():oph(this).getId(),d=C4(d,b));c.Bf("docos-before-highlight-doco").qb(D4(d));S5(N4(this.F),a);c.Bf("docos-highlight-doco").qb(D4(d))};i6.prototype.highlightDoco=i6.prototype.rb;i6.prototype.Qjc=function(a){var b=P4(this.F);a=s5(this.C,a);a=rph(this,a);if(null!=a){var c=this.C.fd(a);c&&q5(this.Ba,d5(c5(b5(43045),c)));b.Bf("docos-speak-doco").qb(a)}};
i6.prototype.verbalizeDoco=i6.prototype.Qjc;i6.prototype.sD=function(a){return!!Yjh(this.C,a)};i6.prototype.hasDocoForAnchorId=i6.prototype.sD;i6.prototype.qz=function(a){return!!s5(this.C,a)};i6.prototype.hasDoco=i6.prototype.qz;i6.prototype.Ro=function(a){return(a=Yjh(this.C,a))?a.Uj()?!Tgh(this.C,a):a.isResolved():!1};i6.prototype.getResolvedForAnchorId=i6.prototype.Ro;i6.prototype.mV=function(a){return(a=s5(this.C,a))?a.isResolved():!1};i6.prototype.isDocoResolved=i6.prototype.mV;
i6.prototype.Xl=function(){var a=akh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};i6.prototype.getDocoCounts=i6.prototype.Xl;i6.prototype.Bm=function(){return akh(this.C).C.clone().sb()};i6.prototype.getDocoCounts2=i6.prototype.Bm;
i6.prototype.bj=function(){return j6(this).xqa().C.clone().sb()};i6.prototype.getAnchoredDocoCounts=i6.prototype.bj;i6.prototype.nj=function(){return Yd(this.C.V)};i6.prototype.getAnchors=i6.prototype.nj;i6.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};i6.prototype.getDocoHandles=i6.prototype.getDocoHandles;i6.prototype.jb=function(){this.D.UK()&&(this.Y7||(this.Y7=new Dnh(this.F),this.qa(this.Y7)),this.Y7.setVisible(!0))};i6.prototype.displayNotificationControlDialog=i6.prototype.jb;
i6.prototype.Dc=function(a){return a.x};i6.prototype.Lc=function(a){return a.y};function iph(a){if(a.g_a&&!Wch(a.F,"netIo")){var b=gnh(a.Qa);b&&(a.F.Ef("netIo",b),a.Za&&(a.Za.H=b),b=a.R,Qfh(b.D)?b.D.Pd?wnh(b.F,"r"):vnh(b)&&xnh(b):b.L(null),Wch(a.F,"subscriptionManager")&&mhh(a.F).F.resolve())}}i6.prototype.Fd=function(a){this.R.H.get("netIo").C.XJa(a)};i6.prototype.connectBrowserChannel=i6.prototype.Fd;m=i6.prototype;
m.DSb=function(){var a=g6(this,"net-error");a&&a((new F4("net-error")).build());this.D.Yc&&(this.setOption("accessLevel","readonly"),a=gph(this),""==a.O&&(a.O="Commenting disabled due to a network error. Please reload the page.",Coh(a)))};
m.ASb=function(){var a=g6(this,"post-limit-error");a&&a((new F4("post-limit-error")).build());this.D.Yc&&(this.setOption("accessLevel","readonly"),a=gph(this),""==a.O&&(a.O="Document reached the comment limit. Make a copy of this document without resolved comments to continue commenting",Coh(a)))};m.sEb=function(){wnh(this,"r");this.iva()};m.iva=function(){this.g_a=!0;iph(this)};m.BSb=function(a){dph(this,"r",a)};i6.prototype.onReady=i6.prototype.BSb;i6.prototype.t1=function(a){dph(this,"s",a)};
i6.prototype.onInitialSyncSuccess=i6.prototype.t1;i6.prototype.s1=function(a){dph(this,"e",a)};i6.prototype.onInitialSyncError=i6.prototype.s1;i6.prototype.Vd=function(a){var b=this.D.H["create-draft"];a=a.yf?a.yf:void 0;if(b)a=(new F4("create-draft")).setApiEventArgs(new c6(!1,void 0,void 0,a)).build(),b(a);else throw Error("Can not create a discussion because the editor did not provide a handler.");};
i6.prototype.Ob=function(){var a=this.D.H["create-draft"];if(a){var b=(new F4("create-draft")).setApiEventArgs(new c6(!0,new Wm(0,this.Hu.D.H),this.Hu.D.O)).build();a(b)}};function dph(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=ue(d,c)}else a.ma[b]=c}function wnh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}i6.prototype.ilb=function(){this.ub()};i6.prototype.tickle=i6.prototype.ilb;
i6.prototype.ub=function(){a:{var a=this.R;if(Qfh(a.D)){if(!a.O){if(!a.C&&!vnh(a))break a;xnh(a)}onh(a.C,a.D.$fa?1:void 0)}}};i6.prototype.sync=i6.prototype.ub;i6.prototype.bh=function(){ynh(this.R)};i6.prototype.fullSync=i6.prototype.bh;i6.prototype.vd=function(){var a=this.R;Qfh(a.D)&&(a.C.J=!0)};i6.prototype.blockFutureSync=i6.prototype.vd;i6.prototype.iOb=function(){var a=this.R;Qfh(a.D)&&(a.C.J=!1)};i6.prototype.unblockFutureSync=i6.prototype.iOb;
i6.prototype.qV=function(){var a=this.R;return Qfh(a.D)?a.C.J:!1};i6.prototype.isFutureSyncBlocked=i6.prototype.qV;i6.prototype.uq=function(){var a=this.D;return null!=a.i3?a.i3:6E4};i6.prototype.getRetryBackoffThreshold=i6.prototype.uq;i6.prototype.lV=function(){return this.D.Fba};i6.prototype.isBrowserChannelEnabled=i6.prototype.lV;i6.prototype.pV=function(){return!!Nj(this.D.dh,30)};i6.prototype.isDocsStreamHeaderEnabled=i6.prototype.pV;i6.prototype.tV=function(){return Rfh(this.D)};
i6.prototype.isNewDocosStreamPaneUiEnabled=i6.prototype.tV;i6.prototype.isBadgingEnabled=function(){return this.D.fH()};i6.prototype.isBadgingEnabled=i6.prototype.isBadgingEnabled;i6.prototype.tD=function(){return Ujh(this.C)};i6.prototype.hasPendingContent=i6.prototype.tD;m=i6.prototype;
m.e8b=function(a){var b=this,c=a.data;a=g5(f5(new e5,43011),c.bk);var d=null!=c.xn;d&&h5(a,c.xn);o5(Hgh(this.F),i5(a));Qmh(this.H,c.bk).addCallback(function(e){if(e){e=(e=b.C.R)&&e.getId()!==c.bk;e||(b.Sza(new gt(d?new Mdh("",void 0,void 0,void 0,c.xn):A4())),b.hya(new gt(d?new Mdh("",void 0,void 0,void 0,c.xn):A4())));var f=g6(b,"deleted");if(f&&c.xn&&c.Yp){var h=(new F4("deleted")).addAnchorId(c.xn).addDocoHandle(c.Yp).setUserInitiated(!0).build();f(h);b.XT=null}e&&(b.XT=b.C.R)}})};
m.ySb=function(a){a=a.data;sph(this,a.Yp,a.bk,a.OT,void 0,a.yf)};m.u8b=function(a){a=a.data;sph(this,a.Yp,a.bk,a.OT,a.mlb)};function sph(a,b,c,d,e,f){f=void 0===f?null:f;var h=g6(a,"before-doco-deleted");if(h&&b){var k=k5(s5(a.C,b));d=e?new Dmh(d,e):new wmh(d);b=(new tmh("before-doco-deleted")).addAnchorId(k).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();h(b);if(b.C)return}tph(a,c,!0,e,f)}
m.q8b=function(a){var b=a.data;if((a=g6(this,"converted"))&&b){var c=k5(s5(this.C,b.Yp)),d=new b6(c,b.OZa,b.OT);b=(new tmh("converted")).addAnchorId(c).addDocoHandle(b.Yp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.xSb=function(a){(a=s5(this.C,a))&&tph(this,a.getId(),!1)};i6.prototype.deleteDoco=i6.prototype.xSb;function tph(a,b,c,d,e){e=void 0===e?null:e;var f=a.C.fd(b),h=p5(a.C,b);f=k5(f);var k=a.H;d6(k,u(k.Teb,k,b,d,void 0===e?null:e)).addCallback(u(a.Tjc,a,f,h,c))}
i6.prototype.Tjc=function(a,b,c,d){if(d){d=g6(this,"before-selected");var e=g6(this,"selected"),f=g6(this,"deleted");if(a&&b){if(d){var h=(new F4("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new F4("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new F4("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.XT=null}}};i6.prototype.HQb=function(a){return Ngh(this.O,a)};i6.prototype.undoDeleteDoco=i6.prototype.HQb;
i6.prototype.ima=function(a){this.Xa=a;P(oph(this).getElement(),a)};i6.prototype.setDocosGutterVisibility=i6.prototype.ima;i6.prototype.oV=g("Xa");i6.prototype.isDocosGutterVisible=i6.prototype.oV;i6.prototype.Lf=function(){var a=this.Fb;a.C=a.H.D.C;a.F.setOption("accessLevel","readonly")};i6.prototype.enterReanchorMode=i6.prototype.Lf;i6.prototype.hna=function(){var a=this.Fb;a.D.V=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};i6.prototype.resetReanchorMode=i6.prototype.hna;
i6.prototype.kV=function(a,b){var c=this.H;d6(c,u(c.tic,c,a)).addCallback(b)};i6.prototype.interceptingUndoDeleteDoco=i6.prototype.kV;i6.prototype.jV=function(a,b){var c=this.H;b=new qeh(b);d6(c,u(c.Uec,c,a,b))};i6.prototype.interceptingSetSuggestionQuote=i6.prototype.jV;i6.prototype.Tt=function(a){a=s5(this.C,a);if(!a)return null;if(!a.Uj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.M4()};i6.prototype.getSuggestionQuote=i6.prototype.Tt;
i6.prototype.jg=function(a,b){return this.Ra?jmh(this.Ra,a,void 0===b?!1:b):new hmh(Tp())};i6.prototype.findAssignee=i6.prototype.jg;i6.prototype.iK=function(){return 0<this.C.H.size};i6.prototype.hasUnseenDocos=i6.prototype.iK;i6.prototype.Ypa=function(){nhh(this.F).C=!0};i6.prototype.startBatchEvent=i6.prototype.Ypa;i6.prototype.cf=function(){var a=nhh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};i6.prototype.endBatchEvent=i6.prototype.cf;m=i6.prototype;
m.CSb=function(a){a=a.data;var b=this.H,c=a.F;d6(b,u(b.fdc,b,a.C,a.D,a.H,void 0===c?null:c)).addCallback(u(this.Abc,this,a))};
m.Abc=function(a,b){if(b){b=g6(this,"before-selected");var c=g6(this,"selected");if(c){var d=this.C.fd(a.C),e=p5(this.C,a.C);d&&d.oA()&&e&&(a.D?(b&&(a=(new F4("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new F4("selected")).setUserInitiated(!0).build(),c(a),this.XT=null):(b&&(a=(new F4("before-selected")).addAnchorId(k5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new F4("selected")).addAnchorId(k5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.XT=d))}}};
m.Dac=function(a){a=a.data;var b=this.H;d6(b,u(b.njc,b,a.C,a.D))};m.Eac=function(a){a=a.data;var b=this.H;d6(b,u(b.ojc,b,a.C,a.D,a.F))};m.tac=function(a){this.setOption("sortpaneby",a.data.Ggc);(a=this.D.Qa)&&a(43086)};m.U7b=function(a){var b=this.D.jg;b&&(a=this.C.fd(a.data.bk))&&b(k5(a),!0)};
function uph(a,b,c){var d=g6(a,c);if(d){var e=a.C.fd(b.C)||null,f=b.F;if(e!=a.XT||"number"===typeof f){var h=new F4(c),k=p5(a.C,b.C);e&&e.oA()&&k&&h.addAnchorId(k5(e)).addDocoHandle(k);k=new y4;var l=b.O;null!=l?k=new rmh(l):"number"===typeof f?k=new ydh(f):void 0!==b.NT&&(k=new Emh(b.NT));f=!!e&&!a.C.ma(e);h.setNonAnchored(f).setUserInitiated(b.J).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.XT=e)}}m.Sza=function(a){uph(this,a.data,"before-selected")};
m.hya=function(a){var b=a.data;uph(this,b,"selected");if(a=this.C.fd(b.C))b="number"===typeof b.F?4:b.D==oph(this).getId()?1:b.D==gph(this).D.getId()?2:3,a=c5(b5(43044),a),a.H=b,2==b&&(a.C=105),q5(this.Ba,d5(a))};m.L9b=function(a){a=a.data;var b=a.C,c=a.F,d=this.H;c=c?c:void 0;d6(d,u(d.hab,d,a.D,a.H,null,b?b:void 0,void 0===c?null:c))};m.Hac=function(a){var b=a.data;if(a=g6(this,"write-feedback"))b=(new F4("write-feedback")).setUserInitiated(!0).setApiEventArgs(new aph(b.source)).build(),a(b)};
m.z8b=function(){var a=g6(this,"disable-smart-todo-feature");if(a){var b=(new F4("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.zSb=function(a){var b=this,c=a.data;Rmh(this.H,c.egb,c.xn,c.text,c.quote,c.nla,c.Y1,c.yf).addCallback(function(d){if(0<d){var e=c.xn,f=c.Yp,h=g6(b,"posted");h&&e&&f&&(e=(new F4("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.Sza(new gt(A4()));b.hya(new gt(A4()))}return d})};
m.H9b=function(a){var b=g6(this,"hover");if(b){a=a.data;var c=Sdh("hover").setNonAnchored(!a.UPb).setUserInitiated(!0);if(a.$Pb){var d=this.C.fd(a.bk);c.addAnchorId(d?k5(d):"");c.addDocoHandle(p5(this.C,a.bk))}b(c.build())}};m.E9b=function(a){if("dd"==a.type){var b=g6(this,"deleted");if(b&&a.C&&a.D&&(a.$r||this.D.Ja)&&a.O&16){var c=(new F4("deleted")).addDocoHandle(a.D);a.$r&&c.addAnchorId(a.$r);a=c.build();b(a)}}};
m.D9b=function(a){if("bu"==a.type){var b=Sdh("created");this.xa&&(b.setApiEventArgs(new ymh(this.xa,a.C[0].xn)),this.xa=null);var c=Sdh("resolved"),d=Sdh("unresolved");b=Cmh(b,a.C,8);c=Cmh(c,a.C,2);d=Cmh(d,a.C,4);vph(this,"created",b);vph(this,"resolved",c);vph(this,"unresolved",d)}};m.U9b=function(a){if("p"==a.type&&(a=g6(this,"pending"))){var b=(new F4("pending")).setUserInitiated(!0).build();a(b)}};
m.I7b=function(){var a=g6(this,"view-updated");if(a){var b=(new F4("view-updated")).setUserInitiated(!0).build();a(b)}};function vph(a,b,c){a=g6(a,b);!c.isEmpty()&&a&&a(c.build())}function g6(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ka=function(){delete this.yn;delete this.D;delete this.QS;delete this.O;delete this.Za;delete this.Oa;delete this.cb;delete this.Qa;delete this.Y7;delete this.Ea;delete this.C;delete this.Sa;Tf(this.Hu);delete this.Hu;Tf(this.vv);delete this.vv;Tf(this.Qt);delete this.Qt;i6.Ya.Ka.call(this);Tf(this.F);delete this.F};ta("Docos",i6,void 0);ta("Docos.Point",Wm,void 0);ta("Docos.Point.getX",i6.prototype.Dc,void 0);ta("Docos.Point.getY",i6.prototype.Lc,void 0);
ta("Docos.AbstractAlteredDocoArgs",wlh,void 0);ta("Docos.NewDraftArgs",Clh,void 0);ta("Docos.LayoutType.ABSOLUTE","absolute",void 0);ta("Docos.LayoutType.VERTICAL","vertical",void 0);ta("Docos.UiVersion.LEGACY","legacy",void 0);ta("Docos.UiVersion.MATERIAL","material",void 0);ta("Docos.UiVersion.MATERIAL_LIGHT_BACKGROUND","material_light_background",void 0);ta("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);ta("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);
ta("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);ta("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);ta("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);ta("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);ta("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);ta("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);ta("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);
ta("Docos.OptionName.DRIVE_ID","drive-id",void 0);ta("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);ta("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);ta("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);ta("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);ta("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);ta("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);
ta("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);ta("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);ta("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);ta("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);ta("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);ta("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
ta("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);ta("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);ta("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);ta("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);ta("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
ta("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);ta("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);ta("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);ta("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);ta("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);ta("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);ta("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
ta("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);ta("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);ta("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);ta("Docos.OptionName.IO","i",void 0);ta("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);ta("Docos.OptionName.KEY_DATA","kd",void 0);ta("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
ta("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);ta("Docos.OptionName.LAYOUT","layout",void 0);ta("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);ta("Docos.OptionName.LINK_OPENER","link-opener",void 0);ta("Docos.OptionName.LISTENERS","listeners",void 0);ta("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);ta("Docos.OptionName.LOCAL","l",void 0);ta("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
ta("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);ta("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);ta("Docos.OptionName.OFFLINE","offline",void 0);ta("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);ta("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);ta("Docos.OptionName.PANE_DIV","panediv",void 0);ta("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);ta("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
ta("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);ta("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);ta("Docos.OptionName.QUOTE_FN","quotefn",void 0);ta("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);ta("Docos.OptionName.READONLY","readonly",void 0);ta("Docos.OptionName.RESOLVE","resolve",void 0);ta("Docos.OptionName.SCROLL_CONTAINER","container",void 0);ta("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
ta("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);ta("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);ta("Docos.OptionName.SORT_PANE","sortpane",void 0);ta("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);ta("Docos.OptionName.STORAGE","storage",void 0);ta("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);ta("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
ta("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);ta("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);ta("Docos.OptionName.SYNC_ONCE","so",void 0);ta("Docos.OptionName.UI_VERSION","ui-version",void 0);ta("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);ta("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
ta("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);ta("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);ta("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);ta("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);ta("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);ta("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);ta("Docos.EventType.CONVERTED","converted",void 0);
ta("Docos.EventType.CREATE_DRAFT","create-draft",void 0);ta("Docos.EventType.CREATED","created",void 0);ta("Docos.EventType.DELETED","deleted",void 0);ta("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);ta("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);ta("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);ta("Docos.EventType.HOVER","hover",void 0);ta("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
ta("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);ta("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);ta("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);ta("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);ta("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);ta("Docos.EventType.MODEL_LOADED","model-loaded",void 0);ta("Docos.EventType.NETWORK_ERROR","net-error",void 0);
ta("Docos.EventType.PENDING","pending",void 0);ta("Docos.EventType.POSTED","posted",void 0);ta("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);ta("Docos.EventType.REANCHOR","reanchor",void 0);ta("Docos.EventType.RESOLVED","resolved",void 0);ta("Docos.EventType.SELECTED","selected",void 0);ta("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);ta("Docos.EventType.UNSEEN_DOCOS_UPDATED","unseen-docos-updated",void 0);
ta("Docos.EventType.UNRESOLVED","unresolved",void 0);ta("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);ta("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);ta("Docos.AccessLevel.READONLY","readonly",void 0);ta("Docos.AccessLevel.SUGGEST","suggest",void 0);ta("Docos.AccessLevel.FULL","full",void 0);ta("Docos.NewDocoType",Jvd,void 0);ta("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);ta("Docos.NewDocoType.DISCUSSION","discussion",void 0);
ta("Docos.NewDocoType.DRAFT","draft",void 0);ta("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);ta("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);ta("Docos.NewDocoType.SUGGESTION","suggestion",void 0);ta("Docos.prototype.dispose",i6.prototype.dispose,void 0);ta("Docos.CountField.ACCEPTED","accepted",void 0);ta("Docos.CountField.DRAFT","draft",void 0);ta("Docos.CountField.OPEN","open",void 0);ta("Docos.CountField.REJECTED","rejected",void 0);ta("Docos.CountField.RESOLVED","resolved",void 0);
ta("Docos.CountField.TOTAL","total",void 0);ta("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function wph(a){a=void 0===a?[]:a;this.D=ZDd();this.C={};a=ja(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}m=wph.prototype;m.add=function(a){this.C[this.D.sb(a)]=a};m.has=function(a){return Zd(this.C,this.D.sb(a))};m.isEmpty=function(){return ce(this.C)};m.clear=function(){de(this.C)};m.Jc=function(a){for(var b in a.C)fe(this.C,b)};m.Cv=function(a){var b=new wph,c=Td(this.C,function(e,f){return!Zd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
m.gx=function(a){var b=new wph,c=Td(this.C,function(e,f){return Zd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};m.forEach=function(a){Sd(this.C,a)};function xph(a,b,c,d,e,f){qtc.call(this,a,b,c,d,e,2,0,f)}t(xph,qtc);xph.prototype.J=function(a){return stc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function yph(a,b,c,d,e,f,h){h=void 0===h?Yo():h;Uo.call(this);this.L=null;this.Ra="none";this.xa=500;this.ma=!1;this.F=a;this.Xa=b;this.H=c;this.Ma=d;this.O=e;this.C=f;this.V=b.Ma;this.D=b.C;this.R=ZDd();this.gb=h;this.J=new wph;this.Va=!0;this.Ba=new om;this.Sa=new om;this.Qa=new om;this.Ja=new Vo(this);this.qa(this.Ja);this.Ea=z(y(),"docs-egms");zph(this);this.Ja.listen(this.D,"na",this.P0b).listen(this.C,"xe",this.ysb).listen(this.C,"ye",this.Asb).listen(this.C,"we",this.wsb).listen(this.C,"Ae",
this.Yvb).listen(this.C,"Be",this.M0b).listen(this.C,"ze",this.Wvb).listen(this.C,"Je",this.O0b).listen(this.C,"Ee",this.wyb).listen(this.C,"He",this.N0b).listen(this.C,"De",this.zwb).listen(this.C,"Ie",this.$Hb).listen(this.C,"ve",this.Vvb).listen(this.C,"Ge",this.Zvb).listen(this.C,"Ce",this.awb).listen(this.C,"Fe",this.SFb);Aph(this)}t(yph,Uo);m=yph.prototype;m.awb=function(){Bph(this,!0)};m.Vvb=function(a){var b=a.C;b&&Cph(this,[b],!0);Dph(this,a.C)};
m.Zvb=function(a){var b=a.C;b&&Eph(this,[b]);Dph(this,a.C)};function Dph(a,b){var c=tdh(a.D,b);c?(b=GK(a.V,c),a=a.Ma,c=c.Jb(),b=Nch(b).length,Rch(LZe(a,c),b),fQ(a)):Fph(a)}m.SFb=function(){Bph(this,!0);this.C.C&&Gph(this)};m.Asb=function(){Bph(this,!0)};m.wsb=function(a){a.C?(a=a.C,this.ma=!0,Sch(this.F,this.R.sb(a)),this.ma=!1):Bph(this,!0)};m.O0b=function(){Edh(this)};
function Edh(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?Gph(a):b?(Hph(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,Sch(a.F,a.R.sb(b)),a.ma=!1)):c||Bph(a,!0)}m.wyb=function(){Bph(this,!1)};m.N0b=function(){Bph(this,!0)};function Bph(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions(Tch(c,{}));b&&Sch(a.F,"");P(a.O,!1);Tf(a.L);Iph(a);Jph(a);a.C.C||Kph(a);a.Ma.f0(a.C.C);Aph(a)}m.isEmpty=function(){return this.J.isEmpty()&&this.Sa.isEmpty()&&this.Ba.isEmpty()&&this.Qa.isEmpty()};
function Aph(a){var b=sJ(a.H);b&&(a.xa=Ltc(b.D)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.xa))}function Jph(a){Uf(a.Sa.Ed());a.Sa.clear()}function Iph(a){Uf(a.Ba.Ed());a.Ba.clear()}function Kph(a){$c(a.Qa.Ed(),function(b){xx(b,"waffle-docos-target-cell-header")});a.Qa.clear()}m.ysb=function(a){this.C.D||this.C.C||(a=a.D,a.length?Hph(this,a,!0):Lph(this,!1))};function Hph(a,b,c){c=void 0===c?!1:c;v4(a.F)&&a.Va||Eph(a,Xd(a.J.Cv(new wph(b)).C));Cph(a,b,c)}
function Gph(a){var b=hI(a.D);b&&(b=GK(a.V,b),Hph(a,Nch(b),!0),Mph(a),Nph(a))}m.Wvb=function(a){this.Va=!1;Oph(this,a.C,a.cell);this.Va=!0};function Oph(a,b,c){Hph(a,[b],!0);Iph(a);Jph(a);Kph(a);Pph(a,c)}m.M0b=function(a){Qph(this,a.C,a.cell)};
function Qph(a,b,c,d){d=void 0===d?!1:d;var e=tdh(a.D,b);if(e){var f=e.Jb();if(Rph(a,b)){var h=Sph(a,c);m5b(XH(a.D,f).C,function(){return e.Er(h)}).addCallback(function(){var k=this;if(!Tph(this,c)||h.equals(e.F)||this.ma){yI(nI(e,c))&&RRc(sJ(this.H)).setVisible(!1);Uph(this,c);Oph(this,b,c);this.Ma.f0(this.C.C);if(d){var l=new Sq(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("Yi")}else YH(e,h),Qph(this,b,c,d)},a)}else a.D.yC(f,function(){a.F.C.grabFocus();Qph(a,b,c,!0)})}else a.dispatchEvent("Yi")}
function Uph(a,b){var c=hI(a.D),d=sJ(a.H);if(!a.ma&&c&&d){var e=d.D;d=d.F;var f=DN(e,"waffle",!1,!1),h=a.Ea?282:240;if(!e.Mb()){var k=fp("docs-docos-activitybox");k&&Cw(k)&&(h+=f.right-Aw(k).left)}k=Vph(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.xa;if(!(0>=b&&0>=a)){d=Kn(d.C);for(d=tn(d.y,d.x,d.y,d.x);pAc(e,d).height<a;)d=dCa(d,1);for(;pAc(e,d).width<b;)d=eCa(d,1);e=d.height;a=d.width;TI(c,j1b(c,c1b(c,MI(c),a,e)))}}}function Tph(a,b){a=hI(a.D);return r4b(a.fk("r"),b.y)&&r4b(a.fk("c"),b.x)}
function Sph(a,b){return OH(hI(a.D),b.y,b.x)||un(b)}
m.Yvb=function(a){if(!C1b(this.D)&&!this.C.C&&(Iph(this),Rph(this,a.C)&&(Lph(this,!0),this.C.D!=a.C))){var b=this.R.sb(a.C),c=this.F;c.C.isDocoResolved(UQ(c.D,b))?(b=a.cell,a=sJ(this.H),(c=hI(this.D))&&a&&b&&(b=OH(c,b.y,b.x)||un(b),b=FZe(a,b,"waffle-docos-target-cell-resolved-rect"),JO(a.V,"discussions",b,!0),b.setVisible(!0),this.Ba.add(b))):(c=a.cell,a=sJ(this.H),(b=hI(this.D))&&a&&c&&(c=OH(b,c.y,c.x)||un(c),b=new xph(b,a.R,a.D,a.F,new ttc(c),this.gb),JO(a.V,"discussions",b,!0),this.Ba.add(b),b.setVisible(!0)))}};
function Wph(a,b){b&&(vx(b,"waffle-docos-target-cell-header"),a.Qa.add(b))}function Pph(a,b){var c=sJ(a.H),d=hI(a.D);d&&c&&b&&(d=OH(d,b.y,b.x)||un(b),d=FZe(c,d,"waffle-docos-target-cell-rect"),JO(c.V,"discussions",d,!0),a.Sa.add(d),d.setVisible(!0),d.getElement()&&a.Ja.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.Ek=b;c.dispatchEvent(e)}))}
function Mph(a){Jph(a);var b={};a.J.forEach(function(c){c=hS(Xph(c));var d=c.x+"-"+c.y;b[d]||(Pph(a,c),b[d]=!0)})}function Nph(a){Kph(a);var b=hI(a.D),c=sJ(a.H);if(b&&c){var d=c.R;c=c.F;b=GK(a.V,b);var e=Tzc(c,"r"),f=mN(c,"r"),h=Tzc(c,"c"),k=mN(c,"c");$c(Nch(b),function(l){l=hS(l);l.x>=h&&l.x<=k&&Wph(a,d.ib.getElement(hN(d,"ch-",null,d.mb.pH(l.x))));l.y>=e&&l.y<=f&&Wph(a,d.ib.getElement(hN(d,"rh-",d.mb.D4(l.y),null)))})}}m.$Hb=function(){Fph(this)};
function Fph(a){$c(Yd(a.V.C),function(b){var c=sdh(a.D,b);if(c){var d=GK(a.V,c);c=a.Ma;d=Nch(d).length;Rch(LZe(c,b),d);fQ(c)}})}m.zwb=function(a){if(a.C){var b=this.R.sb(a.C);Uch(this.F,b,Vph(this,a.cell))}};
function Cph(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.sb(k);var n=a;if(sJ(n.H)&&Rph(n,k)){var q=hS(k);Yph(n,Sph(n,q))?(q=n.C.D,q=!!q&&n.R.sb(q)==n.R.sb(k),n=n.C.C||q||kd(n.C.F.Ed(),k)):n=!1}else n=!1;n?(n=hS(k),n=Sph(a,n),q=$Ve(n),e[q]=e[q]||0,d[l]=Vph(a,Kn(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||Lph(a,!0);ce(d)||(b=a.F,b.C.updateDocoPositions(Tch(b,d)));v4(a.F)||Eph(a,f);c&&Zph(a)}
function Eph(a,b){var c=a.J.gx(new wph(b));if(!c.isEmpty()){a.J.Jc(c);b=a.F;c=Yd(c.C);for(var d=[],e=0;e<c.length;e++)d.push(UQ(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&Lph(a,!1)}
function Vph(a,b,c){c=void 0===c?0:c;var d=sJ(a.H),e=hI(a.D),f=d.D,h=f.Mb(),k=Sph(a,b),l=yM(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,r=Xm(a.C.H,b),w=yI(nI(e,b));q||r||!w?(b=n+(a.Ea?150:125),0<b-Ltc(f)&&(e=NH(e,"r")-1,CN(f,b,"r","waffle")>=e&&(n-=50))):(q=RRc(d),r=q.L,URc(d,Kn(JI(e,un(b))),q,q.Ra),e=q.H.height?q.Qa:0,b=q.J.height,d=Math.min(Wtc.height,e+b),b&&(d=d+42+Xtc.top,d+=Xtc.bottom),e&&(d=d+12+Xtc.top,d+=Xtc.bottom),e=d,htc(q,r),n+=e);a=a.Ea?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>Ktc(f);l=h?c>Ktc(f):0>c;a&&!l&&(k=c);return new Wm(h?vM(f,k,"c"):k,n)}function Rph(a,b){b=tdh(a.D,b);a=hI(a.D);return!!b&&b==a}function Yph(a,b){if(!b)return!1;var c=sJ(a.H).F,d=!1,e=Kn(b);$Ba(b,function(f,h){var k;if(k=f==e.y)k=null!=Szc(c,new Wm(h,f));return k?d=!0:!1});return d}m.P0b=function(){zph(this)};
function zph(a){var b=sJ(a.H);b&&(a.gb.appendChild(b.Yj,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.D.Mb()),P(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function Lph(a,b){var c=y_e(a.O);c="string"===typeof c?1:c;Cw(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Tf(a.L),P(a.O,b)):a.L&&$x(a.L)&&a.Ra==d||(Tf(a.L),P(a.O,!0),a.L=new gB(a.O,c,"in"==d?1:0,250),a.Ra=d,"out"==d&&Oo(a.L,"finish",function(){Bph(a,!0);var e=sJ(a.H);e&&EO(e)}),a.L.play())}
function Zph(a){a.J.forEach(function(b){var c=a.R.sb(b),d=a.F.getDocoMaxHeight(c);b=Xph(b);b=hS(b);b=Vph(a,b);var e=sJ(a.H),f=e.D,h=e.Ud;h=h.uR(h.BX()-1);var k=hI(a.D).V.y;e=mN(e.F,"r");f=CM(f,new mn(k,e),"r");f+=h;h=wN(sJ(a.H).D,"c");b=Yl(f-(b.y-h),a.Ea?150:125,a.xa);d!=b&&(b<a.xa||d)&&(d=a.F,d.C.setDocoMaxHeight(UQ(d.D,c),b))})}function Xph(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
m.Ka=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.gb;delete this.Ra;delete this.Ja;delete this.D;delete this.Xa;Tf(this.L);delete this.L;Jph(this);Iph(this);Kph(this);Uo.prototype.Ka.call(this)};function Arh(){eJ.apply(this,arguments)}t(Arh,eJ);m=Arh.prototype;m.c7b=function(a,b,c,d,e,f){return new hdh(a,b,c,d,e,void 0,f,jD)};m.Pmb=function(){return Cdh};m.Qmb=function(){return ndh};m.Rmb=function(){return yph};m.O1b=function(){return Evf()};iJ("docos",Arh);
