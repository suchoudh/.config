!function(){function e(t,r,n){function a(o,l){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){return a(t[o][1][e]||e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}return e}()({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.note_buffer_p_prefix=r.note_buffer_t_prefix=r.top_bar=void 0;var n={top_offset_full:44,top_offset_mini:38};r.top_bar=n;r.note_buffer_t_prefix="note_t_";r.note_buffer_p_prefix="note_p_";var a={top_bar:n,note_buffer_t_prefix:"note_t_",note_buffer_p_prefix:"note_p_"},i=a;r.default=i},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.mark=r.get=void 0,window.CURRENT_ACTION_PERFOMED=null;var n=function(){return window.CURRENT_ACTION_PERFOMED};r.get=n;var a=function(e){window.CURRENT_ACTION_PERFOMED=e,Signals.sendSignal("action_performed"),IstTooltip.hide(),IstComplete.hide(),window.CURRENT_ACTION_PERFOMED=null};r.mark=a;var i={get:n,mark:a};r.default=i},{}],3:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=function(){function e(){(0,a.default)(this,e),this.render=this.render.bind(this),this.showTooltip=this.showTooltip.bind(this),this.getDescription=this.getDescription.bind(this)}return(0,i.default)(e,[{key:"render",value:function(e,t,r,n){var a;a=r[e]?svgs.get(r[e]):"";var i=SPAN({c:"truncated e_name"},this.getDescription(e,t)),o=SPAN({c:"svg_select_arrow"},svgs.get("sm1/caret.svg")),l=A({href:"#",c:"event_select_item","data-track":"activity_log|filter_by_activity"},o,DIV(a,i));n.fixed_pos&&$addClass(l,"fixed_pos");var s=n.tooltip_txt||_("Filter by activity");return e&&(s=n.tooltip_txt_selected||_("Filtering by"),s+=" ".concat(this.getDescription(e,t).toLowerCase())),IstTooltip.showSimpleText(l,s),l.showTooltip=$p(this.showTooltip,l,o,e,t,r,n),$AEV(l,"click",l.showTooltip),l}},{key:"showTooltip",value:function(e,t,r,n,a,i){var o=this,l=i.selectedItem,s={selectedItem:l,collection:function(){return n},filterItem:function(e){var t;if(e){var r=SPAN({c:"truncated e_name"},e.name);return t=null!=a[e.value]?svgs.get(a[e.value]):SPAN({c:"blank_icon"}),DIV(DIV({c:"ist_complete_icon"},t),DIV({c:"ist_complete_content"},r))}},onSelect:function(t){if(track("activity_log","click","filter_by_activity_select"),GB_hide(),e.showTooltip=null,$swap(e,e=o.render(t.value,n,a,i)),$isFunction(i.onSelect))return i.onSelect(t.value)},wildcard_match:!0,placeholder:_("Search")},u=new IstCompleteSelect(s);return u.showTooltip({title:_("Filter by activity"),icon:t,top_offset:i.top_offset||25,left_offset:i.left_offset||205,arrow_left_offset:i.arrow_left_offset||-135,fn_on_hide:function(){return u=null}}),!1}},{key:"getDescription",value:function(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;if(l.value===e)return l.name}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}}]),e}(),l=new o;r.default=l},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],4:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/extends")),o=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),s=n(e("../agenda/RenderDayView")),u=n(e("../formatter/Formatter.js")),c=n(e("../items_utils/ItemDueDates.js")),d=n(e("../../models/ItemsModel")),f=n(e("../items_utils/ItemsRender")),p=n(e("../../models/ProjectsModel")),m=n(e("../notes/NotesUtils")),h=n(e("../../models/Collaborators")),v=n(e("../avatars/Avatars")),b=n(e("../people_assigner/PeopleAssigner")),y=n(e("./ActivityEvents")),g=n(e("../format_html/FormatHtml")),E=n(e("../../models/DateExt")),T=n(e("../themes/Themes")),w=n(e("../../models/SyncEngine")),R=e("../../reducers/notes"),P=n(e("../../stores/store")),D=e("../../reducers/mainView"),O=e("../../reducers/detailView"),C=e("../../utils"),I=n(e("react")),S=n(e("react-dom")),k=e("react-redux"),M=n(e("../../react_components/project_picker")),j=e("../../react_components/icons"),N=function(){function e(){(0,o.default)(this,e),this._resetState=this._resetState.bind(this),this.showActivity=this.showActivity.bind(this),this.changeLocation=this.changeLocation.bind(this),this.renderEvents=this.renderEvents.bind(this),this._renderEvents=this._renderEvents.bind(this),this._renderLoadMore=this._renderLoadMore.bind(this),this._renderEvent=this._renderEvent.bind(this),this._prepareContent=this._prepareContent.bind(this),this._renderBlankState=this._renderBlankState.bind(this),this._processReqData=this._processReqData.bind(this),this._resetState()}return(0,l.default)(e,[{key:"_resetState",value:function(){return this.project_by_id={},this.item_by_id={},this.current_page=1,this.current_offset=0,this.event_icons={"item:added":"sm1/notification_assigned.svg","item:updated":"sm1/notification_updated.svg","item:completed":"sm1/notification_completed.svg","item:uncompleted":"sm1/notification_uncompleted.svg","item:deleted":"sm1/notification_deleted.svg","note:added":"sm1/notification_commented.svg"},this.no_events=!0,this.no_more_events=!1}},{key:"showActivity",value:function(e,t,r,n){var a,o,l,s;if(Signals.sendSignal("projects.reset"),this.project_picker_holder&&S.default.unmountComponentAtNode(this.project_picker_holder),this.current_page=0,this.current_offset=0,this.no_events=!0,this.no_more_events=!1,null==t){o=_("Activity: ");var c=e||0,f=0===c?{id:0,name:_("All projects")}:p.default.get(c);this.project_picker_holder=l=SPAN({c:"activity_selector"}),S.default.render(I.default.createElement(k.Provider,{store:P.default},I.default.createElement(M.default,{onSelect:function(e){var t=e.project_id;P.default.dispatch((0,D.showActivityView)({projectId:0!==t?t:null,itemId:null,eventFilter:r,userFilter:n}))},selectedProjectId:e,withAllProjectsOption:!0},function(e){var t=e.toggle,r=e.buttonProps;return I.default.createElement("a",(0,i.default)({href:"#",onClick:t},r),I.default.createElement("div",{className:"ist_complete_content"},I.default.createElement("span",{className:"truncated p_name"},f.name)),I.default.createElement("span",{className:"icon"},I.default.createElement(j.CaretIcon,null)))})),l);var m=$gc(l,"img");$add(l,m)}else{o=_("Activity: ");var h=d.default.getById(parseInt(t)),v=u.default.format(h&&h.content||"");v=v.replace(/^\*\s+/g,""),l=$setHTML(SPAN({c:"truncated item_header"}),v)}if(null==t){var g;if(a=DIV({c:"filters"}),void 0===n&&(n=window.User.id),null!=e){var E=p.default.get(e),T=p.default.getChildren(E,!0);g=function(){var e=[],t=!0,r=!1,n=void 0;try{for(var a,i=T[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)s=a.value,e.push(s.id)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}()}else g=function(){var e=[],t=!0,r=!1,n=void 0;try{for(var a,i=p.default.getAll()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)s=a.value,e.push(s.id)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}();var w=function(t){return track("activity_log","click","filter_by_collaborator_select"),P.default.dispatch((0,D.showActivityView)({projectId:e,itemId:null,eventFilter:r,userFilter:t})),null},R={unassigned_txt:_("Everyone"),unassigned_icon_disable:!0,tooltip_txt:_("Filter by collaborator"),title_txt:_("Filter by collaborator"),tooltip_txt_selected:_("Filtering by collaborator"),show_name:!0,responsible_uid:n,fn_on_select:w,placeholder_txt:_("Search"),project_id:g,never_hide:!0,left_offset:140,arrow_left_offset:-90,me_str:_x("activity_log","Me"),enabled:!0},O=new b.default(R),C=SPAN({c:"select_user","data-track":"activity_log|filter_by_collaborator"},O.render(R));$add(a,C);var A=[{value:null,name:_("All actions")},{value:"item:added",name:_("Added tasks")},{value:"item:updated",name:_("Updated tasks")},{value:"item:completed",name:_("Completed tasks")},{value:"item:uncompleted",name:_("Uncompleted tasks")},{value:"item:deleted",name:_("Deleted tasks")},{value:"note:added",name:_("Added comments")}];null==r&&(r=null);var N={selectedItem:function(){return r},onSelect:function(t){P.default.dispatch((0,D.showActivityView)({projectId:e,itemId:null,eventFilter:t,userFilter:n}))}},x=SPAN({c:"select_event"},y.default.render(r,A,this.event_icons,N));$add(a,x)}var L=DIV({id:"activity_app"},H2({c:"project_header section_header"},o,l),a,DIV({id:"activity_show"}));return $replace($("editor"),L),this.renderEvents(e,t,r,n),!1}},{key:"changeLocation",value:function(e,t,r,n){var a="undefined"!==n&&n!==window.User.id,i="activity";return(null!=e||null!=t||null!=r||a)&&(null!=e?i+="/project/".concat(e):null!=t?i+="/task/".concat(t):(null!=r||a)&&(i+="/null/null"),null!=r?i+="/".concat(r):a&&(i+="/null"),a&&(i+="/".concat(n))),Signals.sendSignal("change_location",i)}},{key:"renderEvents",value:function(e,t,r,n){var i=this;this._resetState();var o=$("activity_show");if(!window.User.is_premium)return void $replace(o,this._renderBlankState(0));$replace($("activity_show"),Indicator.cssSpinner());var l=Array.from(this._createReq(e,t,r,n)),s=(0,a.default)(l,2),u=s[0],c=s[1];return u.addCallback(function(a){if(i._processReqData(a),$replace(o,null),i.changeLocation(e,t,r,n),0!==$values(c).length&&0===a.events.length){var l;return $add(o,l=A({c:"load_more no_results"})),i.current_page-1==1?$replace(l,_("No activity in the past week.")):$replace(l,g.default.format(_("No activity in the past {count} weeks."),{count:(i.current_page-1).toString()})),i._renderLoadMore(o,e,t,r,n)}return 0===a.events.length?$replace(o,i._renderBlankState()):(i.no_events&&(i.no_events=!1),i._renderEvents(o,a.events,e,t,r,n))}),this._renderLoadMore(o,e,t,r,n),u.addErrback(function(e,t){var r=$("activity_app");r&&$replace(r,getOfflineMessage(t))}),u.sendReq(c)}},{key:"_renderEvents",value:function(e,t,r,n,a,i){var o=!0,l=!1,u=void 0;try{for(var c,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var f=c.value;if(void 0!==f.extra_data&&(void 0!==f.extra_data.name||void 0!==f.extra_data.content)){var p=f.event_date;p=DateistDateHelpers.date_max(p);var m="".concat(p.getFullYear(),"-").concat(p.getMonth(),"-").concat(p.getDate()),h="day_header_".concat(m),_="day_ul_".concat(m),v=$(h);v||(v=s.default._renderDayHeader(p,!1),v.id=h,$add(e,v));var b=$(_);b||(b=UL({c:"items",id:_}),$add(e,b)),null!=n&&"item"===f.object_type&&"added"===f.event_type&&(this.no_more_events=!0),this._renderEvent(e,b,f)}}}catch(e){l=!0,u=e}finally{try{o||null==d.return||d.return()}finally{if(l)throw u}}return $replaceClass($$("h2",$("activity_show")),"section_header","subsection_header"),this._renderLoadMore(e,r,n,a,i)}},{key:"_renderLoadMore",value:function(e,t,r,n,i){var o,l=this;return $add(e,o=A({c:"load_more",href:"#","data-track":"activity_log|load_more"})),!0===this.no_more_events?($addClass(o,"no_more_results"),void $replace(o,_("That's it. No more history to load."))):(1===this.current_page?$replace(o,_("Load more history from last week...")):$replace(o,g.default.format(_("Load more history from {count} weeks ago..."),{count:this.current_page.toString()})),$AEV(o,"click",function(){if(o.loading)return!1;o.loading=!0,$replace(o,Indicator.cssSpinner());var s=Array.from(l._createReq(t,r,n,i)),u=(0,a.default)(s,2),c=u[0],d=u[1];return c.addCallback(function(a){return l._processReqData(a),0===a.events.length?($remove($$(".no_results")),l.no_events?($addClass(o,"no_results"),l.current_page-1==1?$replace(o,_("No activity in the past week.")):$replace(o,g.default.format(_("No activity in the past {count} weeks."),{count:(l.current_page-1).toString()}))):$remove(o),l._renderLoadMore(e,t,r,n,i)):(l.no_events&&(l.no_events=!1,$remove($$(".no_results"))),$remove($$(".activity_error")),$remove(o),l._renderEvents(e,a.events,t,r,n,i))}),c.addErrback(function(e,t){alert(getOfflineMessage(t)),o.loading=!1}),c.sendReq(d),!1}))}},{key:"_renderEvent",value:function(e,t,r){var n,a,i,o,l=this._prepareContent(r);if(null!=l){var s=window.User;null!==r.initiator_id&&r.initiator_id!==s.id&&null!=(i=h.default.getUserById(r.initiator_id))&&(s=i),null!==r.initiator_id&&r.initiator_id!==s.id&&null==i?(n=null,a=SPAN()):(n=v.default.renderAvatar(s,"medium",T.default.theme),a=svgs.get(this.event_icons[r.object_type+":"+r.event_type]));var u=SPAN({c:"activity_time"},C.DateUtils.getHourAndMin(r.event_date));null!=r.extra_data.client&&IstTooltip.showSimpleText(u,r.extra_data.client);var c=null;if("project"===r.object_type?o=r.object_id:"item"!==r.object_type&&"note"!==r.object_type||(o=r.parent_project_id),null!=o){var d=this.project_by_id[o]||p.default.get(o);d&&(this.project_by_id[o]||(this.project_by_id[o]=d),c=f.default.createProjectItem({project_id:d.id},d))}var m=LI({c:"event"},DIV({c:"avatar"},n,DIV({c:"avatar_event_icon"},a)),DIV({c:"text"},l,u,DIV({c:"project","data-track":"activity_log|select_project"},c)));return $add(t,m)}}},{key:"_prepareContent",value:function(e){var t,r={added_task:{you:_("{you} added a task: {task}"),user:_("{user} added a task: {task}"),someone:_("{someone} added a task: {task}")},deleted_task:{you:_("{you} deleted a task: {task}"),user:_("{user} deleted a task: {task}"),someone:_("{someone} deleted a task: {task}")},completed_task:{you:_("{you} completed a task: {task}"),user:_("{user} completed a task: {task}"),someone:_("{someone} completed a task: {task}")},uncompleted_task:{you:_("{you} uncompleted a task: {task}"),user:_("{user} uncompleted a task: {task}"),someone:_("{someone} uncompleted a task: {task}")},renamed_task:{you:_("{you} changed the name of {old} to {task}"),user:_("{user} changed the name of {old} to {task}"),someone:_("{someone} changed the name of {old} to {task}")},set_task_due_date:{you:_("{you} set the due date of {task} to {due_date}"),user:_("{user} set the due date of {task} to {due_date}"),someone:_("{someone} set the due date of {task} to {due_date}")},removed_task_due_date:{you:_("{you} removed the due date of {task}"),user:_("{user} removed the due date of {task}"),someone:_("{someone} removed the due date of {task}")},changed_task_due_date:{you:_("{you} changed the due date of {task} to {due_date}"),user:_("{user} changed the due date of {task} to {due_date}"),someone:_("{someone} changed the due date of {task} to {due_date}")},assigned_task:{you:{to_you:_("{you} assigned {task} to {to_yourself}"),to_user:_("{you} assigned {task} to {to_user}"),to_someone:_("{you} assigned {task} to {to_someone}")},user:{to_you:_("{user} assigned {task} to {to_you}"),to_user:_("{user} assigned {task} to {to_user}"),to_someone:_("{user} assigned {task} to {to_someone}")},someone:{to_you:_("{someone} assigned {task} to {to_you}"),to_user:_("{someone} assigned {task} to {to_user}"),to_someone:_("{someone} assigned {task} to {to_someone_else}")}},reassigned_task:{you:{to_you:_("{you} re-assigned {task} to {to_yourself}"),to_user:_("{you} re-assigned {task} to {to_user}"),to_someone:_("{you} re-assigned {task} to {to_someone}")},user:{to_you:_("{user} re-assigned {task} to {to_you}"),to_user:_("{user} re-assigned {task} to {to_user}"),to_someone:_("{user} re-assigned {task} to {to_someone}")},someone:{to_you:_("{someone} re-assigned {task} to {to_you}"),to_user:_("{someone} re-assigned {task} to {to_user}"),to_someone:_("{someone} re-assigned {task} to {to_someone_else}")}},unassigned_task:{you:_("{you} unnassigned {task}"),user:_("{user} unassigned {task}"),someone:_("{someone} unassigned {task}")},added_comment_to:{you:_("{you} added a comment to {task}: {comment}"),user:_("{user} added a comment to {task}: {comment}"),someone:_("{someone} added a comment to {task}: {comment}")},added_comment:{you:_("{you} added a comment: {comment}"),user:_("{user} added a comment: {comment}"),someone:_("{someone} added a comment: {comment}")},added_project_comment_to:{you:_("{you} added a project comment to {project}: {comment}"),user:_("{user} added a project comment to {project}: {comment}"),someone:_("{someone} added a project comment to {project}: {comment}")},added_project_comment:{you:_("{you} added a project comment: {comment}"),user:_("{user} added a project comment: {comment}"),someone:_("{someone} added a project comment: {comment}")}},n=null,a={},i="you";if(a.you=SPAN({c:"user"},_("You")),null!==e.initiator_id&&e.initiator_id!==window.User.id){var o=h.default.getUserById(e.initiator_id);null!=o?(i="user",a.user=SPAN({c:"user"},u.default.formatSimple(o.full_name.split(" ")[0]))):(i="someone",a.someone=SPAN({c:"user"},_("Someone")))}if("item"===e.object_type){if(null!=e.extra_data.content&&(t=u.default.format(e.extra_data.content),t=t.replace(/^\*\s+/g,""),a.task=$setHTML(SPAN({c:"object"}),t)),"added"===e.event_type)n=r.added_task[i];else if("deleted"===e.event_type)$setClass(a.task,"through"),n=r.deleted_task[i];else if("completed"===e.event_type)$setClass(a.task,"through"),n=r.completed_task[i];else if("uncompleted"===e.event_type)n=r.uncompleted_task[i];else if("updated"===e.event_type)if(void 0!==e.extra_data.last_content)t=u.default.format(e.extra_data.last_content),t=t.replace(/^\*\s+/g,""),a.old=$setHTML(SPAN({c:"through"}),t),n=r.renamed_task[i];else if(void 0!==e.extra_data.due_date)if(null===e.extra_data.due_date)n=r.removed_task_due_date[i];else{var l=E.default.fromDate(new Date(e.extra_data.due_date));a.due_date=c.default.create({due:l},!0),$setClass(a.due_date,"bold"),n=null===e.extra_data.last_due_date?r.set_task_due_date[i]:r.changed_task_due_date[i]}else if(void 0!==e.extra_data.responsible_uid)if(null===e.extra_data.responsible_uid)n=r.unassigned_task[i];else{var s,f=h.default.getUserById(e.extra_data.responsible_uid);null!=f?window.User.id===f.id?(s="to_you","you"===i?a.to_yourself=SPAN({c:"user"},_("yourself")):a.to_you=SPAN({c:"user"},_("you"))):(s="to_user",a.to_user=SPAN({c:"bold"},u.default.formatSimple(f.full_name.split(" ")[0]))):(s="to_someone","someone"===i?a.to_someone_else=SPAN({c:"user"},_("someone else")):a.to_someone=SPAN({c:"user"},_("someone"))),n=null===e.extra_data.last_responsible_uid?r.assigned_task[i][s]:r.reassigned_task[i][s]}}else if("note"===e.object_type&&(null!=e.extra_data.content&&(t=u.default.format('"'.concat($trim(e.extra_data.content,160),'"')),t=t.replace(/^\*\s+/g,""),a.comment=$setHTML(DIV({c:"object"}),t)),"added"===e.event_type))if(null!=e.parent_item_id){var v=e.parent_item_id,b=this.item_by_id[v]||d.default.getById(v);b&&(this.item_by_id[v]||(this.item_by_id[v]=b),t=u.default.format(b.content),t=t.replace(/^\*\s+/g,""),a.task=$setHTML(SPAN({c:"object"}),t)),null!=a.task?($AEV(a.comment,"click",function(){P.default.dispatch((0,O.detailViewShowItem)(e.parent_item_id,{activeTab:"comments",highlightedNoteId:e.object_id}))}),a.comment=A({href:"#"},a.comment),n=r.added_comment_to[i]):n=r.added_comment[i]}else if(null!=e.parent_project_id){var y=e.parent_project_id,T=this.project_by_id[y]||p.default.get(y);T&&(this.project_by_id[y]||(this.project_by_id[y]=T),t=u.default.format(T.name),t=t.replace(/^\*\s+/g,""),a.project=$setHTML(SPAN({c:"object"}),t)),null!=a.project?($AEV(a.comment,"click",function(){P.default.dispatch((0,O.detailViewShowProject)(e.parent_project_id,{activeTab:"comments",highlightedNoteId:e.object_id}))}),a.comment=A({href:"#"},a.comment),n=r.added_project_comment_to[i]):n=r.added_project_comment[i]}var w=g.default.format(n,a);if(null==w)return null;var D=DIV();if($add(D,w),"item"===e.object_type){var C=m.default.renderIcon({id:e.object_id},R.TYPE_ITEM_NOTE,e.extra_data.note_count);$add(D,C)}return D}},{key:"_renderBlankState",value:function(){var e;e=window.User.is_premium?_("You don't have any events"):_("The activity log is a premium feature");var t=DIV();$setHTML(t,_("See all changes that have been made in your account, by you or your collaborators.{next_line}Free users can still view their completed tasks inside any project.").replace("{next_line}","<br/>"));var r=DIV({c:"blank_state_text"},B(e),t);return window.User.is_premium||$add(r,DIV({c:"text"},$setHTML(SPAN(),_("<a>Upgrade to Todoist Premium</a> for instant access to this and a lot of other features.").replace("<a>",'<a href="/premium" target="_blank">')))),r}},{key:"_createReq",value:function(e,t,r,n){var a=$requestJSON("/API/".concat(w.default.api_version,"/activity/get"));a.offline_message=!0;var i={token:window.User.token,annotate_notes:!0,limit:30};return null!=n&&(i.initiator_id=n,n===window.User.id&&(i.initiator_id_null=!0)),i.object_event_types=null!=r?'["'.concat(r,'"]'):'["item:", "note:added"]',null!=e?(i.parent_project_id=e,i.include_child_objects=!0):null!=t&&(i.parent_item_id=t,i.include_parent_object=!0),this.current_page>=2&&(i.page=this.current_page),0!==this.current_offset&&(i.offset=this.current_offset),[a,i]}},{key:"_processReqData",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=e.events[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;$isString(o.event_date)&&(o.event_date=new Date(o.event_date))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}if(this.current_offset+=e.events.length,this.current_offset>=e.count)return this.current_page+=1,this.current_offset=0}}]),e}(),x=new N;r.default=x},{"../../models/Collaborators":150,"../../models/DateExt":154,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../models/SyncEngine":171,"../../react_components/icons":731,"../../react_components/project_picker":854,"../../reducers/detailView":996,"../../reducers/mainView":1015,"../../reducers/notes":1021,"../../stores/store":1048,"../../utils":1094,"../agenda/RenderDayView":11,"../avatars/Avatars":17,"../format_html/FormatHtml":21,"../formatter/Formatter.js":22,"../items_utils/ItemDueDates.js":34,"../items_utils/ItemsRender":36,"../notes/NotesUtils":50,"../people_assigner/PeopleAssigner":55,"../themes/Themes":91,"./ActivityEvents":3,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],5:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.get=void 0;var l,s=o(e("@babel/runtime/helpers/objectWithoutProperties")),u=o(e("@babel/runtime/helpers/defineProperty")),c=o(e("../../models/DateExt")),d=o(e("../action_perfomed/ActionPerformed")),f=o(e("../items_utils/ItemCommonEdits")),p=o(e("../items_utils/ItemsRender")),m=o(e("../items_utils/ItemCheckbox")),h=o(e("../generic_manager/GenericManagerUtils.js")),v=o(e("../generic_manager/GenericArrows.js")),b=o(e("../../menus/MenuAgendaEdit.js")),y=o(e("../left_menu/LeftMenu")),g=o(e("../project_editor/ProjectEditorManager")),E=o(e("../quick_find/QuickFind")),T=o(e("./AgendaUtils")),w=o(e("./AgendaRenderUtils")),R=o(e("./AgendaCurrentDays")),P=o(e("./CompletedToday")),D=o(e("../../models/ItemsModel")),O=o(e("../../filterist")),C=e("../../filterist/errors"),I=e("../../filterist/section"),A=o(e("../onboarding/Onboarding")),S=i(e("../../containers/premium_promo/PremiumOnlyModal")),k=e("../../react_components/reactist/modal"),M=o(e("../../react_components/edit_filter_modal")),j=e("../../utils"),N=o(e("../../models/ProjectsModel")),x=o(e("../projects_list/ProjectListUtils")),L=o(e("../../stores/store")),q=o(e("../../stores/subscribeSelected")),U=e("../../reducers/counts"),F=e("../../constants/constants"),z=o(e("react")),B=o(e("react-dom")),H=e("../../reducers/filters"),V=e("../../reducers/mainView"),W=e("../../react_components/emptyState"),G=e("../../reducers/tooltip"),Y=o(e("../../react_components/item_editor/ItemEditorLegacyWrapper")),K=e("../../reducers/reminders"),X=e("../../react_components/confirm_dialog"),J=e("../../reducers/user"),Q=o(e("../items_utils/removeItemInList")),Z=function(){return l};r.get=Z;var ee=function(){window.AgendaInstance=l=new te};r.init=ee;var te=Class({name:"Agenda",init:function(){var e=this;$bindMethods(this),this.saved_collapse_state={},this.current_query="",this.current_view_type=null,this.genereateAgendaArrows(),R.default.reset(),Signals.connect("theme_changed",function(){e.currenty_query&&(P.default.reset(),e.renderCompletedTodayIfNeeded())});var t=this;Signals.connect("natural_language_project_updated",function(e){var r=t.current_form&&t.current_form[1]&&t.current_form[1].people_assigner;if(r){r.onProjectUpdated(e);var n=$gc(t.current_form[1],"td","people_assigner_holder");r.isShown()?$show(n):$hide(n)}}),(0,q.default)(L.default,function(e){return e.user.features.karma_vacation},function(e){return e.user.days_off},function(){P.default.reset(),e.renderCompletedTodayIfNeeded()})},query:function(e,t,r){return d.default.mark("Agenda/query"),window.AGENDA_LAST_SHOWN=null,t=void 0===t||t,r=void 0===r||r,Signals.sendSignal("agenda_query",e),this.current_query=e,0!=r&&E.default.setValue(""),this.clearEmptyStateIfNeeded(),y.default.hide(),this._runQuery(t),!1},reset:function(){E.default.setValue(""),E.default.setPlaceholder(null),this.current_query="",this.saved_collapse_state={},R.default.reset(),P.default.reset()},saveCurrentCollapseState:function(){this.saved_collapse_state={};var e=this.saved_collapse_state;$map($all("li","task_item"),function(t){t.json&&(e[t.json.id]=t._collapsed)})},refresh:function(){if(this.current_form)return void setTimeout(this.refresh,300);this.current_query.length&&(this.saveCurrentCollapseState(),this._runQuery())},blur:function(){E.default.blur()},showFilterEmptyState:function(){function e(){function e(e){var t=(0,H.filterGetAll)(o).reduce(function(e,t){return e[t.id]=t.item_order+1,e},{});L.default.dispatch((0,H.filterUpdateOrders)(t));var r=L.default.dispatch((0,H.filterAdd)(a({},e,{item_order:1}))),n=r.id;L.default.dispatch((0,V.showFilterView)(n,{bottomListSelected:!0}))}function t(e){var t=e.id,r=(0,s.default)(e,["id"]);L.default.dispatch((0,H.filterUpdate)(t,r)),L.default.dispatch((0,V.showFilterView)(t,{bottomListSelected:!0}))}if(!(0,J.isPremium)(o))return void S.showFilter();(0,k.openModal)(function(r){return z.default.createElement(M.default,{filter:l,onCreate:e,onUpdate:t,onClose:r})})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.badSymbol,n=t.queryString,i=DIV({id:"empty-state-holder"}),o=L.default.getState(),l=(0,H.filterGetByID)(o,o.mainView.id);B.default.render(z.default.createElement(W.EmptyStateFilterIncorrect,{query:n,symbol:r,onButtonClick:function(){Signals.sendSignal("filterlist_open_edit",o.mainView.id),e()}}),i);var u=$("editor");$replace(u,i),l&&$addToTop(u,DIV(H2({c:"section_header"},l.name)))},_runQuery:function(e){g.default.reset();var t=this;if(this.current_form=null,""===this.current_query)return!1;Signals.sendSignal("change_location","agenda/"+this.current_query);var r,n=L.default.getState();try{r=O.default.filter(this.current_query,n)}catch(t){if(!(t instanceof C.UnrecognizedSymbolError))return console.log(t),this.showFilterEmptyState();if(!e)return this.showFilterEmptyState(t);try{var a="q:"+this.current_query;r=O.default.filter(a,n),this.current_query=a}catch(e){return this.showFilterEmptyState(t)}}R.default.reset();var i=DIV({id:"agenda_view"}),o=r.length>1;o&&(r=r.filter(function(e){return!(e.view===I.VIEW_TYPE_OVERDUE&&0==e.items.length)}),o=r.length>1);var l=this.current_query==F.DEFAULT_QUERY_TODAY||this.current_query==F.DEFAULT_QUERY_7_DAYS;if(!this.current_view_type&&r.length>0){var s=r[0].name;s&&s.indexOf(" ")<0&&"@"===s[0]?this.current_view_type=F.MAIN_VIEW_TYPE_LABEL:this.current_view_type=F.MAIN_VIEW_TYPE_FILTER}var u=!1;if($map(r,function(e){e.items.length>0&&(u=!0),w.default.renderSection(t,i,e,l,e.orderable,o)}),u?this.clearEmptyStateIfNeeded():this.renderCompletedTodayIfNeeded(i),this.renderEmptyNext7DaysIfNeeded(i),(this.current_query==F.DEFAULT_QUERY_TODAY||this.current_query==F.DEFAULT_QUERY_7_DAYS)&&r.length>1){var c;c=this.current_query==F.DEFAULT_QUERY_TODAY?HEADER({c:"view_header large_margin_bottom"},H1(_("Today"))):HEADER({c:"view_header large_margin_bottom"},H1(_("Next 7 days"))),$addToTop(i,c),$all("h2","section_header",i).forEach(function(e){$replaceClass(e,"section_header","subsection_header")})}this.cur_div=i,$replace($("editor"),i),Signals.sendSignal("rendered.queries"),this.renderOnboardingTipIfNeeded(),this.flashItem(),this.highlightItems()},flashItem:function(){if(this.flash_item){var e=$("item_"+this.flash_item);e&&($addClass(e,"item_flash"),window.scrollTo(0,$position(e).y-200)),this.flash_item=null}},highlightItems:function(){this.highlight_item_ids&&(this.highlight_item_ids.forEach(function(e){var t=$("item_"+e);t&&$addClass(t,"item_hightlight_flash")}),this.highlight_item_ids=null)},showAddItem:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return this.saveCurrentItem(function(){var i=$parent(e,"li"),o=$parent(e,"ul");n.clearEmptyStateIfNeeded();var l=DateUtils.dateistResultFromDate(o.day_date),s=LI({c:"manager"});t.editor=new Y.default({item:a({},r,{due:c.default.fromDateist(l)}),holder:s,withQuickNote:(0,J.isPremium)(L.default.getState()),withIgnoredInitialMatches:!r.content,onCancel:function(){track("task_form","click","cancel"),t.editor.remove(),$show(i),n.current_form=null,n.renderCompletedTodayIfNeeded()},onSubmit:function(){track("task_form","click","add_from_agenda"),n._onAdd()&&n.showAddItem(e)},onKeyDown:function(e){t.handleEditorKeyDown(e,i)},onMultilinePaste:t._handleMultilinePaste}),n.current_form=["add",s],$hide(i),$addBefore(s,i),t.editor.show()}),!1},_onAdd:function(e){var t=this.current_form[1],r=t.nextSibling,n=this.editor.getResultItem();if(!n.content)return this.current_form=null,this.editor.remove(),$show(r),$isFunction(e)&&e(),!1;var i=$parent(t,"ul"),o=this,l=$parent(t,"li"),s=a({},n);s.project_id||(s.project_id=window.User.inbox_project);var u=1,c=l.previousSibling;c&&c.json&&c.json.day_order&&(u=c.json.day_order+1),s.day_order=u,s.item_order=null;var d=D.default.add(s);if(d.due&&d.due.isSameDate(i.day_date)){var p=o.renderItem(d);$swap(l,p),this.displayArrows(p.json,p)}else $remove(l),this.current_form=null,this.flash_item=d.id,this.refresh(),f.default.notifyAddedTo(d);return this.current_form=null,this.editor.remove(),$show($child(i,"li","agenda_add_task")),$isFunction(e)&&e(),!0},saveCurrentItem:function(e){if(this.current_form){var t;t="edit"==this.current_form[0]?this._onSave:this._onAdd,t(e)}else e()},editCurrentItem:function(e,t){var r=$parent($eventElm(t),"li");if(this.isClickAble(r)){b.default.get().hide(!0);var n=$p(this._initForm,r,e);return this.saveCurrentItem(n),!1}},goToProject:function(e){var t=$parent($eventElm(e),"li"),r=t.json;if(r){var n=N.default.get(r.project_id);n&&x.default.setCurrentById(n.id,r.id)}},_addMultilineTask:function(e){var t=this,r=e.shift()
;r&&(this.showAddItem($gc(this.cur_div,"li","agenda_add_task"),{content:r.replace(/^[-*] /g,""),project_id:window.User.inbox_project}),setTimeout(function(){t._onAdd(),t._addMultilineTask(e)},50))},_handleMultilinePaste:function(e,t){var r=this,n=this.editor.getResultItem();if(e=e.filter(function(e){return""!==e}),!(e.length>1)||n&&n.content)t();else{var a=_("Do you want to add %s tasks?").replace("%s",e.length);(0,X.showConfirmDialog)({confirmLabel:_("Add tasks"),message:a,onConfirm:function(){r._addMultilineTask(e)},onCancel:function(){t()}})}},_initForm:function(e){var t=this,r=this,n=e.json,a=h.default.getIndent(e),i=LI({c:"manager indent_".concat(a)});return this.editor=new Y.default({item:n,holder:i,withQuickNote:!1,onCancel:function(){t.editor.remove(),$show(e),r.current_form=null},onSubmit:r._onSave,onKeyDown:function(r){t.handleEditorKeyDown(r,e)},onMultilinePaste:this._handleMultilinePaste}),r.current_form=["edit",i],$hide(e),$addAfter(i,e),this.editor.show(),!1},_onSave:function(e){track("task_form","click","save");var t=this,r=$parent(t.current_form[1],"li"),n=r.previousSibling,a=$update({},n.json),i=this.editor.getResultItem(),o=(0,j.getObjectDifference)(i,a);if(this.editor.remove(),t.current_form=null,0===(0,j.keys)(o).length||""===o.content)return $show(n),void($isFunction(e)&&e());D.default.update(a.id,o),o.reminders&&L.default.dispatch((0,K.reminderUpdate)(a.id,o.reminders));var l=t.renderItem(i,n.render_opts||null);return $swap(n,l),this.displayArrows(l.json,l,!1),$map($all("li","item_"+n.json.id),function(e){if(e!=l){var r=t.renderItem(i,n.render_opts||null);$swap(e,r)}}),this.current_form=null,$isFunction(e)&&e(),this.refresh(),!1},renderItem:function(e,t){var r;r||(r={fn_toggle_menu:b.default.toggle,fn_complete_item:this.completeItem,fn_undo_complete_item:this.uncompleteItem,with_project:!0,with_time:!0,no_indent:!0}),t&&$update(r,t);var n=p.default.renderItem(e,r);n.render_opts.renderCls=this,$addClass(n,"agenda_item"),$addClass(n,"indent_1"),e.id in this.saved_collapse_state?n._collapsed=this.saved_collapse_state[e.id]:n._collapsed=!0;var a=!0;return t&&t.not_editable&&(a=!1),a&&(h.default.attachClick(n.td_time,$p(this.editCurrentItem,r)),h.default.attachClick(n.content,$p(this.editCurrentItem,r))),n},completeItem:function(e,t){var r=this;if(A.default.isFirstCompleteAction())return void A.default.showFirstCompleteAnimation(e,function(){r.completeItem(e,t)});var n=e.json.due&&e.json.due.isSameDate(new Date);d.default.mark("Agenda/complete");var a=!1;t&&t.shift&&(a=!0);var i=D.default.complete(e.json,a),o=!1,l=$first(i);l&&l.in_history&&(o=!0),$map(i,function(e){var t=$("item_"+e.id);t&&(!o&&$hasClass(t,"agenda_child_expanded")?m.default.update(t,1,r.uncompleteItem,!1):(0,Q.default)(t))}),r.arrows.updateArrows(),e.json.due&&e.json.due.is_recurring&&r.refresh(),n&&(P.default.reset(),setTimeout(r.renderCompletedTodayIfNeeded,150))},uncompleteItem:function(e){d.default.mark("Agenda/complete");var t=D.default.uncomplete(e.json.id);$update(e.json,t),m.default.update(e,0,this.completeItem),this.arrows.updateArrows(),this.renderCompletedTodayIfNeeded()},getSortableItems:function(){return $all("li","agenda_item").filter(function(e){if($hasClass(e,"reorder_item"))return!0;var t=e.json.due&&e.json.due.isLessThan(new Date);return!($isHidden(e)||$hasClass(e,"moved")||t)})},displayArrows:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=D.default.getChildren(e);n.no_completed&&(a=a.filter(function(e){return!e.in_history&&!e.checked})),a.length>0&&(this.arrows.displayArrow(t),r&&this.fetchChildren(t))},genereateAgendaArrows:function(){var e=this;this.arrows=new v.default,this.arrows.list=this,this.arrows.getChildren=h.default.getChildren,this.arrows._hasChildren=function(e){return!(!e||!e.json)&&D.default.getChildren(e.json).length>0},this.arrows._getArrows=function(e){return $all("div","arrow",e)},this.arrows._switchState=function(t){return l.saveCurrentItem(function(){var r=t.host_item;r._collapsed=!r._collapsed,e.fetchChildren(r),$remove($all("div","arrow",r)),e.arrows.displayArrow(r),e.saveCurrentCollapseState()}),!1}},fetchChildren:function(e){var t=ElementStore.get(e,"children");if(e.fetched&&t)return void(e._collapsed?$map(t,function(e){$hide(e)}):$map(t,function(e){$show(e)}));e._collapsed||T.default.fetchChildren(e)},getNElement:function(e){for(var t=e.nextSibling;t;){if(!$isHidden(t)&&!$hasClass(t,"manager"))return t;t=t.nextSibling}},getPElement:function(e){for(var t=e.previousSibling;t;){if(!$isHidden(t)&&!$hasClass(t,"manager"))return t;t=t.previousSibling}},renderEmptyNext7DaysIfNeeded:function(e){if(this.current_query===F.DEFAULT_QUERY_7_DAYS){var t=$("empty-state-holder");if(t)return $addToTop(e,t);var r=DIV({id:"empty-state-holder"});(0,G.isScheduled)(G.TOOLTIP_EMPTY_STATE_NEXT_7DAYS,L.default.getState())&&(B.default.render(z.default.createElement(W.EmptyStateNext7Days,null),r),$addToTop(e,r))}},renderCompletedTodayIfNeeded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("agenda_view");if(this.current_query===F.DEFAULT_QUERY_TODAY){var t;if(this.current_query===F.DEFAULT_QUERY_TODAY){var r=L.default.getState();(0,U.countToday)(r)+(0,U.countOverdue)(r)===0?($add(e,t=DIV({id:"completed_today_holder"})),P.default.render(t,e,this)):this.clearEmptyStateIfNeeded()}}},renderOnboardingTipIfNeeded:function(){A.default.showCompleteTaskTooltipIfNeeded()},clearEmptyStateIfNeeded:function(){var e=$("empty-state-holder");e&&(B.default.unmountComponentAtNode(e),$remove($("completed_today_holder")),$remove(e))},isClickAble:function(e){return e&&!$isIn($nodeName(e),["a","img"])&&!$hasClass(e,"label")&&!$hasClass(e,"menu")},handleEditorKeyDown:function(e,t){var r=this,n=(0,j.resolveKeyboardKey)(e.key);if((e.ctrlKey||e.metaKey)&&"ArrowUp"===n){e.preventDefault();var a=this.getPElement(t);if(a)return this.saveCurrentItem(function(){$hasClass(a,"task_item")?r._initForm(a):r.showAddItem(a)}),!1}if((e.ctrlKey||e.metaKey)&&"ArrowDown"===n){e.preventDefault();var i=this.getNElement(t);return!!i&&(this.saveCurrentItem(function(){$hasClass(i,"task_item")?r._initForm(i):r.showAddItem(i)}),!1)}}}),re={get:Z,init:ee};r.default=re},{"../../constants/constants":94,"../../containers/premium_promo/PremiumOnlyModal":104,"../../filterist":117,"../../filterist/errors":114,"../../filterist/section":120,"../../menus/MenuAgendaEdit.js":136,"../../models/DateExt":154,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../react_components/confirm_dialog":509,"../../react_components/edit_filter_modal":566,"../../react_components/emptyState":588,"../../react_components/item_editor/ItemEditorLegacyWrapper":754,"../../react_components/reactist/modal":880,"../../reducers/counts":994,"../../reducers/filters":1e3,"../../reducers/mainView":1015,"../../reducers/reminders":1029,"../../reducers/tooltip":1040,"../../reducers/user":1042,"../../stores/store":1048,"../../stores/subscribeSelected":1049,"../../utils":1094,"../action_perfomed/ActionPerformed":2,"../generic_manager/GenericArrows.js":24,"../generic_manager/GenericManagerUtils.js":26,"../items_utils/ItemCheckbox":32,"../items_utils/ItemCommonEdits":33,"../items_utils/ItemsRender":36,"../items_utils/removeItemInList":38,"../left_menu/LeftMenu":41,"../onboarding/Onboarding":52,"../project_editor/ProjectEditorManager":61,"../projects_list/ProjectListUtils":70,"../quick_find/QuickFind":72,"./AgendaCurrentDays":6,"./AgendaRenderUtils":7,"./AgendaUtils":8,"./CompletedToday":9,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react","react-dom":"react-dom"}],6:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("../../utils"),l=function(){function e(){(0,a.default)(this,e),this.reset=this.reset.bind(this),this.add=this.add.bind(this),this.isAdded=this.isAdded.bind(this),this.getNonOverdue=this.getNonOverdue.bind(this)}return(0,i.default)(e,[{key:"reset",value:function(){this.current_dates={},this.current_dates_list=[]}},{key:"add",value:function(e){e=DateistDateHelpers.date_max(e);var t=o.DateUtils.formatView(e);this.current_dates[t]=e,this.current_dates_list.push(e)}},{key:"isAdded",value:function(e){e=DateistDateHelpers.date_max(e);var t=o.DateUtils.formatView(e);return this.current_dates[t]}},{key:"getNonOverdue",value:function(){var e=DateistDateHelpers.date_min(new Date),t=[],r=!0,n=!1,a=void 0;try{for(var i,o=this.current_dates_list[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;DateistDateHelpers.is_overdue(e,l)||t.push(l)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}}],[{key:"initClass",value:function(){this.prototype.current_dates={},this.prototype.current_dates_list=[]}}]),e}();l.initClass();var s=new l;r.default=s},{"../../utils":1094,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],7:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.renderSection=void 0;var a=n(e("../../models/ProjectsModel")),i=n(e("./RenderFlatListView")),o=n(e("./RenderDayView")),l=n(e("./RenderAllProjectsView")),s=n(e("./RenderMultiDayView")),u=n(e("./RenderOverdueView")),c=n(e("./RenderSearchView")),d=function(e,t,r,n,d,f){"flat_view"===r.view?i.default.render(e,t,r.items,r.name,!1,f):"day_view_fixed"===r.view?o.default.render(e,t,r.day_date,r.items,d):"day_view_span"===r.view?s.default.displayItems(e,t,r.items,d):"view_all"===r.view?l.default.render(e,t,a.default.getAll()):"search"===r.view&&c.default.render(e,t,r),"overdue"===r.view&&u.default.render(e,t,r.items,n)};r.renderSection=d;var f={renderSection:d};r.default=f},{"../../models/ProjectsModel":161,"./RenderAllProjectsView":10,"./RenderDayView":11,"./RenderFlatListView":12,"./RenderMultiDayView":13,"./RenderOverdueView":14,"./RenderSearchView":15,"@babel/runtime/helpers/interopRequireDefault":189}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.fetchChildren=r.showAddItem=r.renderItem=r.getQuery=r.refresh=r.reset=r.blur=r.query=void 0;var n=e("../../utils/deps"),a=e("../../reducers/items"),i=(0,n.defineDeps)("AgendaUtils",["Agenda","ItemsModel","store"]),o=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i.Agenda.get().query(e,t,r)};r.query=o;var l=function(){return i.Agenda.get().blur()};r.blur=l;var s=function(){return i.Agenda.get().reset()};r.reset=s;var u=function(){return i.Agenda.get().refresh()};r.refresh=u;var c=function(){return i.Agenda.get().current_query};r.getQuery=c;var d=function(e,t){return i.Agenda.get().renderItem(e,t)};r.renderItem=d;var f=function(e){return i.Agenda.get().showAddItem(e)};r.showAddItem=f;var p=function(e){e.fetched=!0,e._collapsed=!1;var t={};e.render_opts&&$update(t,e.render_opts),t.no_indent=!1,t.no_drag_and_drop=!0;var r=e,n=[],o=!0,l=!1,s=void 0;try{for(var u,c=i.ItemsModel.getChildren(e.json,{sorted:!0})[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;d=(0,a.annotateWithIndent)(d,i.store.getState()),d.agenda_child_view=!0,d.dont_show_arrow=!0,d.collapsed=!1,e.json.indent>1&&(d.indent=d.indent-e.json.indent+1),d.in_history&&d.indent>1&&(t.no_checkbox=!0);var f=i.Agenda.get().renderItem(d,t);$addClass(f,"agenda_child_expanded"),$removeClass(f,"indent_1"),f.fetched=!0,$addAfter(f,r),r=f,n.push(f)}}catch(e){l=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw s}}return ElementStore.set(e,"children",n),!1};r.fetchChildren=p;var m={query:o,blur:l,reset:s,refresh:u,getQuery:c,renderItem:d,showAddItem:f,fetchChildren:p};r.default=m},{"../../reducers/items":1005,"../../utils/deps":1071}],9:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.reset=r.render=void 0;var i=a(e("react")),o=e("react-redux"),l=a(e("react-dom")),s=a(e("../../stores/store")),u=a(e("../opener/WindowOpener.js")),c=e("../../reducers/stats"),d=e("../../reducers/user"),f=e("../../react_components/emptyState"),p=n(e("../../containers/ProductivityStat")),m=a(e("../../models/SyncEngine")),h=function(){var e=$("empty-state-holder");e&&(l.default.unmountComponentAtNode(e),$remove(e),$remove($("completed_today_holder")))};r.reset=h;var _=function(e,t,r){var n,a=s.default.getState(),m=(0,c.completedToday)(a),h=(0,c.totalCompleted)(a),_=$("empty-state-holder")||DIV({id:"empty-state-holder",c:"completed_today"});return $add(e,_),n=0===m?h<10?i.default.createElement(f.EmptyStateTodayNew,{onButtonClick:function(){var e=$gc($gc(t,"li","agenda_add_task"),"a");r.showAddItem(e)}}):a.user.features.karma_vacation?i.default.createElement(f.EmptyStateTodayVacation,{onButtonClick:function(){return u.default.showPrefs("karma")}}):(0,d.isDayOff)(a)?i.default.createElement(f.EmptyStateTodayDayOff,null):i.default.createElement(f.EmptyStateTodayDefault,{onButtonClick:function(){var e=$gc($gc(t,"li","agenda_add_task"),"a");r.showAddItem(e)}}):i.default.createElement(o.Provider,{store:s.default},i.default.createElement(f.EmptyStateTodayZero,{onFacebookClick:function(){window.open(v("facebook"))},onProductivityClick:p.show,onTwitterClick:function(){window.open(v("twitter"))}})),l.default.render(n,_),_};r.render=_;var v=function(e){return"sync/".concat(m.default.api_version,"/completed/tdzero_share?token=").concat(window.User.token,"&service=").concat(e)},b={render:_,reset:h};r.default=b},{"../../containers/ProductivityStat":98,"../../models/SyncEngine":171,"../../react_components/emptyState":588,"../../reducers/stats":1037,"../../reducers/user":1042,"../../stores/store":1048,"../opener/WindowOpener.js":53,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],10:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../project_editor/ProjectEditorManager")),l=function(){function e(){(0,a.default)(this,e),this.render=this.render.bind(this)}return(0,i.default)(e,[{key:"render",value:function(e,t,r){var n=[],a=!0,i=!1,l=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;n.push(c.id)}}catch(e){i=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw l}}o.default.showProjects(n,null,{holder:t,update_location:!1,dont_replace_holder:!0,hideEmptyState:!0})}}]),e}(),s=new l;r.default=s},{"../project_editor/ProjectEditorManager":61,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],11:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("../../utils"),l=n(e("./AgendaCurrentDays")),s=n(e("./AgendaUtils")),u=e("./sort"),c=n(e("../../stores/store")),d=e("../../reducers/mainView"),f=function(){function e(){(0,a.default)(this,e),this.render=this.render.bind(this)}return(0,i.default)(e,[{key:"getDefaultOpts",value:function(e){var t=new Date,r=DateistDateHelpers.date_max(t),n=e.getTime()<r.getTime();return{day_diff:Math.abs(DateistDateHelpers.day_diff(t,e)),cur_date:r,is_overdue:n}}},{key:"render",value:function(e,t,r,n){var a,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];l.default.add(r),e.display_date=!0;var o=DIV(),c=this.getDefaultOpts(r);$add(o,this._renderDayHeader(DateistDateHelpers.date_max(r),!0,c)),$add(o,a=UL({class:"items day_list"})),a.day_date=r,0===c.day_diff&&$addClass(a,"ul_today"),n.sort(u.dayViewSortFn),i||$addClass(a,"is_filtered");var d=LI({c:"agenda_item reorder_item",s:"font-size: 0; height: 0px; padding: 0;"});$add(a,d);var f=!0,p=!1,m=void 0;try{for(var h,v=n[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var b,y=h.value;$add(a,b=e.renderItem(y,{no_drag_and_drop:!i})),e.displayArrows(y,b)}}catch(e){p=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw m}}if($add(t,DIV({c:"section_day"},o,a)),0===c.day_diff||!c.is_overdue){var g,E;$add(a,E=LI({c:"agenda_add_task"},g=A({href:"#",c:"action"},SPAN({c:"icon icon_add"},svgs.get("sm1/plus.svg")),_("Add task")))),g.onclick=E.onclick=$p(s.default.showAddItem,g)}}},{key:"_renderDayHeader",value:function(e,t,r){var n;r||(r=this.getDefaultOpts(e));var a=DateistDateHelpers.is_same_date(e,r.cur_date),i=function(t){var r=A({href:"#"},t);return $AEV(r,"click",function(){var t,r=DateistDateHelpers.day_diff(new Date,e);return t=0===r?_("Today"):1===r?_("Tomorrow"):o.DateUtils.getWeekDay(e.getDay()),c.default.dispatch((0,d.showQueryView)(t)),!1}),r};if(r.is_overdue&&!a)n=H2({c:"section_header"}),1===r.day_diff?($add(n,i(_("Yesterday"))),$add(n,SMALL(o.DateUtils.formatView(e,!0)))):($add(n,i(_("%s days ago").replace("%s",Math.abs(r.day_diff)))),$add(n,SMALL(o.DateUtils.formatView(e,!0)))),$addClass(n,"overdue");else{var l;0===r.day_diff?(n=H2(i(_("Today"))),l=!0):1===r.day_diff?(n=H2(i(_("Tomorrow"))),l=!0):(n=H2(i(o.DateUtils.getWeekDay(e.getDay()))),l=!1),$addClass(n,"section_header"),$add(n,SMALL(o.DateUtils.formatView(e,l)))}return n}}]),e}(),p=new f;r.default=p},{"../../reducers/mainView":1015,"../../stores/store":1048,"../../utils":1094,"./AgendaCurrentDays":6,"./AgendaUtils":8,"./sort":16,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],12:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("./sort"),l=n(e("../../stores/store")),s=n(e("react")),u=e("../../reducers/stats"),c=e("../../constants/constants"),d=e("../../react_components/emptyState"),f=n(e("../misc/renderContainer")),p=function(){function e(){(0,a.default)(this,e),this.render=this.render.bind(this)}return(0,i.default)(e,[{key:"render",value:function(e,t,r,n){var a=(!(arguments.length>4&&void 0!==arguments[4])||arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5]);$add(t,DIV(H2({c:"section_header"},n)));var i=UL({class:"items section_separator",style:"margin-bottom: 9px;"});if(0===r.length&&!a){var p,m=$("empty-state-holder")||DIV({id:"empty-state-holder"}),h=(0,u.totalCompleted)(l.default.getState());switch(e.current_view_type){case c.MAIN_VIEW_TYPE_LABEL:p=h<20?s.default.createElement(d.EmptyStateLabelNew,null):s.default.createElement(d.EmptyStateLabelZero,null);break;case c.MAIN_VIEW_TYPE_FILTER:p=s.default.createElement(d.EmptyStateFilter,null)}return(0,f.default)(p,m),void $add(t,m)}e.display_date=!1;var _=(0,o.createFlatListSort)(l.default.getState());r.sort(_);var v=!0,b=!1,y=void 0;try{for(var g,E=r[Symbol.iterator]();!(v=(g=E.next()).done);v=!0){var T=g.value,w=e.renderItem(T,{with_due_date:!0,with_time:!1,with_project:!0,no_indent:!0,no_drag_and_drop:!0});$add(i,w),e.displayArrows(T,w)}}catch(e){b=!0,y=e}finally{try{v||null==E.return||E.return()}finally{if(b)throw y}}$add(t,i)}}]),e}(),m=new p;r.default=m},{"../../constants/constants":94,"../../react_components/emptyState":588,"../../reducers/stats":1037,"../../stores/store":1048,"../misc/renderContainer":48,"./sort":16,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],13:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("../../utils"),i=n(e("./AgendaCurrentDays")),o=n(e("./RenderDayView")),l={displayItems:function(e,t,r,n){var l=(0,a.groupBy)(r,function(e){return e.due.dateMin().getTime()}),s=!0,u=!1,c=void 0;try{for(var d,f=(0,a.keys)(l).sort()[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value,m=l[p],h=m[0].due.toDate();i.default.add(h),o.default.render(e,t,h,m,n)}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}}},s=l;r.default=s},{"../../utils":1094,"./AgendaCurrentDays":6,"./RenderDayView":11,"@babel/runtime/helpers/interopRequireDefault":189}],14:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../containers/SmartSchedule")),l=e("./sort"),s=n(e("../../menus/MenuReschedule")),u=n(e("../../stores/store")),c=n(e("../../models/ItemsModel")),d=function(){function e(){var t=this;(0,a.default)(this,e),this.render=this.render.bind(this),this.current_items=null,Signals.connect("menu_reschedule_hide",function(){t.current_items=null}),Signals.connect("menu_open_smart_schedule",function(){o.default.openSmartSchedule(t.current_items),s.default.get().hide()}),Signals.connect("menu_move_to_today",function(){var e=new Date,r=t.current_items.reduce(function(t,r){return t[r.id]=e,t},{});c.default.updateDue(r),s.default.get().hide()})}return(0,i.default)(e,[{key:"render",value:function(e,t,r,n){var a,i=this,o=DIV({c:"section_overdue"},a=H2({c:"section_header"},_("Overdue")));if(r.length>0&&n){var c=A({c:"smart_schedule_link menu"},_("Reschedule"));$AEV(c,"click",function(){i.current_items=r,s.default.get().toggle(c)}),$add(a,c)}var d=UL({class:"items section_separator",style:"margin-bottom: 9px;"});if(0===r.length)$add(d,LI({c:"no_matches"},_("No tasks match your query")));else{e.display_date=!1,r.sort((0,l.createOverdueViewSort)(u.default.getState()));var f=!0,p=!1,m=void 0;try{for(var h,v=r[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var b=h.value,y=e.renderItem(b,{with_due_date:!0,with_time:!1,with_project:!0,no_indent:!0,no_drag_and_drop:!1});$add(d,y),e.displayArrows(b,y,!0,{no_completed:!0})}}catch(e){p=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw m}}}$add(o,d),$add(t,o)}}]),e}(),f=new d;r.default=f},{"../../containers/SmartSchedule":99,"../../menus/MenuReschedule":145,"../../models/ItemsModel":157,"../../stores/store":1048,"./sort":16,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],15:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=a(e("@babel/runtime/helpers/toConsumableArray")),l=a(e("@babel/runtime/helpers/classCallCheck")),s=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/defineProperty")),c=e("../../utils/fp"),d=a(e("../../models/ItemsModel")),f=a(e("../../models/ProjectsModel")),p=e("../../utils"),m=e("./sort"),h=a(e("../../models/Collaborators")),v=a(e("../formatter/Formatter.js")),b=a(e("../items_utils/ItemsRender")),y=a(e("../avatars/Avatars")),g=a(e("../notes/NoteMedia")),E=a(e("../project_editor/ProjectEditorManager")),T=a(e("../../stores/store")),w=n(e("../../containers/premium_promo/PremiumOnlyModal")),R=a(e("../themes/Themes")),D=a(e("react")),O=a(e("react-dom")),C=a(e("../../logger/Logger")),I=e("../../react_components/emptyState"),S=a(e("../../models/SyncEngine")),k=e("../../reducers/notes"),M=e("../../reducers/items/utils"),j=a(e("../items_utils/ItemCheckbox")),N=e("../../reducers/detailView"),x={render:function(e,t,r){new B(e,r).render(t,r)}},L=(0,c.get)(".file_attachment.file_name"),q=(0,c.get)(".file_attachment.title"),U=(0,c.sortBy)(["project_id","date_completed"]),F=x;r.default=F;var z=function(e){return new Promise(function(t,r){var n=$requestJSON("/API/".concat(S.default.api_version,"/completed/search"));n.offline_message=!0,n.addCallback(function(e){e.items&&(e.items=e.items.map(M.deserializeItemFields)),t(e)}),n.addErrback(function(e){r(e)}),S.default.api_version>="v7.5"?n.sendReq({query:"search: ".concat(e),only_history:!0,token:window.User.token}):n.sendReq({query:e,only_history:!0,token:window.User.token})})},B=function(){function e(t,r){var n=this;(0,l.default)(this,e),(0,u.default)(this,"unarchiveHistoryItem",function(e){d.default.unarchive(e.json),j.default.update(e,0,n.agenda.completeItem)}),this.agenda=t,this.section=r,this.query=r.query,this.completedholder=null,this.handleFetchLink=this.handleFetchLink.bind(this),this.render=this.render.bind(this),this.renderItem=this.renderItem.bind(this),this.renderTabs=this.renderTabs.bind(this),this.notes=[],this.items=[]}return(0,s.default)(e,[{key:"getSearchResult",value:function(){var e=d.default.getAllVisible(),t=(0,k.noteGetAll)(T.default.getState()),r=(0,p.looseMatch)(this.query),n=e.filter(function(e){return r(e.content)}),a=function(e){return!(!L(e)||!r(L(e)))||!(!q(e)||!r(q(e)))},i=t.filter(function(e){return!!r(e.content)||!!a(e)});return this.sortItems(n),this.sortNotes(i),[n,i]}},{key:"sortItems",value:function(e){var t=(0,m.createSearchViewSort)(T.default.getState());e.sort(t)}},{key:"sortNotes",value:function(e){var t=(0,m.createNoteSearchViewSort)(T.default.getState());e.sort(t)}},{key:"renderTabs",value:function(e,t){var r=this,n=e.map(function(e){return LI(e[0])}),a=e.map(function(e){return DIV({c:"ist_tab_content"},e[1])}),i=UL.apply(void 0,[{c:"ist_tab_nav"}].concat((0,o.default)(n))),l=DIV.apply(void 0,(0,o.default)(a));$addClass(n[0],"active"),$addClass(a[0],"active"),$add(t,i,l);for(var s=function(){for(var t=0;t<e.length;t++)$removeClass(n[t],"active"),$removeClass(a[t],"active")},u=0;u<e.length;u++)!function(t){var i=e[t][0],o=n[t],l=a[t];$AEV(o,"click",function(){s(),r.clearEmptyState(),$addClass(o,"active"),$addClass(l,"active"),i===_("Comments")&&0===r.notes.length?r.renderNoMatch(l,{with_action:!1,shouldFadeIn:!1}):i===_("Tasks")&&0===r.items.length&&r.renderNoMatch(l,{shouldFadeIn:!1})})}(u)}},{key:"render",value:function(e){var t=DIV({c:"search_holder section_separator"}),r=(0,p.format)(_("Results for \u201c{search_term}\u201d"),{search_term:this.query});$add(t,H2({c:"section_header"},r));var n=this.getSearchResult(),a=(0,i.default)(n,2),o=a[0],l=a[1];this.notes=l,this.items=o;var s=this.renderItemsResult(o),u=this.renderNotesResult(l);this.renderTabs([[_("Tasks"),s],[_("Comments"),u]],t),$add(e,t)}},{key:"addFetchLink",value:function(e){var t=DIV({c:"search_link_holder"}),r=A({c:"action search_completed"},_("Search completed tasks..."));$add(t,r);var n=d.default.getAll(!1),a=(0,p.looseMatch)(this.query),i=n.filter(function(e){return!e.in_history&&e.checked&&!(0,p.isSection)(e.content)&&a(e.content)}),o=$p(this.handleFetchLink,t,i);$AEV(r,"click",o),$add(e,t)}},{key:"handleFetchLink",value:function(e,t){var r=this;if(!window.User.is_premium)return void w.showCompletedTasksSearch();$replace(e,null),$add(e,Indicator.cssSpinner());var n;z(this.query).catch(function(e){throw n=C.default.captureError(e,{tags:{where:"complete_search"}}),e}).then(function(a){try{if($remove($("items_no_match")),$replace(e,null),a.projects){var i=!0,l=!1,s=void 0;try{for(var u,c=$values(a.projects)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value;f.default.archivedFeteched(d)}}catch(e){l=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw s}}}if(0===a.items.length){var m=(0,p.format)(_("No completed tasks matching for \u201c{search_term}\u201d"),{search_term:r.query});r.renderNoMatch(r.completedholder,{alt_text:m,with_action:!1})}else{var h=UL({c:"items",style:"margin-bottom: 9px;"});r.sortItems(t);var v=U(a.items);[].concat((0,o.default)(t),(0,o.default)(v)).forEach(function(e){r.renderItem(h,e)}),$add(r.completedholder,h)}}catch(e){throw n=C.default.captureError(e,{tags:{where:"complete_search"}}),e}}).catch(function(){$remove($("items_no_match")),$replace(e,null);var a=A({c:"action search_completed"},_("Search completed tasks..."));$AEV(a,"click",$p(r.handleFetchLink,e,t));var i=DIV(P({c:"error_msg"},_("An unknown error happened while searching. Please wait a few minutes and try again."),CODE("(ERROR_ID: ".concat(n,")"))),a);$add(e,i)})}},{key:"renderItemsResult",value:function(e){var t=this,r=UL({c:"items",style:"margin-bottom: 9px;"});if(this.completedholder=DIV({c:"completed_holder"}),0===e.length)return this.renderNoMatch(this.completedholder);e.map(function(e){t.renderItem(r,e)});var n=DIV(r);return this.addFetchLink(n),$add(n,this.completedholder),n}},{key:"renderItem",value:function(e,t){if(t=d.default.getById(t.id)||t){if(f.default.get(t.project_id)){var r=!t.in_history&&!t.checked,n={with_due_date:!0,with_project:!0,no_indent:!0,no_drag_and_drop:!0,not_editable:!r};t.in_history&&(n.fn_undo_complete_item=this.unarchiveHistoryItem);var a=this.agenda.renderItem(t,n);$add(e,a),r&&this.agenda.displayArrows(t,a)}}}},{key:"renderNoMatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.alt_text,n=t.with_action,a=void 0===n||n,i=t.shouldFadeIn,o=void 0===i||i,l=r||(0,p.format)(_("No matches for \u201c{search_term}\u201d"),{search_term:this.query}),s=DIV({id:"empty-state-holder"}),u=d.default.getAll(!1),c=(0,p.looseMatch)(this.query),f=u.filter(function(e){return!e.in_history&&e.checked&&!(0,p.isSection)(e.content)&&c(e.content)});return $add(e,s),O.default.render(D.default.createElement(I.EmptyStateSearchResults,{headerText:l,withAction:a,shouldFadeIn:o,onButtonClick:$p(this.handleFetchLink,e,f)}),s),e}},{key:"renderNotesResult",value:function(e){var t=this;if(0!==e.length){var r=UL({c:"note_search_list",style:"margin-bottom: 9px;"});e.map(function(e){var n=t.renderNote(e);$add(r,n)});return DIV(r)}}},{key:"renderNote",value:function(e){var t,r,n=e.posted_uid===window.User.id?window.User:h.default.getUserById(e.posted_uid),a=!e.item_id;if(a){if(!(r=f.default.get(e.project_id)))return null}else{var i=d.default.getById(e.item_id);if(!i)return null;r=f.default.get(i.project_id),t=H6({c:"task_title"}),$setHTML(t,v.default.format(i.content,{as_html:!0}))}var o;r&&(o=b.default.createProjectItem(null,r),$AEV(o,"click",function(){E.default.showProjects([r.id])}));var l=n?y.default.renderAvatar(n,"medium",R.default.theme):y.default.renderAnonymous("medium"),s=DIV({c:"note_content"}),u=v.default.format(e.content,{as_html:!0});r.shared&&n&&(u=(0,p.firstName)(n.full_name)+": "+u),$setHTML(s,u);var c=g.default.render(e),m=SPAN({c:"time"},p.DateUtils.formatView(new Date(e.posted))),_=DIV({c:"content"},t||null,s,c,DIV({c:"meta_info"},m,o)),w=LI(BUTTON(l,_));return $AEV(w,"click",function(){a?T.default.dispatch((0,N.detailViewShowProject)(e.project_id,{activeTab:"comments",highlightedNoteId:e.id})):T.default.dispatch((0,N.detailViewShowItem)(e.item_id,{activeTab:"comments",highlightedNoteId:e.id}))}),w}},{key:"clearEmptyState",value:function(){var e=$("empty-state-holder");e&&(O.default.unmountComponentAtNode(e),$remove(e))}}]),e}()},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../logger/Logger":132,"../../models/Collaborators":150,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../models/SyncEngine":171,"../../react_components/emptyState":588,"../../reducers/detailView":996,
"../../reducers/items/utils":1008,"../../reducers/notes":1021,"../../stores/store":1048,"../../utils":1094,"../../utils/fp":1083,"../avatars/Avatars":17,"../formatter/Formatter.js":22,"../items_utils/ItemCheckbox":32,"../items_utils/ItemsRender":36,"../notes/NoteMedia":49,"../project_editor/ProjectEditorManager":61,"../themes/Themes":91,"./sort":16,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,react:"react","react-dom":"react-dom"}],16:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createNoteSearchViewSort=r.createSearchViewSort=r.createOverdueViewSort=r.createFlatListSort=r.createByProjectAndItemOrderSort=r.createByResponsible=r.dayViewSortFn=r.byItemContent=r.byID=r.byChildOrder=r.byDateAdded=r.byProjectID=r.byDayOrder=r.byDueDate=r.byPriority=r.composeSortFunc=void 0;var a=e("reselect"),i=e("../../utils"),o=n(e("../formatter/Formatter")),l=n(e("../../logger/Logger")),s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){var n=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,u=s(e,r);if(0!=u)return u}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return 0}};r.composeSortFunc=s;var u=function(e,t){return t.priority-e.priority};r.byPriority=u;var c=function(e,t){return e=e.due,t=t.due,e||t?e&&!t?-1:!e&&t?1:e.isSameDate(t)?e.with_time||t.with_time?e.with_time&&!t.with_time?-1:!e.with_time&&t.with_time?1:e.getTime()-t.getTime():0:e.getTime()-t.getTime():0};r.byDueDate=c;var d=function(e,t){return e=e.day_order,t=t.day_order,$isNumber(e)&&$isNumber(t)?-1===e&&-1!==t?1:-1!==e&&-1===t?-1:e-t:$isNumber(e)&&!$isNumber(t)?-1:!$isNumber(e)&&$isNumber(t)?1:$isNumber(e)||$isNumber(t)?void 0:0};r.byDayOrder=d;var f=function(e,t){return e=e.project_id,t=t.project_id,(0,i.isRealID)(e)&&(0,i.isRealID)(t)?e-t:(0,i.isRealID)(e)&&(0,i.isTempID)(t)?-1:(0,i.isTempID)(e)&&(0,i.isRealID)(t)?1:(0,i.isTempID)(e)&&(0,i.isTempID)(t)?e.localeCompare(t):void 0};r.byProjectID=f;var p=function(e,t){return e=e.date_added,t=t.date_added,h(e)&&h(t)?e.getTime()-t.getTime():!h(e)&&h(t)?1:h(e)&&!h(t)?-1:h(e)||h(t)?void 0:0};r.byDateAdded=p;var m=function(e,t){return e.child_order-t.child_order};r.byChildOrder=m;var h=function(e){return e instanceof Date},_=function(e,t){return e=e.id,t=t.id,(0,i.isRealID)(e)&&(0,i.isRealID)(t)?e-t:(0,i.isRealID)(e)&&(0,i.isTempID)(t)?-1:(0,i.isTempID)(e)&&(0,i.isRealID)(t)?1:(0,i.isTempID)(e)&&(0,i.isTempID)(t)?e.localeCompare(t):void 0};r.byID=_;var v={only_text:!0,as_html:!1},b=function(e,t){return e=o.default.format(e.content,v),t=o.default.format(t.content,v),e.localeCompare(t)};r.byItemContent=b;var y=s(c,u,d,p,f,_);r.dayViewSortFn=y;var g=[Math.pow(10,12),Math.pow(10,10),Math.pow(10,7),Math.pow(10,4),Math.pow(10,2)],E=(0,a.createSelector)(function(e){return e.projects},function(e){var t=(0,i.LMemoize)(function(t){var r=e[t];if(r.inbox_project)return 1e6;if(r.team_inbox)return 1000001;for(var n=[];;){if(n.push(r.child_order),!r.parent_id)break;r=e[r.parent_id]}n.reverse();for(var a=0,i=0;i<n.length;i++)a+=n[i]*g[i];return a});return function(e,r){return e=t(e.project_id),r=t(r.project_id),e-r}}),T=(0,a.createSelector)(function(e){return e.collaborators.all},function(e){return function(t,r){return t=e[t.responsible_uid],r=e[r.responsible_uid],t||r?t&&!r?-1:!t&&r?1:t&&r?t.full_name===r.full_name?0:t.full_name>r.full_name?-1:1:void 0:0}});r.createByResponsible=T;var w=(0,a.createSelector)(function(e){return e.sections},function(e){return e.items},function(e,t){var r=(0,i.LMemoize)(function(r){var n=t[r],a=[];if(!n)return null;for(;;){a.push(n.child_order);{if(!n.parent_id){var i=e[n.section_id],o=i?i.section_order+1:1;a.push(o);break}if(!t[n.parent_id])return l.default.captureMessage("visual_order_issue",{extra:{item:n}}),-1;n=t[n.parent_id]}}a.reverse();for(var s=0,u=0;u<a.length;u++)s+=a[u]*g[u];return s});return function(e,t){return e=r(e.id),t=r(t.id),e-t}}),R=(0,a.createSelector)(E,w,function(e,t){return s(e,t)});r.createByProjectAndItemOrderSort=R;var P=(0,a.createSelector)(R,function(e){return s(u,c,e,_)});r.createFlatListSort=P;var D=(0,a.createSelector)(R,function(e){return s(c,u,e,_)});r.createOverdueViewSort=D;var O=(0,a.createSelector)(R,function(e){return s(e,_)});r.createSearchViewSort=O;var C=function(e,t){return e.item_id&&t.item_id?0:!e.item_id&&t.item_id?-1:e.item_id&&!t.item_id?1:e.item_id||t.item_id?void 0:0},I=function(e,t){return e.item_id&&t.item_id?e.item_id-t.item_id:0},A=(0,a.createSelector)(w,function(e,t){return function(r,n){var a=e[r.item_id],i=e[n.item_id];return a&&i?t(a,i):0}}),S=(0,a.createSelector)(E,function(e,t){return function(r,n){var a=e[r.item_id],i=e[n.item_id];return a&&i?t(a,i):0}}),k=(0,a.createSelector)(S,A,function(e,t){return s(e,C,t,I,_)});r.createNoteSearchViewSort=k},{"../../logger/Logger":132,"../../utils":1094,"../formatter/Formatter":22,"@babel/runtime/helpers/interopRequireDefault":189,reselect:"reselect"}],17:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=function(){function e(){(0,a.default)(this,e),this.renderAvatar=this.renderAvatar.bind(this),this.renderAnonymous=this.renderAnonymous.bind(this)}return(0,i.default)(e,[{key:"renderAvatar",value:function(e,t,r){var n;if(e.image_id)n="".concat(this.base_url).concat(e.image_id,"_").concat(t,".jpg");else{var a=50;"small"===t&&(a=18);var i="theme_dark"==r?"1f1f1f":"ffffff";n="https://avatars.doist.com/?".concat($encode({fullName:e.full_name||e.email.split("@")[0],email:e.email,size:2*a,bg:i}))}return IMG({src:n,c:"user_avatar ".concat(t)})}},{key:"renderAnonymous",value:function(e){return IMG({src:"https://d3ptyyxy2at9ui.cloudfront.net/circular_profile-1df5ac.svg",c:"user_avatar ".concat(e)})}}],[{key:"initClass",value:function(){this.prototype.base_url="https://dcff1xvirvpfp.cloudfront.net/"}}]),e}();o.initClass();var l=new o;window.Avatars=l;var s=l;r.default=s},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],18:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=void 0;var a=n(e("../../models/SyncEngine")),i=function(){return window.COMET_TIMEOUT=null,Signals.connect("comet_td_sync",function(){window.COMET_TIMEOUT&&clearTimeout(window.COMET_TIMEOUT);var e=function(){return a.default.sync(null,!0)};window.COMET_TIMEOUT=setTimeout(e,200)})};r.init=i;var o={init:i};r.default=o},{"../../models/SyncEngine":171,"@babel/runtime/helpers/interopRequireDefault":189}],19:[function(e,t,r){"use strict";function n(){var e=INPUT({type:"text",value:""}),t=_("Copy to clipboard"),r=A({href:"#",c:"action"},t),n=DIV(e,r),a=FORM({c:"copy_to_clipboard"},n),i=function(){try{e.focus();try{e.setSelectionRange(0,9999)}catch(t){e.select()}if(!document.execCommand("Copy"))throw new Error("fail");$setHTML(r,_("Text copied!")),$addClass(r,"active"),setTimeout(function(){$setHTML(r,t),$removeClass(r,"active")},1500)}catch(e){alert(_("Could not copy the URL to the clipboard! Please copy manually."))}return!1};return $AEV(r,"click",i),$AEV(e,"keydown",function(e){return!(!e.ctrlKey&&!e.metaKey)||($preventDefault(e),!1)}),$AEV(e,"cut",function(e){return $preventDefault(e),!1}),{form:a,input:e,fn_copy_to_clipboard:i}}Object.defineProperty(r,"__esModule",{value:!0}),r.genereate=n,r.default=void 0;var a={genereate:n};r.default=a},{}],20:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/defineProperty")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("../../components/project_editor/ProjectEditorManager")),s=n(e("../postpone/Postpone")),u=n(e("../sortable/Sortable.js")),c=n(e("../items_utils/ItemCommonEdits")),d=n(e("../../models/ItemsModel")),f=n(e("../../models/StateModel")),p=e("../../utils"),m=e("../../utils/deps"),h=(0,m.defineDeps)("DragAndDrop",["Agenda","ProjectList"]),v=function(){function e(){(0,i.default)(this,e),this.attachHandler=this.attachHandler.bind(this),this.attach=this.attach.bind(this),this.agendaMakeSortable=this.agendaMakeSortable.bind(this),this.projectEditorMakeSortable=this.projectEditorMakeSortable.bind(this),this.projectListMakeSortable=this.projectListMakeSortable.bind(this),this.genericMouseDown=this.genericMouseDown.bind(this),this.genericOnEnd=this.genericOnEnd.bind(this),this.genericMakeSortable=this.genericMakeSortable.bind(this),this.agendaOnEnd=this.agendaOnEnd.bind(this),this.agendaOnDrag=this.agendaOnDrag.bind(this),this.agendaOnStart=this.agendaOnStart.bind(this),this.onDragToProject=this.onDragToProject.bind(this),this.onEndToProject=this.onEndToProject.bind(this),this.autoFocusInput=this.autoFocusInput.bind(this),this.scrollCustom=this.scrollCustom.bind(this),this.handler=DIV({c:"drag_and_drop_handler"},svgs.get("sm1/drag.svg")),this.handler.onmousedown=this.genericMouseDown,this.handler.reuseable=!0,this.current_li=null,f.default.set("drag_and_drop_mode",f.default.DragMode.waiting)}return(0,o.default)(e,[{key:"attachHandler",value:function(e){$gc(e,"div","drag_and_drop_handler")||(this.current_li=e,$child(e,"div","arrow")?$addClass(this.handler,"extra_arrow_margin"):$removeClass(this.handler,"extra_arrow_margin"),$ATT(e,this.handler))}},{key:"attach",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){return f.default.get("drag_and_drop_mode")!==f.default.DragMode.reordering&&(MouseHover.clearCurrentTimeout(),t.attachHandler(e))},a=function(){return $remove(t.handler)};MouseHover.attach(e,"drag_and_drop_".concat(e.json.id),n,a,200),r.trigger_mouse_over&&n()}},{key:"agendaMakeSortable",value:function(e){return this.genericMakeSortable(h.Agenda.get(),e)}},{key:"projectEditorMakeSortable",value:function(e){return this.current_editor=l.default.current_editor,this.drag_section=ElementStore.get($parent(this.current_li,"div","section"),"SectionList"),this.genericMakeSortable(this.current_editor,e)}},{key:"projectListMakeSortable",value:function(e){return this.genericMakeSortable(h.ProjectList,e)}},{key:"genericMouseDown",value:function(e){if(e&&e.shiftKey)return!1;var t=this.current_li.json.manager_type,r=this.current_li.getAttribute("data-type");return $hasClass(this.current_li,"agenda_item")?this.agendaMakeSortable(e):$hasClass(this.current_li,"task_item")||"project_editor"===t?this.projectEditorMakeSortable(e):"project_list_item"===r?this.projectListMakeSortable(e):void 0}},{key:"genericOnEnd",value:function(){f.default.set("drag_and_drop_mode",f.default.DragMode.waiting),this.current_editor=null,this.sortable.onEnd(),this.autoFocusInput()}},{key:"genericMakeSortable",value:function(e,t){var r,n,a=this;e.save_indent=!1,this.handler.onmousedown=this.genericMouseDown;var i=$parent(this.handler,"li");if("ProjectEditor"===e.list_class){r=[];var o=!0,l=!1,s=void 0;try{for(var c,d=$all("li","task_item")[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var p=c.value;$hasClass(p,"history_item")||($hasClass(p,"checked")||($hasClass(p,"reorder_item")||p.json&&!$isHidden(p))&&r.push(p))}}catch(e){l=!0,s=e}finally{try{o||null==d.return||d.return()}finally{if(l)throw s}}}else r=e===h.Agenda.get()?e.getSortableItems():e.getAllRenrededItems(!0);this.sortable=n=new u.default(r,e),this.project_items=null;var m=!1,_=n,v=_.onDrag,b=n,y=b.onEnd,g=n,E=g.onStart;return"ProjectEditor"===e.list_class?(this.project_items=this.calculateProjectListXY(),this.list_class=e,v=this.onDragToProject,y=this.onEndToProject,m=!0):e===h.ProjectList?(y=function(){a.genericOnEnd(),e.saveOrder()&&e.reRender()},e===h.ProjectList?m=!0:this.sortable.set_indent=!1):e===h.Agenda.get()&&(y=this.agendaOnEnd,E=this.agendaOnStart,v=this.agendaOnDrag,this.sortable.set_indent=!1),ICE.$dnd.dragAble(i,{handler:this.handler,move_x:m,on_start:E,on_drag:v,scroll_on_overflow:!0,scroll_custom:this.scrollCustom,on_end:y}),f.default.set("drag_and_drop_mode",f.default.DragMode.reordering),ICE.$dnd._start(this.handler,t),$preventDefault(t),!1}},{key:"agendaOnEnd",value:function(e){var t=ICE.$dnd.current_root,r=t.json;if(this.genericOnEnd(e),this.postpone_drop){var n=$hasClass(this.postpone_drop,"drop_background");if($remove(this.postpone_drop),n)return void s.default.postPoneUpdate(t.json,!0)}$removeClass(t,"moved");var i=$parent(t,"ul"),o=$hasClass(i,"is_filtered"),l={},u=1,c=!0,f=!1,p=void 0;try{for(var m,_=i.childNodes[Symbol.iterator]();!(c=(m=_.next()).done);c=!0){var v=m.value;$hasClass(v,"moved")||v.json&&v.json.id&&!v.is_manager&&(l[v.json.id]=u++)}}catch(e){f=!0,p=e}finally{try{c||null==_.return||_.return()}finally{if(f)throw p}}var b=i.day_date;if(r.due&&b&&!r.due.isSameDate(b)){var y=r.due.inheritDate({year:b.getFullYear(),month:b.getMonth(),day:b.getDate()});d.default.updateDue((0,a.default)({},r.id,y))}o||d.default.updateDayOrders(l),h.Agenda.get().refresh()}},{key:"agendaOnDrag",value:function(){if(this.sortable.onDrag(),this.postpone_drop){var e=$position(this.postpone_drop).y,t=ICE.$dnd.mouse_pos||$mousePos(),r=t.y,n=e-r;n<14&&n>-60?$addClass(this.postpone_drop,"drop_background"):$removeClass(this.postpone_drop,"drop_background")}}},{key:"agendaOnStart",value:function(){var e,t=ICE.$dnd.current_root,r=t.json,n=$parent(t,"ul");try{var a=s.default.getPostponeDate(r),i=a.formated_due;e=i}catch(t){e="",console.log(t)}this.postpone_drop=DIV({id:"postpone_drop"},svgs.get("sm1/scheduler_postpone.svg"),$setHTML(SPAN(),_("Drop to postpone: <b>%s</b>").replace("%s",e))),$setOpacity(this.postpone_drop,0),$addAfter(this.postpone_drop,n),$fx.fadeIn(this.postpone_drop),this.sortable.onStart()}},{key:"calculateProjectListXY",value:function(){var e=[],t=h.ProjectList.getAllRenrededItems(!0,!1);t.push($("filter_inbox")),$("filter_team_inbox")&&t.push($("filter_team_inbox")),t=t.concat($$('#top_filters li[data-type="project_list_item"]'));var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,s=$position(l);s.x_max=s.x+l.offsetWidth,s.y_max=s.y+l.offsetHeight,s.dom=l,e.push(s)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return e}},{key:"onDragToProject",value:function(){if(this.sortable.onDrag(),!this.current_li.json.manager_type){var e=ICE.$dnd.mouse_pos||$mousePos(),t=e.x,r=e.y;r+=$("left_menu").scrollTop-$scrollTop(),this.drop_to_dom&&($removeClass(this.drop_to_dom,"drop_background"),this.drop_to_dom=null);var n=!0,a=!1,i=void 0;try{for(var o,l=this.project_items[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,u=t>=s.x&&t<=s.x_max;if(u=u&&r>=s.y&&r<=s.y_max){$addClass(s.dom,"drop_background"),this.drop_to_dom=s.dom;break}}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}}}},{key:"onEndToProject",value:function(){var e;f.default.set("drag_and_drop_mode",f.default.DragMode.waiting);var t=!0,r=!1,n=void 0;try{for(var a,i=this.project_items[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;$removeClass(o.dom,"drop_background")}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}var l=ICE.$dnd.current_root,s=this.sortable.cur_child;this.sortable.onEnd();var u=$parent(l,"div","project_editor_instance");u&&(u=ElementStore.get(u,"editor"));var d=ElementStore.get($parent(l,"div","section"),"SectionList");if(d===this.drag_section?(this.drag_section.saveOrder(l),this.drag_section.arrows.updateArrows()):d&&d!==this.drag_section&&(this.drag_section.arrows.updateArrows(),d.arrows.updateArrows(),d.saveOrder(l)),this.drop_to_dom){var m=[l];s&&(m=m.concat(s));var h={},_=h[l.json.project_id]=[l.json.id],v=!0,b=!1,y=void 0;try{for(var g,E=s[Symbol.iterator]();!(v=(g=E.next()).done);v=!0)e=g.value,_.push(e.json.id)}catch(e){b=!0,y=e}finally{try{v||null==E.return||E.return()}finally{if(b)throw y}}var T;T=this.drop_to_dom.json?this.drop_to_dom.json.id:(0,p.parseId)(this.drop_to_dom.getAttribute("data-id")),c.default.moveItems(h,T);var w=!0,R=!1,P=void 0;try{for(var D,O=m[Symbol.iterator]();!(w=(D=O.next()).done);w=!0){var C=D.value;$remove(C)}}catch(e){R=!0,P=e}finally{try{w||null==O.return||O.return()}finally{if(R)throw P}}this.drop_to_dom=null}this.autoFocusInput(),MouseHover.clearCurrentTimeout(),this.attachHandler(l)}},{key:"autoFocusInput",value:function(){if(this.current_li.json.manager_type){if(l.default.current_react_editor)return l.default.current_react_editor.focusInput();var e=$child(this.current_li,null,"richtext_editor");e&&e.proxyFocus()}}},{key:"updateDayStyles",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=$all("h2","section_header")[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value,o=i.parentNode,l=o.nextSibling,s=0,u=!0,c=!1,d=void 0;try{for(var f,p=l.childNodes[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value;m.json&&m.json.id&&!m.is_manager&&(s+=1)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}0===s?$hasClass(i,"overdue")&&($remove(o),$remove(l)):$removeClass(o,"no_matches")}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{key:"scrollCustom",value:function(e,t){var r=this.scrollObject(e);r.scrollBy?r.scrollBy(0,t):r.scrollTop+=t}},{key:"scrollObject",value:function(e){var t=$("left_menu"),r=$position(t);return e.x>=r.x-50&&e.x<=r.x+t.offsetWidth?t:window}}]),e}();window.DragAndDrop=new v;var b=window.DragAndDrop;r.default=b},{"../../components/project_editor/ProjectEditorManager":61,"../../models/ItemsModel":157,"../../models/StateModel":167,"../../utils":1094,"../../utils/deps":1071,"../items_utils/ItemCommonEdits":33,"../postpone/Postpone":57,"../sortable/Sortable.js":85,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],21:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=function(){function e(){(0,a.default)(this,e),this.format=this.format.bind(this)}return(0,i.default)(e,[{key:"format",value:function(e,t){if(null==e)return null;for(var r=e.split(/[{}]/),n=1,a=r.length-1;n<=a;n+=2){if(null==t[r[n]])return["error: ",e];r[n]=t[r[n]]}return r}}]),e}(),l=new o;r.default=l},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],22:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.url,r=e.text,n=e.isExternal,a=void 0===n||n,i=(0,s.default)(e,["url","text","isExternal"]),o=[];for(var l in i)o.push("".concat(l,'="').concat(i[l],'"'));return a&&(o.push('target="_blank"'),o.push('rel="noopener noreferrer"')),'<a href="'.concat(t,'" ').concat(o.join(" "),">").concat(r,"</a>")}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("@babel/runtime/helpers/objectWithoutProperties")),u=o(e("../../ist_libs/doist_format/doist_format")),c=o(e("../../utils/cropURL")),d=/^https:\/\/([a-z]+\.)?todoist.com\/(showTask|app)/,f={formatSimple:function(e,t){if(t=this.setOpts(t),t.with_email=!1,!t.as_html&&t.with_emojis){var r=u.default.formatStyles.bind(u.default);u.default.formatStyles=function(e,t){return r(e,a({},t,{as_html:!1}))};var n=$escapeHTML(e);return n=u.default.formatSimple(n,a({},t,{as_html:!0})),u.default.formatStyles=r,n}return u.default.formatSimple(e,t)},format:function(e,t){return t=this.setOpts(t),e=u.default.format(e,t),e=f.transformExternalServices(e,t)},setOpts:function(e){return e||(e={}),e.fn_generate_link=function(e,t,r){e=e.replace(/javascript:/gi,"");var n=r.attachment;if(t==e&&n&&n.title&&n.url==e){var a=$strip(n.title);a.length>0&&(t=a)}var o=250;e==t&&(o=50),t==e&&t.length>o&&(t=t.substring(0,o)+"\u2026"),t=-1!=t.indexOf("&lt;")||-1!=t.indexOf("&gt;")?$escapeHTML(t,{skip:["&"]}):$escapeHTML(t);var l=d.test(e),s=i({url:e,text:t.trim(),isExternal:!l,"data-redirect-link":"","data-tooltip":(0,c.default)(e)});return f.handleExternalServices(e,s)},e.fn_handle_gmail=function(e,t,r){return'<a href="https://mail.google.com/mail/u/0/'+t+'" class="ex_link" target="_blank" rel="noopener noreferrer" data-redirect-link>'+f.generateServiceIcon("email")+$xssStrip($strip(r))+"</a>"},e.fn_handle_outlook=function(t,r,n){if(e.only_text)return $xssStrip($strip(n));var a=f.generateServiceIcon("email");return"<a href='#openOutlook/"+r.replace(/'/g,"")+'\' class="ex_link" onclick="return OutlookIntegration.openEmail(\''+r+"')\">"+a+$xssStrip($strip(n))+"</a>"},e.fn_handle_thunderbird=function(e,t,r){var n=f.generateServiceIcon("email");return"<a thunder_id='"+r.replace(/'/g,"")+'\' href="#openThunderbird" class="ex_link" data-redirect-link>'+n+$xssStrip($strip(t))+"</a>"},e},generateServiceIcon:function(e){var t;switch(e){case"attachment":t="sm1/attachment.svg";break;case"cal":t="sm1/calendar.svg";break;case"email":t="sm1/email.svg";break;case"evernote":t="sm1/evernote.svg";break;case"twist":t="sm1/twist.svg"}return svgs.getString(t,{className:"service_icon"})},handleExternalServices:function(e,t){return-1===e.indexOf("d1x0mwiac2rqwt.cloudfront.net")&&-1===e.indexOf("files.todoist.com")||(t=f.generateServiceIcon("attachment")+" "+t),-1!==e.indexOf("mail.google.com")&&(t=f.generateServiceIcon("email")+" "+t),-1===e.indexOf("twistapp.com/a/")&&-1===e.indexOf("twist.com/a/")||(t=f.generateServiceIcon("twist")+" "+t),-1===e.indexOf("evernote.com/Home.action")&&-1===e.indexOf("evernote.com/shard")&&-1===e.indexOf("evernote://")||(t=f.generateServiceIcon("evernote")+t),-1!==e.indexOf("google.com/calendar/event")&&(t=f.generateServiceIcon("cal")+t),t},transformExternalServices:function(e){if(-1!=e.indexOf('<a href="readdle-spark://')){var t=e.match(/(<a href="readdle-spark:\/\/[^>]+>)(.+)(<\/a>)/);t&&0==t[2].indexOf("readdle-spark:")&&(e=e.replace(t[0],"")||_("Open")+" Spark",t[1]=t[1].replace('target="_blank"','target="_self"'),e=f.generateServiceIcon("email")+" "+t[1]+e+t[3])}else if(-1!=e.indexOf('<a href="bear://')){var r=e.match(/(<a href="bear:\/\/[^>]+>)(.+)(<\/a>)/);r&&0==r[2].indexOf("bear:")&&(e=e.replace(r[0],"")||_("Open")+" Bear",r[1]=r[1].replace('target="_blank"','target="_self"'),e=f.generateServiceIcon("attachment")+" "+r[1]+e+r[3])}else if(-1!=e.indexOf('<a href="airmail://')){var n=e.match(/(<a href="airmail:\/\/[^>]+>)(.+)(<\/a>)/);n&&0==n[2].indexOf("airmail:")&&(e=e.replace(n[0],"")||_("Open")+" AirMail",n[1]=n[1].replace('target="_blank"','target="_self"'),e=f.generateServiceIcon("attachment")+" "+n[1]+e+n[3])}return e}};window.Formatter=f;var p=f;r.default=p},{"../../ist_libs/doist_format/doist_format":129,"../../utils/cropURL":1067,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195}],23:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../../menus/HelperColorsPriorities.js"),s=i(e("../generic_manager/GenericManager.js")),u=i(e("../generic_manager/GenericManagerUtils.js")),c=i(e("../action_perfomed/ActionPerformed")),d=i(e("../formatter/Formatter.js")),f=i(e("../../models/TemporaryIds")),p=i(e("../../stores/store")),m=e("../../reducers/mainView"),h=e("../../reducers/utils"),v=e("../../react_components/confirm_dialog"),b=s.default.extend({initWithData:function(e){var t={data_model:e.data_model,max_indent:4,undo_reorder_intent:e.undo_reorder_intent,markdown_support:!1};$update(t,e),this.opts=t,this.parent(t),this.event_name=e.event_name,this.current_list=null,this.current_item=null,this.empty_text=e.empty_text,this.move_x=!1,this.menu.hide_callbacks.push(function(e,t){if(t){var r=$eventElm(t);if($parent(r,"div","popper")||$parent(r,"div","popover")||$parent(r,"div","scheduler")||$parent(r,"div","dialog-content")||$parent(r,"div","dialog-timepicker")||$parent(r,"div","dialog-timezone"))return!0;$removeClass($all("li","on_menu_show"),"on_menu_show")}}),Signals.connect("color_selected",this.colorSelected),e.init&&e.init(),this.is_inited=!0},insertItems:function(e){var t=this.current_list;if(t){this.opts.with_indent&&(e=(0,h.annotateIndentOrder)(e));var r=this.opts.fn_get_selected();$replace(t,null);var n=window.User.team_inbox,a=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var c=l.value;if(!c.inbox_project&&c.id!==n){var d=this.renderItem(c);$add(t,d),this.current_item&&f.default.getRealId(this.current_item.json.id)==c.id&&(this.menu.shown&&(this.menu.current_holder=d),this.current_item=d),r&&r.includes(c.id)&&$addClass(d,"current")}}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}u.default.showHideChildren($AF(t.childNodes)),this.opts.with_arrows&&this.arrows.updateArrows(),this.checkEmpty()}},reRender:function(){if(this.current_form)return void setTimeout(this.reRender,200);this.insertItems(this.opts.fn_get_all())},renderEmpty:function(){return this.parent()},checkEmpty:function(){this.parent(),Signals.sendSignal("check_premium_promo")},getProjectById:function(e){var t=null,r=!0,n=!1,a=void 0;try{for(var i,o=$AF(this.current_list.childNodes)[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;if(l.json&&l.json.id===e){t=l;break}}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t},deselectCurrent:function(){this.current_list&&$removeClass($all("li","current",this.current_list),"current"),this.current_item&&$removeClass(this.current_item,"current")},setCurrentVisually:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=$AF(this.current_list.childNodes)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if(o.json&&o.json.id===e){$removeClass($all("li","current"),"current"),$addClass(o,"current");break}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}},setCurrentById:function(e,t,r,n){var a;if(this.flash_item=t,e===window.User.inbox_project||e===window.User.team_inbox)this.setCurrent(null,r,n),p.default.dispatch((0,m.showProjectView)([e],{focusedItemId:t}));else{var i=!1,o=!0,l=!1,s=void 0;try{for(var u,c=$AF(this.current_list.childNodes)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)if(a=u.value,a.json&&a.json.id===e){this.setCurrent(a,r,n),i=!0;break}}catch(e){l=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw s}}i||this.opts.fn_show_items([e],r,t)}return!1},setCurrent:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.cancelCurrentEdit(),this.deselectCurrent(),e&&e.json){if(c.default.mark("GenericLeftList/setCurrent"),this.current_item=e,this.current_item_with_children=r,$addClass(e,"current"),this.opts.with_indent&&!1!==r){var n=u.default.getChildren(e,!0),a=!0,i=!1,o=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var d=l.value;$addClass(d,"current")}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}}this.opts.fn_show_items([e.json.id],r,this.flash_item),this.opts.with_arrows&&this.arrows.updateArrows()}},editingDone:function(e){e&&(this.current_item=e),this.current_mode=null,this.current_form=null,this.current_cancel=null,this.opts.with_arrows&&this.arrows.updateArrows(),this.checkEmpty(),this.opts.fn_editing_done&&this.opts.fn_editing_done()},saveItem:function(e,t){var r=$parent(e,"li"),n=r.list_item;if(r&&n){var a=u.default.getChildren(n);$addAfter(n,r);var i=n.nextSibling,o=$gc(e,null,"richtext_editor").proxyGetValue();this.opts.with_indent&&u.default.normalizeIndent(r,r);var l=this.selected_color,s={name:""!==o?o:n.json.name};if(this.opts.fn_parse_form&&!1===(s=this.opts.fn_parse_form(e,s,!0)))return;null!==l&&(s.color=l);var c=this.opts.data_model.update(n.json.id,s),d=this.renderItem(c);if($hasClass(n,"current")&&$addClass(d,"current"),$addClass(d,"generic_left_list_updated"),$swap(n,d),this.opts.with_indent){var f=u.default.getIndent(r);u.default.setIndent(d,f),this.saveOrder()}$remove(r),this.opts.with_indent&&u.default.updateParentIds(d,this.opts.data_model,a),this.editingDone(d);i!==d.nextSibling&&this.saveOrder()}return $isFunction(t)&&t(),!1},editCurrentItem:function(){var e=this;this.parent();var t=function(){if($show(e.current_item),e.opts.with_arrows)return e.arrows.updateArrows()},r={cancel:u.default.genCancel("li",t,this,null,{"data-track":"Labels"===this.event_name?"labels|edit_cancel":"projects|edit_cancel"}),action:this.saveItem,submit_val:_("Save"),submit_attr:{"data-track":"Labels"===this.event_name?"labels|edit_confirm":"projects|edit_confirm"},name_val:this.current_item.json.name,indent_arrows:this.opts.with_indent,placeholder:this.opts.placeholder,fn_extend_form:this.opts.fn_extend_form,current_item:this.current_item.json,manager_type:this.manager_type,manager_reodering:this.manager_reodering};this.current_cancel=r.cancel;var n=this.generateAddEditForm(r);if(this.opts.with_color){this.selected_color=null;var a=this.createColorSelector(this.current_item.json.color);$ATT(n.text_box_holder,a)}else $addClass(n.form,"no_color");var i=n.li_item,o=n.textarea;i.list_item=this.current_item,this.current_form=n.form,this.opts.with_indent&&u.default.setIndent(i,this.current_item.json.indent),$addAfter(i,this.current_item),o.proxyPlaceCursor(),this.arrows&&this.arrows.updateArrows()},deleteCurrentItem:function(e){var t,r,n=this;c.default.mark("GenericLeftList/deleteCurrentItem");var a=u.default.getChildren(e,!1),i=[],o=!1;e.json.shared&&(o=!0);var l=function(e){return n.format($escape(e),!0,!1)},s=null;if(this.opts.with_indent&&a&&a.length>0){var d=[],f=!0,p=!1,m=void 0;try{for(var h,b=a[Symbol.iterator]();!(f=(h=b.next()).done);f=!0){var y=h.value;r=y.json&&y.json.name,r&&(d.push(l(r)),i.push(y.json.id))}}catch(e){p=!0,m=e}finally{try{f||null==b.return||b.return()}finally{if(p)throw m}}t=_("Following will be deleted as well: %s."),
o&&(t=_("Following will be left as well: %s.")),s=t.replace("%s","<b>".concat(d.join(", "),"</b>"))}t=_("Are you sure you want to delete %s?");var g=_("Delete");o&&(t=_("Are you sure you want to leave %s?"),g=_("Leave"));var E=t.replace("%s","<b>".concat(l(e.json.name),"</b>"));s&&(E="<span>".concat(E,"<br/><br/>").concat(s,"</span>"));var T=function(){return a.splice(0,0,e),i.splice(0,0,e.json.id),n.opts.data_model.deleteMany(i),n.opts.fn_on_delete&&n.opts.fn_on_delete(a),n.editingDone(),Signals.sendSignal("instant_refresh_interface")};(0,v.showConfirmDialog)({confirmLabel:g,htmlMessage:E,onConfirm:T})},addItem:function(e,t){var r,n=$parent(e,"li"),i=n.previousSibling,o=i?i.json.item_order+1:1;r=void 0!==e.color?e.color:this.opts.default_color,void 0!==this.selected_color&&(r=this.selected_color),this.opts.with_indent&&u.default.normalizeIndent(n,n);var l={name:$gc(e,null,"richtext_editor").proxyGetValue(),color:r};if(this.opts.with_indent||(l.item_order=o),this.opts.fn_parse_form&&(l=this.opts.fn_parse_form(e,l,!0)),""!==l.name&&!1!==l.is_changed){var s=this.opts.data_model.add(l);if(!s)return;if(this.opts.with_indent){u.default.normalizeIndent(n,n);s=a({},s,{indent:u.default.getIndent(n)})}var c=this.renderItem(s);$addClass(c,"generic_left_list_added"),$swap(n,c),this.setCurrent(c),window.scroll(0,0),this.editingDone(c),this.saveOrder({noUndo:!0}),$isFunction(t)&&t()}else this.current_item=n,$isFunction(t)&&t();return!1},showAddItem:function(e,t,r){var n=this;if(!this.fn_check_show_add_item||this.fn_check_show_add_item()){this.parent(e,t,r);var a=function(){if(n.checkEmpty(),n.opts.with_arrows)return n.arrows.updateArrows()},i=this.current_item,o=this.opts.default_color;!0===e&&i&&(o=i.json.color),this.selected_color=o;var l={cancel:u.default.genCancel("li",a,this,null,{"data-track":"Labels"===this.event_name?"labels|add_cancel":"projects|add_cancel"}),action:this.addItem,submit_val:this.opts.add_text,submit_attr:{"data-track":"Labels"===this.event_name?"labels|add_confirm":"projects|add_confirm"},name_val:"",indent_arrows:this.opts.with_indent,placeholder:this.opts.placeholder,fn_extend_form:this.opts.fn_extend_form,manager_type:this.manager_type,manager_reodering:this.manager_reodering};this.current_cancel=l.cancel;var s=this.generateAddEditForm(l);if(this.opts.with_color){var c=this.createColorSelector(o);$ATT(s.text_box_holder,c)}else $addClass(s.form,"no_color");if((this.current_form=s.form).color=o,!0===e&&this.opts.with_indent){var d=u.default.getIndent(i)||1,f=i&&i.nextSibling;f&&f.json&&f.indent===d+1&&(d+=1),u.default.setIndent(s.li_item,d)}this.insertForm(s.li_item,t),this.current_item=null,this.arrows&&this.arrows.updateArrows(),setTimeout(function(){return s.textarea.proxyFocus()},20)}},render:function(){var e=this,t=DIV({c:"left_list_man"});$addClass(t,"actions");var r=A({href:"",class:"action sel_add_project","data-track":"Labels"===this.event_name?"labels|add":"projects|add"},SPAN({c:"icon_add"},svgs.get("sm1/plus.svg")),this.opts.add_text);return this.add_item=r,r.onclick=function(){return e.saveCurrentItem(function(){return e.current_item=e.getItem($last),e.showAddItem()}),!1},$add(t,r),$add($(this.opts.list_holder),t)},renderItem:function(e,t){var r,n=this,i=TABLE({cellpadding:0,cellspacing:0,class:"item_table"}),o=TBODY();$add(i,o);var l={class:"clickable"};this.li_data_type&&(l["data-type"]=this.li_data_type),l["data-id"]=e.id;var s=LI(l,i);s.json=a({},e),$ATT(s,DIV({c:"invisible_space"}));var c=null;!0!==e.not_editable?(c=u.default.getMenuEditIcon(),s.menu_icon=c,new MenuRightClick(s,$p(this.toggleMenu,s,{id:e.id,menu_icon:c},e.id)),this.opts.with_ordering&&!0!==t&&!e.inbox_project&&this.opts.DragAndDrop.attach(s)):$addClass(s,"not_editable");var d=this.format(e.name,!1,!0),f=TD({class:"name"},$setHTML(SPAN(),d)),p=TD({class:"menu"},c);$AEV(p,["click","touchstart"],function(){return n.toggleMenu(s,c,e.id)}),r=this.opts.with_color?TD({class:"td_color"},this.opts.fn_create_color(e)):null,$add(f,this.opts.fn_create_counter(e));var m=function(t){var r=$eventElm(t);if(!r.is_menu_icon&&"svg"!==$nodeName(r)&&!$hasClass(r,"arrow"))return n.opts.fn_on_click(s,e,t)};return $AEV(s,"click",m),$add(o,TR(r,f,p)),this.opts.with_indent&&u.default.setIndent(s,e.indent,!0),s},colorSelected:function(e){var t=$("color_selector");if(t&&this.current_form){this.selected_color=e;var r=this.createColorSelector(e);$swap(t,r),IstTooltip.hide();var n=$child(this.current_list,"textarea");n&&n.proxyFocus(!0)}},createColorSelector:function(e){var t=this,r={color:e};this.current_item&&(r.id=this.current_item.json.id);var n=this.opts.fn_create_color(r,!0);return n.id="color_selector",$addClass([n,$child(n,"div")],"menu_icon"),n.setAttribute("data-track","Labels"===this.event_name?"labels|add_or_edit_color":"projects|add_or_edit_color"),$AEV(n,"click",function(e){return e.stopPropagation(),t.menu_colors.show(n,!0),!1}),n.change_y_pos=function(e){return e+=$scrollTop(),e-=$("left_menu").scrollTop},(0,l.selectColor)(this.menu_colors,e),n},createColorDiv:function(e,t){var r=DIV({class:"div_color counter_color ".concat(this.icon),id:e});return $setStyle(r,"color",t),r},toggleMenu:function(e,t,r,n){return this.opts.fn_on_show_menu&&this.opts.fn_on_show_menu(e),$removeClass($all("li","on_menu_show"),"on_menu_show"),$addClass(e,"on_menu_show"),t.change_y_pos=function(){var e=t.menu_icon||t,r=$position(e).y+15;return r-=$("left_menu").scrollTop,r+=$scrollTop()},this.menu.toggle(t,e,n),!1},getAllRenrededItems:function(e,t){void 0===t&&(t=!0);var r=this.parent(e),n=[],a=!0,i=!1,o=void 0;try{for(var l,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value;$hasClass(u,"not_editable")||(!0===t&&u.json&&u.json.inbox_project||!0===t&&u.json&&u.json.team_inbox||n.push(u))}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return n},isEmpty:function(){return 0===this.getAllRenrededItems(!1,!1).length},format:function(e,t,r){this.opts.markdown_support||(r=!1);var n="g_l_".concat(t).concat(r),a={only_text:t,as_html:r,with_links:!1,with_emojis:!0,cache_prefix:n};return d.default.formatSimple(e,a)}}),y=b;r.default=y},{"../../menus/HelperColorsPriorities.js":133,"../../models/TemporaryIds":174,"../../react_components/confirm_dialog":509,"../../reducers/mainView":1015,"../../reducers/utils":1043,"../../stores/store":1048,"../action_perfomed/ActionPerformed":2,"../formatter/Formatter.js":22,"../generic_manager/GenericManager.js":25,"../generic_manager/GenericManagerUtils.js":26,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],24:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("../generic_manager/GenericManagerUtils.js")),s=new Class({init:function(e){e&&$update(this,e),void 0!==this.x_off?this.x_off=this.x_off:this.x_off=0,$bindMethods(this),$isMozilla()&&(this.y_offset=4)},updateArrows:function(e){(e=e||this.list.current_list)&&(this.removeArrows(e),this._updateArrows(e),this.list.current_his_list&&this._updateArrows(this.list.current_his_list))},displayArrow:function(e,t){if(!(e.is_manager||e.json&&e.json.dont_show_arrow)){var r=e.json&&e.json.showCollapser||this._hasChildren(e),n=e.json&&e.json.collapsed;if(!0===t&&(n=!0),void 0!==e._collapsed&&(n=!!e._collapsed),r){var a="down";n&&(a="right");var i=svgs.get("sm1/caret.svg"),o=DIV({c:"arrow "+a});return $add(o,i),$addToTop(e,o),o.host_item=e,e.arrow=o,o.onclick=e.json&&e.json.onCollapse||$p(this._switchState,o),o}}},removeArrows:function(e){var t=this._getArrows(e);$map(t,function(e){e.host_item&&(e.host_item.arrow=null),$remove(e)})},setList:function(e){this.list=e},_updateArrows:function(e){for(var t=$first(e.childNodes),r=t;r;)$isHidden(r)||this._childEdited(r)||this.displayArrow(r),r=r.nextSibling},_saveState:function(e,t){this.data_model.update(e,{collapsed:t},!0)},_switchState:function(e){if(e){var t=e.host_item,r=t.json,n=new Set([r.id]),i=l.default.getChildren(t),o=t.parentElement.querySelectorAll("[completed-data-hint]");if(r.collapsed){t.json=a({},r,{collapsed:0}),l.default.showHideChildren(i,t),$map(i,function(e){$addClass(e,"task_expand_collapse"),0===e.json.collapsed&&n.add(e.json.id)});var s=[],u=!0,c=!1,d=void 0;try{for(var f,p=o[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value;n.has(m.parent_id)&&s.push(m)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}s.forEach(function(e){e.style.display="flex"})}else{t.json=a({},r,{collapsed:1}),$map(i,function(e){$hide(e)}),$map(i,function(e){n.add(e.json.id)});var h=[],_=!0,v=!1,b=void 0;try{for(var y,g=o[Symbol.iterator]();!(_=(y=g.next()).done);_=!0){var E=y.value;n.has(E.parent_id)&&h.push(E)}}catch(e){v=!0,b=e}finally{try{_||null==g.return||g.return()}finally{if(v)throw b}}h.forEach(function(e){e.style.display="none"})}this.updateArrows($parent(t,"ul")),this._saveState(t.json.id,t.json.collapsed)}},_hasEdit:function(e,t){return e.is_manager&&l.default.getIndent(e),!0},_childEdited:function(e){var t=e.nextSibling;if(!t)return!1;var r;if(e.json)r=e.json.indent;else{if(!e.previousSibling||!e.previousSibling.json)return!1;r=e.previousSibling.json.indent}for(;t;){var n=t.json;if(n&&n.indent<=r)return!1;if(t.is_manager)return!0;if(n&&n.indent<=r)return!1;t=t.nextSibling}return!1},_getArrows:function(e){if(e){var t=$parent(e,"div");return $all("div","arrow",t)}return this.list_holder||(this.list_holder=$parent(this.list.current_list,"td")),$all("div","arrow",this.list_holder)},_hasChildren:function(e){if(!e||!e.json)return!1;var t=e.nextSibling;return!!(t&&t.json&&t.json.indent>e.json.indent)}}),u=s;r.default=u},{"../generic_manager/GenericManagerUtils.js":26,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],25:[function(e,t,r){"use strict";function n(e){return 13==e.keyAscii&&e.ctrl&&!e.shift||_&&77==e.keyAscii&&e.ctrl&&!e.shift}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=e("../../models/RealHierachy"),l=e("../../utils/fp"),s=e("../misc/Util.js"),u=a(e("../action_perfomed/ActionPerformed")),c=a(e("../drag_and_drop/DragAndDrop")),d=a(e("../richtext_editor/RichTextEditor")),f=a(e("./GenericManagerUtils.js")),p=a(e("../../utils/isCompositionEscEvent")),m=0,h=Class({init:function(){},initWithData:function(e){this.state_manager=this,e&&$update(this,e)},getAllRenrededItems:function(e){var t=[];return $map(this.current_list.childNodes,function(r){if(r&&r.json&&!$hasClass(r,"reorder_item")){if(!0===e&&$isHidden(r))return;t.push(r)}}),t},isFormFirst:function(){var e=$first(this.current_list.childNodes);return $hasClass(e,"reorder_item")&&(e=e.nextSibling),e==$parent(this.state_manager.current_form,"li")},isFormLast:function(){return $last(this.current_list.childNodes)==$parent(this.state_manager.current_form,"li")},isAddFormOn:function(){return this.current_form&&"add"===this.current_mode},isEditFormOn:function(){return this.current_form&&"edit"===this.current_mode},getItem:function(e){e=e||$last;var t=e(this.current_list.childNodes);return t&&$hasClass(t,"reorder_item")?t.nextSibling:t&&t.is_manager?t.previousSibling:t&&t.json&&!t.is_empty?t:null},addIndentArrows:function(e,t,r){var n=DIV({"data-track":"projects|add_or_edit_project_indent_right"},svgs.get("sm1/indent.svg")),a=DIV({"data-track":"projects|add_or_edit_project_indent_left"},svgs.get("sm1/indent.svg",{className:"flipped"})),i=this,o=function(e,r){return i.incIndent(t,e),$all(null,"richtext_editor",t)[0].proxyFocus(!0),$preventDefault(r),!1};n.onclick=$p(o,1),a.onclick=$p(o,-1),!0===r?$add(e,a,n):$add(e,n,a)},generateAddEditForm:function(e){var t=LI({class:"manager indent_1"});t.is_manager=!0,this.li_data_type&&t.setAttribute("data-type",this.li_data_type);var r=FORM(),a=IstButton.createButton(e.submit_val);if($addClass(a,"ist_button_red"),$addClass(a,"submit_btn"),e.submit_attr)for(var i in e.submit_attr)a.setAttribute(i,e.submit_attr[i]);r.onsubmit=function(){return!1},$add(t,r);var o={tabIndex:1,autocomplete:"off",generatePlaceholder:e.generatePlaceholder};e.placeholder&&(o.placeholder=e.placeholder);var l=(0,d.default)(o);l.proxySetValue(e.name_val,!0,!1);var u=$p(e.action,r);r.submit_fn=u,$AEV(a,["click","touchstart"],function(e){return u(e),!1}),void 0===e.with_esc_cancel&&(e.with_esc_cancel=!0);var f=this,h=function(a){if(a=a||window.event,ICE._setEventKey(a),(0,p.default)(a))return!1;if(a.ctrl&&77==a.keyAscii&&e.on_ctrl_m)return $preventDefault(a),e.on_ctrl_m(a),!1;if(e.with_esc_cancel&&27==a.keyAscii){if(window.IstComplete&&window.IstComplete.isShown())return!1;if(l.cancelInput&&l.cancelInput(a))return $preventDefault(a),!1;l.blur(),e.cancel&&e.cancel.onclick(),$preventDefault(a)}if(8==a.keyAscii&&l.cancelInput&&l.cancelInput(a))return $preventDefault(a),!1;if(e.onKeyPress)return e.onKeyPress(a,t);if(n(a))return $preventDefault(a),r.submit_fn(function(){l.blur(),f.showAddItem(!0,!0)},!0),!1;if(13==a.keyAscii&&a.shift&&!e.disable_shift_enter)return $preventDefault(a),r.submit_fn(function(){l.blur(),f.showAddItem(!0,!1)},!0),!1;if(13==a.keyAscii)return(!window.IstComplete||!window.IstComplete.isShown())&&($preventDefault(a),l.blur(),r.submit_fn(null,!0),!1);if(9==a.keyAscii&&!a.ctrl){var i=$f(r,"due_date");if(i&&!IstComplete.isShown()){var o=$eventElm(a);if(o&&!$hasClass(o,"due_date"))return $preventDefault(a),i.click(),!1}}if(a.ctrl&&37==a.keyAscii&&!a.shift)return!$gp($eventElm(a),"ul","items")||(!(!r.no_indent&&0!=f.with_indent)||($preventDefault(a),f.incIndent(t,-1),!1));if(a.ctrl&&39==a.keyAscii&&!a.shift)return!$gp($eventElm(a),"ul","items")||(!(!r.no_indent&&0!=f.with_indent)||($preventDefault(a),f.incIndent(t,1),!1));var s=function(e){"edit"==f.current_mode?f.saveItem(f.state_manager.current_form,e,!0):f.addItem(f.state_manager.current_form,e,!0)};return a.ctrl&&38==a.keyAscii&&!a.shift?($preventDefault(a),s(f.editPrevItem),!1):a.ctrl&&40==a.keyAscii&&!a.shift?($preventDefault(a),s(f.editNextItem),!1):void 0},_=TABLE({width:"100%"}),v=TBODY();$add(_,v);var b,y,g=TABLE(TBODY(b=TR(y=TD({c:"text_box_holder"},l))));$AEV(y,"click",function(e){var t=$eventElm(e);if(t&&"input"==$nodeName(t))return!0;l.proxyFocus()});var E=TD({colSpan:2,class:"form_content"},g),T=TR(E);if($add(v,T),e.indent_arrows){var w=TD({rowSpan:2,class:"indent_arrows"});$add(T,w),this.addIndentArrows(w,t)}var R=TD({align:"left",c:"td_submit"}),P=TD({align:"right",c:"td_extra"});$add(R,a,e.cancel),e.td_extra&&$add(P,e.td_extra),$add(r,_),$add(r,TABLE({c:"td_submit_area"},TBODY(TR(R,P)))),e.fn_extend_form&&(r=e.fn_extend_form(r,T,e));var D=[l];return D=D.concat($all("input",null,r)),e.inputs&&(D=D.concat(e.inputs)),$map(D,function(e){(0,s.attachKeyDown)(e,h)}),e.manager_reodering&&(t.json={id:m--,manager_type:e.manager_type,indent:1},c.default.attach(t,{trigger_mouse_over:!0})),{li_item:t,form:r,textarea:l,text_box_holder:y,duedate:$f(r,"due_date"),form_content:E,input_holders_tr:b}},insertForm:function(e,t){var r=this.current_item;if(r&&!0===t&&e)return r.previousSibling?$addBefore(e,r):$addToTop(this.current_list,e),void FocusElm.focus(e,null,35);if(this.current_item){for(var n=r.nextSibling;n&&$isHidden(n);)n=n.nextSibling;return n?$addAfter(e,n.previousSibling||r):$add(this.current_list,e),void FocusElm.focus(e,null,35)}$add(this.current_list,e),FocusElm.focus(e,null,35)},saveCurrentItem:function(e,t){this.state_manager.current_form?this.state_manager.current_section_list&&this.state_manager.current_section_list.saveCurrentItem(e,t):e()},setCurrentItem:function(e){this.current_item=e},editPrevItem:function(){u.default.mark("GenericManager/editPrevItem");for(var e=this.current_item.previousSibling;e&&$isHidden(e);)e=e.previousSibling;if($hasClass(e,"reorder_item")&&(e=null),e)this.setCurrentItem(e),this.editCurrentItem(!0);else try{this.isFormFirst()||this.showAddItem(!0,!0)}catch(e){this.showAddItem(!0,!0)}},editNextItem:function(){u.default.mark("GenericManager/editNextItem");for(var e=this.current_item.nextSibling;e&&$isHidden(e);)e=e.nextSibling;if(e)this.setCurrentItem(e),this.editCurrentItem(!0);else try{this.isFormLast()||this.showAddItem(!0,!1)}catch(e){this.showAddItem(!0,!1)}},showAddItem:function(){u.default.mark("GenericManager/showAddItem"),this.setCurrentItemViaMenu(),this.current_mode="add",this.removeEmpty(),this.cancelCurrentEdit()},editCurrentItem:function(){this.setCurrentItemViaMenu(),this.current_mode="edit",u.default.mark("GenericManager/editCurrentItem"),this.cancelCurrentEdit(),$hide(this.current_item)},incIndent:function(e,t){var r=f.default.getIndent(e)+t;r<1&&(r=1),r>this.max_indent&&(r=this.max_indent);var n;if(n="add"==this.current_mode?e.previousSibling:e.previousSibling.previousSibling,n&&$hasClass(n,"reorder_item")&&(n=null),n){var a=f.default.getIndent(n);r>a&&(r=a+1)}f.default.setIndent(e,r)},empty_text:"No items",isEmpty:function(){return 0===this.getAllRenrededItems().length},renderEmpty:function(){return LI({class:"empty"},this.empty_text)},checkEmpty:function(){if(this.isEmpty()){var e=this.renderEmpty();return e&&(f.default.attachClick(e,this.showAddItem),e.is_empty=!0,$add(this.current_list,e)),!0}return this.removeEmpty(),!1},removeEmpty:function(){$remove($all("li","empty",this.current_list))},getCurrentOrderIndent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.as_list,n=void 0!==r&&r,a=$all("li",null,this.current_list),i=0,o={},l=[];return $map(a,function(t){t.json&&t.json.id&&!t.is_manager&&!t.json.newCompletedView&&(i++,"project_list"===!e.manager_type&&(t.json.item_order=i),n?l.push({id:t.json.id,item_order:i,indent:t.json.indent}):o[t.json.id]=[i,t.json.indent])}),n?l:o},saveOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{noUndo:!1},t=e.noUndo;if(!this.isAddFormOn()){if(this.opts.with_indent){var r=this.getCurrentOrderIndent({as_list:!0}),n=(0,o.deriveParentChildOrder)(r).map((0,l.pick)(["id","parent_id","child_order"]));return this.data_model.moveAndReorder(n,{noUndo:t}),!0}var a=(0,l.mapValues)(function(e){return(0,i.default)(e,1)[0]},this.getCurrentOrderIndent());return this.data_model.updateOrders(a),!0}},incOrderAfterItem:function(e){if(e&&e.json)for(var t=e.json.item_order,r=e.nextSibling,n={};r;)r.json&&r.json.id&&!r.is_manager&&(t++,r.json.item_order=t,n[r.json.id]=[t,r.json.indent]),r=r.nextSibling},setCurrentItemViaMenu:function(){var e=this.menu;e.shown&&e.current_holder&&(this.setCurrentItem(e.current_holder),this.menu.hide())},cancelCurrentEdit:function(){var e=this.state_manager.current_cancel;e&&(e.onclick(),this.state_manager.current_cancel=null)}}),_=-1!=navigator.userAgent.indexOf("Macintosh")&&$isMozilla(),v=h;r.default=v},{"../../models/RealHierachy":162,"../../utils/fp":1083,"../../utils/isCompositionEscEvent":1095,"../action_perfomed/ActionPerformed":2,"../drag_and_drop/DragAndDrop":20,"../misc/Util.js":47,"../richtext_editor/RichTextEditor":81,"./GenericManagerUtils.js":26,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],26:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("../action_perfomed/ActionPerformed")),s={getChildren:function(e,t){for(var r=t&&[e]||[],n=e.json.indent,a=e.nextSibling,i=e.json.project_id;a;)if($hasClass(a,"manager")||$hasClass(a,"reorder_item"))a=a.nextSibling;else{if(!a.json||!a.json.indent||a.json.indent<=n)break;if(i!=a.json.project_id)break;r.push(a),a=a.nextSibling}return r},showHideChildren:function(e,t){var r=[];t&&t.json&&r.push(t),r=r.concat(e);for(var n={},a=0;a<r.length;a++){var i=r[a],o=i.json;if(o)for(var l=a+1;l<r.length;l++){var s=r[l],u=s.json;if(!u)break;if(u.indent<=o.indent)break;n[u.id]=o}}$map(r,function(e){var t=e.json;if(t){for(var r=!0,a=t;;){if(!(a=n[a.id]))break;if(a.collapsed){r=!1;break}}r?$show(e):$hide(e)}})},getParent:function(e,t){t||(t=e.json.indent);for(var r=e.previousSibling;r;)if(r.json&&r.json.id&&!r.is_manager){if(r.json.indent<t)return r;r=r.previousSibling}else r=r.previousSibling;return null},getParentChildOrder:function(e){for(var t=this.getParent(e),r=t&&t.json?t.json.id:null,n=e.previousSibling,a=1;n;){if(n.json&&n.json.id&&!n.is_manager){if(n.json.id===r)break;a++}n=n.previousSibling}return{parent_id:r,child_order:a}},imgOnMouseOver:function(e,t,r){$AEV(e,"mouseover",function(){$removeClass(e,t),$addClass(e,r)}),$AEV(e,"mouseout",function(){$removeClass(e,r),$addClass(e,t)})},getMenuEditIcon:function(){var e=DIV({class:"icon menu gear_menu"});return $add(e,svgs.get("sm1/more_small.svg")),e.is_menu_icon=!0,e},getIndent:function(e){if(!e)return 1;var t=e.className.match(/indent_(\d)/);return t?parseInt(t[1]):1},setIndent:function(e,t,r){r||(l.default.mark("GenericManagerUtils/setIndent"),$map([1,2,3,4,5],function(t){$removeClass(e,"indent_"+t)})),$addClass(e,"indent_"+t),e.json&&(e.indent=t,e.json.indent=t)},attachClick:function(e,t){if(window.PRINT_MODE)return!1;$AEV(e,"click",function(e){if(2==e.button)return!1;var r=$eventElm(e);if($hasClass(r,"clickable"))return!0;if(document.selection){if(document.selection.createRange().text)return!0}if("input"==$nodeName(r))return!0;if(e.ctrl||e.shift)return!0;if(e._propogated_from_note_icon)return!0;var n=r&&$gp(r,"a");return!(r&&!n&&!$hasClass(r,"label"))||t(e)})},genCancel:function(e,t,r,n,i){n=n||_("Cancel");var o=A(a({class:"cancel",href:"",tabIndex:4},i),n),l=function(n){var a=$parent(o,e);return $remove(a),r.current_form=null,r.current_cancel=null,$isFunction(t)&&t(n),!1};return o.onclick=l,o},openParents:function(e){var t=s;if(e)for(var r=t.getParent(e);r;){var n=r.json.collapsed;r.json.collapsed=0,n&&t.showHideChildren(s.getChildren(r),r),r=t.getParent(r)}},normalizeIndent:function(e,t){if(t){var r=t.previousSibling;r&&$hasClass(r,"reorder_item")&&(r=r.previousSibling),!r&&e.json&&e.json.indent>1&&s.setIndent(e,1)}},updateParentIds:function(e,t,r){var n=s.getParent(e),a=null;n&&(a=n.json.id),e.json.parent_id!=a&&t.update(e.json.id,{parent_id:a});var i=s.getChildren(e);s.normalizeChildren(e,r,t),s.normalizeChildren(e,i,t);var o=[];o=o.concat(r),o=o.concat(i);var l={};$map(o,function(e){if(!l[e.json.id]){l[e.json.id]=!0;var r=s.getParent(e),n=null;r&&(n=r.json.id);var a={};e.json.parent_id!=n&&(a.parent_id=n),!r&&e.json.indent>1?a.indent=1:r&&r.json.indent!=e.json.indent+1&&(a.indent=r.json.indent+1,a.indent>t.max_indent&&(a.indent=t.max_indent)),a.indent&&s.setIndent(e,a.indent),$keys(a).length>0&&t.update(e.json.id,a)}})},normalizeChildren:function(e,t,r){if(t.length>0){var n=t[0];if(n.json.indent!=e.json.indent+1){var a=e.json.indent+1-n.json.indent;$map(t,function(e){var t=e.json.indent+a;t>r.max_indent&&(t=r.max_indent),s.setIndent(e,t),r.update(n.json.id,{indent:t})})}}}};window.GenericManagerUtils=s;var u=s;r.default=u},{"../action_perfomed/ActionPerformed":2,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],27:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.render,r={itemsById:{},items:{},sections:{},projects:{}},n=function(e){r=e(r)},i=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"items";if(r)if(r.updating){var o=function t(){n(function(t){return a({},t,(0,l.default)({},i,a({},t[i],(0,l.default)({},e,null))))}),setTimeout(function(){Signals.disconnect("sync_engine_synced",t)},0)};Signals.connect("sync_engine_synced",o),n(function(t){return a({},t,(0,l.default)({},i,a({},t[i],(0,l.default)({},e,{updating:!0}))))}),t()}else n(function(t){return a({},t,(0,l.default)({itemsById:a({},t.itemsById,{},(r.completedItems||[]).reduce(function(e,t){return e[t.item.id]=t.item,e},{}))},i,a({},t[i],(0,l.default)({},e,a({},t[i][e],{},r)))))}),t();else n(function(t){return a({},t,(0,l.default)({},i,a({},t[i],(0,l.default)({},e,null))))})},o=function(e,t){e.parent_id?i(e.parent_id,{updating:!0}):e.section_id?i(e.section_id,{updating:!0}):e.project_id&&i(e.project_id,{updating:!0}),i(e.id),t&&t.length&&t.forEach(function(e){var t=e.id;return i(t)})},s=function(e){n(function(t){return a({},t,{itemsById:a({},t.itemsById,(0,l.default)({},e.id,e))})})};return{getHints:function(){return r},updateHint:i,updateItem:s,onItemComplete:o,reset:function(){r={itemsById:{},items:{},sections:{},projects:{}}}}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/defineProperty"))},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],28:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){function t(){f(h,{fetching:!0}),(0,c.jsonAPI)("/archive/items",{params:O,withToken:!0}).then(function(e){var t=(0,s.parseCompleted)(e.completed_info),r=e.items.map(function(e){var r=(0,u.deserializeItemFields)(e);return r.indent=l,{item:r,completed:t}}),n=P.concat(r);f(h,{completedItems:n,tasksLeft:e.total-n.length,total:e.total,cursor:e.next_cursor,showHint:e.has_more,fetching:!1,fetched:!0},w)})}var r=e.hint,n=e.type,o=e.indent,l=void 0===o?1:o,f=e.updateHint,p=e.update,m=e.hintsState,h=e.itemId,v=e.collapsed,b=e.fetchOnExpand,y=e.completedParents,g=void 0===y?[]:y,E=e.onChangeStatus,T=e.completedSection;if(!r)return[];var w="section"===n?"sections":"items",R=m[w][h]||{},P=R.completedItems||[];if(!R.updating&&0===r.completed_items)return[];var D=document.createElement("li");v&&(D.style.display="none"),D.parent_id=h,D.completed_info=!0,D.tasks=0,D.classList.add("task_item","indent_".concat(l),"moreItemsHint"),D.setAttribute("completed-data-hint",!0);var O=(0,d.getArchivedItemsQueryParams)(r);R.cursor&&(O.cursor=R.cursor),!b||R.fetching||R.fetched||setTimeout(function(){t()},0);var C=void 0!==R.tasksLeft?R.tasksLeft:r.completed_items-P.length;$add(D,DIV({c:"moreItemsHint_icon"},R.fetching?Indicator.ringSpinner():svgs.get("sm1/fetch_completed.svg")));var I=(0,c.format)(_n("+1 completed task","+{num} completed tasks",C),{num:C});R.fetching&&(I=_("Fetching tasks\u2026")),R.updating&&(I=_("Updating completed info\u2026")),$add(D,DIV(I)),D.addEventListener("click",t);var A=!1!==R.showHint||R.updating?D:null;return(P.length>0?P.reduce(function(e,t){var r=m.itemsById[t.item.id],o=t.completed.items[r.id]&&t.completed.items[r.id].completed_items>0,s=function(){f(h,{completedItems:P.filter(function(e){return e.item.id!==r.id})}),E&&E(h)},u={completedSection:T,newCompletedView:!0,menu:"completed",update:p,completedParents:g.concat(r),onChangeStatus:s,no_checkbox:!1,no_drag_and_drop:!0,onDelete:function(){f(h,{completedItems:P.filter(function(e){return e.item.id!==r.id})})}};if(o){var c=m.items[r.id]||{},d=void 0===c.collapsed?1:c.collapsed;return e.concat(a({},r,{showCollapser:!0,collapsed:d,onCollapse:function(){f(r.id,{collapsed:!d})}},u),i({hint:t.completed.items[r.id],collapsed:d,type:n,indent:l+1,updateHint:f,update:p,hintsState:m,itemId:r.id,fetchOnExpand:!0,completedParents:g.concat(r),onChangeStatus:s,completedSection:T})).filter(Boolean)}return e.concat(a({},r,{},u))},[]).concat(A):[A]).filter(Boolean)}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=e("../../reducers/utils"),u=e("../../reducers/items"),c=e("../../utils"),d=e("../../react_components/item_list/utils")},{"../../react_components/item_list/utils":771,"../../reducers/items":1005,"../../reducers/utils":1043,"../../utils":1094,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],29:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){function t(){i(o,{fetching:!0},"projects");var e={project_id:r.project_id};return m.cursor&&(e.cursor=m.cursor),(0,c.jsonAPI)("/archive/sections",{params:e,withToken:!0}).then(function(e){var t=e.sections.map(function(t){return{section:a({},t,{collapsed:!0}),completed:(0,u.parseCompleted)(e.completed_info)}});i(r.project_id,{completedSections:h.concat(t),fetching:!1,total:e.total,cursor:e.next_cursor,showHint:e.has_more},"projects")})}var r=e.hint,n=e.hintsState,i=e.updateHint,o=e.projectId;if(!r||0===r.archived_sections)return[];var m=n.projects[r&&r.project_id]||{},h=m.completedSections||[],v=m&&m.total||r.archived_sections,b=v-h.length,y=document.createElement("li");y.classList.add("moreItemsHint"),$add(y,DIV({c:"moreItemsHint_icon"},m.fetching||m.updating?Indicator.ringSpinner():svgs.get("sm1/fetch_completed.svg")));var g;return g=m.fetching?_("Fetching sections"):m.updating?_("Updating archived info"):(0,c.format)(_n("+1 archived section","+{num} archived sections",b),{num:b}),$add(y,DIV(g)),y.addEventListener("click",t),h.reduce(function(e,t){var a,o=t.section,u=t.completed,c=BUTTON({c:"section_head__title"},o.name);c.style.opacity=.4
;var m=HEADER(c),_=o.id,v=u.sections[_]||{},b=Boolean(v.completed_items),y=n.sections[_]||{},g="boolean"!=typeof y.collapsed||y.collapsed;if(b){var E=DIV({c:"collapser"},svgs.get("sm1/caret.svg"));$add(m,E),$AEV(E,"click",function(){i(_,{collapsed:!g},"sections")})}var T=DIV({c:"menu icon"},svgs.get("sm1/more.svg")),w=function(){i(r.project_id,{completedSections:h.filter(function(e){return e.section!==o})},"projects")};$AEV(T,"click",function(e){d.default.toggle({anchor:T,event:e,onDeleteSelected:function(){f.default.remove(_),w()},onUnarchiveSelected:function(){f.default.unarchive(o),w(),d.default.hide()}})}),$add(m,T);var R=g?"section__collapsed":"",P=LI((a={c:"section ".concat(R)},(0,l.default)(a,"data-type","section"),(0,l.default)(a,"data-id",_),a),m);if(b&&!g){var D=new s.default;D.initWithData({section_id:_,project_id:o.project_id,items:(0,p.default)({completedSection:o,hint:v,updateHint:i,hintsState:n,collapsed:!1,itemId:o.id,fetchOnExpand:!0,onChangeStatus:w})});var O=D.renderItems(),C=UL({c:"items"});O.forEach(function(e){$add(C,e)});var I=DIV({c:"list_holder"},C);$add(P,I)}return e.concat(P)},[]).concat(m.showHint||0===h.length?y:[])}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("../project_editor/SectionList")),u=e("../../reducers/utils"),c=e("../../utils"),d=o(e("../project_editor/SectionArchivedMenu")),f=o(e("../../models/SectionsModel")),p=o(e("./ItemHint"))},{"../../models/SectionsModel":165,"../../reducers/utils":1043,"../../utils":1094,"../project_editor/SectionArchivedMenu":64,"../project_editor/SectionList":66,"./ItemHint":28,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],30:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createHintsContext",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"renderHint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"renderSectionsHint",{enumerable:!0,get:function(){return o.default}});var a=n(e("./HintsContext")),i=n(e("./ItemHint")),o=n(e("./SectionHint"))},{"./HintsContext":27,"./ItemHint":28,"./SectionHint":29,"@babel/runtime/helpers/interopRequireDefault":189}],31:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/toConsumableArray")),o=e("../../utils"),l=n(e("../../menus/MenuSelecterMore")),s=n(e("../items_utils/ItemCommonEdits")),u=n(e("../people_assigner/PeopleSelector")),c=n(e("../../models/ProjectsModel")),d=n(e("../../models/ItemsModel")),f=n(e("react")),p=n(e("react-dom")),m=e("react-redux"),h=n(e("../../stores/store")),v=n(e("../../react_components/scheduler/SchedulerWrapper")),b=n(e("../../react_components/project_picker")),y=n(e("../../react_components/label_picker")),g=n(e("../../react_components/priority_picker")),E=e("../../react_components/icons"),T=n(e("../../react_components/Button")),w=e("../../reducers/mainView"),R={last_item_selected:null,highlighted_items:{},reactContainers:[],init:function(){var e=this;$AEV(window,"resize",this.resize),Signals.connect("menu_selecter_delete",function(){0!==$all("li","selected").length&&(R.deleteItems(),l.default.hide())}),Signals.connect("menu_selecter_duplicate",function(){0!==$all("li","selected").length&&(R.duplicate(),l.default.hide(),R.hideSelecta())}),Signals.connect("menu_selecter_complete",function(){var e=$all("li","selected");0!==e.length&&(e.forEach(function(e){return d.default.complete(P(e))}),Signals.sendSignal("instant_refresh_interface"),l.default.hide(),R.hideSelecta())}),Signals.connect("menu_selecter_complete",function(){var e=$all("li","selected");0!==e.length&&($map(e,function(e){d.default.complete(P(e))}),Signals.sendSignal("instant_refresh_interface"),l.default.hide(),R.hideSelecta())}),Signals.connect("menu_item_assign",function(){l.default.hide();var e=function(e){$all("li","selected").forEach(function(t){var r=P(t);r&&d.default.update(r.id,{responsible_uid:e})}),Signals.sendSignal("instant_refresh_interface")},t=$gc($("item_selecter"),".menu_item_more"),r=P($all("li","selected")[0]).project_id,n={icon:t,fn_on_select:e,project_id:r,from_rendering:!0,top_offset:40,arrow_left_offset:10};(new u.default).showTooltip(t,n)}),l.default.init(),$AEV(document,"mousedown",function(t){var r=t.target.closest("li.task_item")||t.target.closest("li[data-item-id]");if(r)return void e.handleListItemMousedown(r,t);R.last_item_selected&&!(t.target.closest("#item_selecter")||t.target.closest(".scheduler-item-selecter")||t.target.closest(".dialog")||t.target.closest(".popper")||t.target.closest("#GB_window")||t.target.closest(".GB_overlay")||t.target.closest(".ist_tooltip_holder")||t.target.closest("#ist_complete_floater")||t.target.closest(".ist_menu")||t.target.closest(".menu_selecter_more"))&&e.deselectAll()})},handleListItemMousedown:function(e,t){var r=$eventElm(t);if(r&&(r.closest(".item_checkbox")||r.closest(".ist_checkbox")||r.closest(".ist_checkbox_img"))&&t.shift)return!0;if($isMac()&&t.meta||!$isMac()&&t.ctrl||t.shift){if($preventDefault(t),r&&($hasClass(r,"ist_checkbox")||$hasClass(r,"ist_checkbox_img")))return!0;if($hasClass(e,"task_list_item--completed")||$hasClass(e,"checked")&&$hasClass(e,"task_item"))return!0;if(t.shift&&!$hasClass(e,"selected")){var n=R.last_item_selected;if(n){var a=(0,w.isReactView)(h.default.getState()),i=a?"task_list_item":"task_item",o=$all("li",i).filter(function(e){return!$isHidden(e)}),l=$index(e,o),s=$index(n,o),u=l,c=s;u>c&&(u=s,c=l);var d=o.slice(u,c);$map(d,function(t){t!=n&&t!=e&&($hasClass(t,"task_list_item--completed")||$hasClass(t,"checked")&&$hasClass(t,"task_item")||R.selectClick(t))})}}return R.last_item_selected=e,R.selectClick(e)}},selectClick:function(e){return R.toggle(e),document.selection&&document.selection.empty?document.selection.empty():$body().focus(),!1},showSelector:function(){0===$all("li","selected").length?this.hideSelecta():this.showSelecta(),$addClass($html(),"item_selecter_on")},reactRender:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t||(t=SPAN()),this.reactContainers.includes(t)||this.reactContainers.push(t),p.default.render(f.default.createElement(m.Provider,{store:h.default},e),t),t},reactUnmount:function(){this.reactContainers.forEach(function(e){return p.default.unmountComponentAtNode(e)}),this.reactContainers=[]},hideSelecta:function(){$removeClass($html(),"item_selecter_on"),$removeClass($all("li","selected"),"selected"),$fx.fadeOut($("item_selecter"),{duration:100,onComplete:function(){$remove($("item_selecter"))}}),this.highlighted_items={},this.last_item_selected=null,this.reactUnmount()},labelPickerContainer:void 0,getLabelPickerProps:function(e){var t={};e.forEach(function(e){return(e.labels||[]).forEach(function(e){t[e]=(t[e]||0)+1})});var r=Object.keys(t);return{value:r.filter(function(r){return t[r]===e.length}),partiallySelectedValues:r.filter(function(r){return t[r]<e.length})}},getLabelChanges:function(e,t){var r=e.value.filter(function(e){return!t.value.includes(e)}),n=[].concat((0,i.default)(t.value.filter(function(t){return!e.value.includes(t)})),(0,i.default)(t.partiallySelectedValues.filter(function(t){return!(e.partiallySelectedValues||[]).includes(t)&&!r.includes(t)})));return{addedLabels:r,removedLabels:n}},handleLabelUpdate:function(e,t,r){var n=this.getLabelChanges(t,r),a=n.addedLabels,o=n.removedLabels;0===a.length&&0===o.length||(e.forEach(function(e){var t=e.id,r=e.labels,n=r.filter(function(e){return!o.includes(e)}),l=a.filter(function(e){return!r.includes(e)}),s=[].concat((0,i.default)(n),(0,i.default)(l)).sort();d.default.update(t,{labels:s})}),this.hideSelecta(),Signals.sendSignal("instant_refresh_interface"))},renderLabelPicker:function(){var e=this,t=$all("li","selected").map(P),r=this.getLabelPickerProps(t);return f.default.createElement(y.default,(0,a.default)({},r,{tooltip:_("Labels"),onChange:function(n){var a=n.target;return e.handleLabelUpdate(t,a,r)}}),f.default.createElement(E.LabelOutlinedIcon,null),f.default.createElement("span",null,_("Labels")))},handlePriorityUpdate:function(e,t){e.forEach(function(e){s.default.updatePriority(e,t)}),this.hideSelecta(),Signals.sendSignal("instant_refresh_interface")},renderPriorityPicker:function(){var e=this,t=$all("li","selected");return f.default.createElement(g.default,{onSelect:function(r){e.handlePriorityUpdate(t,r)},tooltip:_("Priority")},f.default.createElement(f.default.Fragment,null,f.default.createElement(E.PriorityIconB,null),f.default.createElement("span",null,_("Priority"))))},renderProjectPicker:function(){var e=this;return f.default.createElement(b.default,{withSectionSelection:!0,onSelect:function(t){var r=t.project_id,n=t.section_id;setTimeout(function(){var t=$all("li","selected");t=e.getProjectItems(t),s.default.moveItems(t,r,n),e.hideSelecta(),Signals.sendSignal("instant_refresh_interface")},0)}},function(e){var t=e.toggle,r=e.buttonProps;return f.default.createElement(T.default,(0,a.default)({onClick:t,className:"fixed_pos menu_item_move",title:_("Move to project")},r),f.default.createElement(E.MoveIcon,null),f.default.createElement("span",null,_("Move to project")))})},showSelecta:function(){if($("item_selecter"))this.reactRender(this.renderLabelPicker(),this.labelPickerContainer),this.reactRender(this.renderPriorityPicker(),this.priorityPickerContainer);else{var e,t,r;$addToTop($body(),DIV({id:"item_selecter"},r=BUTTON({type:"button",c:"dp_icon fixed_pos menu_item_schedule"},svgs.get("sm1/calendar.svg"),SPAN(_("Schedule"))),this.reactRender(this.renderProjectPicker()),this.labelPickerContainer=this.reactRender(this.renderLabelPicker()),this.priorityPickerContainer=this.reactRender(this.renderPriorityPicker()),t=BUTTON({type:"button",c:"fixed_pos menu_icon menu_item_more"},svgs.get("sm1/more.svg"),SPAN(_("More")+"\u2026")),e=BUTTON({type:"button",c:"deselect_items"},svgs.get("sm1/close_big.svg")))),$fx.fadeIn($("item_selecter"),{duration:100}),$AEV(e,"click",$b(this.deselectAll,this)),$AEV(r,"click",$b(this.showSchedulePicker,this)),$AEV(t,"click",$b(this.moreOptions,this)),IstTooltip.showSimpleText(r,_("Schedule"),null,null,5),IstTooltip.showSimpleText(t,_("More"),null,null,5)}this.resize()},deselectAll:function(){$removeClass($all("li","selected"),"selected"),this.hideSelecta()},toggle:function(e){var t=P(e);return $hasClass(e,"selected")?($removeClass(e,"selected"),R.highlighted_items[t.id]&&delete R.highlighted_items[t.id]):($addClass(e,"selected"),R.highlighted_items[t.id]=!0),this.showSelector(),!1},resize:function(){var e=$("item_selecter"),t=$("top_bar");e&&($setLeft(e,t.offsetLeft),$setWidth(e,t.offsetWidth))},getProjectItems:function(e){var t={},r={};return $map(e,function(e){var n=P(e);if(n&&!t[n.id]){var a=n.project_id;r[a]||(r[a]=[]),r[a].push(n.id),$map(d.default.getChildren(n),function(e){t[e.id]||(r[a].push(e.id),t[e.id]=!0)})}}),r},moreOptions:function(e){var t=document.querySelectorAll(".project_editor_instance").length>0,r=(0,o.uniq)($all("li","selected").map(function(e){var t=P(e);if(t&&t.project_id)return t.project_id})),n=1==r.length,a=c.default.get(r[0]).shared,i=t&&n&&a;return l.default.show($eventElm(e),e,{show_assign:i,arrow_y_offset:17}),!1},deleteItems:function(){var e=$all("li","selected");return s.default.deleteItems(e),R.deselectAll(),!1},showSchedulePicker:function(e){var t=$eventElm(e),r=$all("li","selected");if(0===r.length)return alert("You must select some tasks"),!1;var n=r.map(P);return v.default.show({selectedItems:n,anchor:t,dialogClassName:"scheduler-item-selecter",isDialogFixed:!0,selectedDate:1===n.length?n[0].due:null,onDateSelect:function(e){var t=n.reduce(function(t,r,n){return t[r.id]=(0,o.isArray)(e)?e[n]:e,t},{});d.default.updateDue(t),0===$all("li","selected").length&&R.hideSelecta(),R.deselectAll(),R.hideSelecta()}}),!1},duplicate:function(){var e=$all("li","selected").map(function(e){return P(e).id});s.default.duplicate(e)}},P=function(e){if(e.json)return e.json;var t=(0,o.parseId)(e.getAttribute("data-item-id"));return d.default.getById(t)};window.ItemSelecter=R;var D=R;r.default=D},{"../../menus/MenuSelecterMore":146,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../react_components/Button":466,"../../react_components/icons":731,"../../react_components/label_picker":792,"../../react_components/priority_picker":835,"../../react_components/project_picker":854,"../../react_components/scheduler/SchedulerWrapper":918,"../../reducers/mainView":1015,"../../stores/store":1048,"../../utils":1094,"../items_utils/ItemCommonEdits":33,"../people_assigner/PeopleSelector":56,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],32:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("@babel/runtime/helpers/classCallCheck")),s=i(e("@babel/runtime/helpers/createClass")),u=i(e("../../models/StateModel")),c=e("../../utils"),d=function(){function e(){(0,l.default)(this,e)}return(0,s.default)(e,[{key:"create",value:function(e,t,r){void 0===r&&(r=e.json.checked);var n=IstCheckbox.genereate();return window.PRINT_MODE||$AEV(n,"click",function(r){return Signals.sendSignal("hide_editor_menu"),!n.disabled&&!r.ctrl&&u.default.get("drag_and_drop_mode")!==u.default.DragMode.reordering&&t(e,r)}),(0,c.isSection)(e.json.content)||IstCheckbox.setChecked(n,r),n}},{key:"update",value:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e){var i=e.json;t?(n&&(e.json=a({},i,{checked:1})),$addClass(e,"checked"),$addClass(e,"with_check_animation")):(n&&(e.json=a({},i,{checked:0})),$removeClass(e,"checked"));var o=$all("div","ist_checkbox",e)[0],l=this.create(e,r,t);return $swap(o,l),l}}}]),e}(),f=new d;r.default=f},{"../../models/StateModel":167,"../../utils":1094,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],33:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("../../components/agenda/AgendaUtils")),s=n(e("../../models/ItemsModel")),u=n(e("../action_perfomed/ActionPerformed")),c=e("../../utils"),d=e("../../utils/fp"),f=n(e("../../stores/store")),p=e("../../reducers/undo"),m=e("../../reducers/items/actions"),h=e("../../reducers/notes/selectors"),v=e("../../react_components/confirm_dialog"),b=n(e("../formatter/Formatter")),y=function(e){if(e.json)return e.json;var t=(0,c.parseId)(e.getAttribute("data-item-id"));return s.default.getById(t)},g=function(){function t(){var e=this;(0,i.default)(this,t),this.updatePriority=this.updatePriority.bind(this),this.updateItems=this.updateItems.bind(this),Signals.connect("show_item_delete_confirm",function(t,r){var n=[{json:t}];e.deleteItems(n,r)})}return(0,o.default)(t,[{key:"updatePriority",value:function(e,t){u.default.mark("ItemCommonEdits/updatePriority"),Signals.sendSignal("update_priority",e,t);var r=y(e);if(r){var n=s.default.update(r.id,{priority:t}),i=(0,a.default)(n,1),o=i[0],l=!0,c=!1,d=void 0;try{for(var f,p=$all("li","item_".concat(o.id))[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var m=f.value;$update(m.json,o),this._setPriority(m)}}catch(e){c=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}}}},{key:"_setPriority",value:function(e){for(var t=0,r=[1,2,3,4];t<r.length;t++){var n=r[t];$removeClass(e,"priority_".concat(n))}$addClass(e,"priority_".concat(y(e).priority))}},{key:"deleteItems",value:function(e,t){var r,n,a={},i={},o=0,l=function(e){if(!a[e.id]){var t=i[e.project_id];t||(t=i[e.project_id]=[]),o+=1,t.push(e.id),a[e.id]=e}},u=[];if(e.forEach(function(e){var t=y(e);if(t){var r=s.default.getById(t.id);r?(n=s.default.getChildren(r,{with_parent:!0}),n.forEach(function(e){l(e)})):(n=[t],l(t)),u.push(e)}}),0!==o){if(1===o){var d=n[0].content,f=b.default.formatSimple(d,{as_html:!1,with_links:!1,with_emojis:!0}),p=f.length>50?f.substring(0,50)+"\u2026":f;r=(0,c.format)(_("Are you sure you want to delete {item_name}?"),{item_name:"<b>".concat(p,"</b>")})}else r=_n("Are you sure you want to delete this task?","Are you sure you want to delete {num_of_task} tasks?",o),r=(0,c.format)(r,{num_of_task:o});(0,v.showConfirmDialog)({confirmLabel:_("Delete"),htmlMessage:r,onConfirm:function(){for(var e in i){var r=i[e];s.default.deleteItem(r,parseInt(e))}u.forEach(function(e){e.json&&e.json.onDelete&&e.json.onDelete()}),Signals.sendSignal("instant_refresh_interface"),t&&t(!0)},onCancel:function(){t&&t(!1)}})}}},{key:"updateItems",value:function(e,t,r){var n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(u.json){var c=!0,d=!1,f=void 0;try{for(var p,m=$all("li","item_".concat(u.json.id))[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h,_=p.value;h=_.render_opts.renderCls?_.render_opts.renderCls.renderItem(_.json,_.render_opts):l.default.renderItem(_.json,_.render_opts),h.disabled=!1,r?($ATT($parent(_,"ul"),h),$remove(_)):$swap(_,h)}}catch(e){d=!0,f=e}finally{try{c||null==m.return||m.return()}finally{if(d)throw f}}}}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}},{key:"moveItems",value:function(e,t,r){u.default.mark("ItemCommonEdits/moveItems");var n=(0,d.compose)(d.flatten,c.values)(e);s.default.moveMultiple(n,t,r);var a=$keys(e);a.push(t),Signals.sendSignal("projects.rerender",a),Signals.sendSignal("instant_refresh_interface"),Signals.sendSignal("hide_editor_menu")}},{key:"notifyAddedTo",value:function(e){if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&e.due&&e.due.string&&e.due.string.length>0){var t="".concat(e.due.string," (").concat(c.DateUtils.getWeekDay(e.due.getDay()),")"),r=(0,c.format)(_("Task added for {task_due_date}"),{task_due_date:t});f.default.dispatch((0,p.undoPushMessage)(r))}else f.default.dispatch((0,p.notifyAddToProject)(e.id,e.project_id))}},{key:"duplicate",value:function(t){var r=e("../../containers/premium_promo/PremiumOnlyModal");if(!window.User.is_premium)return void r.showTaskDuplication();if(0!==t.length){var n=f.default.getState();(0,h.noteGetItemNoteCount)(n,t,{countChildren:!0})>0?Alerts.askPopup({content:_("Duplicate comments?"),width:350,height:180,center_layout:!0,yes_btn:_("Duplicate comments"),no_btn:_("Exclude comments"),on_yes_click:function(){f.default.dispatch((0,m.itemDuplicate)(t))},on_no_click:function(){f.default.dispatch((0,m.itemDuplicate)(t,{withNotes:!1}))}}):f.default.dispatch((0,m.itemDuplicate)(t))}}}]),t}(),E=new g;r.default=E},{"../../components/agenda/AgendaUtils":8,"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/ItemsModel":157,"../../react_components/confirm_dialog":509,"../../reducers/items/actions":1004,"../../reducers/notes/selectors":1023,"../../reducers/undo":1041,"../../stores/store":1048,"../../utils":1094,"../../utils/fp":1083,"../action_perfomed/ActionPerformed":2,"../formatter/Formatter":22,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],34:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("../../models/Reminders"),i=n(e("..//smart_scheduler/QuickDayShow")),o=n(e("../reminders/RemindersViewer")),l=n(e("../../models/DateExt")),s=e("../../utils"),u={createDueInput:function(e){var t=INPUT({type:"text",c:"input_due_date dp_icon",name:"due_date",tabIndex:2,autocomplete:"off",placeholder:_("Schedule"),readonly:!0}),r=function(e,t){var r,n=$gp(e,"table");n&&(r=$gc(n,"div","richtext_editor")),r&&(""===e.value?r.dateist_disabled=!1:r.dateist_disabled=!0,r.save_position=!1,r.onchanged&&r.onchanged(),t&&e.focus())};return e&&e.due_date?function(n){if(n){n=DateistDateHelpers.has_time(e.due_date)?DateistDateHelpers.inherit_date(n,e.due_date):DateistDateHelpers.date_max(n);var a={};DateistDateHelpers.is_overdue(new Date,n)&&(a.with_year=!0),t.value=s.DateUtils.format(n,!1,a),t.date_string=s.DateUtils.jsonFormat(n)}else t.value="",t.date_string="";t.no_date=!1,t.use_custom=!1,r(t,!1),$isIe()&&t.value&&$removeClass(t,"dummy_text"),window.SHOULD_HIDE=!0,setTimeout(function(){window.SHOULD_HIDE=!1},15);try{t.focus()}catch(e){}try{$remove($all("span","error",$f($parent(t,"form"))))}catch(e){}}(e.due_date):function(){t.date_string="",t.no_date=!0,t.value=""}(),t},parseDueDate:function(e){var t=null;if(""!==e.value){if(t=s.DateUtils.parse(e.value),t.error||!t.due_date){var r=$request("/sync/v8/mark_invalid_date");return r.addErrback(function(){}),r.sendReq({date_string:e.value,lang:window.LANG,translated:"dateist"}),!1}return l.default.fromDateist(t)}return null},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.due){var r=SPAN({class:"date"}),n=new Date,i=new Date;i.setDate(i.getDate()+1);var o=e.due.isLessThan(n),l=DateistDateHelpers.day_diff(n,e.due.toDate()),c=s.DateUtils.humanizeDayDiff(l,e.due.toDate());if(t.time_only&&(c=e.due.with_time?s.DateUtils.getHourAndMin(e.due.toDate()):""),!c&&!e.due.is_recurring){$addClass(r,"empty");return this.updateAlarmIcon(r,a.RemindersModel.hasReminders(e.id))?r:null}return l<=7&&l>1&&$addClass(r,"date_future"),IstTooltip.showTooltip(r,$p(u.createTooltipContent,e)),$add(r,c),o?$addClass(r,"date_overdue"):e.due.isSameDate(n)?$addClass(r,"date_today"):e.due.isSameDate(i)&&$addClass(r,"date_tom"),e.due.is_recurring&&$add(r,svgs.get("sm1/recurring.svg")),this.updateAlarmIcon(r,a.RemindersModel.hasReminders(e.id)),r}var d=SPAN({class:"date empty"}),f=this.updateAlarmIcon(d,a.RemindersModel.hasReminders(e.id));return f&&(f.style.marginRight="0px"),IstTooltip.showTooltip(d,$p(u.createTooltipContent,e)),d},createTooltipContent:function(e){var t="";if(e.due){var r=new Date,n=DateistDateHelpers.is_overdue(r,e.due),l=DateistDateHelpers.day_diff(new Date,e.due),u=l<=7&&l>=-7;if(t=s.DateUtils.formatView(e.due,!u||n),0!==l){t+="<br /><small>"+(l>0?(0,s.format)(_n("1 day left","{num} days left",l),{num:l}):(0,s.format)(_n("1 day ago","{num} days ago",Math.abs(l)),{num:Math.abs(l)}))+"</small>"}if(e.due.is_recurring){t+="<br /><small> "+e.due.string+"</small>"}}t=$setHTML(SPAN({c:"date_tooltip"}),t);var c=a.RemindersModel.getRemindersByItemId(e.id);if(c.length>0){var d=o.default.renderRaw(e,c,{delete_possible:!1});$add(t,d)}if(window.User.is_premium&&e.due){var f=i.default.show(e.due);$add(t,f)}return t},updateAlarmIcon:function(e,t){var r=$all("svg","alarm_icon",e);r.length>0&&$remove(r[0]);var n;return t&&(n=svgs.get("sm1/reminder_small.svg",{className:"alarm_icon"}),$add(e,n)),n},updateDueDate:function(e){var t=$all("div","td_due_date",e)[0];if(t){var r=u.create(e.json);$replace(t,r),$fx.highlight($gc(e,"span","date"),{duration:600})}},showDateInsert:function(){return window.open("/Help/DatesTimes"),!1}},c=u;r.default=c},{"../../models/DateExt":154,"../../models/Reminders":163,"../../utils":1094,"..//smart_scheduler/QuickDayShow":83,"../reminders/RemindersViewer":79,"@babel/runtime/helpers/interopRequireDefault":189}],35:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.show=void 0;var a=n(e("../../models/SyncEngine")),i=n(e("../copy_to_clipboard/CopyForm")),o=n(e("../../stores/store")),l=e("../../reducers/undo"),s=e("../../utils"),u=e("../../reducers/items"),c=function(e){var t={id:e.id};return e.sync_id&&(t.sync_id=e.sync_id),"https://todoist.com/showTask?"+$encode(t)},d=function(e){e=(0,u.itemGetByID)(o.default.getState(),e.id)||e;var t=function(){e=(0,u.itemGetByID)(o.default.getState(),e.id)||e;var t=c(e);s.copyToClipboard.supported?(0,s.copyToClipboard)(t).then(function(){return o.default.dispatch((0,l.undoPushMessage)(_("Link copied!")))}).catch(function(){return f(t)}):f(t)};return(0,s.isTempID)(e.id)?a.default.sync(null,!0).then(t):t(),!1};r.show=d;var f=function(e){var t=DIV(Indicator.cssSpinner());GB_showHTML(_("Link to task"),t,200,400);var r=i.default.genereate();r.input.value=e,$replace(t,r.form),r.input.select(),r.fn_copy_to_clipboard()};Signals.connect("item_copy_link",function(e){d({id:e})});var p={show:d};r.default=p},{"../../models/SyncEngine":171,"../../reducers/items":1005,"../../reducers/undo":1041,"../../stores/store":1048,"../../utils":1094,"../copy_to_clipboard/CopyForm":19,"@babel/runtime/helpers/interopRequireDefault":189}],36:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.holder,n=e.onChange,a=(0,S.useRef)(!1);return(0,S.useEffect)(function(){a.current=!0;var e=r.getElementsByTagName("button")[0],t=e.closest("li");return e&&(e.click(),$addClass(t,"on_menu_show")),function(){$removeClass(t,"on_menu_show")}},[r]),S.default.createElement(j.PersonPicker,{projectId:t.project_id,onChange:n,value:t.responsible_uid,onToggle:function(e){a.current&&!e&&k.default.unmountComponentAtNode(r)}})}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("@babel/runtime/helpers/classCallCheck")),s=i(e("@babel/runtime/helpers/createClass")),u=i(e("../people_assigner/PeopleAssigner")),c=i(e("../labels/Labels.js")),d=i(e("../notes/NotesUtils")),f=i(e("../item_selecter/ItemSelecter.js")),p=i(e("../drag_and_drop/DragAndDrop")),m=i(e("../generic_manager/GenericManagerUtils.js")),h=i(e("../projects_list/ProjectListUtils")),v=i(e("../formatter/Formatter.js")),b=i(e("../../models/ItemsModel")),y=i(e("../../models/ProjectsModel")),g=i(e("../../models/Colors")),E=e("../../models/Reminders"),T=i(e("../../models/Collaborators")),w=i(e("./ItemCheckbox")),R=i(e("./ItemDueDates.js")),P=i(e("../agenda/AgendaUtils")),D=e("../../utils"),O=i(e("../../react_components/scheduler/SchedulerWrapper")),C=i(e("../../stores/store")),I=e("../../reducers/detailView"),A=e("../../reducers/user"),S=a(e("react")),k=i(e("react-dom")),M=i(e("../misc/renderContainer")),j=e("../../react_components/person_picker/"),N=i(e("prop-types")),x=function(){function e(){(0,l.default)(this,e),this.renderItem=this.renderItem.bind(this),this.getMenuEditIcon=this.getMenuEditIcon.bind(this),this.createProjectItem=this.createProjectItem.bind(this)}return(0,s.default)(e,[{key:"renderItem",value:function(e,t){var r,a,i,o,l,s,h=C.default.getState(),g=y.default.get(e.project_id),P=LI({c:"task_item item_".concat(e.id," task_item--new_design").concat(e.responsible_uid?" task_item--assigned":""),id:"item_".concat(e.id)});P.json=e,e.checked&&$addClass(P,"checked"),$add(P,i=DIV({c:"task_item_details"})),f.default.highlighted_items[e.id]&&$addClass(P,"selected");var O=DIV;if(P.td_checker=o=O({c:"checker sel_checkbox_td"}),(0,D.isSection)(e.content)||!0===t.no_checkbox)P.td_checker=o=O();else{var k;k=e.is_archived?function(){return alert(_("This project is archived. Unarchive it to be able to edit it.")),w.default.update(P,e.checked,k),!0}:e.checked?t.fn_undo_complete_item:t.fn_complete_item,$add(o,w.default.create(P,k))}var j=null;j=O({class:"task_comment task_content_item"},svgs.get("sm1/comments.svg",{className:"form_action_icon"})),$AEV(j,"click",function(){C.default.dispatch((0,I.detailViewShowItem)(e.id,{activeTab:"comments"}))}),s=O({c:"task_info task_content_item"},svgs.get("sm1/info.svg",{className:"form_action_icon"})),$AEV(s,"click",function(){IstMenu.hide(),C.default.dispatch((0,I.detailViewShowItem)(e.id))}),$ATT(P,DIV({c:"invisible_space"}));var N=null,x=null,L=null,q=DIV({c:"task_item_details_bottom"}),U=v.default.format(e.content);U=U.replace(/^\*\s+/g,"");var $=DIV({c:"text sel_item_content"},$setHTML(DIV({c:"task_item_content_text"}),U)),F=c.default.format("",e);(0,A.isPremium)(h)&&$setHTML(q,F),d.default.annotate(e,q,P),$ATT(q,q.lastChild),$add($,q);var z=null;t.with_project&&(P.td_project=z=O({class:"column_project task_content_item"},this.createProjectItem(e,null)),$add($,z));var B=null;if(g&&T.default.isProjectShared(g.id)){var H=function(t){var r=t.target.value;if(e.responsible_uid!==r)return r?$addClass(P,"task_item--assigned"):$removeClass(P,"task_item--assigned"),b.default.update(e.id,{responsible_uid:r}),Signals.sendSignal("instant_refresh_interface"),e},V={fn_on_select:H,responsible_uid:e.responsible_uid,project_id:g.id,from_rendering:!0,arrow_left_offset:5,enabled:!1};B=O({c:"assign_user task_content_item","data-track":"project|assign_person"},new u.default(V).render(V));var W=DIV({c:"people_assigner_react_holder"});$add(B,W),$AEV(B,"click",function(){return(0,M.default)(S.default.createElement(n,{item:e,holder:W,onChange:H}),W)})}else $addClass(P,"not_shared");if(t.with_due_date||t.with_time){var G=E.RemindersModel.hasReminders(e.id);N=O({c:"td_due_date",nowrap:!0},x=DIV({c:"due_date_controls"},L=R.default.create(e,{time_only:!t.with_due_date}))),(e.due||G)&&$ATT(q,N)}P.content=r=O({c:"text_cursor content task_content_item".concat(z?"":" no_project")},$),P.td_menu=a=null;var Y=!0;if(!e.newCompletedView&&(e.is_archived||e.in_history||t.not_editable)&&(Y=!1),window.PRINT_MODE&&(Y=!1),P.td_menu=a=O({c:"menu"}),Y){$add(a,this.getMenuEditIcon(P,t.fn_toggle_menu,P.td_menu)),new MenuRightClick(P,$p(t.fn_toggle_menu,P,{id:e.id},e.id)),t.no_drag_and_drop||p.default.attach(P);var K,X=SPAN({c:"scheduler_action"},svgs.get("sm1/calendar.svg"));t.with_due_date?(e.due?K=L:($addToTop(x,X),K=X),P.td_scheduler=l=O({c:"td_scheduler task_content_item"},X),$AEV(l,"click",$p(this.onSchedulerClick,P,e,l,t.is_note))):(P.td_scheduler=l=O({c:"td_scheduler task_content_item"},X),K=X),$AEV(K,"click",$p(this.onSchedulerClick,P,e,K,t.is_note))}else{var J=m.default.getMenuEditIcon();$addClass(J,"is_hidden"),$add(a,J)}t.no_indent||m.default.setIndent(P,e.indent,!0),$addClass(P,"priority_".concat(e.priority));var Q=DIV({c:"task_item_actions"});return e.in_history||e.checked?$add(Q,s,a):$add(Q,s,l,j,B,a),$add(P,Q),$AEV(Q,"click",function(t){t.target===Q&&C.default.dispatch((0,I.detailViewShowItem)(e.id))}),$add(i,o,r),P.render_opts=t,P}},{key:"getMenuEditIcon",value:function(e,t,r){var n=m.default.getMenuEditIcon();return $AEV(r,"click",$p(t,e,n,e.json.id)),e.menu_icon=n,n}},{key:"createProjectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=y.default.get(e.project_id)),t||(t={name:_("Undefined"),id:null,color:null});var r=t,n=r.name;n=n.replace(/^-\s*/,"");var a=t.color||0;t.inbox_project&&(a=7),a=g.default.getHex("project",a);var i=SPAN({c:"clickable project_item"}),o=SPAN({c:"project_item__color"},"");return o.style.color=a,
T.default.isProjectShared(t.id)?($addClass(o,"project_item__color--shared"),$addClass(i,"project_item--shared"),$add(o,svgs.get("sm1/project_shared.svg"))):o.style.backgroundColor=a,$add(i,$setHTML(SPAN({c:"project_item__name"}),v.default.format(n,{with_links:!1,as_html:!1}))),$add(i,o),window.PRINT_MODE||$AEV(i,"click",function(r){if(r.ctrl||r.shift)return!1;if(t.id){var n=e?e.id:null;h.default.setCurrentById(t.id,n)}return!1}),i}},{key:"onSchedulerClick",value:function(e,t,r,n,a){a.stopPropagation();var i=$all("li","selected");i=i.indexOf(e)>-1?i:[e];var l=i.map(function(e){return e.json}),s=n?"scheduler-note-item":"scheduler-item";$addClass(e,"on_scheduler_show"),O.default.show({anchor:r,dialogClassName:s,selectedItems:l,selectedDate:l.length>1?null:t.due,onDateSelect:function(e){b.default.updateDue((0,o.default)({},t.id,e)),P.default.refresh()},onHide:function(){$removeClass(e,"on_scheduler_show")}})}}]),e}();n.propTypes={item:N.default.object.isRequired,holder:N.default.object.isRequired,onChange:N.default.func.isRequired};var L=new x;r.default=L},{"../../models/Collaborators":150,"../../models/Colors":151,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../models/Reminders":163,"../../react_components/person_picker/":826,"../../react_components/scheduler/SchedulerWrapper":918,"../../reducers/detailView":996,"../../reducers/user":1042,"../../stores/store":1048,"../../utils":1094,"../agenda/AgendaUtils":8,"../drag_and_drop/DragAndDrop":20,"../formatter/Formatter.js":22,"../generic_manager/GenericManagerUtils.js":26,"../item_selecter/ItemSelecter.js":31,"../labels/Labels.js":40,"../misc/renderContainer":48,"../notes/NotesUtils":50,"../people_assigner/PeopleAssigner":55,"../projects_list/ProjectListUtils":70,"./ItemCheckbox":32,"./ItemDueDates.js":34,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react","react-dom":"react-dom"}],37:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("../project_editor/ProjectEditorManager")),i=n(e("../../stores/store")),o=e("../../reducers/items"),l=e("../../components/agenda/sort"),s={sortByDate:function(e){s.applySort((0,l.composeSortFunc)(l.byDueDate,l.byPriority,l.byChildOrder),e)},sortByPriority:function(e){s.applySort((0,l.composeSortFunc)((0,l.composeSortFunc)(l.byPriority,l.byChildOrder)),e)},sortByResponsible:function(e){var t=(0,l.createByResponsible)(i.default.getState());s.applySort((0,l.composeSortFunc)((0,l.composeSortFunc)(t,l.byPriority,l.byChildOrder)),e)},sortByName:function(e){s.applySort((0,l.composeSortFunc)(l.byItemContent,l.byPriority,l.byChildOrder),e)},applySort:function(e,t){if(t)i.default.dispatch((0,o.itemSortProjectItems)(t,e)),Signals.sendSignal("sort_by_done"),Signals.sendSignal("instant_refresh_interface");else{var r=a.default.current_editor;if(!r)return!1;i.default.dispatch((0,o.itemSortProjectItems)(r.project_id,e)),Signals.sendSignal("sort_by_done"),Signals.sendSignal("instant_refresh_interface")}}},u=s;r.default=u},{"../../components/agenda/sort":16,"../../reducers/items":1005,"../../stores/store":1048,"../project_editor/ProjectEditorManager":61,"@babel/runtime/helpers/interopRequireDefault":189}],38:[function(e,t,r){"use strict";function n(e){for(var t=e.nextSibling;;){if(!t)break;if($isShown(t))break;t=t.nextSibling}if($addClass(e,"checked"),$addClass(e,"complete_animation"),setTimeout($p($remove,e),140),t&&$hasClass(t,"task_item")){!!$prevSibling(t,"li","reorder_item")&&i.default.attachHandler(t)}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("../drag_and_drop/DragAndDrop"))},{"../drag_and_drop/DragAndDrop":20,"@babel/runtime/helpers/interopRequireDefault":189}],39:[function(e,t,r){"use strict";function n(e){var t=e.target||e.srcElement;if(t){var r=$nodeName(t);if("textarea"==r||"input"==r||"select"==r||"textbox"===t.getAttribute("role"))return!0;if($hasClass(t,"ist_button")||$hasClass(t,"richtext_editor")||$hasClass(t,"t_date")||$hasClass(t,"t_label"))return!0}return!1}function a(e){if(n(e))return!0;if(GB_getLast())return!0;if($$(".side_panel").length>0)return!0;var t=e.keyAscii,r=p.default.getState(),a=(0,_.shouldShowReactView)(r)&&"project"===(0,h.get)("mainView.type",r)&&(0,h.get)("mainView.ids[0]",r),i=l.default.current_section_list;if($isIn(t,[97,65,1092,1060])){var o=$isIn(t,[65,1060]);if(i)i.addNewItem(o);else{var d=$$("li.agenda_add_task");if(d.length>0){var f=$child(d[0],"a");f.scrollIntoView({behavior:"smooth",block:"center"}),f.onclick(f)}}return $preventDefault(e),!1}return!e.ctrl&&$isIn(t,[47,102,1072])?(s.default.focus(),s.default.select(),$preventDefault(e),!1):!e.ctrl&&$isIn(t,[81,113,1081,1049])?($preventDefault(e),p.default.dispatch((0,m.showModal)({type:m.MODAL_TYPES.QUICK_ADD})),!1):!e.ctrl&&$isIn(t,[115,1099,1491])&&l.default.getCurrentEditor()?(l.default.getCurrentEditor().showSectionAddForm(),$preventDefault(e),!1):!e.ctrl&&$isIn(t,[114,1082])?(u.default.sortByResponsible(a),$preventDefault(e),!1):!e.ctrl&&$isIn(t,[112,1079])?(u.default.sortByPriority(a),$preventDefault(e),!1):e.ctrl&&$isIn(t,[38,40])?(i&&!l.default.current_form&&(i.addNewItem(40==t),$preventDefault(e)),!1):63==t?c.default.showKeyboardShortcuts():!e.ctrl&&$isIn(t,[68,100,1074])?("project"===p.default.getState().mainView.type&&u.default.sortByDate(a),$preventDefault(e),!1):!(!e.ctrl&&110===t)||(u.default.sortByName(a),$preventDefault(e),!1)}function i(e){if(n(e))return!0;var t=e.keyAscii;if(27==t){if(GB_getLast()||IstComplete.current_input)return!0;if($all("li","selected").length>0)return f.default.deselectAll(),!1;top.postMessage(JSON.stringify({type:"todoist_close_window"}),"*")}else if(e.ctrl&&90==t)return $preventDefault(e),d.default.undo(),!1;return!0}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=void 0;var l=o(e("../project_editor/ProjectEditorManager")),s=o(e("../quick_find/QuickFind")),u=o(e("../items_utils/ItemsSortBy.js")),c=o(e("../opener/WindowOpener.js")),d=o(e("../items_utils/ItemCommonEdits")),f=o(e("../item_selecter/ItemSelecter.js")),p=o(e("../../stores/store")),m=e("../../reducers/modals"),h=e("../../utils/fp"),_=e("../../reducers/user"),v=function(){$AEV(document,"keypress",a),$AEV(document,"keydown",i)};r.init=v;var b={init:v};r.default=b},{"../../reducers/modals":1016,"../../reducers/user":1042,"../../stores/store":1048,"../../utils/fp":1083,"../item_selecter/ItemSelecter.js":31,"../items_utils/ItemCommonEdits":33,"../items_utils/ItemsSortBy.js":37,"../opener/WindowOpener.js":53,"../project_editor/ProjectEditorManager":61,"../quick_find/QuickFind":72,"@babel/runtime/helpers/interopRequireDefault":189}],40:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("../../models/LabelsModel")),i=n(e("../../models/Colors")),o=n(e("../../containers/premium_promo/PremiumOnlyModal")),l=n(e("../richtext_editor/NatrualLanguageParsing")),s=n(e("../../stores/store")),u=e("../../reducers/mainView"),c=e("../../reducers/labels"),d={re_labels:/(^|\s+)@([^\s,]+)/g,init:function(){},getLabels:function(e){var t=[];return e=e.replace(d.re_labels,function(e,r,n){n=n.toLowerCase();var i=a.default.get(n);return i?t.push(i.id):t.push(n),""}),[e,t]},queryLabel:function(e){s.default.dispatch((0,u.showLabelView)(e)),Signals.sendSignal("select_labels_tab",e)},format:function(e,t){if(!t.labels)return e;var r={},n=[],i=function(e){r[e.name]||(n.push(e),r[e.name]=!0)};$map(t.labels,function(t){var r=a.default.getByName(t,!1)[0]||{name:t};i(r),e=e.replace(new RegExp("(^|s)@"+r),"$1")});var o=d.getLabels(e)[1];return $map(o,function(t){(t=a.default.getById(t))&&(i(t),e=e.replace(new RegExp("(^|s)@"+t),"$1"))}),d._format(e,n)},_format:function(e,t){if(!t||0===t.length)return e;t.sort(c.compareLabelsFn);var r=[];return $map(t,function(t){if(t){var n=d.getCssColor(t),a=$xssStrip(t.name);r.push('<a class="label" onclick="Labels.queryLabel(\''+t.name+'\')" style="'+n+'">'+a+"</a>"),e=e.replace(new RegExp("(^|s)@"+t,"ig"),"")}}),t=r.join("")},getCssColor:function(e){return"color: "+i.default.getHex("label",e.color)+";"},formatByContent:function(e){var t=d.getLabels(e);e=t[0];var r=t[1];if(0===r.length)return e;var n=[];return $map(r,function(e){var t;(t=$isNumber(e)?a.default.getById(e):{name:e,color:0})&&n.push(t)}),d._format(e,n)},jsonFormat:function(e){return e=e.replace(d.re_labels,function(e,t,r){var n=function(e){return"\\"+e};return r=r.replace(/\*|\+/g,n),e.replace(new RegExp(t+"@"+r,"g"),"")}),$strip(e)},textFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={},n=[];return t.map(function(t){if(!r[t]){var a=new RegExp("(^|s)@"+IstComplete.escapeReqExpSepcails(t),"ig");null==e.match(a)&&(n.push("@"+t),r[t]=!0)}}),n=n.join(" "),n.length>0&&(n+=" "),n+$strip(e)},getCompletionLabels:function(){var e=[];return $map(a.default.getAll(!0),function(t){e.push({name:t.name})}),e},annotateFormArea:function(e,t){window.User.is_premium&&(IstComplete.attach(e,a.default.complete_data={collection:function(e){return a.default.getByName(e.replace("@",""))},filterItem:function(e){var t=DIV({c:"div_color counter_color",s:d.getCssColor(e)},svgs.get("sm1/label.svg")),r=SPAN({c:"label_name"},e.name);return DIV(DIV({c:"ist_complete_icon"},t),DIV({c:"ist_complete_content"},r))},position_item:$parent(e,"td","text_box_holder"),extra_width:1,support_paste:!1,wildcard_match:!0,onNoMatches:function(e,t,r){if(0==r.length&&0!=d.getCompletionLabels().length)return IstComplete.hide(),!1;if(r.length>0){r=r.replace(/\\/g,"");var n;$add(e,TR(n=TD({c:"ist_complete_item"},SPAN({c:"ist_complete_content"},_("Label not found.")," ",B(_("Create")+" "+r))))),n.onmouseover=$p(IstComplete.onMouseOver,n,{}),n.onmousedown=$p(d._createLabel,r,t)}return!0},preOnSelect:function(e){d.old_support_labels=null,e.is_content_editable&&l.default&&(d.old_support_labels=l.default.highlight_labels,l.default.highlight_labels=!1)},postOnSelect:function(e){e.is_content_editable&&setTimeout(function(){l.default.highlight_labels=d.old_support_labels,e.input.onchanged()},5)}}),$AEV(e,"keydown",function(e){return!(13==e.keyAscii&&!e.shift&&IstComplete.isShown())&&((27!=e.keyAscii||!IstComplete.isShown())&&void 0)}),$swap(t,this._crateLabelButton(e)))},showPremiumPromotion:function(){o.default.showLabel()},_createLabel:function(e,t){return IstComplete.hide(),a.default.add({name:e}),window.LibEdit.insertAtCursor(t,IstComplete.CHAR_FORCED_WHITESPACE),!1},_crateLabelButton:function(e){var t=SPAN(svgs.get("sm1/label_outline.svg"));$addClass(t,"form_action_icon"),t.setAttribute("data-track","task_form|label"),$AEV(t,"click",function(){return IstTooltip.hide(),window.User.is_premium?(LibEdit.placeCaretAtEnd(e),IstComplete.forceShow(e,!0,a.default.complete_data)):d.showPremiumPromotion(),!1});var r=DIV(B(_("Label")),BR(),_("Add by typing @"));return IstTooltip.showSimpleText(t,r,null,6,4),t}};window.Labels=d;var f=d;r.default=f},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/Colors":151,"../../models/LabelsModel":158,"../../reducers/labels":1010,"../../reducers/mainView":1015,"../../stores/store":1048,"../richtext_editor/NatrualLanguageParsing":80,"@babel/runtime/helpers/interopRequireDefault":189}],41:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("../../utils"),l=function(){function e(){var t=this;(0,a.default)(this,e),this.render=this.render.bind(this),this.toggleIcon=this.toggleIcon.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.hideOnEscape=this.hideOnEscape.bind(this),this.toggle=this.toggle.bind(this),$AEV(window,"resize",(0,o.debounce)(function(){t.mobile_menu_shown&&!window.MINI_VERSION&&t.hide()},200))}return(0,i.default)(e,null,[{key:"initClass",value:function(){this.prototype.offset_top=50}}]),(0,i.default)(e,[{key:"render",value:function(){$ATT($("top_bar_inner"),this.toggleIcon())}},{key:"toggleIcon",value:function(){var e=this.icon_menu_toggle=A({href:"#",c:"left_menu_toggle"},svgs.get("sm1/menu.svg"));return $AEV(e,"click",this.toggle),e}},{key:"isShown",value:function(){return $hasClass($html(),"left_menu_show")}},{key:"show",value:function(){this.mobile_menu_shown=!0;var e=$body();return $addClass($html(),"left_menu_show"),$add(e,this.overlay=DIV({c:"left_menu_overlay"})),$AEV(this.overlay,"click",this.hide),$removeClass(this.icon_menu_toggle,"menu_toggle"),$addClass(this.icon_menu_toggle,"menu_close"),$replace(this.icon_menu_toggle,svgs.get("sm1/close_big.svg")),document.addEventListener("keydown",this.hideOnEscape),!1}},{key:"hide",value:function(){return this.mobile_menu_shown=!1,$removeClass($html(),"left_menu_show"),$remove($all("div","left_menu_overlay")),$removeClass(this.icon_menu_toggle,"menu_close"),$addClass(this.icon_menu_toggle,"menu_toggle"),$replace(this.icon_menu_toggle,svgs.get("sm1/menu.svg")),document.removeEventListener("keydown",this.hideOnEscape),!1}},{key:"hideOnEscape",value:function(e){"Escape"===(0,o.resolveKeyboardKey)(e.key)&&this.hide()}},{key:"toggle",value:function(){return IstComplete.hide(),this.isShown()?this.hide():this.show(),!1}}]),e}();l.initClass();var s=new l;r.default=s},{"../../utils":1094,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],42:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("../../constants/themes"),i=n(e("../themes/Themes")),o={show:function(){var e=localStorage.getItem("User");if(e){var t,r=localStorage.getItem("LocalSettings.theme");if(r)t=parseInt(r);else{t=JSON.parse(e).theme}t===a.THEME_DARK&&i.default.changeThemeClass(t)}},hide:function(){var e=$("loading");if(e){var t=function(){e&&($remove(e),e=null)};$AEV(e,"animationend",t),$addClass(e,"fade_out"),setTimeout(t,700)}}};window.Loading=o;var l=o;r.default=l},{"../../constants/themes":95,"../themes/Themes":91,"@babel/runtime/helpers/interopRequireDefault":189}],43:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=e("../../models/Storage"),s=n(e("../notifications/Notifications")),u=function(){function e(){(0,i.default)(this,e),this.connected=!1,this.connect=this.connect.bind(this),window.Notification&&this.connect()}return(0,o.default)(e,[{key:"connect",value:function(){var e=this;this.connected||(Signals.connect("notify",function(t){var r,n,i,o,u;if(window.MacBridge&&window.MacBridge.bridge);else if("denied"===(0,l.$storage)("LocalNotifications").get())return;try{var c=s.default.renderNotification(t,0),d=(0,a.default)(c,5);u=d[0],o=d[1],n=d[2],i=d[3],r=d[4]}catch(e){return}if(o){var f=$setHTML(SPAN(),o);return f=f.textContent||f.innerText,n&&(n=$trim(n,200)),window.MacBridge&&window.MacBridge.bridge?Signals.sendSignal("mac_notify",f,n,r,t.notification_type,{itemId:t.item_id,projectId:t.project_id}):e.notify(f,n,i,u.avatar_big,t.notification_key)}}),this.connected=!0)}},{key:"notify",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;n||(n="https://d3ptyyxy2at9ui.cloudfront.net/notification_icon-299404.png");var i=function(){var i={icon:n};t&&(i.body=t),a&&(i.tag=a);try{new window.Notification(e,i).onclick=function(){if(window.focus(),r)return r()}}catch(e){}};return"granted"===window.Notification.permission?i():"denied"!==window.Notification.permission?window.Notification.requestPermission(function(e){var t=!1;try{t=window.Notification.includes("permission")}catch(e){}if(t||(window.Notification.permission=e),"granted"===e)return i()}):void 0}}]),e}(),c=new u;r.default=c},{"../../models/Storage":169,"../notifications/Notifications":51,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],44:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/ItemsModel")),l=e("../../models/Reminders"),s=n(e("../local_notifications/LocalNotifications")),u=n(e("../formatter/Formatter.js")),c=e("../../reducers/detailView"),d=n(e("../../stores/store")),f=function(){function e(){(0,a.default)(this,e),this.connect=this.connect.bind(this),this.loopReminders=this.loopReminders.bind(this),window.Notification&&this.connect()}return(0,i.default)(e,null,[{key:"initClass",value:function(){this.prototype.connected=!1}}]),(0,i.default)(e,[{key:"connect",value:function(){this.connected||(Signals.connect("remind",function(e){var t=o.default.getById(e.item_id);if(t&&!(t.is_deleted||t.checked||t.in_history)){var r=!0;if(0==window.User.features.reminder_desktop&&(r=!1),r)if(window.MacBridge&&window.MacBridge.bridge)Signals.sendSignal("mac_remind",t);else if(window.Notification){var n=u.default.format(t.content,{only_text:!0,as_html:!1});s.default.notify(n,_("Todoist Reminder"),function(){d.default.dispatch((0,c.detailViewShowItem)(event.parent_item_id))},"reminder_".concat(t.id))}}}),setInterval(this.loopReminders,1e4),this.connected=!0)}},{key:"loopReminders",value:function(){var e=(new Date).getTime(),t=!1,r=!0,n=!1,a=void 0;try{for(var i,s=l.RemindersModel.getAllReminders()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;if(!u.lprocessed&&!u.is_deleted){var c=null;if("relative"===u.type){var d=o.default.getById(u.item_id);d&&d.due&&(c=d.due.getTime()-60*u.minute_offset*1e3)}if("absolute"===u.type&&(c=u.due.getTime()),c){var f=u.notify_uid;if(!f||f===window.User.id){var p=(e-c)/1e3;p>=0&&p<60&&(u.lprocessed=!0,Signals.sendSignal("remind",u),t=!0)}}}}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}l.RemindersModel.loaded&&t&&l.RemindersModel.syncCachedData()}}]),e}();f.initClass();var p=new f;r.default=p},{"../../models/ItemsModel":157,"../../models/Reminders":163,"../../reducers/detailView":996,"../../stores/store":1048,"../formatter/Formatter.js":22,"../local_notifications/LocalNotifications":43,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],45:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("../../stores/store")),i=e("../../reducers/mainView"),o=e("../../reducers/detailView"),l=e("../../reducers/modals"),s=e("../../utils"),u=n(e("../../components/projects_list/ProjectListUtils")),c=n(e("../../components/project_editor/ProjectExtraActions")),d=n(e("../../components/activity_log/ActivityLog")),f=n(e("../../components/agenda/AgendaUtils")),p=n(e("../../models/TemporaryIds")),m=n(e("../../models/SyncEngine")),h=n(e("../../models/ItemsModel")),_=n(e("../../models/ProjectsModel")),v=n(e("../opener/WindowOpener.js")),b=e("../../constants/constants"),y={init:function(){setInterval(this.locationPolling,400),p.default.listenAll(function(e,t){var r=y;r.cur_location&&-1!=r.cur_location.indexOf(e)&&r.updateLocation(r.cur_location.replace(e,""+t))}),Signals.connect("change_location",function(e){y.updateLocation(e)}),p.default.listenAll(function(e,t){var r=y.getHash();-1!=r.indexOf(e)&&(r=r.replace(e,t),y.updateLocation(r))})},getHash:function(){var e=window.location.hash.substring(1);return $urldecode(e)},getCurrentLocation:function(){return y.cur_location},setHash:function(e){window.location.hash=$urlencode(e)},updateLocation:function(e){var t=y;t.cur_location!=e&&(y.setHash(e),t.cur_location=e)},refreshView:function(){return y.updateView(y.setHash()),!1},updateView:function(e,t){if(window.isEditingOn())return void setTimeout($p(y.updateView,e),400);var r=a.default.getState(),n=r.mainView,p=void 0===n?{}:n;if(0===e.indexOf("project/")){var g=e.split("/"),E=(0,s.isTempID)(g[1])?g[1]:parseInt(g[1]),T=3==g.length&&"full"===g[2];if(p.type===b.MAIN_VIEW_TYPE_PROJECT&&p.ids[0]===E)return;a.default.dispatch((0,i.showProjectView)([E],{withChildren:T}))}if(0===e.indexOf("project_comments/")){var w,R=e.split("/"),P=parseInt(R[1]);if(R[2]&&(w=parseInt(R[2])),1==t){var D=_.default.get(P);D?u.default.setCurrentById(D.id,!1):f.default.query("today")}a.default.dispatch((0,o.detailViewShowProject)(P,{activeTab:"comments",highlightedNoteId:w}))}else if(0===e.indexOf("task/")){var O,C=e.split("/"),I=parseInt(C[1]);if(C[2]&&(O=parseInt(C[2])),I){if(1==t){var A;A=O?h.default.getBySyncId(O):h.default.getById(I),A?u.default.setCurrentById(A.project_id,!1):f.default.query("today")}a.default.dispatch((0,o.detailViewShowItem)(I,{activeTab:"comments",syncId:O}))}}else if(0===e.indexOf("email_tasks/")){var S=parseInt(e.split("/")[1]);S&&(u.default.setCurrentById(S,!1),c.default.showEmails(S))}else if(0===e.indexOf("agenda/")){var k=e.split("/");if(k.shift(),k.length>0)if(k[0]===b.DEFAULT_QUERY_TODAY){if(p.type===b.MAIN_VIEW_TYPE_TODAY)return;a.default.dispatch((0,i.showTodayView)())}else if(k[0]===b.DEFAULT_QUERY_7_DAYS){if(p.type===b.MAIN_VIEW_TYPE_7_DAYS)return;a.default.dispatch((0,i.show7DaysView)())}else if("@"===k[0][0]){var M=k[0].slice(1);if(p.type===b.MAIN_VIEW_TYPE_LABEL&&p.id===M)return;a.default.dispatch((0,i.showLabelView)(M))}else a.default.dispatch((0,i.showQueryView)(k.join("/")))}else if(0===e.indexOf("activity")){var j=null,N=null,x=null,L=void 0,q=e.split("/");q.length>1&&("project"==q[1]?j=parseInt(q[2]):"task"==q[1]&&(N=parseInt(q[2])),"null"!=q[3]&&(x=q[3]),"undefined"!==q[4]&&q[4]!=window.User.id.toString()&&(L="null"==q[4]?null:q[4])),d.default.showActivity(j,N,x,L)}else-1!=e.indexOf("quickAdd")?(a.default.dispatch((0,l.showModal)({type:l.MODAL_TYPES.QUICK_ADD})),e=y.cur_location,y.setHash(e)):-1!=e.indexOf("updateCount")?(e=y.cur_location,-1!=e.indexOf("#updateCount")?y.setHash("#start"):y.setHash(e)):-1!=e.indexOf("sync")?(m.default.sync(null,!0),e=y.cur_location,y.setHash(e)):-1!=e.indexOf("openOutlook")||-1!=e.indexOf("openThunderbird")||("upgrade_to_premium"==e&&(e="windowPref/premium"),"invite_friends"==e&&(e="windowPref/invite_friends"),0===e.indexOf("windowPref/")&&v.default.showPrefs($last(e.split("/"))))},locationPolling:function(){var e=y,t=e.getHash();e.cur_location!=t&&(y.setHash(t),e.updateView(t),e.cur_location=t)}};window.LocationManager=y;var g=y;r.default=g},{"../../components/activity_log/ActivityLog":4,"../../components/agenda/AgendaUtils":8,"../../components/project_editor/ProjectExtraActions":63,"../../components/projects_list/ProjectListUtils":70,"../../constants/constants":94,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../../reducers/detailView":996,"../../reducers/mainView":1015,"../../reducers/modals":1016,"../../stores/store":1048,"../../utils":1094,"../opener/WindowOpener.js":53,"@babel/runtime/helpers/interopRequireDefault":189}],46:[function(e,t,r){"use strict";function n(){return null!=navigator.userAgent.match(/Todoist for macOS|TDMacApp/)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e.match(/Todoist for macOS \((.+)\)/);if(t){var r=t[1].split("."),n=(0,s.default)(r,3),a=n[0],i=n[1],o=n[2];return[Number(a),Number(i),Number(o)]}return null}function i(){return"ja"==window.LANG||"ko"==window.LANG||0===window.LANG.indexOf("zh")}function o(){var e,t=window.location.href,r=!(u.default.isWindowApp||u.default.isOutlookApp||u.default.isChromeApp);r&&(e=window.open());var n={onSuccess:function(){-1!=t.indexOf("?")?t=t.replace("?","?print_mode=1&"):-1!=t.indexOf("#")&&(t=t.replace("#","?print_mode=1#")),-1!=t.indexOf("#")&&(t=t.split("#")[0]+window.location.hash),t=t.replace("mini=1","minip=0"),e?e.location=t:window.open(t)}};return c.default.sync(n,!0),!1}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isMacApp=n,r.getMacAppVersion=a,r.isAsianLang=i,r.default=void 0;var s=l(e("@babel/runtime/helpers/slicedToArray")),u=l(e("../../utils/Env")),c=l(e("../../models/SyncEngine"));Signals.connect("open_print_mode",o);var d={isMacApp:n,getMacAppVersion:a,isAsianLang:i};r.default=d},{"../../models/SyncEngine":171,"../../utils/Env":1057,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],47:[function(e,t,r){"use strict";function n(e,t){e(t.shift()),t.length>0&&window.setTimeout($partial(n,e,t),5)}function a(e,t){$isIe()||$isSafari(!0)?$AEV(e,"keydown",t):$AEV(e,"keypress",t)}function i(e,t,r){var n=u[e];n&&clearTimeout(n),u[e]=setTimeout(r,t)}function o(e,t){try{e.postMessage(t,"*")}catch(e){}}function l(e){return-1!=e.indexOf("@")&&-1!=e.indexOf(".")}function s(){function e(e){return t(Math.random()*(1<<(e<<2))^Date.now()).slice(-e)}function t(e){return(0|e).toString(16)}return[e(4)+e(4),e(4),"4"+e(3),t(8|4*Math.random())+e(3),Date.now().toString(16).slice(-10)+e(2)].join("-")}Object.defineProperty(r,"__esModule",{value:!0}),r.forceLiveRendering=n,r.attachKeyDown=a,r.delayAjaxUpdate=i,r.checkEmail=l,r.postMessageToWindow=o,r.UUID=s,r.default=void 0;var u={},c={forceLiveRendering:n,attachKeyDown:a,delayAjaxUpdate:i,checkEmail:l,postMessageToWindow:o,UUID:s};r.default=c},{}],48:[function(e,t,r){"use strict";function n(e,t){o.default.render(i.default.createElement(l.Provider,{store:s.default},e),t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("react-dom")),l=e("react-redux"),s=a(e("../../stores/store"))},{"../../stores/store":1048,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],49:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("../formatter/Formatter.js")),s=function(){function e(){(0,i.default)(this,e),this.render=this.render.bind(this),this.iconAttachment=this.iconAttachment.bind(this),this.audioAttachment=this.audioAttachment.bind(this)}return(0,o.default)(e,[{key:"canPlayAudio",value:function(e){var t=document.createElement("audio");return!(!t.canPlayType||!t.canPlayType(e).replace(/no/,""))}},{key:"calculateOptimalDimension",value:function(e,t,r,n){var a;return e/t>r/n?e<=r?[e,t]:(a=r/e,[r,Math.floor(t*a)]):t<=n?[e,t]:(a=n/t,[Math.floor(e*a),n])}},{key:"render",value:function(e){var t=e.file_attachment;if(t&&!e.is_buffer_obj){var r,n,i,o,l=t.file_underlying_type||t.file_type||"",s=(null!=t.file_name?t.file_name.toLowerCase():void 0)||"",u=(null!=t.file_url?t.file_url.toLowerCase():void 0)||"",c=t.resource_type||"file";if(("website"===c||"rich"===c)&&t.title&&t.url){var d,f;f=t.title?DIV({c:"text"},$trim(t.title,65)):null,d=t.description?DIV({c:"desc_text"},$trim(t.description,200)):null;var p=null;if(t.image){var m=Array.from(this.calculateOptimalDimension(t.image_width,t.image_height,120,90)),h=(0,a.default)(m,2);o=h[0],r=h[1],i=-1===t.image.indexOf("resizeist")?"https://image-resize.todoist.com/?url=".concat(encodeURIComponent(t.image),"&width=").concat(o,"&height=").concat(r,"&fallback=true"):t.image,p=DIV({c:"image_holder"},IMG({src:i}))}var v=DIV({c:"content_holder"},f,d);return t.image&&-1!==t.image.indexOf(".gif")&&(v=null),n=DIV({c:"file_attachment"},A({href:t.url,target:"_blank"},p,v)),v&&$addClass(n,"has_content"),p&&$addClass(n,"has_image"),n}if((t.file_url||t.url)&&(t.image||t.tn_m)){var b;if(!(b="image/svg+xml"===t.file_type?t.file_url:t.image?t.image:t.tn_m[0]))return;var y=Array.from(this.calculateOptimalDimension(t.image_width||300,t.image_height||200,300,200)),g=(0,a.default)(y,2);o=g[0],r=g[1];var E=b;-1===b.indexOf("image-resize")&&"image/svg+xml"!==t.file_type&&(E="https://image-resize.todoist.com/?url=".concat(encodeURIComponent(b),"&width=").concat(o,"&height=").concat(r,"&fallback=true"));var T=t.file_url||t.url,w=A({c:"file_attachment_download",target:"_blank",href:T},svgs.get("sm1/download.svg"));return IstTooltip.showTooltip(w,_("Download")),w.addEventListener("click",function(e){e.stopPropagation()}),n=A({href:t.file_url||t.url,target:"_blank",c:"file_attachment with_preview"},IMG({src:E,width:o,height:r,c:"preview"}),w),$AEV(n,"click",$p(this.showImage,n.href,n.href,n)),n}return"outlook/mail"===c?this.iconAttachment(t,"ft_outlook_mail"):0===l.indexOf("td/hyperlink")?this.iconAttachment(t,"ft_link"):0===l.indexOf("td/")?this.iconAttachment(t,"ft_email"):t.file_url&&(-1!==t.file_url.indexOf("cloudfront.net")||-1!==t.file_url.indexOf("files.todoist.com"))&&-1!==l.indexOf("audio/")&&this.canPlayAudio(l)?this.audioAttachment(t):-1!==l.indexOf("pdf")?this.iconAttachment(t,"ft_pdf"):-1!==s.indexOf(".xl")||-1!==l.indexOf("spreadsheet")?this.iconAttachment(t,"ft_excel"):-1!==s.indexOf(".doc")||-1!==l.indexOf("document")?this.iconAttachment(t,"ft_word"):-1!==s.indexOf(".pp")?this.iconAttachment(t,"ft_pp"):-1!==s.indexOf(".zip")?this.iconAttachment(t,"ft_zip"):-1!==s.indexOf(".psd")?this.iconAttachment(t,"ft_psd"):-1!==s.indexOf(".sketch")?this.iconAttachment(t,"ft_sketch"):-1!==s.indexOf(".aep")?this.iconAttachment(t,"ft_aep"):-1!==s.indexOf(".ai")?this.iconAttachment(t,"ft_ai"):-1!==s.indexOf(".py")||-1!==s.indexOf(".php")||-1!==s.indexOf(".java")||-1!==s.indexOf(".rb")||-1!==s.indexOf(".js")?this.iconAttachment(t,"ft_code"):-1!==l.indexOf("/extemail")||-1!==u.indexOf(".email.")||"email"===t.resource_type?this.iconAttachment(t,"ft_extemail",function(){GB_show(t.file_name,t.file_url,500,800);var e=DIV({c:"orginal_link"},A({href:t.file_url,target:"_blank"},_("View in another window"))),r=$last(GB_CURRENT);return $addAfter(e,r.iframe),!1}):0===l.indexOf("text/")?this.iconAttachment(t,"ft_text"):this.iconAttachment(t,"ft_generic")}}},{key:"iconAttachment",value:function(e,t){var r,n,a,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("ft_outlook_mail"===t)return r=DIV({c:"file_attachment"},SPAN({c:"text"},$trim(e.file_name||"",50)));if("ft_email"===t){r=DIV({c:"file_attachment link_attachment"});var s=l.default.format(e.file_url);return $setHTML(r,s),r}var u=null;"pending"===e.upload_state&&(u=_("Pending")),"canceled"===e.upload_state&&(u=_("Canceled")),u&&(u=SPAN({c:"status"},u)),"ft_link"===t?(n="file_attachment link_attachment",a=svgs.get("sm1/link.svg",{className:"link_icon"})):(n="file_attachment",a=svgs.get("ft/".concat(t,".svg"),{className:"file_icon"}));var c=DIV({c:n},i=A({href:e.file_url,target:"_blank"},a,SPAN({c:"text"},$trim(e.file_name||"",50)),u));return u?($addClass(i,"no_action"),i.onclick=function(){return!1}):o&&(i.onclick=o),c}},{key:"showImage",value:function(e,t,r,n){if(-1!==t.indexOf("dropbox.com"))return!0;if(window.MINI_VERSION)return!0
;-1===e.indexOf("resizeist")&&(e="https://image-resize.todoist.com/?url=".concat(encodeURIComponent(e),"&maxheight=800&maxwidth=800&fallback=true")),$preventDefault(n),GB_showImage("",e),GB_getLast().setZindex(1e7);var a=$last(GB_CURRENT),i=t;i.length>40&&(i=i.substring(0,40)+"...");var o=DIV({c:"orginal_link"},A({href:t,target:"_blank"},_("View full size in another window")));return $addAfter(o,a.iframe),!1}},{key:"audioAttachment",value:function(e){var t,r=document.createElement("audio");r.controls=!1,r.src=e.file_url,r.volume=1,$AEV(r,"error",function(){r.error_loading=!0});var n=A({href:"#",c:"play_control"},svgs.get("sm1/audio_play.svg",{className:"icon_play"}),svgs.get("sm1/audio_stop.svg",{className:"icon_stop"})),a=A({href:e.file_url,target:"_blank",c:"audio_link"},svgs.get("sm1/link.svg")),i=DIV({c:"audio_player"},r,n,t=SPAN({c:"timer"},"00:00"),a),o=r.duration||e.file_duration;return o&&PlayManager.timerFormat(t,o),PlayManager.attach(n,r,t,function(e){"play"===e?$addClass(n,"on"):"stop"===e&&$removeClass(n,"on")}),i}}]),e}(),u=new s;r.default=u},{"../formatter/Formatter.js":22,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],50:[function(e,t,r){"use strict";function n(e){return e===c.TYPE_ITEM_NOTE?o.default.showTaskComment():o.default.showProjectComment(),!1}function a(e){return!!window.User.is_premium||(2===window.User.features.restriction||!(!e||!l.default.isProjectShared(e)))}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.showPromo=n,r.isPremium=a,r.default=r.renderIcon=r.shortName=r.annotate=void 0;var o=i(e("../../containers/premium_promo/PremiumOnlyModal")),l=i(e("../../models/Collaborators")),s=e("../misc/Misc.js"),u=i(e("../../stores/store")),c=e("../../reducers/notes"),d=e("../../reducers/detailView"),f=function(e,t){var r=m(e,c.TYPE_ITEM_NOTE);$add(t,r)};r.annotate=f;var p=function(e){var t=e.full_name.split(" ");return t.length>1?t[0]+" "+t[1].substring(0,1)+".":t[0]};r.shortName=p;var m=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"small",o=a(e.project_id||e.id);if(0===r&&(0,s.isMacApp)()&&!o)return null;e.notes&&$map(e.notes,function(e){u.default.dispatch((0,c.noteInsert)(e))});var l=(0,c.noteGetByParentID)(u.default.getState(),e.id,t);r||(r=l.length);var f=SPAN({c:"clickable note_icon","data-track":"comments|open"},"small"===i?svgs.get("sm1/comments_small.svg"):svgs.get("sm1/comments.svg"));if(f.setAttribute("data-note-type",t),f.setAttribute("data-note-parent-id",e.id),f.setAttribute("data-track",t===c.TYPE_PROJECT_NOTE?"project|comments":"task|comments"),r>0){var p=SPAN({c:"clickable note_count sel_note_count"});r="".concat(r),e&&(0,c.hasMoreNotes)(u.default.getState(),e.id,t)&&(r+="+"),$setHTML(p,r),$add(f,p)}else t===c.TYPE_ITEM_NOTE&&$addClass(f,"note_icon_show_on_hover");return f.addEventListener("click",function(a){if(!a.ctrl)return t===c.TYPE_ITEM_NOTE?(u.default.dispatch((0,d.detailViewShowItem)(e.id,{activeTab:"comments"})),void(a._propogated_from_note_icon=!0)):t===c.TYPE_PROJECT_NOTE?(u.default.dispatch((0,d.detailViewShowProject)(e.id)),void(a._propogated_from_note_icon=!0)):r<=0&&!o?(GB_hide(),void n(t)):void(a._propogated_from_note_icon=!0)}),f};r.renderIcon=m;var h={annotate:f,shortName:p,renderIcon:m,showPromo:n,isPremium:a};r.default=h},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/Collaborators":150,"../../reducers/detailView":996,"../../reducers/notes":1021,"../../stores/store":1048,"../misc/Misc.js":46,"@babel/runtime/helpers/interopRequireDefault":189}],51:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/defineProperty")),s=n(e("../avatars/Avatars")),u=n(e("../projects_list/ProjectListUtils")),c=n(e("../../react_components/karma_promotion")),d=n(e("../themes/Themes")),f=n(e("../Constants.js")),p=n(e("../../models/NotificationsModel")),m=n(e("../../models/Collaborators")),h=n(e("../../models/ProjectsModel")),v=n(e("../formatter/Formatter.js")),b=n(e("../../ist_libs/doist_format/doist_format")),y=e("../../utils"),g=n(e("react")),E=n(e("react-dom")),T=e("../../react_components/emptyState"),w=n(e("../../stores/store")),R=e("../../reducers/detailView"),P=function(){function e(t){var r=this;(0,i.default)(this,e),(0,l.default)(this,"_ns",function(e,t,n){var a=1===r.allUsers().length?e:t;return(0,y.format)(a,n)}),this.showIndicator=this.showIndicator.bind(this),this.hideIndicator=this.hideIndicator.bind(this),this.createCollapseTaskItem=this.createCollapseTaskItem.bind(this),this.createCollapseNoteItem=this.createCollapseNoteItem.bind(this),this.onlyText=this.onlyText.bind(this),this.markBoxRead=this.markBoxRead.bind(this),this.markItemRead=this.markItemRead.bind(this),this.markBoxUnread=this.markBoxUnread.bind(this),this.isBoxUnread=this.isBoxUnread.bind(this),this.render=this.render.bind(this),this.notification_type=t.notification_type,this.notifications=[t]}return(0,o.default)(e,[{key:"push",value:function(e){if(e.notification_type!==this.notification_type)throw new Error("Programming error: Cannot push notification of different type");return this.notifications.push(e),this.notifications.sort(function(e,t){return t.id-e.id})}},{key:"sortKey",value:function(){return this.notifications[0].id}},{key:"isAggregated",value:function(){return this.notifications.length>1}},{key:"count",value:function(){return this.notifications.length}},{key:"timeString",value:function(){return y.DateUtils.prettyDate(this.notifications[0].created)}},{key:"allUsers",value:function(){var e=[],t=[],r=!0,n=!1,a=void 0;try{for(var i,o=this.notifications[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,s=m.default.getUserById(l.from_uid);s||(s=l.from_user),s&&!t.includes(s.id)&&(e.push(s),t.push(s.id))}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return e}},{key:"hasMultipleUsers",value:function(){return this.allUsers().length>1}},{key:"subject",value:function(){var e=this.allUsers();return 1===e.length?"<b>".concat($xssStrip(e[0].full_name),"</b>"):2===e.length?(0,y.__LEGACY_format)(_("<b>%s</b> and <b>%s</b>"),$xssStrip(e[0].full_name),$xssStrip(e[1].full_name)):3===e.length?(0,y.__LEGACY_format)(_("<b>%s</b>, <b>%s</b> and <b>%d</b> other"),$xssStrip(e[0].full_name),$xssStrip(e[1].full_name),e.length-2):e.length>=4?(0,y.__LEGACY_format)(_("<b>%s</b>, <b>%s</b> and <b>%d</b> others"),$xssStrip(e[0].full_name),$xssStrip(e[1].full_name),e.length-2):"X"}},{key:"genericAccept",value:function(e,t,r,n,a){var i,o,l,s,u=this,c=$setHTML(SPAN(),t),d=DIV({c:"actions"},i=A({href:"#",c:"accept"},_("Accept")),s=A({href:"#",c:"reject"},svgs.get("sm1/close_tiny.svg")));return $AEV(i,"click",function(){return u.showIndicator(d),o=function(){return a()},l=function(e){return alert(e),u.hideIndicator(d)},r(e,o,l),!1}),$AEV(s,"click",function(){return IstTooltip.hide(),u.showIndicator(d),o=function(){return $remove($parent(d,"li"))},l=function(e){return alert(e),u.hideIndicator(d)},n(e,o,l),!1}),IstTooltip.showSimpleText(s,_("Reject"),null,0,10),[c,d]}},{key:"showIndicator",value:function(e){return $hide($all("a",null,e)),Indicator.addToElm(e)}},{key:"hideIndicator",value:function(e){return Indicator.removeFromElm(e),$show($all("a",null,e))}},{key:"createCollapseTaskItem",value:function(e){var t=this,r=DIV({c:"collapsed_list_item"},this.onlyText(e.item_content));return e.is_unread&&$addClass(r,"unread"),$AEV(r,"click",function(n){return t.markItemRead(e,r),GB_hide(),w.default.dispatch((0,R.detailViewShowItem)(e.item_id)),n.stopPropagation(),!1}),r}},{key:"createCollapseNoteItem",value:function(e){var t,r=this,n=m.default.getUserById(e.from_uid),a=v.default.format(e.note_content);if(a=a.replace(/^\*\s+/g,""),this.hasMultipleUsers()&&n&&n.full_name){var i=$strip(n.full_name).split(" ");t=$setHTML(DIV({c:"collapsed_list_item"}),"<b>".concat(i[0],":</b> ").concat(this.onlyText(a)))}else t=$setHTML(DIV({c:"collapsed_list_item"}),"".concat(this.onlyText(a)));e.is_unread&&$addClass(t,"unread");var o=null===e.item_id;return $AEV(t,"click",function(t){return r.markBoxRead(),o?(GB_hide(),w.default.dispatch((0,R.detailViewShowProject)(e.project_id,{activeTab:"comments",highlightedNoteId:e.note_id}))):(GB_hide(),w.default.dispatch((0,R.detailViewShowItem)(e.item_id,{activeTab:"comments",highlightedNoteId:e.note_id}))),t.stopPropagation(),!1}),t}},{key:"onlyText",value:function(e){return b.default.formatSimple(e,{only_text:!0,as_html:!1,cache_prefix:"noti:"})}},{key:"markBoxRead",value:function(){var e=this.notifications.map(function(e){return e.id}),t=!0,r=!1,n=void 0;try{for(var a,i=this.notifications[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.is_unread=0}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}var o=$("noti_".concat(this.notifications[0].notification_key));return o&&($removeClass(o,"unread"),$removeClass($$(".collapsed_list_item",o),"unread"),$replace($$(".unread_icon_wrap",o)[0],svgs.get("sm1/notification_read.svg"))),p.default.markRead(e)}},{key:"markItemRead",value:function(e,t){e.is_unread=0,$removeClass(t,"unread");var r=!0,n=!0,a=!1,i=void 0;try{for(var o,l=this.notifications[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){if(1===o.value.is_unread){r=!1;break}}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}if(r){var s=$("noti_".concat(this.notifications[0].notification_key));s&&($removeClass(s,"unread"),$replace($$(".unread_icon_wrap",s)[0],svgs.get("sm1/notification_read.svg")))}return p.default.markRead([e.id])}},{key:"markBoxUnread",value:function(){var e=this.notifications.map(function(e){return e.id}),t=!0,r=!1,n=void 0;try{for(var a,i=this.notifications[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.is_unread=1}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}var o=$("noti_".concat(this.notifications[0].notification_key));return o&&($hasClass(o,"unread")||($addClass(o,"unread"),$addClass($$(".collapsed_list_item",o),"unread")),$replace($$(".unread_icon_wrap",o)[0],svgs.get("sm1/notification_unread.svg"))),p.default.markUnread(e)}},{key:"isBoxUnread",value:function(){var e;return e=1,this.notifications.map(function(e){return e.is_unread}).includes(e)}},{key:"render",value:function(){var e,t,r,n,i,o,l,f,v,b=this,g=arguments.length>0&&void 0!==arguments[0]&&arguments[0],E=this.notifications[0],T=m.default.getUserById(E.from_uid),P=E.notification_type;if(T||(T=E.from_user),!T)if(-1!==P.indexOf("biz_"))T={};else{if(-1===P.indexOf("karma_"))return;T={}}e=T.full_name?s.default.renderAvatar(T,"medium",d.default.theme):null;var D=null,C=null,I=null,A=null,S=!1,k=!1,M=!1,j=!1;!1===g&&(i=LI(),i.id="noti_".concat(E.notification_key),this.isAggregated()&&$addClass(i,"collapsible_box"));var N=E.project_name,x=T.full_name;x="<b>".concat($xssStrip(x),"</b>"),N="<b>".concat($xssStrip(N),"</b>");var L=null,q="",U=null,$=null;if("note_added"===P){if($=svgs.get("sm1/notification_commented.svg"),E.item_id)L=this._ns(_n("{user} added a comment to {task}","{user} added {n} comments to {task}",this.count()),_n("{multiple} added a comment to {task}","{multiple} added {n} comments to {task}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),task:"<b>"+this.onlyText(E.item_content)+"</b>"});else{var F=h.default.get(E.project_id);L=this._ns(_n("{user} added a project comment to {project}","{user} added {n} project comments to {project}",this.count()),_n("{multiple} added a project comment to {project}","{multiple} added {n} project comments to {project}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),project:F?"<b>"+this.onlyText(F.name)+"</b>":_("a shared project")})}if(E.note_content&&(U=this.onlyText(E.note_content)),null!==this.notifications[0].item_id?I=!0:A=!0,!1===g)if(this.isAggregated()){j=!0,q=$setHTML(DIV(),L),t=DIV({c:"collapsed_list"});var z=!0,B=!1,H=void 0;try{for(var V,W=this.notifications[Symbol.iterator]();!(z=(V=W.next()).done);z=!0)l=V.value,o=this.createCollapseNoteItem(l),$add(t,o)}catch(e){B=!0,H=e}finally{try{z||null==W.return||W.return()}finally{if(B)throw H}}$add(q,t)}else q=$setHTML(SPAN(),L+"<br>"),E.note_content&&$add(q,DIV({c:"desc"},"\u201c".concat(this.onlyText(E.note_content),"\u201d")))}else if(-1!==P.indexOf("item_")){var G=null,Y=h.default.get(E.project_id);if("item_assigned"===P?($=svgs.get("sm1/notification_assigned.svg"),L=this._ns(_n("{user} assigned a task in {project}","{user} assigned {n} tasks in {project}",this.count()),_n("{multiple} assigned a task in {project}","{multiple} assigned {n} tasks in {project}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),project:Y?"<b>"+this.onlyText(Y.name)+"</b>":_("a shared project")}),this.isAggregated()?C=E.project_id:I=!0):"item_completed"===P?($=svgs.get("sm1/notification_completed.svg"),L=this._ns(_n("{user} completed a task in {project}","{user} completed {n} tasks in {project}",this.count()),_n("{multiple} completed a task in {project}","{multiple} completed {n} tasks in {project}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),project:Y?"<b>"+this.onlyText(Y.name)+"</b>":_("a shared project")}),this.isAggregated()?C=E.project_id:I=!0,G="completed"):"item_uncompleted"===P&&($=svgs.get("sm1/notification_uncompleted.svg"),L=this._ns(_n("{user} uncompleted a task in {project}","{user} uncompleted {n} tasks in {project}",this.count()),_n("{multiple} uncompleted a task in {project}","{multiple} uncompleted {n} tasks in {project}",this.count()),{user:this.subject(),multiple:this.subject(),n:this.count(),project:Y?"<b>"+this.onlyText(Y.name)+"</b>":_("a shared project")}),this.isAggregated()?C=E.project_id:I=!0),E.item_content&&(U=this.onlyText(E.item_content)),!1===g)if(this.isAggregated()){j=!0,q=$setHTML(DIV(),L),t=DIV({c:"collapsed_list"});var K=!0,X=!1,J=void 0;try{for(var Q,Z=this.notifications[Symbol.iterator]();!(K=(Q=Z.next()).done);K=!0)l=Q.value,o=this.createCollapseTaskItem(l),G&&$addClass(o,G),$add(t,o)}catch(e){X=!0,J=e}finally{try{K||null==Z.return||Z.return()}finally{if(X)throw J}}$add(q,t)}else if(q=$setHTML(SPAN(),L),E.item_content){var ee;$add(q,BR(),ee=DIV({c:"desc"},this.onlyText(E.item_content))),G&&$addClass(ee,G)}}else if("share_invitation_sent"===P){if("accepted"===E.state)e=s.default.renderAvatar(window.User,"medium",d.default.theme),L=(0,y.format)(_("You joined {project}"),{project:N}),C=E.project_id,!1===g&&(q=$setHTML(SPAN(),L));else if("rejected"===E.state)e=s.default.renderAvatar(window.User,"medium",d.default.theme),L=(0,y.format)(_("You declined invitation from {user} to {project}"),{user:T,project:N}),C=null,!1===g&&(q=$setHTML(SPAN(),L));else if(L=(0,y.format)(_("{user} invited you to {project}"),{user:x,project:N}),!1===g){f=function(){var e=(0,y.format)(_("Start collaborating on {project}"),{project:N}),t=$$(".text_holder",i)[0];return $replace(t,DIV({c:"accepted"},_("Invitation accepted!"),BR(),$setHTML(SPAN(),e),v)),$AEV(i,"click",function(){GB_hide();var e=null,t=!0,r=!1,n=void 0;try{for(var a,i=h.default.getAll()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)if(N=a.value,N.name===E.name){e=N.id;break}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e&&u.default.setCurrentById(e),!1})};var te=Array.from(this.genericAccept(E,L,p.default.acceptInvitation,p.default.rejectInvitation,f)),re=(0,a.default)(te,2);q=re[0],D=re[1]}}else if("share_invitation_accepted"===P)L=this._ns(_("{user} joined {project}"),_("{multiple} joined {project}"),{user:this.subject(),multiple:this.subject(),project:N}),$=svgs.get("sm1/notification_user_added.svg"),C=E.project_id,!1===g&&(q=$setHTML(SPAN(),L));else if("share_invitation_rejected"===P)L=(0,y.format)(_("{user} rejected your invitation to {project}"),{user:x,project:N}),$=svgs.get("sm1/notification_user_removed.svg"),C=E.project_id,!1===g&&(q=$setHTML(SPAN(),L));else if("user_left_project"===P)L=this._ns(_("{user} left {project}"),_("{multiple} left {project}"),{user:this.subject(),multiple:this.subject(),project:N}),$=svgs.get("sm1/notification_user_removed.svg"),C=E.project_id,!1===g&&(q=$setHTML(SPAN(),L));else if("user_removed_from_project"===P){if($=svgs.get("sm1/notification_user_removed.svg"),E.removed_uid===window.User.id)L=(0,y.format)(_("{user} removed you from {project}"),{user:x,project:N});else{var ne=m.default.getUserById(E.removed_uid)||{},ae=ne.full_name||"";ae=ae.split(" ")[0],L=(0,y.format)(_("{user} removed {user_2} from {project}"),{user:x,user_2:ae,project:N})}C=E.project_id,!1===g&&(q=$setHTML(SPAN(),L))}else if("owner_left_project"===P)$=svgs.get("sm1/notification_user_removed.svg"),L=(0,y.format)(_("{user} (owner) left {project}"),{user:x,project:N}),C=E.project_id,!1===g&&(q=$setHTML(SPAN(),L));else if("karma_level"===P)n=E.karma_level,L=q=function(){switch(n){case 1:return _("Your journey towards higher productivity begins today! You're now a Todoist Karma Novice.");case 2:return _("Congrats! Reaching 2,500 points makes you a Todoist Karma Intermediate.");case 3:return _("You're a Pro! High five on reaching the Professional level of Todoist Karma!");case 4:return _("Pat yourself on the back\u2013 you're now an impressive Todoist Karma Expert!");case 5:return _("Outstanding work! Achieving 10,000 points makes you a Todoist Karma Master.");case 6:return _("One more level to go! You're now a revered Todoist Karma Grand Master!");case 7:return _("You did it! With over 50,000 points you've reached the top\u2013 Todoist Karma Enlightenment!")}}(),M=!0,!1===g&&(r=O(n),e=SPAN({c:"karma-icon"},r));else if("biz_invitation_created"===P)if("invited"===E.state){if(f=function(){return $swap(i,i=LI({c:"accepted"},_("Invitation accepted!")))},L=(0,y.format)(_("{user} invited you to the {team_name} account"),{user:x,team_name:E.account_name}),L=_("Todoist Business")+": "+L,!1===g){var ie=Array.from(this.genericAccept(E,L,p.default.acceptInvitationBiz,p.default.rejectInvitationBiz,f)),oe=(0,a.default)(ie,2);q=oe[0],D=oe[1]}}else"accepted"===E.state?(e=null,L=(0,y.format)(_("You joined the {team_name} account"),{team_name:E.account_name}),L=_("Todoist Business")+": "+L,!1===g&&(q=$setHTML(SPAN(),L))):(e=null,L=(0,y.format)(_("You rejected invitation from {user} to the {team_name} account"),{user:x,team_name:E.account_name}),L=_("Todoist Business")+": "+L,!1===g&&(q=$setHTML(SPAN(),L)));else"biz_invitation_accepted"===P?($=svgs.get("sm1/notification_user_added.svg"),L=(0,y.format)(_("{user} joined the {team_name} account"),{user:x,team_name:E.account_name}),L=_("Todoist Business")+": "+L,S=!0,!1===g&&(q=$setHTML(SPAN(),L))):"biz_invitation_rejected"===P?($=svgs.get("sm1/notification_user_removed.svg"),L=(0,y.format)(_("{user} rejected your invitation to the {team_name} account"),{user:x,team_name:E.account_name}),L=_("Todoist Business")+": "+L,S=!0,!1===g&&(q=$setHTML(SPAN(),L))):"biz_policy_disallowed_invitation"===P?(L=(0,y.__LEGACY_format)(_("Team's permission settings don't allow you to share projects outside of your team. Add %s to your team or change the permission settings"),x),L=_("Todoist Business")+": "+L,C=E.project_id,!1===g&&(q=$setHTML(SPAN(),L))):"biz_policy_rejected_invitation"===P?(L=(0,y.__LEGACY_format)(_("Team's permission don't allow user to join projects outside of their team. Ask %s to add yourself to their team or to change the permission settings"),x),L=_("Todoist Business")+": "+L,C=E.project_id,!1===g&&(q=$setHTML(SPAN(),L))):"biz_trial_will_end"===P?(L=_("This is a reminder that your trial will end in a few days. At that time, we will process your first payment to ensure uninterrupted service."),L=_("Todoist Business")+": "+L,k=!0,!1===g&&(q=$setHTML(SPAN(),L))):"biz_trial_enter_cc"===P?($=svgs.get("sm1/notification_payment.svg"),L=_("This is a reminder that your trial will end in a few days. Update your credit card information to keep using our service."),L=_("Todoist Business")+": "+L,k=!0,!1===g&&(q=$setHTML(SPAN(),L))):"biz_payment_failed"===P?($=svgs.get("sm1/notification_payment.svg"),L=_("We failed to charge you. Please review and update your credit card information to avoid any disruption in service."),L=_("Todoist Business")+": "+L,k=!0,!1===g&&(q=$setHTML(SPAN(),L))):"biz_account_disabled"===P&&(L=_("Your business account was disabled. Upgrade now to continue using account."),L=_("Todoist Business")+": "+L,k=!0,!1===g&&(q=$setHTML(SPAN(),L)));var le=null,se=null;if(C)le=function(){return GB_hide(),j?b.markBoxRead():b.markItemRead(E,o),u.default.setCurrentById(C),!1},se={text:_("View"),action:"view_project",project_id:C,put_in_focus:!0};else if(A){var ue=this.notifications[0].note_id;le=function(){return j?b.markBoxRead():b.markItemRead(E,o),w.default.dispatch((0,R.detailViewShowProject)(E.project_id,{activeTab:"comments",highlightedNoteId:ue})),!1},se={text:_("View"),action:"view_project_note",project_id:E.project_id,note_id:ue,put_in_focus:!0}}else I?(le=function(){return j?b.markBoxRead():b.markItemRead(E,o),GB_hide(),w.default.dispatch((0,R.detailViewShowItem)(E.item_id,{activeTab:"comments",highlightedNoteId:E.note_id})),!1},se={text:_("View"),action:"view_task",item_id:E.item_id,note_id:E.note_id,put_in_focus:!0}):S?(le=function(){return window.open("/business/users"),!1},se={text:_("View"),action:"view_business_users"}):k?(le=function(){return window.open("/business/accountAndBilling"),!1},se={text:_("View"),action:"view_business_billing"}):M&&(le=function(){return c.default.show(n,E),!1},se={text:_("View"),action:"view_karma"});if(g)return[T,L,U,le,se];$addClass($,"type_icon"),$add(i,DIV({c:"left_container","data-track":"navigation|nofications_single_notification"},DIV({c:"avatar_holder"},e,$),DIV({c:"text_holder"},q,D,v=DIV({c:"time_holder"},this.timeString()))));var ce=DIV({c:"right_container"});if(j){var de=DIV({c:"collapse_icon_wrap"},svgs.get("sm1/caret.svg"));$AEV(de,"click",function(e){return $hasClass(i,"is_uncollapsed")?(track("navigation","click","notifications_expand_collapsed"),$removeClass(i,"is_uncollapsed")):$addClass(i,"is_uncollapsed"),e.stopPropagation(),!1}),$add(ce,de)}r=this.isBoxUnread()?svgs.get("sm1/notification_unread.svg"):svgs.get("sm1/notification_read.svg");var fe=DIV({c:"unread_icon_wrap fixed_pos"},r);return IstTooltip.showTooltip(fe,function(){return b.isBoxUnread()?_("Mark as Read"):_("Mark as Unread")},function(){return-($gp(fe,"div","GB_iframe_html").scrollTop-50)},5,null,!0),$AEV(fe,"click",function(e){return IstTooltip.hide(),b.isBoxUnread()?(track("navigation","click","notifications_mark_as_read"),b.markBoxRead()):(track("navigation","click","notifications_mark_as_unread"),b.markBoxUnread()),e.stopPropagation(),!1}),$add(ce,fe),$add(i,ce),le&&$AEV(i,"click",le),D&&$addClass(i,"has_actions"),this.isBoxUnread()&&$addClass(i,"unread"),i}},{key:"isMultiUser",get:function(){return this.allUsers().legnth>1}}]),e}(),D=function(){function e(){var t=this;(0,i.default)(this,e),this._renderImageCount=this._renderImageCount.bind(this),this.updateIcon=this.updateIcon.bind(this),this.showDropdown=this.showDropdown.bind(this),this.markRead=this.markRead.bind(this),this.markUnread=this.markUnread.bind(this),this.markReadAll=this.markReadAll.bind(this),this.fetchData=this.fetchData.bind(this),this.aggregated=this.aggregated.bind(this),this.renderNotifications=this.renderNotifications.bind(this),this.renderNotification=this.renderNotification.bind(this),Signals.connect("notifications_updated",function(){return t.updateIcon(p.default.getUnreadCount())}),Signals.connect("theme_changed",function(){return t.updateIcon(p.default.getUnreadCount())}),Signals.connect("noti_updated",function(e){if(0===e.is_unread){var t=$("noti_".concat(e.notification_key));if(t&&$hasClass(t,"unread"))return $removeClass(t,"unread")}})}return(0,o.default)(e,[{key:"renderIcon",value:function(){var e=this,t=this._renderImageCount(null),r=SPAN({id:"notifications_counter"},t);return $AEV(r,"click",function(){return track("navigation","click","notifications"),e.updateIcon(0),e.showDropdown(r)}),r}},{key:"_renderImageCount",value:function(e){return e>0?svgs.get("sm1/notifications_unread.svg"):svgs.get("sm1/notifications.svg")}},{key:"updateIcon",value:function(e){var t=this,r=$("notifications_counter");return!r||this.cur_window?this.timeout=setTimeout(function(){return t.timeout=null,t.updateIcon(e)},500):$replace(r,this._renderImageCount(e))}},{key:"showDropdown",value:function(e){var t=this,r=p.default.getNotifications(),n={no_side_padding:!0,fn_left_offset:function(){return $position(e).x-340},fn_top_offset:function(){return f.default.top_bar.top_offset_full},fn_arrow_left:function(){return $position(e).x+9},fn_on_hide:function(){return t.empty_state_holder&&(E.default.unmountComponentAtNode(t.empty_state_holder),t.empty_state_holder=null),t.cur_window=null,ForcedScroll.removeListener()},fixed_pos:!0,show_close_img:!1,show_custom_text:r.length>0?A({c:"mark_all_as_read","data-track":"navigation|notifications_mark_all_as_read"},_("Mark all as Read")):"",show_custom_fn:$p(this.markReadAll)},a=DIV({id:"notifications_holder"},DIV({c:"indicator"},Indicator.cssSpinner()));return $AEV(a,"scroll",function(){return IstTooltip.hide()}),ForcedScroll.attachListener(a,"notifications"),this.cur_window=TooptipWin.show(_("Notifications"),a,200,390,n),$addClass(this.cur_window.g_window,"notifications"),this.fetchData(a,r)}},{key:"markRead",value:function(e){var t=$("noti_".concat(e.notification_key));if(t&&$hasClass(t,"unread"))return $removeClass(t,"unread")}},{key:"markUnread",value:function(e){var t=$("noti_".concat(e.notification_key));if(t&&!$hasClass(t,"unread"))return $addClass(t,"unread")}},{key:"markReadAll",value:function(){$removeClass($$(".collapsed_list_item"),"unread");var e=!0,t=!1,r=void 0;try{for(var n,a=$$(".unread_icon_wrap")[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value;$replace(i,svgs.get("sm1/notification_read.svg"))}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}return $removeClass($$("li"),"unread"),p.default.markReadAll()}},{key:"fetchData",value:function(e,t){var r=$first(t);r&&p.default.markAsRead(r);var n=!1,a=!0,i=!1,o=void 0;try{for(var l,s=t[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value;if(Date.now()/1e3-u.created<=7776e3){n=!0;break}}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}if(0!==t.length&&n)this.renderNotifications(e,t);else{var c;c="https://d3ptyyxy2at9ui.cloudfront.net/no_notifications-983e96.png";var d=IMG({src:c,width:150,height:250,c:"illustration"});if(0!==m.default.getCount())return $removeClass(e,"no_scrollbar"),$replace(e,CENTER(DIV({c:"empty"},d,H3(_("No recent notifications")),DIV({c:"final"},_("There hasn\u2019t been any activity in your shared projects recently.")))));$addClass(e,"no_scrollbar"),E.default.render(g.default.createElement(T.EmptyStateNotifications,null),e),this.empty_state_holder=e}}},{key:"aggregated",value:function(e){var t={},r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l,s=i.value,u=Math.floor(s.created/144e5);if(["item_completed","item_uncompleted","item_assigned"].includes(s.notification_type))l="".concat(s.notification_type,":").concat(s.project_id,":").concat(s.from_uid,":").concat(u);else if(["share_invitation_accepted","user_left_project"].includes(s.notification_type))l="".concat(s.notification_type,":").concat(s.project_id,":").concat(u);else if("note_added"===s.notification_type){var c=null===s.item_id;l=c?"project_note_added:".concat(s.project_id,":").concat(u):"item_note_added:".concat(s.item_id,":").concat(u)}else l=s.id;void 0===t[l]?t[l]=new P(s):t[l].push(s)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}var d=[];for(var f in t){var p=t[f];d.push(p)}return d.sort(function(e,t){return t.sortKey()-e.sortKey()}),d}},{key:"renderNotifications",value:function(e,t){$remove($all("div","indicator",e)),$("more_button_noti")&&$remove($("more_button_noti"));var r=this.aggregated(t),n=UL(),a=!0,i=!1,o=void 0;try{for(var l,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value;$add(n,u.render(!1))}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return $add(e,n)}},{key:"renderNotification",value:function(e){return new P(e).render(!0)}}]),e}(),O=function(e){switch(e){case 1:return svgs.get("sm1/karma_1.svg");case 2:return svgs.get("sm1/karma_2.svg");case 3:return svgs.get("sm1/karma_3.svg");case 4:return svgs.get("sm1/karma_4.svg");case 5:return svgs.get("sm1/karma_5.svg");case 6:return svgs.get("sm1/karma_6.svg");case 7:return svgs.get("sm1/karma_7.svg")}},C=new D;r.default=C},{"../../ist_libs/doist_format/doist_format":129,"../../models/Collaborators":150,"../../models/NotificationsModel":160,"../../models/ProjectsModel":161,"../../react_components/emptyState":588,"../../react_components/karma_promotion":786,"../../reducers/detailView":996,"../../stores/store":1048,"../../utils":1094,"../Constants.js":1,"../avatars/Avatars":17,"../formatter/Formatter.js":22,"../projects_list/ProjectListUtils":70,"../themes/Themes":91,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react","react-dom":"react-dom"}],52:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.enableCompleteAnimation=r.isCompleteAnimationInProgress=r.showFirstCompleteAnimation=r.isFirstCompleteAction=r.showCompleteTaskTooltipIfNeeded=void 0;var i,o=a(e("../../stores/store")),l=e("../../reducers/tooltip"),s=a(e("../../utils/format")),u=n(e("../../logger/Logger")),c=a(e("../opener/WindowOpener.js")),d=e("../../reducers/user"),f=a(e("../../models/ItemsModel")),p=function(e){var t=(_("Mark tasks complete every day to reach Todoist Zero and boost your {link_tag_start}Karma{link_tag_end} points."),(0,s.default)(_("Mark tasks completed every day to reach Todoist Zero and boost your {link_tag_start}Karma{link_tag_end} points."),{link_tag_start:'<a id="karma_info_link">',link_tag_end:"</a>"})),r=DIV({c:"onboarding_tooltip"});$setHTML(r,t);var n=TooptipWin.show(_("Is this done?"),r,300,350,{fn_left_offset:function(){return $position(e).x-40},fn_arrow_left:function(){return $position(e).x+2},fn_top_offset:function(){return $position(e).y+50},close_validator_fn:function(){return!0},fixed_pos:!0});$AEV($$("#karma_info_link",r),"click",function(){c.default.showKarmaInfo(),n.hide()}),$fx.fadeIn(r)},m=function e(){try{var t=(0,d.daysSinceJoin)(o.default.getState());if(t<1||t>7||(0,l.hasSeen)(l.TOOLTIP_COMPLETE_FIRST_TASK,o.default.getState())||f.default.getTotalCompletedCount()>0)return;if(!$isShown($("app_holder"))&&!i)return void(i=setTimeout(e,1e3));if(!$isShown($("app_holder"))||$$("#GB_window .timezone_alert").length>0)return i&&clearTimeout(i),void(i=setTimeout(e,1e3));if($$(".onboarding_tooltip").length>0)return;var r=$$("#editor ul.items li.task_item:not(.reorder_item)");if(0==r.length)return;p(r[0]),o.default.dispatch((0,l.markSeen)(l.TOOLTIP_COMPLETE_FIRST_TASK))}catch(e){u.captureError(e)}};r.showCompleteTaskTooltipIfNeeded=m;var h=!1,v=!1,b=function(){return!(h||(0,l.hasSeen)(l.TOOLTIP_FIRST_TASK_COMPLETED,o.default.getState())||f.default.getTotalCompletedCount()>0)&&(o.default.dispatch((0,
l.markSeen)(l.TOOLTIP_FIRST_TASK_COMPLETED)),h=!0,!0)};r.isFirstCompleteAction=b;var y=function(e,t){try{var r=document.createElement("div");r.innerHTML=T;var n=DIV({c:"onboarding_complete_overlay"},DIV({c:"grey_background"}),DIV({c:"maincontent"},r,P(_("You completed your first task. Nice work! \ud83d\ude4c"))),DIV({c:"white_block"}));$setStyle(e,{position:"relative"}),$add(e,n),v=!0,setTimeout(function(){v=!1,t&&t()},2e3)}catch(e){v=!1,t()}};r.showFirstCompleteAnimation=y;var g=function(){return v};r.isCompleteAnimationInProgress=g;var E=function(){h=!1};r.enableCompleteAnimation=E;var T='<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> \x3c!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --\x3e <title>ist_checkbox_on</title> <desc>Created with Sketch.</desc> <defs></defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="ist_checkbox_on" fill-rule="nonzero" fill="#6B6B6B"> <g transform="translate(5.000000, 7.000000)" id="Shape"> <path d="M17.6416667,0.6 C18.4416667,1.325 19.2166667,2.06666667 20,2.80833333 C16.05,6.96666667 11.9416667,11.0166667 7.825,15.0166667 C5.51666667,12.65 3.16666667,10.3166667 0.816666667,7.99166667 C1.6,7.2 2.38333333,6.40833333 3.16666667,5.61666667 C4.71666667,7.15 6.275,8.675 7.775,10.2666667 C11.225,7.225 14.2916667,3.75 17.6416667,0.6 Z"></path> </g> </g> </g> </svg>',w={showCompleteTaskTooltipIfNeeded:m,isFirstCompleteAction:b,showFirstCompleteAnimation:y,isCompleteAnimationInProgress:g,enableCompleteAnimation:E};r.default=w},{"../../logger/Logger":132,"../../models/ItemsModel":157,"../../reducers/tooltip":1040,"../../reducers/user":1042,"../../stores/store":1048,"../../utils/format":1079,"../opener/WindowOpener.js":53,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={en:"https://get.todoist.help/hc/articles/205063212",de:"https://get.todoist.help/hc/de/articles/205063212",es:"https://get.todoist.help/hc/es/articles/205063212",fr:"https://get.todoist.help/hc/fr/articles/205063212",it:"https://get.todoist.help/hc/fr/articles/205063212",ja:"https://get.todoist.help/hc/ja/articles/205063212",ko:"https://get.todoist.help/hc/ko/articles/205063212",pl:"https://get.todoist.help/hc/pl/articles/205063212",pt_BR:"https://get.todoist.help/hc/pt-br/articles/205063212",pt_PT:"https://get.todoist.help/hc/pt-br/articles/205063212",ru:"https://get.todoist.help/hc/ru/articles/205063212",zh_TW:"https://get.todoist.help/hc/zh-tw/articles/205063212",zh_CN:"https://get.todoist.help/hc/zh-cn/articles/205063212"},a={showKeyboardShortcuts:function(){return window.open(n[window.LANG]||"/Help/KeyboardShortcuts"),!1},showPrefs:function(e){if(!navigator.onLine)return void alert(window.getOfflineMessage({status:-1}));var t="/prefs/";return t+=e||"account",window.location=t,!1},showKarmaInfo:function(){return GB_show(_("More about Todoist Karma"),"/Karma/showInfo",550,500)}},i=a;r.default=i},{}],54:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=5-parseInt($queryArgument("priority")||4),r=$urldecode($queryArgument("content")||""),n=$urldecode($queryArgument("date")||""),a={content:r,priority:t};if(n){var i=DateUtils.parse(n);a.due=m.default.fromDateist(i)}var l=new p.default({item:a,holder:e,withQuickNote:(0,h.isPremium)(v.default.getState()),onSubmit:function(){o(e,l)}});l.show()}function o(e,t){var r=a({},t.getResultItem());if(!r||""==r.content)return t.focusInput();r.project_id||(r.project_id=window.User.inbox_project),track("task_form","click","quick_task_add"),r.item_order=parseInt((new Date).getTime()/1e3);var n=u.default.add(r);f.BufferedRemindersModel.reminders.length>0&&f.BufferedRemindersModel.commitBuffered(n);var i="https://todoist.com/app#project/"+n.project_id,o=d.default.get(n.project_id)||d.default.getInbox(),l=A({c:"action",href:i,target:"_blank"},o.name),s=_("Task successfully added to"),p=A({href:i,c:"ist_button ist_button_red"},_("Close"));$AEV(p,"click",function(){top.postMessage(JSON.stringify({type:"todoist_close_window"}),"*"),window.close()}),$replace($("editor"),DIV(CENTER(Indicator.cssSpinner()))),t.remove();var m={onSuccess:function(){$queryArgument("no_chrome")?(top.postMessage(JSON.stringify({type:"todoist_close_window"}),"*"),$replace($("editor"),null)):$replace($("editor"),DIV(H2({c:"section_header"},_("Quick Add Task")),DIV({c:"confirm"},s," ",l,DIV(p))))}};return c.default.sync(m,!0),!1}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.show=r.isShown=void 0;var s=l(e("@babel/runtime/helpers/defineProperty")),u=l(e("../../models/ItemsModel")),c=l(e("../../models/SyncEngine")),d=l(e("../../models/ProjectsModel")),f=e("../../models/Reminders"),p=l(e("../../react_components/item_editor/ItemEditorLegacyWrapper")),m=l(e("../../models/DateExt")),h=e("../../reducers/user"),v=l(e("../../stores/store")),b=!1,y=function(){return b};r.isShown=y;var g=function(){b=!0,$remove($("loading"));var e=DIV();$replace($("editor"),DIV(H2({c:"section_header"},_("Quick Add Task")),e)),i(e)};r.show=g;var E={isShown:y,show:g};r.default=E},{"../../models/DateExt":154,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../models/Reminders":163,"../../models/SyncEngine":171,"../../react_components/item_editor/ItemEditorLegacyWrapper":754,"../../reducers/user":1042,"../../stores/store":1048,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],55:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/Collaborators")),l=n(e("../notes/NotesUtils")),s=n(e("../avatars/Avatars")),u=n(e("../richtext_editor/NatrualLanguageParsing")),c=n(e("../themes/Themes")),d=function(){function e(t){(0,a.default)(this,e),this.render=this.render.bind(this),this.isShown=this.isShown.bind(this),this.onProjectUpdated=this.onProjectUpdated.bind(this),this.showTooltip=this.showTooltip.bind(this),this.opts=t,t.responsible_uid&&(this.responsible_uid=t.responsible_uid),t.orginal_project_id||(t.orginal_project_id=t.project_id),t.left_offset||(t.left_offset=205)}return(0,i.default)(e,[{key:"render",value:function(){var e,t,r=this;this.opts.unassigned_icon_disable?this.avatar=null:this.avatar=SPAN({c:"form_action_icon menu_icon"},svgs.get("sm1/add_member_small.svg"));var n=DIV(B(_("Assign to someone")),BR(),_("Select by typing +")),a=this.opts.tooltip_txt?SPAN(this.opts.tooltip_txt):n;if(this.responsible_uid){var i;if(e=2,i=this.responsible_uid===window.User.id?window.User:o.default.getUserById(this.responsible_uid)){this.avatar=s.default.renderAvatar(i,"small",c.default.theme);var u=this.opts.tooltip_txt_selected||_("Assigned to");if(a=SPAN(u+" ",B(l.default.shortName(i))),i.id===window.User.id){t=(this.opts.me_str||_x("task_assignment","Me"))+" ("+i.full_name.split(" ")[0]+")"}else t=i.full_name}}else e=8,t=this.opts.unassigned_txt||_("Unassigned");if($addClass(this.avatar,"assign_icon"),null!=this.opts.show_name?(this.icon=SPAN({c:"svg_select_arrow"},svgs.get("sm1/caret.svg")),this.user_select=A({href:"#",c:"user_select_item"},this.icon,this.avatar,SPAN({c:"truncated u_name"},t))):(this.icon=this.avatar,this.user_select=this.avatar),IstTooltip.showTooltip(this.user_select,a,4,e),this.opts.enabled&&!window.PRINT_MODE){var d=function(e){return e.stopPropagation(),$addClass(r.user_select,"always_show"),r.showTooltip(),!1};$AEV(this.user_select,"click",d)}return this.opts.never_hide||o.default.isProjectShared(this.opts.project_id)||$hide(this.user_select),this.user_select}},{key:"isShown",value:function(){return $isShown(this.icon)}},{key:"onProjectUpdated",value:function(e){this.opts.project_id,this.responsible_uid=void 0,this.opts.project_id=e||this.opts.orginal_project_id,$swap(this.icon,this.render())}},{key:"showTooltip",value:function(){var e=this,t={collection:function(){var t,r=[];if(!1!==e.opts.support_unassigned){var n={name:e.opts.unassigned_txt||_("Unassigned"),id:null,email:""};n.full_name=n.name,r.push(n)}t=$isArray(e.opts.project_id)?e.opts.project_id:[e.opts.project_id];var a=!0,i=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,d=!0,f=!1,p=void 0;try{for(var m,h=o.default.getAll(c)[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var v=m.value,b={};$update(b,v),-1===$index(v,r,function(e){return e.id===v.id})&&(b.id===window.User.id?b.name=_x("task_assignment","Me")+" ("+v.full_name.split(" ")[0]+")":b.name=v.full_name,r.push(b))}}catch(e){f=!0,p=e}finally{try{d||null==h.return||h.return()}finally{if(f)throw p}}}}catch(e){i=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw l}}return r},filterItem:function(t,r){var n;return null===(null!=t?t.id:void 0)?(e.opts.unassigned_icon_disable?e.avatar=null:e.avatar=svgs.get("sm1/add_member_small.svg"),n=SPAN({c:"name_email"},t.full_name)):(n=$setHTML(SPAN({c:"name_email truncated"}),r),e.avatar=s.default.renderAvatar(t,"small",c.default.theme)),DIV(DIV({c:"ist_complete_icon"},e.avatar),DIV({c:"ist_complete_content"},n))},onSelect:function(t){if(e.responsible_uid=t.id,e.responsible_uid=null!=t?t.id:void 0,$isFunction(e.opts.fn_on_select)&&e.opts.fn_on_select(t.id),$swap(e.user_select,e.render()),GB_hide(),e.opts.onExitFocus)e.opts.onExitFocus();else{var r=$parent(e.user_select,"form");if(r){u.default.setCurrentPerson(null);var n=$gc(r,null,"richtext_editor");n.onchanged(),n.proxyFocus(!0)}}},wildcard_match:!0,placeholder:this.opts.placeholder_txt||""},r=new IstCompleteSelect(t),n=r.showTooltip({title:this.opts.title_txt||_("Assign a person"),icon:this.icon,top_offset:27,left_offset:this.opts.left_offset,arrow_left_offset:this.opts.arrow_left_offset,fn_on_hide:function(){r=null}});$addClass(n.g_window,"person_selecter")}}]),e}(),f=d;r.default=f},{"../../models/Collaborators":150,"../avatars/Avatars":17,"../notes/NotesUtils":50,"../richtext_editor/NatrualLanguageParsing":80,"../themes/Themes":91,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],56:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/Collaborators")),l=n(e("../avatars/Avatars")),s=n(e("../themes/Themes")),u=function(){function e(){(0,a.default)(this,e),this.showTooltip=this.showTooltip.bind(this)}return(0,i.default)(e,[{key:"showTooltip",value:function(e,t){var r=this;t.orginal_project_id=t.project_id;var n={collection:function(){var e,r=[];if(!1!==t.support_unassigned){var n={name:t.unassigned_txt||_("Unassigned"),id:null,email:""};n.full_name=n.name,r.push(n)}e=$isArray(t.project_id)?t.project_id:[t.project_id];var a=!0,i=!1,l=void 0;try{for(var s,u=e[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,d=!0,f=!1,p=void 0;try{for(var m,h=o.default.getAll(c)[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var v=m.value,b={};$update(b,v),-1===$index(v,r,function(e){return e.id===v.id})&&(b.id===window.User.id?b.name=_("Me")+" ("+v.full_name.split(" ")[0]+")":b.name=v.full_name,r.push(b))}}catch(e){f=!0,p=e}finally{try{d||null==h.return||h.return()}finally{if(f)throw p}}}}catch(e){i=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw l}}return r},filterItem:function(e,n){var a;return null===(null!=e?e.id:void 0)?(t.unassigned_icon_disable?r.avatar=null:r.avatar=svgs.get("sm1/add_member_small.svg"),a=SPAN({c:"name_email"},e.full_name)):(a=$setHTML(SPAN({c:"name_email truncated"}),n),r.avatar=l.default.renderAvatar(e,"small",s.default.theme)),DIV(DIV({c:"ist_complete_icon"},r.avatar),DIV({c:"ist_complete_content"},a))},onSelect:function(e){$isFunction(t.fn_on_select)&&t.fn_on_select(e.id),GB_hide()},wildcard_match:!0,placeholder:t.placeholder_txt||""},a=new IstCompleteSelect(n),i=a.showTooltip({title:t.title_txt||_("Assign a person"),icon:e,top_offset:t.top_offset,left_offset:t.left_offset,arrow_left_offset:t.arrow_left_offset,fn_on_hide:function(){a=null}});$addClass(i.g_window,"person_selecter")}}]),e}(),c=u;r.default=c},{"../../models/Collaborators":150,"../avatars/Avatars":17,"../themes/Themes":91,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],57:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/defineProperty")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("../../models/ItemsModel")),s=function(){function e(){(0,i.default)(this,e),this.postPoneUpdate=this.postPoneUpdate.bind(this)}return(0,o.default)(e,[{key:"postPoneUpdate",value:function(e){return this.postPoneModel(e),IstTooltip.hide(),Signals.sendSignal("instant_refresh_interface"),!1}},{key:"getPostponeDate",value:function(e){var t=e.due;if(!t)throw"Cannot getPostponeDate() with item with no due date";var r=t.postpone();if("END_REACHED"===r)return{new_due:r,formated_due:""};var n=DateistDateHelpers.day_diff(new Date,r);return{new_due:r,formated_due:DateUtils.humanizeDayDiff(n,r)}}},{key:"postPoneModel",value:function(e){if(!e.due)throw"Cannot getPostponeDate() with item with no due date";try{var t=this.getPostponeDate(e),r=t.new_due;"END_REACHED"==r&&l.default.complete(e.id,!0),l.default.updateDue((0,a.default)({},e.id,r))}catch(e){alert("".concat(e))}}}]),e}(),u=new s;r.default=u},{"../../models/ItemsModel":157,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={render:function(e){var t=e.onClick,r=e.text,n=BUTTON({c:"hover_action_button",type:"button"},r);return n.json={},n.onclick=t,n}},a=n;r.default=a},{}],59:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ProjectEditor=r.ProjectEditorGeneric=r.default=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("@babel/runtime/helpers/toConsumableArray")),u=o(e("../projects_list/ProjectListUtils")),c=o(e("../notes/NotesUtils")),d=o(e("../labels/Labels.js")),f=o(e("../project_editor/ProjectEditorManager")),p=o(e("../project_editor/ProjectEditorDragAndDropFiles")),m=o(e("../agenda/AgendaUtils")),h=o(e("../left_menu/LeftMenu")),v=o(e("../sharing/SharingManager")),b=o(e("../action_perfomed/ActionPerformed")),y=o(e("../items_utils/ItemCheckbox")),g=o(e("../generic_manager/GenericManager.js")),E=o(e("../generic_manager/GenericManagerUtils.js")),T=o(e("../generic_manager/GenericArrows.js")),w=o(e("../formatter/Formatter.js")),R=o(e("../../models/TemporaryIds")),P=o(e("../../models/ProjectsModel")),D=o(e("../../models/SectionsModel")),O=o(e("../../models/ItemsModel")),C=o(e("../../models/Collaborators")),I=o(e("../../models/SyncEngine")),S=o(e("../../menus/MenuProjectGear.js")),k=o(e("../../menus/MenuProjectEditor.js")),M=o(e("../../menus/MenuCompletedProjectEditor")),j=o(e("../../menus/MenuReactions")),N=o(e("./ProjectEditorUtils")),x=i(e("./SectionList")),L=e("../../utils/fp"),q=e("../../utils"),U=o(e("react")),F=o(e("react-dom")),z=o(e("../../components/projects_list/ProjectArchive")),B=e("../../reducers/mainView"),H=e("../../react_components/emptyState"),V=e("../../reducers/tooltip"),W=e("../../reducers/stats"),G=o(e("../../stores/store")),Y=e("../../reducers/notes"),K=o(e("./HoverActionButton")),X=e("../../reducers/archived"),J=e("../hints"),Q={init:function(){S.default.init(f.default),k.default.init(f.default),M.default.init(f.default),j.default.init(f.default),R.default.listenAll(function(e,t){var r="item_"+t,n="item_"+e,a=$(n);a&&(a.id=r,$removeClass(a,n),$addClass(a,r));var i=f.default.getEditorById(e);i&&(i.project_id=t,$values(i.section_list_by_sid).forEach(function(e){e.project_id=t})),f.default.current_project_id==e&&(f.default.current_project_id=t)})}};r.ProjectEditorGeneric=Q;var Z=g.default.extend({initWithData:function(e){var t=this,r={list_class:"ProjectEditor",data_model:O.default,max_indent:5,arrows:new T.default({data_model:O.default}),state_manager:f.default,empty_text:_("This project has no tasks. Add some now!")};r.arrows.setList(this),this.parent(r),this.hintsContext=(0,J.createHintsContext)({render:(0,q.debounce)(function(){return t.reRender()},5)}),this.project_id=e,this.current_limit=0,this.history_fetch_count=0,this.menu=k.default.get(),this.current_add_section_li=null,this.section_list_by_sid={},this.editor_instance_div=null,this.list_editor=null,$bindMethods(this)},remove:function(){this.editor_instance_div&&(this.removeEditorContent(),$remove(this.editor_instance_div),ElementStore.remove(this.editor_instance_div),this.hideHistory())},removeEditorContent:function(){$replace(this.list_editor,null),this.state_manager.current_react_editor&&(this.state_manager.current_react_editor.remove(),$remove(this.state_manager.current_form)),this.state_manager.current_form=null,this.current_list=null},isArchived:function(){var e=P.default.get(this.project_id);return!e||e.is_archived},showProject:function(){m.default.reset();var e=$("editor");this.list_editor=DIV({c:"list_editor"}),$add(e,this.editor_instance_div=DIV({c:"project_editor_instance","data-project-id":this.project_id},this.list_editor)),ElementStore.set(this.editor_instance_div,"editor",this),f.default.current_project_id==this.project_id&&$addClass(this.editor_instance_div,"current_editor"),f.default.attachMouseMove(this),p.default.attach(this),this.renderEditorContent(),u.default.flashItemIfNeeded(),h.default.hide();var t=P.default.get(this.project_id);window.User.karma>=100&&t&&!t.inbox_project&&v.default.promoCheck()},setTopSectionAsCurrent:function(){var e=this.section_list_by_sid[null];f.default.setCurrentSectionList(e)},renderEditorContent:function(){var e=this;if(this.current_list=UL({c:"section_list"}),this.isArchived()){var t=Indicator.ringSpinner();return $add(this.list_editor,t),void P.default.fetchArchivedProject(this.project_id).then(function(r){var n=P.default.get(e.project_id);$add(e.list_editor,e.renderProjectHeader(n),e.current_list),$remove(t),P.default.archivedFeteched(r.project);var a=e.renderSectionItem(null,r.items);$add(e.current_list,a)}).catch(function(e){e instanceof Response?404==e.status?alert(_("Project not found")):e.json().then(function(e){return alert(e.error)}):alert(e.message)})}var r=P.default.get(this.project_id);$add(this.list_editor,this.renderProjectHeader(r),this.current_list);var n=O.default.itemGetSectionGroups(this.project_id),i=D.default.getByPID(this.project_id),o=G.default.getState(),l=o.completed,u=o.items,c=this.hintsContext.getHints(),d=function e(t){return!!t&&(!!t.collapsed||e(u[t.parent_id]))};([null].concat((0,s.default)(i.map(function(e){return e.id}))).forEach(function(t,r){var i=n[t],o=[],s=[],f={},p=function(t){var r=t.hint,n=t.indent,a=t.itemId,i=t.collapsed;o=o.concat((0,J.renderHint)({hint:r,type:"item",indent:n,hintsState:c,updateHint:e.hintsContext.updateHint,update:e.hintsContext.updateItem,itemId:a,collapsed:i}))},m=function(){var e=s.pop(),t=e.id,r=e.indent,n=l.items[t]||{};p({hint:n,itemId:t,indent:r+1,collapsed:d(u[t])})};if(i.forEach(function(t){if(!t.checked&&!t.in_history){if(e.showCompleted){for(f[t.id]=t.parent_id;s.length;){for(var r=t.parent_id;r&&r!==s[s.length-1].id;)r=f[r];if(r)break;m()}(l.items[t.id]&&l.items[t.id].completed_items>0||c.items[t.id]&&c.items[t.id].updating)&&s.push({id:t.id,indent:t.indent})}o.push(a({},t,{completeItem:function(r){if(!t.due||!t.due.is_recurring||r){var n=O.default.getChildren(t);e.hintsContext.onItemComplete(t,n)}}}))}}),e.showCompleted){for(;s.length>0;)m();!t&&l.projects[e.project_id]&&p({hint:l.projects[e.project_id],itemId:e.project_id,indent:1}),t&&l.sections[t]&&p({hint:l.sections[t],itemId:t,indent:1})}var h=e.renderSectionItem(t,o);$add(e.current_list,h);var _=e.renderHoverActionButton(h,r);$add(h,_)}),this.showCompleted)&&(0,J.renderSectionsHint)({hint:l.projects[this.project_id],projectId:this.project_id,hintsState:c,updateHint:this.hintsContext.updateHint}).forEach(function(t){$add(e.current_list,t)});this.history_editor||this.renderHistoryEditor(),this.checkEmpty()},renderSectionItem:function(e,t){var r=this,n=new x.default;return n.initWithData({section_id:e,project_id:this.project_id,items:t,on_show_add_item:function(){r.clearEmptyStateIfNeeded()},on_add_form_cancel:function(){r.checkEmpty()}}),this.section_list_by_sid[e]=n,n.render(this.hintsContext)},renderProjectHeader:function(e){var t=N.default.generateLink(e);this.project_header_link=t;var r=HEADER({c:"view_header"},H1(t),this.renderHeaderActions(e));return this.isArchived()&&$add(t,SMALL(_("Archived"))),r},renderHistoryEditor:function(){this.fetch_history=A({href:"#",c:"action"},_("Fetch more"),"..."),$AEV(this.fetch_history,["click","touchstart"],this.getMoreHistory),this.current_his_list=UL({c:"items project_history"}),this.history_controller=DIV({c:"controller actions controller_history"},this.fetch_history),this.history_editor=DIV({c:"list_editor history"},this.current_his_list,this.history_controller),$hide(this.history_controller),$add(this.editor_instance_div,this.history_editor)},renderHoverActionButton:function(e,t){var r=this;return K.default.render({onClick:function(){return r.onHoverActionButtonClick(e,t)},text:_("Add section")})},setProjectTitle:function(e){$setHTML($gc(this.project_header_link,"span"),w.default.formatSimple(e))},showSectionAddForm:function(){var e=this.getSectionAddForm(this.onSectionAdd);$add(this.current_list,this.current_add_section_li),e._focus()},getSectionAddForm:function(e){var t=this;this.clearEmptyStateIfNeeded(),$remove(this.current_add_section_li);var r=(0,x.renderSectionForm)({onSubmit:function(r){e(r),$remove(t.current_add_section_li),$removeClass(t.current_list,"section_add_active")},onCancel:function(){t.checkEmpty(),$remove(t.current_add_section_li),$removeClass(t.current_list,"section_add_active")}});return this.current_add_section_li=LI(DIV({c:"section"},DIV({c:"section_head_holder"},r))),this.current_add_section_li.json={},$addClass(this.current_list,"section_add_active"),r},onSectionAdd:function(e){var t=D.default.getByPID(this.project_id),r=0==t.length?1:(0,L.last)(t).section_order+1,n=D.default.add({name:e,project_id:this.project_id,section_order:r});$add(this.current_list,this.renderSectionItem(n.id,[]))},onHoverActionButtonClick:function(e,t){var r=this,n=function(n){var a=D.default.add({name:n,project_id:r.project_id,section_order:t+1});$addAfter(r.renderSectionItem(a.id,[]),e),r.saveOrder(!1),r.reRender()},a=this.getSectionAddForm(n);$addAfter(this.current_add_section_li,e),a._focus()},showHistory:function(){this.showCompleted=!0,this.reRender()},hideHistory:function(){this.showCompleted=!1,this.hintsContext.reset(),this.reRender()},getMoreHistory:function(){var e=this;b.default.mark("ProjectEditor/getMoreHistory");var t=this.fetch_history;$hide(t),this.history_fetch_count++,Indicator.addToElm(t.parentNode);var r=$requestJSON("/API/".concat(I.default.api_version,"/items/get_completed"));r.offline_message=!0,r.addCallback(function(r){r=(0,L.compose)((0,L.map)(function(e){return a({},e,{parent_id:null,section_id:null})}),(0,L.sortBy)(["date_completed","id"]))(r),r.reverse();var n=e.current_his_list;$remove($all("li","empty",n)),Indicator.removeFromElm(t.parentNode);var i=!0,o=!1,l=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(!$("item_"+c.id)){G.default.dispatch((0,X.archivedItemFetch)(c));var d=e.renderHistoryItem(c);$add(n,d)}}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}var f=e.history_fetch_count,p=r.length;if(1==f&&p<10&&p>0);else if(r.length<10){var m,h;h=f>1?_("No more completed tasks"):_("No completed tasks"),$add(n,m=LI({c:"empty"},h)),$fx.fadeOut(m,{duration:3e3,onComplete:function(){$remove(m)}})}else $show(t);e.arrows&&e.arrows.updateArrows(),e.section_list_by_sid&&Object.values(e.section_list_by_sid).forEach(function(e){e&&e.arrows&&e.arrows.updateArrows()}),e.current_limit+=r.length}),r.addErrback(function(){Indicator.removeFromElm(t.parentNode)}),0===this.current_limit&&(this.current_limit=this.current_his_list.childNodes.length);var n={onSuccess:function(){r.sendReq({offset:e.current_limit,project_id:e.project_id})}};return I.default.sync(n),!1},renderHistoryItem:function(e){var t=w.default.format(e.content),r=TBODY(),n=TABLE(r),a=TD({c:"checker"}),i=TD({c:"content"});$add(r,TR(a,i));var o=SPAN({c:"text"});$setHTML(o,t),$add(i,o);var l=LI({c:"task_item history_item checked",id:"item_"+e.id},n);$addClass(l,"item_"+e.id),l.json=e,c.default.annotate(e,o,l),$add(i,$setHTML(DIV({c:"task_item_details_bottom"}),d.default.format("",e)));var s=y.default.create(l,this.unarchiveHistoryItem);return $add(a,DIV({c:"div_checker"},s)),IstCheckbox.setChecked(s,1),E.default.setIndent(l,1),l},unarchiveHistoryItem:function(e){O.default.unarchive(e.json),$remove(e),this.reRender()},reRender:function(){this.removeEditorContent(),this.renderEditorContent()},editingDone:function(e){f.default.current_cancel=null,f.default.current_form=null,this.arrows.updateArrows(),this.current_item=e},checkEmpty:function(){var e=O.default.itemGetSectionGroups(this.project_id);1===(0,L.keys)(e).length&&0===e[null].length&&this.renderEmpty()},showAddItemForm:function(){this.section_list_by_sid[null].showAddItem(!1,!0,!0)},renderEmpty:function(){var e=this;if(f.default.hideEmptyState)return null;var t=$("empty-state-holder");t||(t=DIV({id:"empty-state-holder"}),$add($("editor"),t));var r,n=P.default.get(this.project_id);return r=n.inbox_project?(0,V.isScheduled)(V.TOOLTIP_EMPTY_STATE_INBOX,G.default.getState())?U.default.createElement(H.EmptyStateInboxNew,{onButtonClick:this.showAddItemForm}):U.default.createElement(H.EmptyStateInboxZero,{onButtonClick:this.showAddItemForm}):(0,W.totalCompleted)(G.default.getState())<20?U.default.createElement(H.EmptyStateProjectNew,null):this.last_task_completed?U.default.createElement(H.EmptyStateProjectCelebration,{onButtonClick:this.addNewItem,onLinkClick:function(){var t=$gc($("projects_list"),"li","current");t&&(e.last_task_completed=!1,z.default.archive(t),G.default.dispatch((0,B.showProjectView)([window.User.inbox_project])))}}):U.default.createElement(H.EmptyStateProjectZero,{onButtonClick:this.showAddItemForm}),F.default.render(r,t),null},renderHeaderActions:function(e){var t,r=this;if(!e.inbox_project){var n=C.default.getAll(this.project_id),a=n.length>1?svgs.get("sm1/member_small.svg"):svgs.get("sm1/add_member_small.svg");t=A({c:"share_icon",href:"#","data-track":"project|share"},a),$AEV(t,["click","touchstart"],function(){return v.default.show(r.project_id),!1}),IstTooltip.showSimpleText(t,_("Share options")),n&&n.length>1&&$add(t,SPAN(""+n.length))}var i=BUTTON({c:"gear_icon icon"},svgs.get("sm1/more.svg"));IstTooltip.showSimpleText(i,_("Project actions"),null,null,5),$AEV(i,["click","touchstart"],function(t){return S.default.get().toggleMenu(i,i,t,{showCompleted:r.showCompleted,hide_filter:function(t){return!(!e.inbox_project||!$hasClass(t,"sort_responsible"))}})});var o;return o=c.default.renderIcon(e,Y.TYPE_PROJECT_NOTE,void 0,"medium"),IstTooltip.showSimpleText(o,_("Project comments"),null,null,7),e.is_archived?DIV({c:"view_header__actions"},o):DIV({c:"view_header__actions"},o,t,i)},clearEmptyStateIfNeeded:function(){var e=$("empty-state-holder");e&&(F.default.unmountComponentAtNode(e),$remove(e))},getCurrentOrder:function(){var e=$$(".section_list > li",null,this.editor_instance_div),t=1,r=[];return $map(e,function(e){e.json&&e.json.id&&r.push({id:e.json.id,section_order:t++})}),r},saveOrder:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getCurrentOrder();D.default.reorder(t,e)}});r.ProjectEditor=Z;var ee={ProjectEditorGeneric:Q,ProjectEditor:Z};r.default=ee},{"../../components/projects_list/ProjectArchive":68,"../../menus/MenuCompletedProjectEditor":137,"../../menus/MenuProjectEditor.js":140,"../../menus/MenuProjectGear.js":141,"../../menus/MenuReactions":143,"../../models/Collaborators":150,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../models/SectionsModel":165,"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../../react_components/emptyState":588,"../../reducers/archived":979,"../../reducers/mainView":1015,"../../reducers/notes":1021,"../../reducers/stats":1037,"../../reducers/tooltip":1040,"../../stores/store":1048,"../../utils":1094,"../../utils/fp":1083,"../action_perfomed/ActionPerformed":2,"../agenda/AgendaUtils":8,"../formatter/Formatter.js":22,"../generic_manager/GenericArrows.js":24,"../generic_manager/GenericManager.js":25,"../generic_manager/GenericManagerUtils.js":26,"../hints":30,"../items_utils/ItemCheckbox":32,"../labels/Labels.js":40,"../left_menu/LeftMenu":41,"../notes/NotesUtils":50,"../project_editor/ProjectEditorDragAndDropFiles":60,"../project_editor/ProjectEditorManager":61,"../projects_list/ProjectListUtils":70,"../sharing/SharingManager":82,"./HoverActionButton":58,"./ProjectEditorUtils":62,"./SectionList":66,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/toConsumableArray":200,react:"react","react-dom":"react-dom"}],60:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/ItemsModel")),l=n(e("../templates/Templates")),s=n(e("../../stores/store")),u=e("../../reducers/detailView"),c=e("../../reducers/notes"),d=function(){function e(){(0,a.default)(this,e),this.attach=this.attach.bind(this),this.addOverlay=this.addOverlay.bind(this),this.removeOverlay=this.removeOverlay.bind(this)}return(0,i.default)(e,[{key:"attach",value:function(e){var t=this;if(window.User.is_premium){var r=e.editor_instance_div;r.addEventListener("dragleave",function(e){
$preventDefault(e),t.removeOverlay(e,r)},!0),r.addEventListener("dragenter",function(e){$preventDefault(e),t.addOverlay(e,r)},!0),r.addEventListener("dragover",function(e){$preventDefault(e),t.addOverlay(e,r)},!0),r.addEventListener("drop",function(n){$preventDefault(n),t.removeOverlay(n,r);var a=t._getFile(n);if(a){var i=e.project_id;if(-1!==a.name.indexOf(".csv")||-1!==a.name.indexOf(".txt"))l.default.showImport(i);else{var d=o.default.add({project_id:i,content:a.name}),f=new GFile;f.file=a,f.temporaryId=Math.random(),f.upload(),s.default.dispatch((0,c.noteAddWithFiles)({parentId:d.id,content:"",type:c.TYPE_ITEM_NOTE,usersToNotify:[],files:[f]})),s.default.dispatch((0,u.detailViewShowItem)(d.id,{activeTab:"comments"}))}}},!0)}}},{key:"addOverlay",value:function(e,t){this.clearTimeout(t);var r=!1;if(e.dataTransfer.types){var n=!0,a=!1,i=void 0;try{for(var o,l=e.dataTransfer.types[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){if("Files"===o.value){r=!0;break}}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}}if(r&&!t.attach_overlay){var s;$addClass(t,"drop_over");var u=_("Add file as task / Import from template");$add($body(),s=DIV({c:"attach_overlay"},SPAN(u)));var c=$position(t);$setWidth(s,t.offsetWidth),$setHeight(s,t.offsetHeight),$setTop(s,c.y),$setLeft(s,c.x),t.attach_overlay=s}}},{key:"removeOverlay",value:function(e,t){var r=this;this.clearTimeout(t),t.attach_timeout=setTimeout(function(){$removeClass(t,"drop_over"),t.attach_overlay&&($remove(t.attach_overlay),t.attach_overlay=null),r.clearTimeout(t)},100)}},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.attach_timeout&&(clearTimeout(e.attach_timeout),e.attach_timeout=null)})},{key:"_getFile",value:function(e){var t=e.dataTransfer&&e.dataTransfer.files;if(t){var r=$first(t);if(r)return r}return null}}]),e}(),f=new d;r.default=f},{"../../models/ItemsModel":157,"../../reducers/detailView":996,"../../reducers/notes":1021,"../../stores/store":1048,"../templates/Templates":89,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],61:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/defineProperty")),l=n(e("../../models/ProjectsModel")),s=n(e("../../menus/MenuProjectEditor.js")),u=n(e("../onboarding/Onboarding")),c=n(e("react-dom")),d=e("../../utils/deps"),f=n(e("../../stores/store")),p=e("../../utils/fp"),m=(0,d.defineDeps)("ProjectEditorManager",["ProjectEditor"]),h=function(){function e(){var t=this;(0,a.default)(this,e),(0,o.default)(this,"setCurrentSectionList",function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(!t.current_form&&!s.default.get().shown||r)&&(t.current_section_list=e,t.externalServicesAnnotation(window.CURRENT_EXERNAL_SERVICE))}),(0,o.default)(this,"getCurrentSectionList",function(){return t.current_section_list});var r;this.reset=this.reset.bind(this),this.getCurrentEditor=this.getCurrentEditor.bind(this),this.getEditorById=this.getEditorById.bind(this),this.getEditorsById=this.getEditorsById.bind(this),this.createEditorInstance=this.createEditorInstance.bind(this),this.getCurrentProjectId=this.getCurrentProjectId.bind(this),this.showProjects=this.showProjects.bind(this),this.toggleProject=this.toggleProject.bind(this),this.setAsActive=this.setAsActive.bind(this),this.externalServicesAnnotation=this.externalServicesAnnotation.bind(this),this.attachMouseMove=this.attachMouseMove.bind(this),this.editors=[],this.current_section_list=null,this.current_cancel=null,this.current_form=null,this.current_holder=null,this.hideEmptyState=!1,Signals.connect("projects.rerender",function(e){var n={},a=!0,i=!1,o=void 0;try{for(var l,s=t.editors[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)r=l.value,n[r.project_id]=r}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}var u=!0,c=!1,d=void 0;try{for(var f,p=e[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value;r=n[parseInt(m)],r&&r.reRender()}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}n=null}),Signals.connect("projects.rerender.all",function(){t.reRender()}),Signals.connect("projects.reset",function(){t.reset()}),Signals.connect("project.name.changed",function(e){(r=t.getEditorById(e.id))&&r.setProjectTitle(e.name)}),Signals.connect("external_service_annotation",this.externalServicesAnnotation)}return(0,i.default)(e,null,[{key:"initClass",value:function(){this.prototype.DepProjectEditor=null}}]),(0,i.default)(e,[{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.current_section_list=null,this.current_cancel=null,this.current_form=null,this.current_editor=null,this.current_project_id=null,this.current_holder=null,this.hideEmptyState=!1,e){var t=!0,r=!1,n=void 0;try{for(var a,i=this.editors[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.remove()}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this.editors=[]}this.removeEmptyState(),Signals.sendSignal("project_editor_manager_reset")}},{key:"getCurrentEditor",value:function(){return this.current_editor}},{key:"getEditorById",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=this.editors[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if(o.project_id===e)return o}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return null}},{key:"getEditorsById",value:function(){var e={},t=!0,r=!1,n=void 0;try{for(var a,i=this.editors[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){e[a.value.project_id]=!0}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}},{key:"createEditorInstance",value:function(e){var t=new m.ProjectEditor;return t.initWithData(e),this.editors.push(t),t}},{key:"getCurrentProjectId",value:function(){return this.current_project_id}},{key:"isShowing",value:function(e){return!!this.getEditorById(e)}},{key:"showProjects",value:function(e,t,r){if(r||(r={}),this.removeEmptyState(),r.holder||(r.holder=$("editor")),window.MINI_VERSION){var n=$("blank_state_projects_list");n&&$remove(n)}this.reset(),!0!==r.dont_replace_holder&&$replace(r.holder,null),this.current_holder=r.holder,this.hideEmptyState=r.hideEmptyState,e.length>1?$addClass(r.holder,"project_editors_multiple"):$removeClass(r.holder,"project_editors_multiple"),window.scroll(0,0);var a=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var c=l.value,d=this.createEditorInstance(c);d.holder=r.holder,d.showProject()}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}var f=this.editors[0];f&&(!1!==r.update_location&&Signals.sendSignal("change_location","project/".concat(f.project_id)),this.setAsActive(f,!0)),this.externalServicesAnnotation(window.CURRENT_EXERNAL_SERVICE),$isFunction(t)&&t(),setTimeout(function(){u.default.showCompleteTaskTooltipIfNeeded(),Signals.sendSignal("rendered.projects")},50)}},{key:"removeEmptyState",value:function(){var e=$("empty-state-holder");e&&c.default.unmountComponentAtNode(e)}},{key:"toggleProject",value:function(e){var t=null,r=[],n=!0,a=!1,i=void 0;try{for(var o,l=this.editors[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value;s.project_id===e?t=s:r.push(s)}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}if($addClass(this.current_holder,"project_editors_multiple"),t)return this.current_editor===t&&this.reset(!1),this.editors=r,t.remove(),!1;var u=this.createEditorInstance(e);return u.holder=this.current_holder,u.showProject(),!0}},{key:"setAsActive",value:function(e){!1===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this.current_form||s.default.get().shown||(this.current_project_id=e.project_id,this.current_editor=e,this.current_editor.setTopSectionAsCurrent(),$removeClass($all("div","project_editor_instance"),"current_editor"),$addClass(e.editor_instance_div,"current_editor"))}},{key:"externalServicesAnnotation",value:function(e){var t=this;if(this.current_section_list){var r=$("add_link");if(r&&$remove(r),e){var n=this.current_section_list.controller;if(!n)return;var a=e.annotate_add_text,i=e.annotate_fn;r=A({href:"#",class:"action",id:"add_link"},a),$add(n,r),$addClass($$(".action_add_item",n),"inlined-button"),r.onclick=function(){return t.current_section_list.addNewItem(!1,function(){i(t.current_react_editor)}),!1}}}}},{key:"attachMouseMove",value:function(e){var t=this;$AEV(e.editor_instance_div,"mouseover",function(){t.current_project_id!==e.project_id&&t.setAsActive(e)})}},{key:"checkEmpty",value:function(){this.current_editor&&this.current_editor.checkEmpty()}},{key:"removeEmpty",value:function(){this.current_editor&&this.current_editor.removeEmpty()}},{key:"reRender",value:function(){if(!(0,p.get)("mainView.reactView",f.default.getState())){var e=[],t=!0,r=!1,n=void 0;try{for(var a,i=this.editors[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;l.default.get(o.project_id)?(o.reRender(),e.push(o)):o.remove()}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this.editors=e,this.setAsActive(this.editors[0])}}}]),e}();h.initClass(),window.ProjectEditorManager=new h;var _=window.ProjectEditorManager;r.default=_},{"../../menus/MenuProjectEditor.js":140,"../../models/ProjectsModel":161,"../../stores/store":1048,"../../utils/deps":1071,"../../utils/fp":1083,"../onboarding/Onboarding":52,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"react-dom":"react-dom"}],62:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.generateLink=void 0;var a=n(e("../projects_list/ProjectListUtils")),i=n(e("../formatter/Formatter.js")),o=function(e){var t=i.default.formatSimple(e.name,{with_links:!1,with_emojis:!0,as_html:!1}),r=$setHTML(SPAN(),t),n=A({href:"#",c:"project_link"},r);return $AEV(n,"click",function(){return a.default.setCurrentById(e.id,null,null,!1),window.scroll(0,0),!1}),n};r.generateLink=o;var l={generateLink:o};r.default=l},{"../formatter/Formatter.js":22,"../projects_list/ProjectListUtils":70,"@babel/runtime/helpers/interopRequireDefault":189}],63:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../containers/premium_promo/PremiumOnlyModal")),l=n(e("../../models/TemporaryIds")),s=function(){function e(){(0,a.default)(this,e),this.showProjectEmail=this.showProjectEmail.bind(this),this.showProjectCommentEmail=this.showProjectCommentEmail.bind(this),this.showItemEmail=this.showItemEmail.bind(this),this.genericShowEmail=this.genericShowEmail.bind(this),this.showCalFeed=this.showCalFeed.bind(this)}return(0,i.default)(e,[{key:"showProjectEmail",value:function(e){this.genericShowEmail("project",e,_("Add tasks via email"))}},{key:"showProjectCommentEmail",value:function(e){this.genericShowEmail("project_comments",e,_("Add comments via email"))}},{key:"showItemEmail",value:function(e){this.genericShowEmail("item",e,_("Add comments via email"))}},{key:"genericShowEmail",value:function(e,t,r){if(!window.User.is_premium)return o.default.showEmailForwarding();var n=function(){var n="/Emails/view?obj_type=".concat(e,"&obj_id=").concat(t);GB_show(r,n,500,500)};this.customShowGb(t,n)}},{key:"showCalFeed",value:function(e){if(!window.User.is_premium)return o.default.showProjectCalendarFeed();var t=function(e){var t="/Calendar/view_project_feed_url?project_id=".concat(e);GB_show(_("Project calendar feed"),t,230,450)};this.customShowGb(e,t)}},{key:"customShowGb",value:function(e,t){l.default.waitToResolve(e,function(e){t(e)})}}]),e}(),u=new s;r.default=u},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/TemporaryIds":174,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={init:function(){var e=this;this.menu=new IstMenu,this.menu.addItems(IstMenu.createItem(_("Unarchive section"),function(){e.onUnarchiveSelected()},{icon:svgs.get("sm1/archive.svg")}),IstMenu.createItem(_("Delete section"),function(){e.onDeleteSelected(),e._clearState(),e.menu.hide()},{extra_class:"sel_delete_task danger",icon:svgs.get("sm1/trash.svg")})),$AEV(document,"click",this.menu.hide)},_initIfNotExit:function(){this.menu||this.init()},_clearState:function(){this.onAddTaskSelected=function(){},this.onRenameSelected=function(){},this.onDeleteSelected=function(){},this.onMoveToProject=function(){},this.onArchiveSelected=function(){}},toggle:function(e){var t=e.event,r=e.anchor,n=e.onDeleteSelected,a=e.onUnarchiveSelected;this._initIfNotExit()&&this.init(),this._clearState(),this.onDeleteSelected=n,this.onUnarchiveSelected=a,this.menu.toggle(r,r,t)},hide:function(){this.menu.hide()}},a=n;r.default=a},{}],65:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/defineProperty")),l=n(e("../sortable/Sortable.js")),s=n(e("../../models/StateModel")),u=n(e("../projects_list/ProjectList")),c=e("../../utils"),d=n(e("../../models/SectionsModel")),f=function(){function e(){var t=this;(0,a.default)(this,e),(0,o.default)(this,"detectDropOnProject",function(){var e=ICE.$dnd.mouse_pos||$mousePos(),r=e.x,n=e.y;n+=$("left_menu").scrollTop-$scrollTop(),t.project_drop_target&&($removeClass(t.project_drop_target,"drop_background"),t.project_drop_target=null);var a=!0,i=!1,o=void 0;try{for(var l,s=t.project_list_offset[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value,c=r>=u.x&&r<=u.x_max;if(c=c&&n>=u.y&&n<=u.y_max){$addClass(u.dom,"drop_background"),t.project_drop_target=u.dom;break}}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}}),(0,o.default)(this,"onDrag",function(){t.sortable.onDrag(),t.detectDropOnProject()}),(0,o.default)(this,"onHandlerMouseDown",function(e){t.current_li=$parent(t.current_handler,"li");var r=$parent(t.current_li,".project_editor_instance"),n=$$(".section_list li[data-id]",r);t.sortable=new l.default(n,"section");var a=t.sortable.onStart;return ICE.$dnd.dragAble(t.current_li,{handler:t.current_handler,move_x:!0,on_start:a,on_drag:t.onDrag,on_end:t.onEnd,scroll_on_overflow:!0,scroll_custom:t.scrollCustom}),s.default.set("drag_and_drop_mode",s.default.DragMode.reordering),t.project_list_offset=t.projectListOffsetSnapshot(),ICE.$dnd._start(t.current_handler,e),$preventDefault(e),!1}),(0,o.default)(this,"onEnd",function(){s.default.set("drag_and_drop_mode",s.default.DragMode.waiting),t.sortable.onEnd();var e=ICE.$dnd.current_root;if(t.project_drop_target){$removeClass(t.project_drop_target,"drop_background");var r=(0,c.parseId)(t.project_drop_target.getAttribute("data-id")),n=(0,c.parseId)(e.getAttribute("data-id"));return void d.default.move({id:n,project_id:r})}var a=$parent(e,"div","project_editor_instance");a&&(a=ElementStore.get(a,"editor"),a.saveOrder())}),this.current_li=null,this.current_handler=null,this.sortable=null,this.project_list_offset=null,s.default.set("drag_and_drop_mode",s.default.DragMode.waiting),this.scrollCustom=this.scrollCustom.bind(this)}return(0,i.default)(e,[{key:"attach",value:function(e){var t=this;e.onmousedown=function(r){t.current_handler=e,t.onHandlerMouseDown(r)}}},{key:"projectListOffsetSnapshot",value:function(){var e=[],t=u.default.getAllRenrededItems(!0,!1);t.push($("filter_inbox")),$("filter_team_inbox")&&t.push($("filter_team_inbox")),t=t.concat($$('#top_filters li[data-type="project_list_item"]'));var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,s=$position(l);s.x_max=s.x+l.offsetWidth,s.y_max=s.y+l.offsetHeight,s.dom=l,e.push(s)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return e}},{key:"scrollCustom",value:function(e,t){var r=this.scrollObject(e);r.scrollBy?r.scrollBy(0,t):r.scrollTop+=t}},{key:"scrollObject",value:function(e){var t=$("left_menu"),r=$position(t);return e.x>=r.x-50&&e.x<=r.x+t.offsetWidth?t:window}}]),e}(),p=new f;r.default=p},{"../../models/SectionsModel":165,"../../models/StateModel":167,"../../utils":1094,"../projects_list/ProjectList":69,"../sortable/Sortable.js":85,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],66:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,r);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n.select()}}function o(e,t){i(e,t,t)}function l(e,t,r,n){track("task_form","click","add_from_project");var i=ElementStore.get($parent(e,"div","section"),"SectionList"),o=t.getResultItem();if(!o)return!1;if(""!==o.content){if(o.project_id&&o.project_id!==i.project_id||o.section_id!==i.section_id){var l=(0,L.itemGetMaxTopLevelChildOrder)({project_id:o.project_id,section_id:o.section_id},N.default.getState());o=a({},o,{parent_id:null,section_id:o.project_id!==i.project_id&&o.section_id===i.section_id?null:o.section_id,child_order:l})}else{o=a({},o,{},i.getParentChildOrder(e),{project_id:i.project_id,section_id:i.section_id})}var s=o,u=s.item_order;o=(0,M.omit)(o,["item_order","indent","order"]);var d=w.default.add(o);if(!d)return;d=a({},d,{item_order:u,indent:g.default.getIndent(e)});var f,p=T.default.get(d.project_id);if(d.project_id!=i.project_id)N.default.dispatch((0,x.notifyAddToProject)(d.id,p.id)),f=e.previousSibling,$swap(e,null);else{f=i.renderItem(d),$addClass(f,"item_added");if(W.default.getRealId(d.section_id)!==W.default.getRealId(i.section_id)){var m=d.section_id?c.default.current_holder.querySelector(".section[data-id='".concat(d.section_id,"'] .items")):c.default.current_holder.querySelector(".section .items");$add(m,f)}else $swap(e,f)}i.editingDone(f),d.project_id===i.project_id&&o.section_id===i.section_id&&i.saveOrder(f,{allow_undo:!1});var h={};return p&&R.default.isProjectShared(p.id)&&0!=o.inherit_asignee?h.responsible_uid=d.responsible_uid:h.responsible_uid=void 0,t.remove(),$remove(e),i.state_manager.current_form=null,$isFunction(r)?r(d):i.showAddItem(!0,!1,!1,h),!1}return n?(t.remove(),$remove(e),i.state_manager.current_form=null,$isFunction(r)&&r(),!1):(i&&i.setCurrentItem(e),$isFunction(r)&&r(!0),!1)}var s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.renderSectionForm=r.default=void 0;var u=s(e("@babel/runtime/helpers/defineProperty")),c=s(e("../project_editor/ProjectEditorManager")),d=s(e("../sharing/SharingManager")),f=s(e("../action_perfomed/ActionPerformed")),p=s(e("../formatter/Formatter.js")),m=s(e("../items_utils/ItemsRender")),h=s(e("../items_utils/ItemCheckbox")),v=s(e("../items_utils/ItemDueDates.js")),b=s(e("../items_utils/ItemCommonEdits")),y=s(e("../generic_manager/GenericManager.js")),g=s(e("../generic_manager/GenericManagerUtils.js")),E=s(e("../generic_manager/GenericArrows.js")),T=s(e("../../models/ProjectsModel")),w=s(e("../../models/ItemsModel")),R=s(e("../../models/Collaborators")),P=s(e("../../menus/MenuProjectEditor.js")),D=s(e("../../menus/MenuCompletedProjectEditor")),O=s(e("../onboarding/Onboarding")),C=s(e("../drag_and_drop/DragAndDrop")),I=s(e("./SectionMenu")),S=s(e("../../models/SectionsModel")),k=e("../../models/RealHierachy"),M=e("../../utils"),j=e("../../utils/fp"),N=s(e("../../stores/store")),x=e("../../reducers/undo"),L=e("../../reducers/items"),q=s(e("./SectionDragAndDrop")),U=e("../../reducers/user"),F=e("../../reducers/counts"),z=s(e("../../stores/subscribeSelected")),B=s(e("../../react_components/item_editor/ItemEditorLegacyWrapper")),H=e("../../reducers/reminders"),V=e("../../react_components/confirm_dialog"),W=s(e("../../models/TemporaryIds")),G=s(e("../items_utils/removeItemInList")),Y=y.default.extend({initWithData:function(e){var t=this,r=e.project_id,n=e.section_id,a=e.items,i=e.on_show_add_item,o=e.on_add_form_cancel,l={list_class:"SectionList",data_model:w.default,max_indent:5,undo_reorder_intent:"reorder_section",arrows:new E.default({data_model:w.default}),state_manager:c.default,manager_type:"section",project_id:r,section_id:n,items:a,on_show_add_item:i,on_add_form_cancel:o};if(l.arrows.setList(this),void 0===r||void 0===n)throw new Error("SectionList argument missing error");this.parent(l),this.is_top_section=!this.section_id,this.current_limit=0,this.section_div=null,this.menu=P.default.get(),Object.defineProperty(this,"section",{get:function(){return t.is_top_section?null:S.default.getByID(t.section_id)}});var s=(0,F.countBySection)(N.default.getState());this.count=s[this.section_id]||0;var u=(0,z.default)(N.default,F.countBySection,function(){if(!document.body.contains(t.section_div)||!t.section)return void u();var e=(0,F.countBySection)(N.default.getState());t.is_top_section||e[t.section_id]===t.count||(t.count=e[t.section_id],t.renderHeader())});$bindMethods(this)},remove:function(){this.section_div&&($remove(this.current_list,this.section_div),ElementStore.remove(this.section_div),this.state_manager=null,this.current_list=null,this.menu=null,this.arrows.data_model=null,this.arrows=null,this.section_div=null,this.project_header_link=null)},setCurrentItem:function(e){this.current_item=e,c.default.current_item=e},isArchived:function(){var e=T.default.get(this.project_id);return!!e&&e.is_archived},render:function(e){var t=this,r=e.updateHint,n=this;this.is_top_section||(this.header_holder=HEADER(),this.renderHeader({updateHint:r})),this.isArchived()?this.controller=null:(this.add_item=A({c:"action action_add_item"},SPAN({c:"icon icon_add"},svgs.get("sm1/plus.svg")),_("Add task")),this.add_item.onclick=this.addNewItem,this.controller=DIV({c:"controller actions task_actions"},this.add_item)),this.list_holder=DIV({c:"list_holder"});var a={c:"section"};if(this.section_id&&(a["data-id"]=this.section_id),!this.is_top_section&&this.section.collapsed&&(a.c+=" section__collapsed"),this.section_div=DIV(a,this.header_holder,this.list_holder,this.controller),this.current_list=UL({c:"items"}),$add(this.current_list,LI({c:"reorder_item task_item"})),$map(this.items,function(e){var t=e.completed_info?e:n.renderItem(e);$add(n.current_list,t)}),g.default.showHideChildren($AF(this.current_list.childNodes)),$add(this.list_holder,this.current_list),this.edit_on_load){var i=this.edit_on_load;$map($AF(this.current_list.childNodes),function(e){e.json.id==i&&(n.setCurrentItem(e),n.editCurrentItem())}),this.edit_on_load=null}this.arrows.updateArrows(),ElementStore.set(this.section_div,"SectionList",this),$AEV(this.section_div,"mouseover",function(){c.default.current_section_list!==t&&c.default.setCurrentSectionList(t)});var o;if(this.is_top_section)o=LI((0,u.default)({},"data-type","section"),this.section_div);else{var l;o=LI((l={},(0,u.default)(l,"data-type","section"),(0,u.default)(l,"data-id",this.section_id),l),this.section_div),o.json={id:this.section_id}}return o},renderItems:function(){var e=this,t=[];return this.items.map(function(r){var n=r.completed_info?r:e.renderItem(r);t.push(n)}),t},renderEmpty:function(){return null},renderItem:function(e,t){var r=this,n=this;t||(t={fn_toggle_menu:"completed"===e.menu?D.default.toggle:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.default.toggle.apply(P.default,[r].concat(t))},fn_complete_item:e.completeItem?function(){e.completeItem(),r.completeItem.apply(r,arguments)}:this.completeItem,fn_undo_complete_item:e.onChangeStatus?function(t){r.uncompleteItem(t,!0,e.completedParents?e.completedParents:[t.json],e.completedSection),e.onChangeStatus()}:this.uncompleteItem,with_due_date:!0});var a=T.default.get(e.project_id),i=!0;(e.checked||e.in_history||t.not_editable||!a||a.is_archived)&&(i=!1),i?t.no_drag_and_drop=void 0!==e.no_drag_and_drop&&e.no_drag_and_drop:(t.no_checkbox=void 0===e.no_checkbox||e.no_checkbox,t.no_drag_and_drop=!0,t.not_editable=!0);var o=m.default.renderItem(e,t);return o.render_opts.renderCls=n,i&&g.default.attachClick(o.content,function(){return n.saveCurrentItem(function(){n.setCurrentItem(o),n.editCurrentItem()}),!0}),o},renderHeader:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.updateHint,n=DIV({c:"collapser"},svgs.get("sm1/caret.svg")),a=BUTTON({c:"section_head_menu"},svgs.get("sm1/more.svg")),i=DIV({c:"section_head__actions"},a);$AEV(i,"click",function(t){I.default.toggle({section:e.section,anchor:i,event:t,onAddTaskSelected:function(){e.section.collapsed&&e.toggleCollapse(),e.addNewItem()},onRenameSelected:e.showHeaderForm,onArchiveSelected:function(){var t;t=0===e.items.length?(0,M.format)(_("Are you sure you want to archive {section}?"),{section:"<b>".concat(e.section.name,"</b>")}):(0,M.format)(_n("Archive {section} with its 1 task?","Archive {section} with its {n} tasks?",e.items.length),{section:"<b>".concat(e.section.name,"</b>"),n:e.items.length}),(0,V.showConfirmDialog)({confirmLabel:_("Archive"),htmlMessage:"<span>".concat(t,"</span>"),onConfirm:function(){S.default.archive(e.section_id),r&&r(e.project_id,{updating:!0},"projects")}})},onDeleteSelected:function(){var t;t=0===e.items.length?(0,M.format)(_("Are you sure you want to delete {section}?"),{section:"<b>".concat(e.section.name,"</b>")}):(0,M.format)(_n("Delete {section} with its 1 task?","Delete {section} with its {n} tasks?",e.items.length),{section:"<b>".concat(e.section.name,"</b>"),n:e.items.length}),(0,V.showConfirmDialog)({confirmLabel:_("Delete"),htmlMessage:"<span>".concat(t,"</span>"),onConfirm:function(){S.default.remove(e.section_id)}})},onMoveToProject:function(t){S.default.move({id:e.section_id,project_id:t})}}),t.stopPropagation()});var o=this.count>0?SMALL(this.count):null,l=$setHTML(SPAN(),p.default.formatSimple(this.section.name,{as_html:!1,with_emojis:!0})),s=BUTTON({c:"section_head__title"},l,o);s.addEventListener("click",function(){return e.showHeaderForm()}),n.addEventListener("click",function(){return e.toggleCollapse()});var u=null;this.is_top_section||(u=SPAN({c:"drag_and_drop_handler"},svgs.get("sm1/drag.svg")),q.default.attach(u)),$replace(this.header_holder,u,n,s,i)},toggleCollapse:function(){this.section.collapsed?(S.default.update({id:this.section_id,collapsed:!1}),$removeClass(this.section_div,"section__collapsed")):(S.default.update({id:this.section_id,collapsed:!0}),$addClass(this.section_div,"section__collapsed"))},collapseOn:function(){},collapseOff:function(){},showHeaderForm:function(){var e=S.default.getByID(this.section_id),t=X({section:e,onCancel:this.onHeaderFormCancel.bind(this),onSubmit:this.onHeaderFormSubmit});$replace(this.header_holder,t),o($$("input.name",t)[0],1e5)},onHeaderFormCancel:function(){this.section_id=W.default.getRealId(this.section_id),this.renderHeader()},onHeaderFormSubmit:function(e){this.section_id=W.default.getRealId(this.section_id);var t=S.default.getByID(this.section_id);S.default.update({id:t.id,name:e}),this.renderHeader()},_setIndent:function(e,t){var r=e;e<1&&(r=1),e>5&&(r=5);var n;if(n="add"==c.default.current_react_editor.getCurrentMode()?t.previousSibling:t.previousSibling.previousSibling,n&&$hasClass(n,"reorder_item")&&(n=null),n){var a=g.default.getIndent(n);r>a&&(r=a+1)}else r=1;g.default.setIndent(t,r)},_handleEditorKeyDown:function(e,t){var r=this,n=function(e){"edit"==c.default.current_react_editor.getCurrentMode()?r.saveItem(e):r.saveCurrentItem(e)},a=(0,M.resolveKeyboardKey)(e.key);return(e.ctrlKey||e.metaKey)&&"ArrowUp"===a&&(e.preventDefault(),n(function(){for(var e="add"===c.default.current_react_editor.getCurrentMode()&&c.default.current_form?c.default.current_form.previousSibling:r.current_item.previousSibling;e&&$isHidden(e);)e=e.previousSibling;if(c.default.current_react_editor.remove(),$remove(c.default.current_form),c.default.current_form=null,$hasClass(e,"reorder_item")&&(e=null),e)r.setCurrentItem(e),r.editCurrentItem(!0);else try{r.isFormFirst()||r.showAddItem(!0,!0)}catch(e){r.showAddItem(!0,!0)}})),(e.ctrlKey||e.metaKey)&&"ArrowDown"===a&&(e.preventDefault(),n(function(){for(var e="add"===c.default.current_react_editor.getCurrentMode()&&c.default.current_form?c.default.current_form.nextSibling:r.current_item.nextSibling;e&&$isHidden(e);)e=e.nextSibling;if(c.default.current_react_editor.remove(),$remove(c.default.current_form),c.default.current_form=null,e)r.setCurrentItem(e),r.editCurrentItem(!0);else try{r.isFormLast()||r.showAddItem(!0,!1)}catch(e){r.showAddItem(!0,!1)}})),!e.ctrlKey&&!e.metaKey||"ArrowLeft"!==a||e.shiftKey?!e.ctrlKey&&!e.metaKey||"ArrowRight"!==a||e.shiftKey?void 0:(e.preventDefault(),this._setIndent(g.default.getIndent(t)+1,t)):(e.preventDefault(),this._setIndent(g.default.getIndent(t)-1,t))},showAddItem:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this;this.on_show_add_item&&this.on_show_add_item(this),d.default.promo_shown&&d.default.promoRemove(),c.default.current_react_editor&&(c.default.current_react_editor.reset(),$remove(c.default.current_form),c.default.current_form=null),$show(c.default.current_section_list.add_item),this.parent(e,t,r),P.default.get().hide(),D.default.get().hide();var o,s=a,u=s.indent||g.default.getIndent(this.current_item)||1;if(!0===e){var f=this.current_item&&this.current_item.nextSibling;!t&&f&&f.json&&f.indent==u+1&&(u+=1),o="manager indent_".concat(u)}else o="manager indent_1";var p=LI({c:o});p.is_manager=!0,s.project_id=c.default.current_section_list.project_id,s.section_id=c.default.current_section_list.section_id;var m=DIV();return $add(p,m),c.default.current_react_editor=new B.default({item:s,holder:m,withIndentMenu:!0,withQuickNote:(0,U.isPremium)(N.default.getState()),withIgnoredInitialMatches:!s.content,onCancel:function(){track("task_form","click","cancel"),n.on_add_form_cancel&&n.on_add_form_cancel(n),c.default.current_react_editor.remove(),c.default.current_form=null,$remove(p),i.checkEmpty(),i.arrows.updateArrows(),$show(n.add_item)},onReset:function(){$show(n.add_item)},onSubmit:function(){return l(p,c.default.current_react_editor,function(){return n.handleSubmitShortcut()})},onKeyDown:function(e){n._handleEditorKeyDown(e,p)},onIndentLeft:function(){return n._setIndent(g.default.getIndent(p)-1,p)},onIndentRight:function(){return n._setIndent(g.default.getIndent(p)+1,p)},onMultilinePaste:this._handleMultilinePaste}),c.default.current_form=p,p.json={manager_type:"project_editor",
indent:u},C.default.attach(p,{trigger_mouse_over:!0}),this.insertForm(p,t),c.default.current_react_editor.show(),this.arrows.updateArrows(),$hide(this.add_item),!1},addNewItem:function(e,t){var r=this;return this.saveCurrentItem(function(){c.default.current_react_editor&&(c.default.current_react_editor.reset(),$remove(c.default.current_form),c.default.current_form=null,c.default.setCurrentSectionList(r)),f.default.mark("ProjectEditor/addNewItem"),!0===e?r.setCurrentItem(r.getItem($first)):r.setCurrentItem(r.getItem($last)),r.showAddItem(!1,!0===e,!0),$isFunction(t)&&t()}),!1},saveItem:function(e){track("task_form","click","save");var t=this,r=c.default.current_form,n=r.has_reordered,i=c.default.current_item,o=i.json,l=g.default.getChildren(i),s=c.default.current_react_editor.getResultItem();if(s){""===s.content&&(s=a({},s,{content:o.content}));var u=(0,M.getObjectDifference)(s,o);g.default.normalizeIndent(r,i);var d=g.default.getIndent(r);s=a({},s,{indent:d});var f=c.default.current_editor;f||(f=c.default.createEditorInstance());var p=g.default.getParent(i,d),m=null;p&&p.json&&p.json.id&&!p.is_manager&&(m=p.json.id),o.parent_id!==m&&(s=a({},s,{parent_id:m})),$addAfter(i,r),c.default.current_react_editor.remove(),$remove(c.default.current_form),o.newCompletedView?w.default.update(o.id,u,o):w.default.update(o.id,u),u.reminders&&N.default.dispatch((0,H.reminderUpdate)(o.id,u.reminders));var h;if(s.project_id!=this.project_id)h=i.previousSibling,$map(g.default.getChildren(i,!0),function(e){$swap(e,null)});else if(s.section_id!==i.json.section_id){s.parent_id=null,s.indent=1,h=t.renderItem(s);var _=s.section_id?c.default.current_holder.querySelector(".section[data-id='".concat(s.section_id,"'] .items")):c.default.current_holder.querySelector(".section .items");$add(_,h),$map(g.default.getChildren(i,!0),function(e){$isHidden(e)||($map([1,2,3,4,5],function(t){$removeClass(e,"indent_"+t)}),$add(_,e))}),g.default.updateParentIds(h,w.default,l),this.arrows.updateArrows(_)}else h=t.renderItem(s),$addClass(h,"item_updated"),$swap(i,h),g.default.updateParentIds(h,w.default,l);if(this.editingDone(h),h.json&&!h.json.newCompletedView&&(n||void 0!==s.parent_id)){var v=$parent(h,".section"),b=ElementStore.get(v,"SectionList");b&&b.saveOrder(h,{allow_undo:!1})}return $show(this.add_item),$isFunction(e)&&e(h),!1}},editCurrentItem:function(){var e=this;d.default.promo_shown&&d.default.promoRemove(),$show(c.default.current_section_list.add_item);var t=this;this.parent(),P.default.get().hide(),D.default.get().hide();var r=this.current_item;IstTooltip.hide(),c.default.current_form&&(c.default.current_react_editor.remove(),$remove(c.default.current_form));var n=g.default.getIndent(r),a=LI({c:"manager indent_".concat(n)});a.is_manager=!0,a.json={id:r.json.id,indent:n,manager_type:"project_editor"},$addAfter(a,r);var i=DIV();$add(a,i),c.default.current_react_editor=new B.default({item:r.json,holder:i,withIndentMenu:!0,withQuickNote:!1,onCancel:function(){track("task_form","click","cancel"),c.default.current_react_editor.remove(),c.default.current_form=null,$remove(a),$show(r),t.arrows.updateArrows()},onSubmit:function(){e.saveItem(function(t){return r.json.update&&r.json.update(t.json),e.handleSubmitShortcut({inEditMode:!0})}),$remove(a)},onKeyDown:function(t){e._handleEditorKeyDown(t,a)},onIndentLeft:function(){return e._setIndent(g.default.getIndent(a)-1,a)},onIndentRight:function(){return e._setIndent(g.default.getIndent(a)+1,a)},onMultilinePaste:this._handleMultilinePaste}),c.default.current_form=a,C.default.attach(a,{trigger_mouse_over:!0}),c.default.current_react_editor.show(),this.arrows.updateArrows()},archiveItem:function(e){var t=w.default.archive(e.json.id);0!==t.length&&(e.json.completeItem&&e.json.completeItem(!0),t.forEach(function(e){var t=$("item_"+e.id);t&&$remove(t)}),this.arrows.updateArrows(),this.checkEmpty())},completeItem:function(e,t,r){var n=this;if(O.default.isFirstCompleteAction())return void O.default.showFirstCompleteAnimation(e,function(){n.completeItem(e,t)});f.default.mark("ProjectEditor/completeItem"),t&&t.shift&&(r=!0);var a=w.default.complete(e.json,r);if(a){var i=$first(a);$rmap(a,function(t){var r=$("item_"+t.id);r&&(i.in_history?(0,G.default)(r):t.checked?e.json&&e.json.completeItem?(0,G.default)(r):h.default.update(r,1,n.uncompleteItem):($update(r.json,t),h.default.update(r,0,n.completeItem),v.default.updateDueDate(r)))}),this.arrows.updateArrows(),this.checkEmpty()}},uncompleteItem:function(e,t,r,n){var a=this;f.default.mark("ProjectEditor/uncompleteItem");var i=w.default.uncomplete(e.json.id,r,n);if(!t){$update(e.json,i),h.default.update(e,0,this.completeItem);for(var o=e;;){var l=g.default.getParent(o);if(!l)break;h.default.update(l,0,this.completeItem),o=l}a.arrows.updateArrows(),a.checkEmpty()}},editingDone:function(e){c.default.current_cancel=null,c.default.current_form=null,this.arrows.updateArrows(),this.setCurrentItem(e)},deleteCurrentItem:function(e){var t=g.default.getChildren(e,!0);return b.default.deleteItems(t)},checkEmpty:function(){this.parent()},saveOrder:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.allow_undo,n=void 0===r||r;if(e.is_manager)return void(e.has_reordered=!0);var a=e.json,i=this.getCurrentOrderIndent({as_list:!0}),o=(0,k.deriveTaskParentChild)(i),l=o.find(function(e){return e.id===a.id}).parent_id,s=(0,j.compose)((0,j.map)((0,j.pick)(["id","child_order"])),(0,j.filter)(function(e){return e.parent_id===l}))(o),u={id:a.id,parent_id:l,section_id:this.section_id,project_id:this.project_id};w.default.moveAndReorder(u,s,{allowUndo:n})},getParentChildOrder:function(e){var t=null,r=g.default.getParent(e);r&&(t=(0,j.get)("json.id",r));for(var n=e.previousSibling,a=1;n;){if(n.json&&n.json.id&&!n.is_manager){if(n.json.id===t)break;a++}n=n.previousSibling}return{parent_id:t,child_order:a}},saveCurrentItem:function(e,t){c.default.current_form?"add"==c.default.current_react_editor.getCurrentMode()?l(c.default.current_form,c.default.current_react_editor,e,t):this.saveItem(e):e()},_addMultilineTask:function(e){var t=this,r=e.shift();if(r){var n=g.default.getIndent(c.default.current_form);c.default.current_react_editor.remove(),$remove(c.default.current_form),c.default.current_form=null,this.showAddItem(!0,!1,!1,{content:r.replace(/^[-*] /g,""),indent:n}),setTimeout(function(){l(c.default.current_form,c.default.current_react_editor,null,{}),t._addMultilineTask(e)},50)}},_handleMultilinePaste:function(e,t){var r=this,n=c.default.current_react_editor.getResultItem();if(e=e.filter(function(e){return""!==e}),!(e.length>1)||n&&n.content)t();else{var a=_("Do you want to add %s tasks?").replace("%s",e.length);(0,V.showConfirmDialog)({confirmLabel:_("Add tasks"),message:a,onConfirm:function(){r._addMultilineTask(e)},onCancel:function(){t()}})}},handleSubmitShortcut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inEditMode;return event&&"Enter"===event.key&&(event.ctrlKey||event.metaKey)?this.showAddItem(!0,!0):t?event&&"Enter"===event.key&&event.shift?this.showAddItem(!0,!1):void 0:this.showAddItem(!0,!1)}}),K=Y;r.default=K;var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.section,r=e.onSubmit,n=e.onCancel,a=t?t.name:"",i=!1,o=INPUT({c:"name",type:"text",value:a,placeholder:_("Name this section")}),l=A({c:"ist_button ist_button_red"},t?_("Save"):_("Add Section")),s=A({c:"cancel_link"},_("Cancel")),u=FORM({c:"section_form"},o,DIV({c:"actions"},l,s));u.onsubmit=function(e){return e.preventDefault()},u._focus=function(){return o.focus()};var c=function(){var e=o.value.trim();""!==e&&r(e)};return o.addEventListener("keydown",function(e){var t=(0,M.resolveKeyboardKey)(e.key);return"Escape"===t?void n():"Enter"!==t||i?void 0:void c()}),o.addEventListener("compositionstart",function(){return i=!0}),o.addEventListener("compositionend",function(){return i=!1}),s.addEventListener("click",function(){n()}),l.addEventListener("click",function(){c()}),u};r.renderSectionForm=X},{"../../menus/MenuCompletedProjectEditor":137,"../../menus/MenuProjectEditor.js":140,"../../models/Collaborators":150,"../../models/ItemsModel":157,"../../models/ProjectsModel":161,"../../models/RealHierachy":162,"../../models/SectionsModel":165,"../../models/TemporaryIds":174,"../../react_components/confirm_dialog":509,"../../react_components/item_editor/ItemEditorLegacyWrapper":754,"../../reducers/counts":994,"../../reducers/items":1005,"../../reducers/reminders":1029,"../../reducers/undo":1041,"../../reducers/user":1042,"../../stores/store":1048,"../../stores/subscribeSelected":1049,"../../utils":1094,"../../utils/fp":1083,"../action_perfomed/ActionPerformed":2,"../drag_and_drop/DragAndDrop":20,"../formatter/Formatter.js":22,"../generic_manager/GenericArrows.js":24,"../generic_manager/GenericManager.js":25,"../generic_manager/GenericManagerUtils.js":26,"../items_utils/ItemCheckbox":32,"../items_utils/ItemCommonEdits":33,"../items_utils/ItemDueDates.js":34,"../items_utils/ItemsRender":36,"../items_utils/removeItemInList":38,"../onboarding/Onboarding":52,"../project_editor/ProjectEditorManager":61,"../sharing/SharingManager":82,"./SectionDragAndDrop":65,"./SectionMenu":67,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],67:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=n(e("react-dom")),l=e("react-redux"),s=n(e("../../react_components/project_picker")),u=e("../../react_components/icons"),c=n(e("../../stores/store")),d={init:function(){var e=this;this.menu=new IstMenu,this.moveToProjectItem=TR({c:"menu_item"}),this.menu.addItems(IstMenu.createItem(_("Add task"),function(){e.onAddTaskSelected(),e._clearState(),e.menu.hide()},{icon:svgs.get("sm1/plus.svg")}),IstMenu.createItem(_("Edit section"),function(){e.onRenameSelected(),e._clearState(),e.menu.hide()},{icon:svgs.get("sm1/edit.svg")}),this.moveToProjectItem,IstMenu.createItem(_("Archive section"),function(){e.onArchiveSelected()},{icon:svgs.get("sm1/archive.svg")}),IstMenu.createItem(_("Delete section"),function(){e.onDeleteSelected(),e._clearState(),e.menu.hide()},{extra_class:"sel_delete_task danger",icon:svgs.get("sm1/trash.svg")})),$AEV(document,"click",this.menu.hide),this.menu.hide_callbacks.push(function(){o.default.unmountComponentAtNode(e.moveToProjectItem)})},_initIfNotExit:function(){this.menu||this.init()},_clearState:function(){this.onAddTaskSelected=function(){},this.onRenameSelected=function(){},this.onDeleteSelected=function(){},this.onMoveToProject=function(){},this.onArchiveSelected=function(){}},toggle:function(e){var t=this,r=e.event,n=e.anchor,d=e.section,f=e.onAddTaskSelected,p=e.onRenameSelected,m=e.onDeleteSelected,h=e.onArchiveSelected,v=e.onMoveToProject;this._initIfNotExit()&&this.init(),this._clearState(),this.onAddTaskSelected=f,this.onRenameSelected=p,this.onDeleteSelected=m,this.onMoveToProject=v,this.onArchiveSelected=h,o.default.render(i.default.createElement(l.Provider,{store:c.default},i.default.createElement(s.default,{onSelect:function(e){var r=e.project_id;t.onMoveToProject(r),t._clearState(),t.menu.hide()},selectedProjectId:d.project_id},function(e){var t=e.toggle,r=e.buttonProps;return i.default.createElement("td",(0,a.default)({onClick:t},r),i.default.createElement("div",{className:"menu_wrapper"},i.default.createElement("span",{className:"menu_icon"},i.default.createElement(u.MoveIcon,null)),i.default.createElement("div",{className:"menu_label"},_("Move section"))))})),this.moveToProjectItem),this.menu.toggle(n,n,r)}},f=d;r.default=f},{"../../react_components/icons":731,"../../react_components/project_picker":854,"../../stores/store":1048,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],68:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/ProjectsModel")),l=n(e("../../models/SyncEngine")),s=n(e("../generic_manager/GenericManagerUtils.js")),u=e("../../utils/deps"),c=(0,u.defineDeps)("ProjectsArchive",["ProjectList"]),d=function(){function e(){(0,a.default)(this,e),this.projectsIds=[],this.render=this.render.bind(this),this.getArchived=this.getArchived.bind(this),this.showHideArchived=this.showHideArchived.bind(this),this.hideArchived=this.hideArchived.bind(this),this.archive=this.archive.bind(this),this.delete=this.delete.bind(this)}return(0,i.default)(e,[{key:"render",value:function(){var e,t;$add($("projects_list_manager"),DIV({c:"controller actions controller_history",id:"projects_archived_holder"},e=A({href:"#",id:"show_archived_link","data-track":"projects|show_archived"},_("Archived projects")),t=A({href:"#",id:"hide_archived_link","data-track":"projects|hide_archived",style:"display:none"},_("Hide Archived"))),UL({id:"projects_archived_ul",c:"items generic_left_list"})),$AEV(e,"click",$p(this.getArchived,e)),$AEV(t,"click",$p(this.hideArchived,t))}},{key:"getArchived",value:function(e){var t=this;$hide(e);var r=$("projects_archived_holder"),n=$("projects_archived_ul");Indicator.addToElm(r.parentNode);var a=$requestJSON("/API/".concat(l.default.api_version,"/projects/get_archived"));a.offline_message=!0,a.addCallback(function(a){Indicator.removeFromElm(r.parentNode),$replace(n,null),o.default.archivedFeteched(a),t.projectsIds=[];var i=!0,l=!1,s=void 0;try{for(var u,d=a[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var f=u.value;t.projectsIds.push(f.id),f.indent=1,$add(n,c.ProjectList.renderItem(f,!0))}}catch(e){l=!0,s=e}finally{try{i||null==d.return||d.return()}finally{if(l)throw s}}if(0===a.length){var p;$add(n,p=LI({c:"empty"},_("No archived projects")));var m=function(){$remove(p),$show(e)};$fx.fadeOut(p,{duration:3e3,onComplete:m})}else t.showHideArchived()}),a.addErrback(function(){Indicator.removeFromElm(r.parentNode)});var i={onSuccess:function(){a.sendReq({token:window.User.token})}};return l.default.sync(i),!1}},{key:"showHideArchived",value:function(){var e=$("show_archived_link"),t=$("hide_archived_link");e&&($hide(e),$show(t))}},{key:"hideArchived",value:function(){var e=$("show_archived_link"),t=$("hide_archived_link");t&&($replace($("projects_archived_ul"),null),$hide(t),$show(e))}},{key:"archive",value:function(e){var t=s.default.getChildren(e,!0);t.reverse();var r=!0,n=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;o.default.archive(u.json.id),Signals.sendSignal("project_archived",u.json.id),$remove(u)}}catch(e){n=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw a}}Signals.sendSignal("instant_refresh_interface"),this.hideArchived()}},{key:"unarchive",value:function(e){o.default.unarchive(e.json);var t=!0,r=!1,n=void 0;try{for(var a,i=s.default.getChildren(e,!0)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var u=a.value;$arrayRemove(this.projectsIds,u.json.id),$remove(u)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}Signals.sendSignal("project_unarchived",e.json.id);var c={onSuccess:function(){Signals.sendSignal("instant_refresh_interface")}};l.default.sync(c,!0)}},{key:"delete",value:function(e){if(!(this.projectsIds.indexOf(e.json.id)<0)){var t=$("projects_archived_ul"),r=!0,n=!1,a=void 0;try{for(var i,o=s.default.getChildren(e,!0)[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;$arrayRemove(this.projectsIds,l.json.id),$remove(l)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}if(0===this.projectsIds.length){var u=$("hide_archived_link"),c=$("show_archived_link");$hide(u);var d;$add(t,d=LI({c:"empty"},_("No archived projects")));var f=function(){$remove(d),$show(c)};$fx.fadeOut(d,{duration:3e3,onComplete:f})}}}}]),e}(),f=new d;r.default=f},{"../../models/ProjectsModel":161,"../../models/SyncEngine":171,"../../utils/deps":1071,"../generic_manager/GenericManagerUtils.js":26,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],69:[function(e,t,r){"use strict";function n(){var e=document.getElementById("projects_list");if(e){var t=e.querySelector(".on_menu_show");if(t){var r=t.dataset.id;return void 0!==r?Number(r):void 0}}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("../../menus/MenuProjctColors")),s=a(e("../../menus/MenuProjectList.js")),u=a(e("../../models/ProjectsModel")),c=a(e("../../models/Collaborators")),d=a(e("../../models/TemporaryIds")),f=a(e("../../models/Colors")),p=a(e("../generic_left_list/GenericLeftList")),m=a(e("../generic_manager/GenericArrows.js")),h=a(e("../drag_and_drop/DragAndDrop")),v=a(e("./ProjectArchive")),b=a(e("../project_editor/ProjectEditorManager")),y=a(e("../../stores/store")),g=e("../../reducers/mainView"),E=e("../../reducers/counts"),T=a(e("../../stores/subscribeSelected")),w=e("../../react_components/edit_project_modal"),R=p.default.extend({name:"ProjectList",initWithData:function(){var e=this,t={event_name:"Projects",li_data_type:"project_list_item",data_model:u.default,fn_get_all:function(){return u.default.getAll()},icon:"project",markdown_support:!1,max_indent:4,default_color:7,empty_text:_("You have no projects"),add_text:_("Add Project"),placeholder:_("Name your project"),list_holder:"projects_list_manager",DragAndDrop:h.default,with_color:!0,with_arrows:!0,with_indent:!0,with_ordering:!0,manager_reodering:!0,manager_type:"project_list",empty_screen_only_with_activity:!0,fn_on_click:function(t,r,n){if(s.default.get().hide(n),n.shift||n.ctrl){if($preventDefault(n),b.default.current_editor){b.default.toggleProject(r.id)?$addClass(t,"current"):$removeClass(t,"current")}else e.setCurrent(t);return!1}var a;a=e.current_item!==t||!e.current_item_with_children,e.setCurrent(t,null,a)},fn_show_items:function(e,t,r){y.default.dispatch((0,g.showProjectView)(e,{bottomListSelected:!0,withChildren:!!t,focusedItemId:r}))},fn_on_delete:function(e){var t=y.default.getState(),r=t.mainView;if(r&&r.reactView){if(e.reduce(function(e,t){return e||(0,g.isShowingProject)({mainView:r},t.json.id)},!1)){var n=window.Settings&&window.Settings.START_PAGE||"today";y.default.dispatch((0,g.showQueryView)(n))}}else{var a=!1,i=!0,o=!1,l=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;v.default.delete(c),Signals.sendSignal("project_deleted",c),a=a||b.default.isShowing(c.json.id)}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}a&&b.default.reset()}},fn_create_counter:D.createCounter,fn_get_selected:function(){var e=y.default.getState(),t=e.mainView;return"project"!==t.type?[]:t.bottomListSelected?t.ids:[]},fn_on_show_menu:function(t){if(t.json.inbox_project)return void $hide($all("tr","project_inbox_action",e.menu.menu_holder));$show($all("tr","project_inbox_action",e.menu.menu_holder));var r=$("menu_archive_text"),n=$parent(r,".menu_wrapper"),a=n.querySelector(".menu_icon"),i=t.json.is_archived;i?($setHTML(r,_("Unarchive")),$replace(a,svgs.get("sm1/unarchive.svg")),$hide($all("tr","project_archive_action",e.menu.menu_holder))):($setHTML(r,_("Archive")),$replace(a,svgs.get("sm1/archive.svg")),$show($all("tr","project_archive_action",e.menu.menu_holder)));var o=c.default.isProjectShared(t.json.id),l=$("menu_delete_text"),s=$parent(l,".menu_wrapper"),u=s.querySelector(".menu_icon");o?($setHTML(l,_("Leave project")),$replace(u,svgs.get("sm1/leave.svg"))):($setHTML(l,_("Delete project")),$replace(u,svgs.get("sm1/trash.svg"))),i||t.json.is_favorite?$hide($all("tr","project_add_favorite_action",e.menu.menu_holder)):$show($all("tr","project_add_favorite_action",e.menu.menu_holder))}},r=t.arrows=new m.default({data_model:t.data_model,x_off:-6});r.setList(this);var n=r._switchState,a=function(e,t){n(e,t),D.updateCount(e.host_item.json)};r._switchState=a,t.arrows=r,$bindMethods(this),t.fn_create_color=this.createColor,t.menu=s.default.init(this),t.menu_colors=l.default.init(),Signals.connect("project_editor_manager_reset",function(){e.current_selected&&(e.deselectCurrent(),e.current_selected=null)}),Signals.connect("projects.reset",function(){e.deselectCurrent()}),this.parent(t)},createColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.createColorDiv("project_color_".concat(e.id),f.default.getHex("project",e.color));return!0!==t&&c.default.isProjectShared(e.id)&&($removeClass(r,"project"),$addClass(r,"project_shared"),$add(r,svgs.get("sm1/project_shared.svg"))),r},projectDeleted:function(){var e=this;Signals.connect("project_deleted",function(t){t===e.current_selected&&(b.default.reset(),$replace($("editor"),null),e.current_selected=null),$remove(t)})},editCurrentItem:function(){var e=n();e&&(0,w.showEditProjectModal)({projectId:e}),IstMenu.hide()},showAddItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n();(0,w.showAddProjectModal)({anchorProjectId:r,addAbove:t}),IstMenu.hide()}}),P=function(){function e(){var t=this;(0,i.default)(this,e),this.updateCount=this.updateCount.bind(this),this.updateColor=this.updateColor.bind(this),this.createCounter=this.createCounter.bind(this),$AEV(window,"load",function(){d.default.listenAll(function(e,t){var r=$("project_count_".concat(e));r&&(r.id="project_count_".concat(t)),(r=$("project_color_".concat(e)))&&(r.id="project_color_".concat(t))})}),Signals.connect("update_project_color",this.updateColor),Signals.connect("app_data_loaded",function(){(0,T.default)(y.default,E.countByProject,function(){$values(y.default.getState().projects).forEach(function(e){t.updateCount(e)})})})}return(0,o.default)(e,[{key:"updateCount",value:function(e){var t=$("project_count_".concat(e.id));t&&$swap(t,this.createCounter(e))}},{key:"updateColor",value:function(e){var t=$("project_color_".concat(e.id));t&&$swap(t,O.createColor(e))}},{key:"createCounter",value:function(e){var t=(0,E.countByProject)(y.default.getState()),r=t[e.id]||0;if(e.collapsed){var n=!0,a=!1,i=void 0;try{for(var o,l=u.default.getChildren(e)[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){r+=t[o.value.id]||0}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}}return 0===r&&(r=""),DIV({c:"counter_count",id:"project_count_".concat(e.id)},"".concat(r))}}]),e}(),D=new P,O=new R;window.ProjectList=O;var C=O;r.default=C},{"../../menus/MenuProjctColors":139,"../../menus/MenuProjectList.js":142,"../../models/Collaborators":150,"../../models/Colors":151,"../../models/ProjectsModel":161,"../../models/TemporaryIds":174,"../../react_components/edit_project_modal":570,"../../reducers/counts":994,"../../reducers/mainView":1015,"../../stores/store":1048,"../../stores/subscribeSelected":1049,"../drag_and_drop/DragAndDrop":20,"../generic_left_list/GenericLeftList":23,"../generic_manager/GenericArrows.js":24,"../project_editor/ProjectEditorManager":61,"./ProjectArchive":68,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],70:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.flashItemIfNeeded=r.deselectCurrent=r.createColor=r.setCurrentById=void 0;var a=n(e("../generic_manager/GenericManagerUtils.js")),i=e("../../utils/deps"),o=(0,i.defineDeps)("ProjectListUtils",["ProjectList"]),l=function(e,t,r,n){return o.ProjectList.setCurrentById(e,t,r,n)};r.setCurrentById=l;var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.ProjectList.createColor(e,t)};r.createColor=s;var u=function(){return o.ProjectList.deselectCurrent()};r.deselectCurrent=u;var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===e&&(e=o.ProjectList.flash_item),e){o.ProjectList.flash_item=null;var t=$("item_".concat(e));t&&(a.default.openParents(t),$isHidden(t)||($fx.highlight(t,{duration:1e3}),window.scrollTo(0,$position(t).y-200)))}};r.flashItemIfNeeded=c;var d={setCurrentById:l,createColor:s,deselectCurrent:u,flashItemIfNeeded:c};r.default=d},{"../../utils/deps":1071,"../generic_manager/GenericManagerUtils.js":26,"@babel/runtime/helpers/interopRequireDefault":189}],71:[function(e,t,r){"use strict";function n(e,t){var r=DIV({class:"div_color counter_color",id:e});return $setStyle(r,"color",t),r}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("../projects_list/ProjectListUtils")),s=a(e("../agenda/AgendaUtils")),u=a(e("../../models/ProjectsModel")),c=a(e("../../models/ItemsModel")),d=a(e("../../models/LabelsModel")),f=a(e("../../models/FiltersModel")),p=a(e("../../models/Colors")),m=a(e("../../stores/store")),h=e("../../reducers/mainView"),v=e("../../utils"),b=e("../../reducers/detailView"),y=e("../../reducers/items"),g=function(e){var t=n("filter_color_".concat(e.id),p.default.getHex("filter",e.color));return $add(t,svgs.get("sm1/filter.svg")),t},E=function(e){var t=n("label_color_".concat(e.id),p.default.getHex("label",e.color));return $add(t,svgs.get("sm1/label.svg")),t},T=function(){function e(){(0,i.default)(this,e),this.attach=this.attach.bind(this)}return(0,o.default)(e,[{key:"attach",value:function(e){var t,r=this,n=function(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;l.name||(l.name=l.content),l.type=t}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return e},a=function(e){e=e.toLowerCase();var a=n(u.default.getByName(e),"project"),i=n(d.default.getByName(e),"label"),o=n(c.default.getByName(e,6),"item"),l=!1;if(window.User.is_premium)if("@"===e)r.complete_data.trigger="@",i=n(d.default.getAll(),"label"),l=!0;else if(0===e.indexOf("@")){r.complete_data.trigger="@";var s=e.slice(1);i=n(d.default.getByName(s).slice(0,6),"label")}if("#"===e)r.complete_data.trigger="#",l=!0,a=n(u.default.getAll(),"project");else if(0===e.indexOf("#")){r.complete_data.trigger="#";var p=e.slice(1);a=n(u.default.getByName(p).slice(0,6),"project")}var m=n(f.default.getByName(e).slice(0,6),"filter");m=m.concat(r.getByFilters(e));var h=!1;return!1===l&&a.length+i.length+o.length+m.length>=10&&(h=!0),h&&(a=a.slice(0,3),i=i.slice(0,3),o=o.slice(0,3),m=m.slice(0,3)),t=[],t=t.concat(a),t=t.concat(i),t=t.concat(o),t=t.concat(m),t=t.map(function(e){return e=Object.assign({},e),e.name&&(e.name=$escapeHTML(e.name.replace(/\s*:[^:]+:\s*/g,""))),e.forced=!0,e}),t.push({name:_("Show more results"),forced:!0,fixed_bottom:!0,type:"search"}),t},i=function(e,r){var n;switch(t=DIV(),$add(t,n=$setHTML(SPAN({c:"ist_complete_content"}),"<span>".concat(r,"</span>"))),e.type){case"project":$ATT(t,DIV({c:"ist_complete_icon"},l.default.createColor(e,!1)));var a=u.default.getParent(e);a&&$add(n,I({c:"auto_complete_parent"},a.name));break;case"label":$ATT(t,DIV({c:"ist_complete_icon"},E(e)));break;case"filter":$ATT(t,DIV({c:"ist_complete_icon"},g(e)));break;case"item":var i=(0,v.plainItemText)(e.content);$setHTML(n,i),$ATT(n,DIV({c:"auto_complete_task"}));break;case"search":$addClass(t,"auto_complete_search"),$ATT(t,DIV({c:"ist_complete_icon"},svgs.get("sm2/magnifying_glass.svg")));break;default:$ATT(n,DIV())}return t},o=function(t,r){switch(r.type){case"project":l.default.setCurrentById(r.id,r.id,null,!0);break;case"item":if(window.User.is_premium){var n=m.default.getState();(0,y.itemGetByID)(n,r.id)&&m.default.dispatch((0,b.detailViewShowItem)(r.id))}else l.default.setCurrentById(r.project_id,r.id);break;case"label":m.default.dispatch((0,h.showLabelView)(r.name,{bottomListSelected:!0}));break;case"filter":m.default.dispatch((0,h.showFilterView)(r.id,{bottomListSelected:!0}));break;case"search":var a=e.value;m.default.dispatch((0,h.showQueryView)(a));break;case"today":m.default.dispatch((0,h.showTodayView)());break;case"seven_days":m.default.dispatch((0,h.show7DaysView)())}return IstComplete.hide(),s.default.blur(),!1},p=function(e,t,r){t.istcomplete_word||(t.istcomplete_word=t.value,r.require_trigger=!1,r.wildcard_match=!0,r.omni_match=!0,r.onNoMatches=function(){return IstComplete.hide(),!1},r.collection=a,r.filterItem=i,r.onclick=o)};this.complete_data={preselect_match:!1,sort_results:!1,keyPressListener:p,collection:a,filterItem:i,onclick:o,var_height:"40vh",offset_top:6},IstComplete.attach(e,this.complete_data);var T=function(){0===e.value.length&&IstComplete.hide()};return $AEV(e,"focus",function(){track("navigation","tapped","quick_find")}),$AEV(e,"blur",function(){setTimeout(T,10)}),$AEV(e,"keyup",T),$AEV(e,"keydown",function(t){if(13===t.keyAscii){if(!$child(document,"td","current_match"))return track("navigation","enter","quick_find"),m.default.dispatch((0,h.showQueryView)(e.value)),e.blur(),!1}return!(13===t.keyAscii&&!t.shift&&IstComplete.isShown())&&((27!==t.keyAscii||!IstComplete.isShown())&&void 0)})}},{key:"getByFilters",value:function(e){var t=[],r=_("Today");-1!==r.toLowerCase().indexOf(e)&&t.push({name:r,type:"today"});var n=_("Next 7 days");return-1!==n.toLowerCase().indexOf(e)&&t.push({name:n,type:"seven_days"}),t}}]),e}(),w=new T;r.default=w},{"../../models/Colors":151,"../../models/FiltersModel":156,"../../models/ItemsModel":157,"../../models/LabelsModel":158,"../../models/ProjectsModel":161,"../../reducers/detailView":996,"../../reducers/items":1005,"../../reducers/mainView":1015,"../../stores/store":1048,"../../utils":1094,"../agenda/AgendaUtils":8,"../projects_list/ProjectListUtils":70,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],72:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("./AutoComplete")),l=function(){function e(){(0,a.default)(this,e),this.getValue=this.getValue.bind(this),this.setValue=this.setValue.bind(this),this.setPlaceholder=this.setPlaceholder.bind(this),this.focus=this.focus.bind(this),this.select=this.select.bind(this),this.blur=this.blur.bind(this),this.render=this.render.bind(this),this.renderSearchIcon=this.renderSearchIcon.bind(this),this.renderHelpIcon=this.renderHelpIcon.bind(this)}return(0,i.default)(e,[{key:"getValue",value:function(){return this.input.value}},{key:"setValue",value:function(e){this.input.value=e}},{key:"setPlaceholder",value:function(e){e||(e=_("Quick Find")),this.input_placeholder=e,this.input.placeholder=e}},{key:"focus",value:function(){this.input.focus()}},{key:"select",value:function(){this.input.select()}},{key:"blur",value:function(){this.input.placeholder=this.input_placeholder,this.input.value="",this.input.istcomplete_word="";try{this.input.blur()}catch(e){}}},{key:"render",value:function(){this.input_placeholder=_("Quick Find"),this.input=INPUT({class:"quick_find fixed_pos",type:"text text_box",placeholder:this.input_placeholder,autocomplete:"off",autocorrect:"off",spellcheck:"false"}),o.default.attach(this.input);var e=DIV();$add(e,this.renderSearchIcon()),$AEV(this.icon_search,"click",this.focus),$add(e,this.input);var t=this.renderHelpIcon();$add(e,t),$add($("quick_find"),e)}},{key:"renderSearchIcon",value:function(){return this.icon_search=svgs.get("sm1/search.svg",{
className:"search_icon"}),this.icon_search}},{key:"renderHelpIcon",value:function(){var e,t=this;return this.icon_help=e=A({href:"/Help/Filtering",c:"help_icon",target:"_blank","data-track":"navigation|quick_find_help"},this.icon_help_sprite=svgs.get("sm1/question.svg")),$AEV(this.icon_help_sprite,"click",function(){return!0}),IstTooltip.showSimpleText(e,SPAN(_("Open Quick Find by typing f"),BR(),_("Press here for more help")),null,10,-23),$hide(e),$AEV(this.input,"keydown",function(e){if(e.key&&"Escape"===e.key||27===e.keyCode)return IstComplete.isShown()?IstComplete.hide():t.input.blur(),!1}),$AEV(this.input,"focus",function(){$addClass(t.input,"quick_find_focused"),$addClass($("quick_find"),"is_focused"),$show(e)}),$AEV(this.input,"blur",function(){setTimeout(function(){$removeClass(t.input,"quick_find_focused"),$removeClass($("quick_find"),"is_focused"),$hide(e)},200),setTimeout(IstComplete.hide,300)}),e}}]),e}(),s=new l;r.default=s},{"./AutoComplete":71,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],73:[function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(y()||g())&&!0!==e?(window.refresh_to&&(clearTimeout(window.refresh_to),window.refresh_to=null),window.refresh_to=setTimeout($p(n,e),500)):(window.refresh_real&&(clearTimeout(window.refresh_real),window.refresh_real=null),window.refresh_real=setTimeout($p(E,e),50))}function a(){window.refresh_to&&(clearTimeout(window.refresh_to),window.refresh_to=null),window.refresh_real&&(clearTimeout(window.refresh_real),window.refresh_real=null),E(!0)}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.refreshInterface=n,r.instantRefreshInterface=a,r.default=void 0;var l=o(e("../agenda/Agenda.js")),s=o(e("../../components/project_editor/ProjectEditorManager")),u=o(e("../../components/projects_list/ProjectList")),c=o(e("../../models/StateModel")),d=o(e("../../menus/MenuProjectList.js")),f=o(e("../../menus/MenuProjectEditor.js")),p=o(e("../../menus/MenuAgendaEdit.js")),m=o(e("../../components/onboarding/Onboarding")),h=i(e("../../logger/Logger")),_=o(e("../../stores/store")),v=o(e("../../stores/subscribeSelected")),b=e("../../constants/constants"),y=window.isEditingOn=function(){var e=d.default.get()||{},t=f.default.get()||{},r=p.default.get()||{},n=!1;n=n||GB_getLast(),n=n||c.default.get("drag_and_drop_mode")===c.default.DragMode.reordering,(s.default.current_form||t.shown||r.shown)&&(n=!0);var a=s.default.getCurrentEditor();return a&&a.isArchived()&&(n=!0),e.shown&&(n=!0),$all("form","section_form").length>0&&(n=!0),$all("li","manager").length>0&&(n=!0),$all("div","on_drag .drag_and_drop_handler").length>0&&(n=!0),$all("li","selected").length>0&&(n=!0),$all("div","scheduler").length>0&&(n=!0),m.default.isCompleteAnimationInProgress()&&(n=!0),n},g=function(){return $$(".search_holder").length>0},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!1===e&&y())return n(e),!1;var t=l.default.get();u.default.is_inited&&u.default.reRender();var r=s.default.getCurrentEditor();if(r&&r.isArchived())return n(!1),!1;var a=_.default.getState(),i=a.mainView;if(i.reactView)return;i.type===b.MAIN_VIEW_TYPE_PROJECT&&Signals.sendSignal("projects.rerender.all");-1!==[b.MAIN_VIEW_TYPE_QUERY,b.MAIN_VIEW_TYPE_LABEL,b.MAIN_VIEW_TYPE_FILTER,b.MAIN_VIEW_TYPE_TODAY,b.MAIN_VIEW_TYPE_7_DAYS].indexOf(i.type)&&t.refresh()}catch(e){h.captureError(e,{tags:{where:"RefreshInterface"}})}};Signals.connect("refresh_interface",n),Signals.connect("instant_refresh_interface",a),(0,v.default)(_.default,function(e){return e.clock},function(){a()}),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&n()});var T={refreshInterface:n,instantRefreshInterface:a};r.default=T},{"../../components/onboarding/Onboarding":52,"../../components/project_editor/ProjectEditorManager":61,"../../components/projects_list/ProjectList":69,"../../constants/constants":94,"../../logger/Logger":132,"../../menus/MenuAgendaEdit.js":136,"../../menus/MenuProjectEditor.js":140,"../../menus/MenuProjectList.js":142,"../../models/StateModel":167,"../../stores/store":1048,"../../stores/subscribeSelected":1049,"../agenda/Agenda.js":5,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],74:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./RemindersManager")),i=n(e("../../containers/premium_promo/PremiumOnlyModal")),o=e("../../models/Reminders"),l={current_manager:null,renderHolder:function(e){var t=DIV();return this.current_manager=new a.default(e,t),this.current_manager.render(),t},showTooltip:function(e,t){if(!o.RemindersModel.featureEnabled())return i.default.showReminder();var r=$position(t),n=l.renderHolder(e),a={fn_left_offset:function(){return window.MINI_VERSION?r.x-220:r.x-180},fn_top_offset:function(){return r.y+35},fn_arrow_left:function(){return r.x+8},fixed_pos:$hasClass(t,"fixed_pos"),fn_on_hide:function(){var e=l.current_manager;e&&(e.clean(),l.current_manager=null),Signals.sendSignal("focus_current_item_input")}},s=TooptipWin.show(_("Reminders"),n,210,300,a);$addClass(s.g_window,"manage_reminders")},show:function(e){if(!o.RemindersModel.featureEnabled())return i.default.showReminder();var t=l.renderHolder(e);return GB_showHTML(_("Reminders"),t,350,300),!1}},s=l;r.default=s},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/Reminders":163,"./RemindersManager":78,"@babel/runtime/helpers/interopRequireDefault":189}],75:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../avatars/Avatars")),l=n(e("../opener/WindowOpener.js")),s=e("../../models/Reminders"),u=n(e("../../models/Collaborators")),c=n(e("../../menus/MenuRemindersTypes")),d=n(e("./RemindersLocation")),f=n(e("./RemindersConst.js")),p=n(e("../../containers/premium_promo/PremiumOnlyModal")),m=n(e("../../models/DateExt")),h=e("../../utils"),v=n(e("../themes/Themes")),b=_x("reminder_notify","Me"),y=function(){function e(t,r){(0,a.default)(this,e),this.onChangeInterface=this.onChangeInterface.bind(this),this.reRender=this.reRender.bind(this),this.render=this.render.bind(this),this.renderAbsolute=this.renderAbsolute.bind(this),this.renderRelative=this.renderRelative.bind(this),this.addReminder=this.addReminder.bind(this),this.generateSharedServices=this.generateSharedServices.bind(this),this.renderServiceSelector=this.renderServiceSelector.bind(this),this.clean=this.clean.bind(this),this.manager=t,r&&r.due&&r.due.with_time?this.current_interface="relative":this.current_interface="absolute";var n=window.User.auto_reminder;void 0!==n&&-1!==n||(n=30),this.relative_items=[];for(var i in f.default.min_to_words){var o=f.default.min_to_words[i];i=parseInt(i);var l={id:i,name:o};i===n&&(this.current_relative_select=l),this.relative_items.push(l)}c.default.init()}return(0,i.default)(e,[{key:"onChangeInterface",value:function(e){return"location"===e&&!window.User.is_premium&&$all("li","reminder").length>=1?p.default.showReminder():(this.current_interface=e,this.reRender(),c.default.get().hide(),!1)}},{key:"reRender",value:function(){var e=this.adder;$swap(e,this.render()),$remove(e)}},{key:"render",value:function(){var e,t=this;this.adder_below=DIV({c:"adder_below"}),e="absolute"===this.current_interface?this.renderAbsolute():"relative"===this.current_interface?this.renderRelative():d.default.render(this.adder_below);var r=IstButton.createButton(_("Add reminder"),null,"red");return $AEV(r,"click",function(){return t.addReminder(),!1}),this.adder=DIV(DIV({c:"adder"},this.renderSwitcher(),e),this.adder_below,DIV(A({href:"/Help/Reminders",target:"_blank",c:"help"},svgs.get("sm1/question.svg")),r)),this.adder}},{key:"renderAbsolute",value:function(){var e=this,t=_("today at 2pm"),r=this.absolute_input=INPUT({placeholder:t});return $AEV(r,"keydown",function(t){if(13===t.keyAscii)return e.addReminder(),!1}),setTimeout(function(){return r.focus()},150),DIV({c:"absolute"},this.renderServiceSelector(),r)}},{key:"renderRelative",value:function(){var e,t=this,r=function(){return _("%s before").replace("%s",t.current_relative_select.name)},n=A({href:"#",c:"icon relative_selector"},e=SPAN(r()),svgs.get("sm1/caret.svg"));return $AEV(n,"click",function(){var a={selectedItem:function(){return t.current_relative_select},collection:function(){return t.relative_items},filterItem:function(e){return DIV({c:"complete_item"},e.name)},onSelect:function(n){return t.current_relative_select=n,$replace(e,r()),GB_hide()},wildcard_match:!0},i=new IstCompleteSelect(a);return i.showTooltip({icon:n,title:_("Remind me"),arrow_left_offset:5,top_offset:35,left_offset:30,fn_on_hide:function(){return i=null}}),!1}),DIV({c:"relative"},this.renderServiceSelector(),n)}},{key:"checkReminderLimit",value:function(){return"location"===this.current_interface&&s.RemindersModel.hasExceededMaxLimitForLocRmd()?(alert(_("You\u2019ve reached the location-based reminder limit.")+"\n\n"+(0,h.format)(_("We limit the number of location-based reminders to {n} per account to keep the app fast and stable. Delete old reminders to make room for more."),{n:300})),!1):"location"===this.current_interface||!s.RemindersModel.hasExceededMaxLimitForTimeRmd()||(alert(_("You\u2019ve reached the reminder limit.")+"\n\n"+(0,h.format)(_("We limit the number of reminders to {n} per account to keep the app fast and stable. Delete old reminders to make room for more."),{n:700})),!1)}},{key:"addReminder",value:function(){var e=this;if(!window.User.is_premium&&$all("li","reminder").length>=1)return p.default.showReminder();if(this.checkReminderLimit()){var t=function(t){return s.BufferedRemindersModel.add(t),e.manager.viewer.reRender(),e.absolute_input&&(e.absolute_input.value=""),e.manager.updateParentItem(!0)};if("location"===this.current_interface)d.default.getPlaceResolved(function(e){if(!e)return alert(_("Please select a location first"),function(){return d.default.input.focus()}),!1;var r={item_id:s.BufferedRemindersModel.getCurItem().id,type:"location"};return $update(r,e),d.default.reset(),d.default.input.focus(),t(r)});else{var r={item_id:s.BufferedRemindersModel.getCurItem().id,service:"default"};if("absolute"===this.current_interface){var n=this.parseDate(this.absolute_input.value);if(n.error)return alert(n.error,function(){var t=function(){return e.absolute_input.focus()};return setTimeout(t,200)}),!1;r.due=m.default.fromDateist(n),r.type="absolute"}else r.minute_offset=this.current_relative_select.id,r.type="relative";this.current_service_select&&this.current_service_select.notify_uid&&(r.notify_uid=this.current_service_select.notify_uid),t(r)}return!1}}},{key:"renderSwitcher",value:function(){var e=this.getReminderTypeIcon(this.current_interface),t=svgs.get("sm1/caret.svg");$addClass(t,"menu_icon");var r=A({href:"#",c:"switcher menu"},e,t);return $AEV(r,"click",function(e){return c.default.get().toggle(r,r,e),!1}),r}},{key:"generateSharedServices",value:function(e){var t=[],r={notify_uid:window.User.id,name:b+" ("+window.User.full_name+")"};$update(r,window.User),t.push(r);var n=!0,a=!1,i=void 0;try{for(var o,l=u.default.getAll(e)[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,c={notify_uid:s.id};$update(c,s),s.id!==window.User.id&&(c.name=s.full_name.split(" ")[0],t.push(c))}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return t}},{key:"renderServiceSelector",value:function(){var e=this,t=s.BufferedRemindersModel.getCurItem();if(u.default.isProjectShared(t.project_id)){var r=_("Who to notify"),n=function(){var t=e.current_service_select;return o.default.renderAvatar(t,"small",v.default.theme)};this.current_service_select=window.User;var a=a=SPAN(n()),i=A({href:"#",c:"service_selector"},a,svgs.get("sm1/caret.svg")),c=this.generateSharedServices(t.project_id);return $AEV(i,"click",function(){var t={selectedItem:function(){return e.current_service_select},collection:function(){return c},filterItem:function(e){var t,r;return e.notify_uid?(t=o.default.renderAvatar(e,"small",v.default.theme),r=e.name):(t=o.default.renderAvatar(window.User,"small",v.default.theme),r=b+" ("+e.name+")"),DIV({c:"complete_item"},t,r)},onSelect:function(t){if(GB_hide(),"settings"===t.id?l.default.showPrefs("reminders"):(e.current_service_select=t,$replace(a,n())),e.absolute_input)return e.absolute_input.focus()},wildcard_match:!0},s=new IstCompleteSelect(t);return s.showTooltip({icon:i,title:r,arrow_left_offset:5,top_offset:35,left_offset:170,fn_on_hide:function(){return s=null}}),!1}),i}}},{key:"clean",value:function(){$remove(this.adder),$remove(this.adder_below),$remove(this.absolute_input),this.manager=null,this.adder=null,this.adder_below=null,this.absolute_input=null}},{key:"parseDate",value:function(e){var t=h.DateUtils.parse(e);if(""===e)return{error:_("Date can't be empty")};if(t.error||!t.due_date)return{error:_("Invalid date")};if(t.due_date&&!DateistDateHelpers.has_time(t.due_date)){var r=t;if(t=h.DateUtils.parse(t.date_string+" @ 9:00"),t.due_date){var n=new Date;if(DateistDateHelpers.day_diff(n,t.due_date)>=365){var a=n.getHours()+3,i="00";a>23&&(a=23,i=29),t=h.DateUtils.parse(r.date_string+" @ "+a+":"+i)}}}return t}},{key:"getReminderTypeIcon",value:function(e){switch(e){case"absolute":return svgs.get("sm1/history.svg");case"relative":return svgs.get("sm1/clock.svg");case"location":return svgs.get("sm1/location_mark.svg");default:return svgs.get("sm1/history.svg")}}}]),e}(),g=y;r.default=g},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../menus/MenuRemindersTypes":144,"../../models/Collaborators":150,"../../models/DateExt":154,"../../models/Reminders":163,"../../utils":1094,"../avatars/Avatars":17,"../opener/WindowOpener.js":53,"../themes/Themes":91,"./RemindersConst.js":76,"./RemindersLocation":77,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.min_to_words=void 0;var n={0:_("0 min"),10:_("10 min"),30:_("30 min"),45:_("45 min"),60:_("1 hour"),120:_("2 hours"),180:_("3 hours"),1440:_("1 day"),2880:_("2 days"),4320:_("3 days"),10080:_("1 week")};r.min_to_words=n;var a={min_to_words:n};r.default=a},{}],77:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/RemindersLocationModel")),l=function(){function e(){(0,a.default)(this,e),this.render=this.render.bind(this),this.getPlace=this.getPlace.bind(this),this.getPlaceResolved=this.getPlaceResolved.bind(this),this.reset=this.reset.bind(this),this._render=this._render.bind(this),this.initGoogleMaps=this.initGoogleMaps.bind(this),this.selectLocation=this.selectLocation.bind(this),this.showLastLocations=this.showLastLocations.bind(this),this.loadGoogle=this.loadGoogle.bind(this),this.loaded=this.loaded.bind(this),this.nearbySearch=this.nearbySearch.bind(this),this.load_timeout=null,this.callbacks=[]}return(0,i.default)(e,[{key:"render",value:function(e){var t=this;if(window.google&&window.google.maps)return this._render(e),this.holder;var r=DIV({c:"location_selecter_holder"},Indicator.cssSpinner()),n=function(){$replace(r,t._render(e))};return this.loadGoogle(n),r}},{key:"formatPlace",value:function(e,t){return{name:e,loc_lat:"".concat(t.lat()),loc_long:"".concat(t.lng()),loc_trigger:$selectValue(this.gtrigger),radius:100}}},{key:"getPlace",value:function(){if(this.place&&this.gmarker){var e=this.gmarker.getPosition();return this.formatPlace(this.place.name,e)}}},{key:"getPlaceResolved",value:function(e){var t=this;if(this.place&&this.gmarker){var r=this.gmarker.getPosition();this.start_location&&r.lat()===this.start_location.lat()&&r.lng()===this.start_location.lng()?e(this.formatPlace(this.place.name,r)):this.nearbySearch(r,function(n){n=n||t.place.name,e(t.formatPlace(n,r))})}else e(null)}},{key:"reset",value:function(){this.input.value="",$hide(this.gholder),this.place=null,this.start_location=null}},{key:"_render",value:function(e){var t=this,r=A({href:"#",c:"service_selector"},svgs.get("sm1/caret.svg"),svgs.get("sm1/location_mark.svg"));return r.reuseable=!0,$AEV(r,"click",$p(this.showLastLocations,r)),this.holder||(this.holder=DIV({c:"location_selecter"},r,this.input=INPUT({type:"text",placeholder:_("Type location"),reuseable:!0})),this.initGoogleMaps(this.input,e)),this.place=null,this.input.value="",setTimeout(function(){t.input.focus()},100),$AEV(this.input,"keyup",function(){""===t.input.value&&$hide(t.gholder)}),$hide(this.gholder),$replace(e,this.gholder),this.holder}},{key:"initGoogleMaps",value:function(e){var t=this;if(this.gholder)return this.gholder;var r=new window.google.maps.places.Autocomplete(e);this.gholder=DIV({c:"map_holder"},this.map_canvas=DIV({c:"map"}),this.gtrigger=SELECT(OPTION({value:"on_enter",selected:"selected"},_("When I arrive")),OPTION({value:"on_leave"},_("When I leave")))),window.google.maps.event.addListener(r,"place_changed",function(){t.place=r.getPlace(),t.place.geometry&&t.selectLocation(t.place.geometry)})}},{key:"selectLocation",value:function(e){if($show(this.gholder),!this.gmap){var t={zoom:17,mapTypeControl:!1,zoomControl:!0,streetViewControl:!1};this.gmap=new window.google.maps.Map(this.map_canvas,t),this.gmarker=new window.google.maps.Marker({map:this.gmap,anchorPoint:new window.google.maps.Point(0,-29),draggable:!0})}this.gmarker.setPosition(e.location),this.gmarker.setVisible(!0),this.start_location=this.gmarker.getPosition(),e.viewport?this.gmap.fitBounds(e.viewport):(this.gmap.setCenter(e.location),this.gmap.setZoom(17))}},{key:"showLastLocations",value:function(e){var t=this,r={selectedItem:function(){return null},collection:function(){var e=[],t=!0,r=!1,n=void 0;try{for(var a,i=o.default.getLastLocations()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var l=a.value;e.push({name:l[0],loc_lat:parseFloat(l[1]),loc_long:parseFloat(l[2])})}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e},filterItem:function(e,t){return $setHTML(DIV({c:"complete_item"}),t)},txt_no_matches_found:_("No recent locations found."),onSelect:function(e){t.place={name:e.name},t.input.value=e.name;var r={location:new window.google.maps.LatLng(e.loc_lat,e.loc_long),viewport:null};return t.selectLocation(r),GB_hide(),!1},wildcard_match:!0},n=new IstCompleteSelect(r);return n.showTooltip({icon:e,title:_("Recent locations"),arrow_left_offset:5,top_offset:35,left_offset:170,fn_on_hide:function(){return n=null}}),!1}},{key:"loadGoogle",value:function(e){var t=this;if(!window.google||!window.google.maps)return this.load_timeout&&clearTimeout(this.load_timeout),this.callbacks.push(e),$add($body(),SCRIPT({src:"https://maps.googleapis.com/maps/api/js?libraries=places&async=2&callback=RemindersLocation.loaded&key=AIzaSyCXMDZI-DQwpQ72521KB_V45LXL1Zm_lHU&sensor=false"})),this.load_timeout=setInterval(function(){window.google&&window.google.maps&&t.loaded()},500)}},{key:"loaded",value:function(){this.load_timeout&&(clearTimeout(this.load_timeout),this.load_timeout=null);var e=!0,t=!1,r=void 0;try{for(var n,a=this.callbacks[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){(0,n.value)()}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}this.callbacks=[]}},{key:"nearbySearch",value:function(e,t){var r=new window.google.maps.LatLng(e.lat(),e.lng()),n={location:r,radius:"5"};new window.google.maps.places.PlacesService(this.gmap).nearbySearch(n,function(e){return t(e&&e.length>0?e[0].name:null)})}}]),e}();window.RemindersLocation=new l;var s=window.RemindersLocation;r.default=s},{"../../models/RemindersLocationModel":164,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],78:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("../../models/Reminders"),l=n(e("../../models/ItemsModel")),s=n(e("../items_utils/ItemDueDates.js")),u=n(e("./RemindersAdder")),c=n(e("./RemindersViewer")),d=n(e("../../menus/MenuRemindersTypes")),f=function(){function e(t,r){(0,a.default)(this,e);var n;this.render=this.render.bind(this),this.updateParentItem=this.updateParentItem.bind(this),this.holder=r,t?(n=l.default.getById(t.json.id))&&(o.BufferedRemindersModel.cur_item=n,o.BufferedRemindersModel.use_buffered=!1):(o.BufferedRemindersModel.use_buffered=!0,n=o.BufferedRemindersModel.getCurItem()),this.viewer=new c.default(this),this.adder=new u.default(this,n),d.default.init(this),n&&n.due&&n.due.with_time?d.default.get().setRelativePossible(!0):d.default.get().setRelativePossible(!1),window.REMINDER_MANAGER=this}return(0,i.default)(e,null,[{key:"initClass",value:function(){this.prototype.min_to_words={0:_("0 min"),10:_("10 min"),30:_("30 min"),45:_("45 min"),60:_("1 hour"),120:_("2 hours"),180:_("3 hours"),1440:_("1 day"),2880:_("2 days"),4320:_("3 days"),10080:_("1 week")}}}]),(0,i.default)(e,[{key:"render",value:function(){var e=DIV({c:"reminder_manager"},this.viewer.render(),this.adder.render());$replace(this.holder,e)}},{key:"updateParentItem",value:function(e){if(!o.BufferedRemindersModel.use_buffered){var t=o.BufferedRemindersModel.getCurItem();if(!t)return;var r=!0,n=!1,a=void 0;try{for(var i,l=$all("li","item_".concat(t.id))[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value,c=$all("span","date",u);c=c.length>0?c[0]:$all("td","column_project",u)[0],s.default.updateAlarmIcon(c,e)}}catch(e){n=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw a}}}var d=$("reminders_icon");this.viewer.is_empty?$removeClass(d,"active"):$addClass(d,"active")}},{key:"clean",value:function(){this.adder.clean(),this.viewer.clean(),this.adder=null,this.viewer=null,window.REMINDER_MANAGER=null}}]),e}();f.initClass();var p=f;r.default=p},{"../../menus/MenuRemindersTypes":144,"../../models/ItemsModel":157,"../../models/Reminders":163,"../items_utils/ItemDueDates.js":34,"./RemindersAdder":75,"./RemindersViewer":79,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],79:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../avatars/Avatars")),l=e("../../models/Reminders"),s=n(e("../../models/Collaborators")),u=n(e("./RemindersConst.js")),c=n(e("../themes/Themes")),d=e("../../utils"),f=function(e){switch(e){case"absolute":return svgs.get("sm1/history.svg");case"relative":return svgs.get("sm1/clock.svg");case"location":return svgs.get("sm1/location_mark.svg");default:return svgs.get("sm1/history.svg")}},p=function(){function e(t){(0,a.default)(this,e),this.reRender=this.reRender.bind(this),this.render=this.render.bind(this),this.deleteNotification=this.deleteNotification.bind(this),this.clean=this.clean.bind(this),this.manager=t}return(0,i.default)(e,null,[{key:"initClass",value:function(){this.renderRaw=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};void 0===n.delete_possible&&(n.delete_possible=!0);var a=UL({c:"reminder_viewer"});0===t.length&&$addClass(a,"is_empty"),r=!!s.default.isProjectShared(e.project_id);var i=!0,l=!1,p=void 0;try{for(var m,h=t[Symbol.iterator]();!(i=(m=h.next()).done);i=!0){var v,b=m.value,y=null;if(r){var g=s.default.getUserById(b.notify_uid||window.User.id);g&&(y=o.default.renderAvatar(g,"small",c.default.theme))}y||(y=f(b.type));var E="",T="";if("absolute"===b.type)if(b.due.is_recurring){var w=b.due.string;E=w}else{var R=b.due.toDate(),P=d.DateUtils.humanizeDayDiff(DateistDateHelpers.day_diff(new Date,R),R);E=P}else if("relative"===b.type){var D=u.default.min_to_words[b.minute_offset];E=void 0!==D?_("%s before").replace("%s",D):(0,d.format)(_nx("reminder","1 min before","{n} min before",b.minute_offset),{n:b.minute_offset})}else"location"===b.type&&(E=b.name,T="on_enter"===b.loc_trigger?_("When I arrive"):_("When I leave"));n.delete_possible&&(v=A({href:"#",c:"trash"},svgs.get("sm1/trash.svg")),$AEV(v,"click",$p(n.fn_delete_notification,b.id)));var O=void 0;O=T.length>0?SPAN({c:"text"},B(E),BR(),T):SPAN({c:"text"},B(E)),$add(a,LI({c:"reminder"},v,DIV(y,O)))}}catch(e){l=!0,p=e}finally{try{i||null==h.return||h.return()}finally{if(l)throw p}}return a}}}]),(0,i.default)(e,[{key:"reRender",value:function(){var e=this.viewer;$swap(e,this.render()),$remove(e)}},{key:"render",value:function(){var t=l.BufferedRemindersModel.getCurrentReminders(),r=l.BufferedRemindersModel.getCurItem();0===t.length?this.is_empty=!0:this.is_empty=!1;var n={fn_delete_notification:this.deleteNotification};return this.viewer=e.renderRaw(r,t,n),this.viewer}},{key:"deleteNotification",value:function(e){l.BufferedRemindersModel.remove(e),this.reRender();var t=l.BufferedRemindersModel.getCurrentReminders();return this.manager.updateParentItem(t.length>0),!1}},{key:"clean",value:function(){$remove(this.viewer),this.manager=null,this.viewer=null}}]),e}();p.initClass();var m=p;r.default=m},{"../../models/Collaborators":150,"../../models/Reminders":163,"../../utils":1094,"../avatars/Avatars":17,"../themes/Themes":91,"./RemindersConst.js":76,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],80:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("../project_editor/ProjectEditorManager")),s=n(e("../../models/LabelsModel")),u=n(e("../../models/ProjectsModel")),c=n(e("../../models/Collaborators")),d=n(e("../../models/DateExt")),f=e("../../utils"),p=function(){function e(){(0,i.default)(this,e),this.annotateFormData=this.annotateFormData.bind(this),this.attach=this.attach.bind(this),this.setCurrentProject=this.setCurrentProject.bind(this),this.setCurrentPerson=this.setCurrentPerson.bind(this),this.deselectPriority=this.deselectPriority.bind(this),this.generateUserMatcher=this.generateUserMatcher.bind(this),this.generateProjectMatcher=this.generateProjectMatcher.bind(this);var t=_("priority");this.re_priority=new RegExp("(?:(?:^|\\s)!!|\\bp|".concat(t,")\\s*(1|2|3|4)(?=\\s|$)"),"g")}return(0,o.default)(e,null,[{key:"initClass",value:function(){this.prototype.truncate_links=!1,this.prototype.highlight_labels=!0,this.prototype.highlight_project=null,this.prototype.highlight_person=null,this.prototype.highlight_priority=null,this.prototype.re_labels=/(?:^|\s+)@([^\s,]+)/g,this.prototype.re_links=/[\w-]+:\/\/[^\s]+/g,this.prototype.re_special_chars=/([+.?*+^$[\]\\(){}|_&-])/g}}]),(0,o.default)(e,[{key:"annotateFormData",value:function(e,t){var r,n={};for(var a in e.matches){var i=e.matches[a];switch(i[0]){case"priority":this.highlight_priority&&(t.content=t.content.replace(i[1],""),t.priority=5-i[2]);break;case"date":t.content=t.content.replace(i[1],""),r=i[2],r&&r.has_only_time&&t.due?t.due=t.due.inheritDate({year:t.due.getFullYear(),month:t.due.getMonth(),day:t.due.getDate(),hours:r.due_date.getHours(),minutes:r.due_date.getMinutes(),seconds:0},{withTime:!0,timezone:t.due.timezone}):t.due=d.default.fromDateist(r);break;case"project":this.highlight_project&&(t.content=t.content.replace(i[1],""),t.project_id=this.highlight_project[0],t.item_order=null,t.indent=1);break;case"person":this.highlight_person&&(t.content=t.content.replace(i[1],""),t.responsible_uid=this.highlight_person[0],t.inherit_asignee=!1);break;case"label":this.highlight_labels&&(n[i[3]]=i)}}var o=[],l=!0,s=!1,u=void 0;try{for(var c,f=$$("b.t_label",e)[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value,m=p.json[3];if(m&&-1!==m.indexOf("@")){var h=n[m],_=m.replace("@","");h&&(t.content=t.content.replace(h[1],""),o.push(_))}}}catch(e){s=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}return t.labels=o,t.content=$strip(t.content.replace(/\s\s+/," ")),t}},{key:"attach",value:function(e,t){var r,n,i=this;Dateist.clear_free_text_cache(),e.ignored={},e.matches={},e.initial_has_content=t,e.dateist_disabled=!1,this.highlight_project=null,this.highlight_person=null,this.highlight_priority=null,this.re_project_matchers=null,this.user_matcher_cache={},this.generateProjectMatcher();var o=function(t,a){t=t.replace(/``/g,"'"),"t_link"===a&&(i.truncate_links=!1),r=LibEdit.getCaretOffsetWithin(e),LibEdit.setCaretPositionWithin(e,r.start);var o=function(t){e.matches[t]&&delete e.matches[t],e.ignored[t]=!0};if("t_date"===a){n=DateistUtils.is_spaceless_lang(window.DATEIST_LANG);var l=Dateist.split_text(t,window.DATEIST_LANG),s=0,u=!0,c=!1,d=void 0;try{for(var f,m=l[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var h=(f.value,""),_=!0,v=!1,b=void 0;try{for(var y,g=l.slice(s)[Symbol.iterator]();!(_=(y=g.next()).done);_=!0){var E=y.value;n?h+=E:h=h+" "+E,h=DateistUtils.trim(h),o(h)}}catch(e){v=!0,b=e}finally{try{_||null==g.return||g.return()}finally{if(v)throw b}}s+=1}}catch(e){c=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(c)throw d}}}else"t_project"===a?i.setCurrentProject(null):"t_person"===a&&i.setCurrentPerson(null);return o(t),IstComplete.hide(),p(),!1};e.ignore_match=o;var c=function(t){e.matches[t]&&delete e.matches[t],e.ignored[t]=!0},d=function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&"));return n=DateistUtils.is_spaceless_lang(window.DATEIST_LANG),t=n?"(^|\\s*)".concat(t):"(^|\\s+)".concat(t,"(?:$|(?=[\\s\\)\\]]+))"),new RegExp(t,"gi")},p=function(){var r,n,p,m,h,_,v,b={},y=e.proxyGetValue();y=y.replace(/\n/g," ");var g=y.match(i.re_priority);if(g){g=y.match($last(g)),_=$strip(g[0]);var E=parseInt(_.match(/\d+/)[0]);e.ignored[_]||(i.highlight_priority=b[_]=["priority",d(_),parseInt(E),_])}if(i.highlight_labels){var T=y.match(i.re_labels);if(T){var w=null;IstComplete.current_input&&(w=IstComplete.current_input.istcomplete_word||null);var R=!0,P=!1,D=void 0;try{for(var O,C=T[Symbol.iterator]();!(R=(O=C.next()).done);R=!0){var I=O.value;if(I=$strip(I),w!==I){s.default.getByName(I.replace("@","").toLowerCase()).length>0&&(e.ignored[I]||(b[I]=["label",d(I),I,I.replace("$","$$$$")]))}}}catch(e){P=!0,D=e}finally{try{R||null==C.return||C.return()}finally{if(P)throw D}}}}var A=window.User;if(!(void 0!==A.features.dateist_inline_disabled?A.features.dateist_inline_disabled:A.dateist_inline_disabled)&&!e.dateist_disabled){var S=f.DateUtils.parse(y,null,!0,e.ignored);if(S&&S.due_date){var k=S.date_string_matched,M=S.pos[0];"@"===(0===M?null:y[M-1])||0===k.indexOf("@")||e.ignored[k]||(b[k]=["date",d(k),S,k])}}if(i.truncate_links){var j=y.match(i.re_links);if(j){var N=!0,x=!1,L=void 0;try{for(var q,U=j[Symbol.iterator]();!(N=(q=U.next()).done);N=!0){var $=q.value;e.ignored[$]||(b[$]=["link",d($),$,$])}}catch(e){x=!0,L=e}finally{try{N||null==U.return||U.return()}finally{if(x)throw L}}}}
if(i.re_project_matchers&&(i.highlight_project&&i.highlight_project[2]||y.match(/#[^\s]+/)&&(r=i.genericPersonProjectMatcher(e,y,i.re_project_matchers))&&(i.highlight_project=r)),i.highlight_project){var F=Array.from(i.highlight_project),z=(0,a.default)(F,3);m=z[0],p=z[1],z[2],b[p]=["project",d(p),m,p]}if(y.match(/\+[^\s]+/)){if(m=null,i.highlight_project)m=i.highlight_project[0];else{var B=l.default.getCurrentEditor();B&&(m=B.project_id)}if(m){var H=u.default.get(m);if(H&&H.shared){var V=i.generateUserMatcher(m);r=i.genericPersonProjectMatcher(e,y,V),r&&(i.highlight_person=r)}}}if(i.highlight_person){var W,G=Array.from(i.highlight_person),Y=(0,a.default)(G,3);W=Y[0],p=Y[1],Y[2],b[p]=["person",d(p),W,p]}if(t=e.initial_has_content){for(_ in b)h=b[_],"date"===h[0]&&(v=h[4]||h[3],e.ignored[v]=!0,delete b[_]);e.initial_has_content=!1}var K=y;for(_ in b){var X;if(h=b[_],v=h[4]||h[3],"link"===h[0])X="";else if(X=i.getIcon(h[0]),"priority"===h[0]){var J=v.indexOf(h[2]);v="\u27e6i\u27e7".concat(v.substring(0,J),"\u27e6/i\u27e7").concat(v.substring(J))}else"date"!==h[0]&&(v="\u27e6i\u27e7".concat(v.substring(0,1),"\u27e6/i\u27e7").concat(v.substring(1)));n=h[3].replace(/'/g,"``").replace("$","$$$$"),n!==h[3]&&(b[n]=h,delete b[h[3]]),K=K.replace(h[1],"$1\u27e6b id='".concat(n,"' class='t_").concat(h[0],"'\u27e7").concat(X,"\u27e6span\u27e7").concat(v,"\u27e6/span\u27e7\u27e6/b\u27e7"))}if(t){"\u27e7"===K.charAt(K.length-1)&&(K+=" ")}e.proxySetValue(K,!1);var Q=!0,Z=!1,ee=void 0;try{for(var te,re=$all("b",null,e)[Symbol.iterator]();!(Q=(te=re.next()).done);Q=!0){var ne=te.value;ne.onclick=ne.ignore_match=$p(o,ne.id,ne.className),ne.match_deleted=$p(c,ne.id),ne.json=b[ne.id]}}catch(e){Z=!0,ee=e}finally{try{Q||null==re.return||re.return()}finally{if(Z)throw ee}}return e.matches=b};return e.onchanged=p,e.cancelInput=function(e){var t;if(!window.getSelection)return!1;var r=window.getSelection(),n=LibEdit.getSelectedNodes();if(8===e.keyAscii&&n.length>0){n=LibEdit.getSelectedNodes();var a=function(){var e=[],r=!0,a=!1,i=void 0;try{for(var o,l=n[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)t=o.value,"b"===$nodeName(t)&&t.match_deleted&&e.push(t)}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return e}(),i=!0,o=!1,l=void 0;try{for(var s,u=a[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)t=s.value,t.match_deleted()}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}var c=$first(n);if(c){var d=c.parentNode;d&&d.match_deleted&&d.match_deleted()}return!1}if(8===e.keyAscii){r=window.getSelection();var f=r.focusNode;if(f&&"#text"===$nodeName(f)){var p=f.parentElement;if(p){var m=p.parentElement;if(m&&"b"===$nodeName(m))return m.ignore_match&&m.ignore_match(),!0}}if(f&&27===e.keyAscii){var h=$gp(f,"div"),_=$all("b",null,h),v=$last(_);if(v&&v.ignore_match&&$hasClass(v,"t_date"))return v.ignore_match(),!0}}return!1},$AEV(e,"keydown",function(e){return!e.ctrl||66!==e.key&&73!==e.key&&85!==e.key||(e.preventDefault(),!1)})}},{key:"getIcon",value:function(e){var t;switch(e){case"project":t="sm1/quick_add_project.svg";break;case"label":t="sm1/quick_add_label.svg";break;case"person":t="sm1/quick_add_assignee.svg";break;case"priority":t="sm1/quick_add_priority.svg";break;case"date":t="sm1/quick_add_calendar.svg"}return svgs.getString(t).replace(/</g,"\u27e6").replace(/>/g,"\u27e7")}},{key:"setCurrentProject",value:function(e,t){var r=l.default.current_form;if(t&&r&&this.highlight_project){this.highlight_project[2]&&$remove($all("b","t_project",r))}if(t?(this.highlight_person&&this.setCurrentPerson(null),this.highlight_project=[e,t,!0]):(e=null,this.highlight_project=null),r){var n=r.people_assigner;n&&n.onProjectUpdated(e)}Signals.sendSignal("natural_language_project_updated",e)}},{key:"setCurrentPerson",value:function(e,t){var r=l.default.current_form;if(t&&r&&this.highlight_person){this.highlight_person[2]&&$remove($all("b","t_person",r))}this.highlight_person=t?[e,t,!0]:null}},{key:"deselectPriority",value:function(e){e&&(this.highlight_priority=null,$remove($all("b","t_priority",e)))}},{key:"generateUserMatcher",value:function(e){var t=window.User.id;if(!this.user_matcher_cache[e]){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=c.default.getAll(e)[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,u=s.full_name||s.email;if(u=$strip(u.replace(this.re_special_chars,"\\$1")),0!==u.length){var d=[];d.push(u);var f=u.split(" ")[0],p=u.split(" "),m="";if(p.length>1){m=f+"\\s"+p[1][0]+"\\.?"}m!==u&&m.length>0&&d.push(m),f!==u&&f.length>0&&d.push(f),s.id===t&&d.push(_x("task_assignment","me")),d.length>0&&r.push([s.id,new RegExp("(?:^|\\s)\\+(?:".concat(d.join("|"),")"),"i"),u])}}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}this.user_matcher_cache[e]=r}return this.user_matcher_cache[e]}},{key:"generateProjectMatcher",value:function(){this.re_project_matchers=[];var e=!0,t=!1,r=void 0;try{for(var n,a=u.default.getAll()[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value,o=i.name;o=$strip(o.replace(this.re_special_chars,"\\$1")),this.re_project_matchers.push([i.id,new RegExp("(?:^|\\s)#".concat(o),"i"),o])}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{key:"genericPersonProjectMatcher",value:function(e,t,r){var n=[],i={},o={},l=!0,s=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var f=c.value,p=Array.from(f),m=(0,a.default)(p,3),h=m[0],_=m[1],v=(m[2],t.match(_));if(v){var b=$strip(v[0]);e.ignored[b]||(n.push([v.index+b.length,h,b]),i[v.index]&&i[v.index]!==h?o[v.index]=!0:i[v.index]=h)}}}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}for(var y=[],g=0,E=n;g<E.length;g++){var T=E[g];o[T[0]]||y.push(T)}if(n.length>1)return null;var w=$first(y);return w?[w[1],w[2],!1]:null}}]),e}();p.initClass(),window.NatrualLanguageParsing=new p;var m=window.NatrualLanguageParsing;r.default=m},{"../../models/Collaborators":150,"../../models/DateExt":154,"../../models/LabelsModel":158,"../../models/ProjectsModel":161,"../../utils":1094,"../project_editor/ProjectEditorManager":61,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],81:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,i=n(e("../../utils/addDeferCompositionEndListener")),o=e("../../models/Storage"),l=function(e){e.className="richtext_editor sel_richtext_editor";var t=DIV(e);if(e.generatePlaceholder){var r=c.genereate();r&&(t.placeholderText=r)}e.placeholder&&(t.placeholderText=e.placeholder),t.contentEditable=!0,t.proxyFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout(function(){t.focus(),e&&LibEdit.setCaretPositionWithin(t,t.proxyGetValue().length)},50)};var n=null;if(t.proxySelect=function(){var e=document.createRange();e.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(e)},t.placeholderText){var o=function(){""===(t.textContent||t.innerText)?t.placeholder||(t.placeholder=SPAN({c:"rich_text_placeholder"},t.placeholderText),$AEV(t.placeholder,"contextmenu",function(e){if(e.shift)return!0;$remove(t.placeholder),t.proxyFocus()}),$addBefore(t.placeholder,t),setTimeout(function(){t.offsetWidth&&$setWidth(t.placeholder,t.offsetWidth)},50)):t.placeholder&&($remove(t.placeholder),t.placeholder=null)};n=function(){t.placeholder_ta&&clearTimeout(t.placeholder_ta),t.placeholder_ta=setTimeout(o,0)},$AEV(t,"keyup",n)}return t.proxyGetValue=function(){var e=t.textContent||t.innerText;return e=e.replace(new RegExp(IstComplete.CHAR_FORCED_WHITESPACE,"g")," "),e=e.replace(/\u00A0/g," ")},t.proxyPlaceCursor=function(){LibEdit.placeCursor(t,t.proxyGetValue().length)},$AEV(t,["keydown"],function(e){if(window.getSelection)try{if(!window.getSelection().getRangeAt(0).collapsed){var r=t.proxyGetValue().length;return window.getSelection().toString().length===r&&46===e.keyCode&&(t.proxySetValue(""),t.proxyFocus(),e.preventDefault()),!0}}catch(e){}}),$AEV(t,["keypress","paste"],function(e){if(e.clipboardData){e.preventDefault();var r=LibEdit.normalzieClipboardData(e.clipboardData.getData("text/plain"));return!(-1!==r.indexOf("\n")&&t.onMultilinePaste&&!t.onMultilinePaste(t,r))&&(document.execCommand("insertHTML",!1,r),t.onchanged&&t.onchanged(),!1)}if(e.ctrl&&e.key||e.shift)return!0;if(a&&clearTimeout(a),window.getSelection)try{if(!window.getSelection().getRangeAt(0).collapsed)return!0}catch(e){}return a=setTimeout(t.onchanged,0),!0}),(0,i.default)(t,function(){a&&clearTimeout(a),a=setTimeout(t.onchanged,0)}),t.proxySetValue=function(e){var r,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];LibEdit.getSelectedNode(),void 0===t.save_position&&(t.save_position=!0),t.save_position&&(r=LibEdit.getCaretOffsetWithin(t)),e=e.replace(/&/g,"&amp;"),e=e.replace(/(?:^\s)|(?:\s$)/g,"&nbsp;"),e=e.replace(/\s\s/g," &nbsp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/\u27e6/g,"<"),e=e.replace(/\u27e7/g,">"),t.innerHTML=e,t.placeholderText&&n&&n(),i&&t.save_position&&LibEdit.setCaretPositionWithin(t,r.start),a&&t.onchanged&&setTimeout(t.onchanged,0)},$AEV(t,"focus",function(){t.save_position=!0}),t},s=[_("Get pastries sun at 9")+" "+_("#Family"),_("Renew gym every May 1st")+" "+_("#Health"),_("Design meeting at 11am p1")+" "+_("#Meeting"),_("Learn Portuguese every 2 days")+" "+_("#Learning"),_("Buy gift tomorrow at 6pm p1")+" "+_("#Errands"),_("Read every day p3 @goals")+" "+_("#Learning"),_("Conference Wednesday at 15")+" "+_("#Meeting"),_("Family lunch on Sunday at 11am")+" "+_("#Personal")],u="WR_PlaceholderCount",c={genereate:function(){if(this.increaseCount()>=100)return null;var e=Math.floor(Math.random()*s.length);return _("e.g.,")+" "+s[e]},increaseCount:function(){var e=(0,o.$storage)(u).get();if(null===e)return this.restoreCountFromServer(),100;var t=parseInt(e||0);return t+=1,(0,o.$storage)(u).set("".concat(t)),100===t&&this.markAsSeenGlobally(),t},restoreCountFromServer:function(){var e=$requestJSON("/sync/v8/tooltips/is_seen");return e.addCallback(function(e){e.result?(0,o.$storage)(u).set(100):(0,o.$storage)(u).set("0")}),e.sendReq({name:"web_ph_natrual_text",token:window.User.token})},markAsSeenGlobally:function(){$request("/sync/v8/tooltips/mark_as_seen").sendReq({name:"web_ph_natrual_text",token:window.User.token})}},d=l;r.default=d},{"../../models/Storage":169,"../../utils/addDeferCompositionEndListener":1063,"@babel/runtime/helpers/interopRequireDefault":189}],82:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../avatars/Avatars")),l=n(e("../project_editor/ProjectEditorManager")),s=n(e("../../containers/premium_promo/PremiumOnlyModal")),u=n(e("../formatter/Formatter.js")),c=n(e("../../models/ProjectsModel")),d=n(e("../projects_list/ProjectListUtils")),f=n(e("../../models/Collaborators")),p=e("../../reducers/tooltip"),m=n(e("../../stores/store")),h=n(e("../themes/Themes")),v=n(e("react")),b=n(e("react-dom")),y=e("../../react_components/emptyState"),g=e("../../react_components/confirm_dialog"),E=function(){function e(){(0,a.default)(this,e),this.refresh=this.refresh.bind(this),this.show=this.show.bind(this),this.renderView=this.renderView.bind(this),this.switchTab=this.switchTab.bind(this),this.renderProjectTabBody=this.renderProjectTabBody.bind(this),this.renderCollaboratorSelector=this.renderCollaboratorSelector.bind(this),this.renderCollaboratorTabBody=this.renderCollaboratorTabBody.bind(this),this.renderUserRow=this.renderUserRow.bind(this),this._renderAdder=this._renderAdder.bind(this),this.render_intro_text=this.render_intro_text.bind(this),this._checkEmpty=this._checkEmpty.bind(this),this.promoCheck=this.promoCheck.bind(this),this._promoShow=this._promoShow.bind(this),this.promoRemove=this.promoRemove.bind(this),this.holder=null,this.view_data=null,this.current_project=null,this.current_tab=null,this.selected_collaborators=[],Signals.connect("collaborators_states_updated",this.refresh),Signals.connect("show_sharing_manager",this.show)}return(0,i.default)(e,[{key:"refresh",value:function(){if(this.current_project&&this.holder){if(""!==this.adder_input.value)return void setTimeout(this.refresh,500);this.renderView(this.current_project)}}},{key:"show",value:function(e){var t=this;this.holder=DIV({c:"sharing_manager"}),this.view_data=DIV(),this.current_tab="tab_collaborator",$add(this.holder,this.view_data),$add(this.view_data,Indicator.cssSpinner()),GB_showHTML(_("Share options"),this.holder,400,400,{callback_fn:function(){IstComplete.hide(),t.current_project=null,t.holder=null},close_validator_fn:function(){return t.empty_state_holder&&(b.default.unmountComponentAtNode(t.empty_state_holder),t.empty_state_holder=null),!0}});var r=c.default.get(e);return r.team_inbox&&$addClass(this.holder,"team_inbox_view"),r.inbox_project?(alert(_("It's not possible to share the inbox project. Please share a regular project."),GB_hide),!1):(this.current_project=r,this.renderView(),!1)}},{key:"renderView",value:function(){var e=this;if(!this.current_project||!this.current_tab)throw Error("State @current_project, @current_tab must be set beforing rendering");var t=UL({c:"tab_nav"}),r=LI({"data-track":"share_project|collaborators"},_("Collaborators")),n=LI({"data-track":"share_project|invite_from_project"},_("Invite From Project"));$AEV(r,"click",function(){e.switchTab("tab_collaborator")}),$AEV(n,"click",function(){e.switchTab("tab_project")}),$add(t,r,n),"tab_collaborator"===this.current_tab?($addClass(r,"active"),this.renderCollaboratorTabBody()):($addClass(n,"active"),this.renderProjectTabBody()),0===c.default.getAll().filter(function(t){return f.default.isProjectShared(t.id)&&e.current_project.id!==t.id}).length&&$addClass(t,"hidden");var a=DIV(t,this.tab_body);return $swap(this.view_data,a),this.view_data=a,this.adder_input.focus()}},{key:"switchTab",value:function(e){this.current_tab=e,this.renderView()}},{key:"renderProjectTabBody",value:function(){var e=this,t=c.default.getAll().filter(function(t){return f.default.isProjectShared(t.id)&&e.current_project.id!==t.id});if(0===t.length)return void(this.tab_body=DIV({c:"blank_screen"},_("You have no other shared projects.")));var r=UL({c:"projects_list"}),n=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s,p=o.value,m=p.name.replace(/\*\s*/,"");m=u.default.formatSimple(m,{only_text:!0,as_html:!1}),s=0!==p.id?d.default.createColor(p):SPAN({c:"blank_color"});var h=LI(s,SPAN({c:"project_name"},m));!function(t){$AEV(h,"click",function(){var r=e.renderCollaboratorSelector(t);return $swap(e.tab_body,r),e.tab_body=r})}(p),$add(r,h)}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}this.tab_body=r}},{key:"renderCollaboratorSelector",value:function(e){var t,r,n,a=this,i=DIV({c:"collaborator_selector"}),l=e.name.replace(/\*\s*/,"");l=u.default.formatSimple(l,{only_text:!0,as_html:!1}),r=0!==e.id?d.default.createColor(e):SPAN({c:"blank_color"});var s=DIV({c:"back_to_list_link"},t=svgs.get("sm1/caret.svg"),SPAN({c:"project_name"},r,l));$AEV(t,"click",function(){a.switchTab("tab_project")}),$add(i,s);var c=UL({c:"collaborator_list selectable"}),p=[],m=function(){var e=[],t=!0,r=!1,i=void 0;try{for(var o,l=f.default.getInvitedUsers(a.current_project.id)[Symbol.iterator]();!(t=(o=l.next()).done);t=!0)n=o.value,e.push(n.id)}catch(e){r=!0,i=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}return e}(),v=function(){var e=[],t=!0,r=!1,i=void 0;try{for(var o,l=f.default.getActiveUsers(a.current_project.id)[Symbol.iterator]();!(t=(o=l.next()).done);t=!0)n=o.value,e.push(n.id)}catch(e){r=!0,i=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}return e}(),b=!0,y=!1,g=void 0;try{for(var E,T=f.default.getAll(e.id)[Symbol.iterator]();!(b=(E=T.next()).done);b=!0){var w=E.value;if(w.id!==window.User.id){var R=o.default.renderAvatar(w,"small",h.default.theme),D=SPAN({c:"user_info"},B(w.full_name));m.includes(w.id)&&$add(D,SPAN({c:"status pending"},_("Pending"))),v.includes(w.id)&&$add(D,SPAN({c:"status pending"},_("Collaborator"))),$add(D,BR(),w.email);var O=SPAN({c:"check_box"},svgs.get("sm1/check_mark_big.svg")),C=LI({c:"collaborator_list_item"},O,R,D);C.collaborator=w,m.includes(w.id)||v.includes(w.id)?$addClass(C,"is_unselectable"):(p.push(C),function(e){$AEV(e,"click",function(){$hasClass(e,"is_selected")?$removeClass(e,"is_selected"):$addClass(e,"is_selected"),S()})}(C)),$add(c,C)}}}catch(e){y=!0,g=e}finally{try{b||null==T.return||T.return()}finally{if(y)throw g}}if($add(i,c),p.length>0){var I=function(){return p.filter(function(e){return $hasClass(e,"is_selected")}).length===p.length},A=LI({c:"batch_selector"},SPAN({c:"check_box"},svgs.get("sm1/check_mark_big.svg")),P({c:"select_all"},_("Select All")));$AEV(A,"click",function(){var e;if(I()){var t=!0,r=!1,n=void 0;try{for(var a,i=p[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)e=a.value,$removeClass(e,"is_selected")}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}else{var o=!0,l=!1,s=void 0;try{for(var u,c=p[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)e=u.value,$addClass(e,"is_selected")}catch(e){l=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw s}}}S()});var S=function(){I()?$addClass(A,"has_all_selected"):$removeClass(A,"has_all_selected")};$addToTop(c,A);var k=IstButton.createButton(_("Invite"),null,null,{"data-track":"share_project|collaborators_invite"});$addClass(k,"ist_button_red"),$AEV(k,"click",function(){var e=!0,t=!1,r=void 0;try{for(var n,i=$$(".collaborator_list_item.is_selected")[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;f.default.addInvite(a.current_project.id,o.collaborator.email)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}return a.switchTab("tab_collaborator")}),$add(i,k)}return i}},{key:"renderCollaboratorTabBody",value:function(){var e;this.tab_body=DIV({c:"collaborator_tab_body"});var t=f.default.getActiveUsers(this.current_project.id),r=f.default.getInvitedUsers(this.current_project.id);if(0===t.length&&0===r.length){var n=this.render_intro_text();return e=this._renderAdder(),void $add(this.tab_body,e,n)}var a=UL({c:"collaborator_list"}),i=!0,o=!1,l=void 0;try{for(var s,u=this._sort(r)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,d={};$update(d,c),d.state="pending",$add(a,this.renderUserRow(d))}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}$add(a,this.renderUserRow(window.User));var p=!0,m=!1,h=void 0;try{for(var _,v=this._sort(t)[Symbol.iterator]();!(p=(_=v.next()).done);p=!0)c=_.value,c.id!==window.User.id&&$add(a,this.renderUserRow(c))}catch(e){m=!0,h=e}finally{try{p||null==v.return||v.return()}finally{if(m)throw h}}e=this._renderAdder(),$add(this.tab_body,e,a)}},{key:"renderUserRow",value:function(e){var t,r=this,n=LI({c:"collaborator_list_item"}),a=SPAN({c:"user_info"});$ATT(n,o.default.renderAvatar(e,"small",h.default.theme)),$ATT(n,a);var i=e.full_name||e.user_full_name;if(e.id===window.User.id&&(i=_x("collaborator_list","Me")),i?$add(a,SPAN(t=B(i),BR(),e.email)):$add(a,SPAN(t=B(e.email))),"pending"===e.state&&$add(t,SPAN({c:"status pending"},_("Pending"))),e.id!==window.User.id&&!this.current_project.team_inbox){var s;$add(n,s=A({href:"#",c:"delete"},svgs.get("sm1/trash.svg"))),IstTooltip.showSimpleText(s,_("Remove collaborator")),$AEV(s,"click",function(){return(0,g.showConfirmDialog)({message:_('Are you sure you want to remove "%s"?').replace("%s",i||e.email),confirmLabel:_("OK"),onConfirm:function(){$remove(n),f.default.deleteFromProject(r.current_project.id,e)}}),!1})}if(e.id===window.User.id&&!this.current_project.team_inbox){var u;$add(n,u=A({href:"#",c:"leave_channel"},svgs.get("sm1/leave.svg"))),IstTooltip.showSimpleText(u,_("Leave this project")),$AEV(u,"click",function(){var e=_("Are you sure you want to leave this project?")+" "+_("This will delete it from your account.");return(0,g.showConfirmDialog)({message:e,confirmLabel:_("OK"),onConfirm:function(){f.default.deleteFromProject(r.current_project.id,window.User),c.default.deleteMany([r.current_project.id]),GB_hide(),l.default.reset()}}),!1})}return n}},{key:"_renderAdder",value:function(){var e,t,r=this,n=IstButton.createButton(_("Invite"),null,null,{"data-track":"share_project|invite_from_project_invite"});$addClass(n,"ist_button_red"),this.adder_input=e=INPUT({type:"text",placeholder:_("Email or Name"),c:"input_email text_box"});var a=DIV({c:"invite_adder"},e,n),i=function(){var n=e.value;n=$trim(n),-1!==n.indexOf(" ")&&-1===n.indexOf("<")&&(n=n.replace(/\s+/g,","));var a=!0,i=!1,o=void 0;try{for(var l,u=n.split(/[,;]/)[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){t=l.value;var c;if(t=$trim(t),0!==t.length){if(-1===t.indexOf("@"))return alert(_("Email isn't valid")+": "+$escape(t)),!1;var d=f.default.getAll(r.current_project.id),p=!0,m=!1,h=void 0;try{for(var v,b=d[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){if(v.value.email===t)return alert(_("User %s is already part of the project").replace("%s",$escape(t))),!1}}catch(e){m=!0,h=e}finally{try{p||null==b.return||b.return()}finally{if(m)throw h}}if(window.User.is_premium){if(c=window.User.share_limit||26,d.length>=c)return alert(DIV(B(_("Collaboration limit reached")),P(_("Unfortunately, you've reached the limit of 25 collaborators per project.")),P(_("Need more? Get in touch")," ",A({href:"mailto:support@todoist.com"},"support@todoist.com")))),!1}else if(c=6,d.length>=c)return s.default.showCollaboratorLimit(),!1;f.default.addInvite(r.current_project.id,t)}}}catch(e){i=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return r.renderView(),e.value="",!1};$AEV(n,"click",i);var l={collection:function(){var e={},t=[],r=!0,n=!1,a=void 0;try{for(var i,o=$values(f.default.getAllCollaborators())[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;if(l.id!==window.User.id&&!e[l.email]){e[l.email]=!0;var s=l.full_name+" "+l.email,u={name:s,email:l.email,avatar_small:l.avatar_small};t.push(u)}}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t},filterItem:function(e,t){var r=$setHTML(SPAN({c:"name_email"}),t),n=o.default.renderAvatar(e,"small",h.default.theme);return DIV(DIV({c:"ist_complete_icon"},n),DIV({c:"ist_complete_content"},r))},onSelect:function(e){return e.email},onNoMatches:function(){return IstComplete.hide(),!1},onPreProcess:function(e,t){return 0===e.length?[]:t},wildcard_match:!0,require_trigger:!1,whole_input_match:!0,extra_width:1};return IstComplete.attach(e,l),$AEV(e,"keydown",function(e){return 13!==e.keyAscii||!IstComplete.isShown()&&i()}),a}},{key:"render_intro_text",value:function(){return this.empty_state_holder=DIV(),b.default.render(v.default.createElement(y.EmptyStateSharing,null),this.empty_state_holder),this.empty_state_holder}},{key:"_checkEmpty",value:function(e){var t=this,r=null;return"owner"!==e.user_role&&(r=A({href:"#"},_("Leave this project")),$AEV(r,"click",function(){var e=_("Are you sure you want to leave this project?")+" "+_("This will delete it from your account.");return(0,g.showConfirmDialog)({message:e,confirmLabel:_("OK"),onConfirm:function(){f.default.deleteFromProject(t.current_project.id,window.User),c.default.deleteMany([t.current_project.id]),GB_hide(),l.default.reset()}}),!1})),$add(this.holder,DIV({c:"desc"},r))}},{key:"_sort",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.full_name?o.name=o.full_name.toLowerCase():o.name=o.email.toLowerCase()}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e=e.sort(function(e,t){return e.name.localeCompare(t.name)})}},{key:"promoCheck",value:function(){window.User.karma<200||!(0,p.hasSeen)(p.TOOLTIP_SHARING,m.default.getState())&&$isShown($("app_holder"))&&this._promoShow()}},{key:"_promoShow",value:function(){if(!$("blank_state_sharing")){this.promo_shown=!0;var e=DIV({id:"blank_state_sharing"},_("Share projects, assign tasks, discuss in real-time, and get notified when changes are made. Todoist lets you collaborate from any web-enabled device.")),t={},r=$all("a","share_icon",null,!0);r&&(t={fn_left_offset:function(e,t){return $position(r).x-t.width+40},fn_arrow_left:function(){return $position(r).x+5},fn_top_offset:function(){return $position(r).y+30},fixed_pos:!0},this.tipwin=TooptipWin.show(_("Collaborate with others"),e,300,350,t),$fx.fadeIn(e),m.default.dispatch((0,p.markSeen)(p.TOOLTIP_SHARING)))}}},{key:"promoRemove",value:function(){return this.promo_shown=!1,this.tipwin&&this.tipwin.hide(),!1}}]),e}();window.SharingManager=new E;var T=window.SharingManager;r.default=T},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/Collaborators":150,"../../models/ProjectsModel":161,"../../react_components/confirm_dialog":509,"../../react_components/emptyState":588,"../../reducers/tooltip":1040,"../../stores/store":1048,"../avatars/Avatars":17,"../formatter/Formatter.js":22,"../project_editor/ProjectEditorManager":61,"../projects_list/ProjectListUtils":70,"../themes/Themes":91,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom"}],83:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/ProjectsModel")),l=n(e("../../models/Colors")),s=n(e("../../filterist")),u=e("../../utils"),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=DIV({c:"project_viz"}),n=e.color;return void 0!==n?$setStyle(r,{backgroundColor:l.default.getHex("project",e.color),width:t}):$setStyle(r,{backgroundColor:"#dddddd",width:t}),r.color=n||0,r},d=function(){function e(){(0,a.default)(this,e),this.show=this.show.bind(this),this.hide=this.hide.bind(this)}return(0,i.default)(e,[{key:"renderHolder",value:function(){return DIV({id:"quick_day_show"})}},{key:"show",value:function(e){var t,r,n=s.default.getByDate(e);r=0===n.length?_("No tasks due"):(0,u.format)(_n("{count} task due","{count} tasks due",n.length),{count:n.length});var a=DIV({c:"project_bar"}),i=[],l=!0,d=!1,f=void 0;try{for(var p,m=n[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var h=p.value,v=o.default.get(h.project_id);v&&(t=c(v,8),i.push([v.color,t]))}}catch(e){d=!0,f=e}finally{try{l||null==m.return||m.return()}finally{if(d)throw f}}i.sort(function(e,t){return e[0]-t[0]});for(var b=0,y=i;b<y.length;b++)t=y[b],$add(a,t[1]);return DIV({c:"project_bar_holder"},r,CENTER(a))}},{key:"hide",value:function(){$replace($("quick_day_show"),null)}}]),e}(),f=new d;r.default=f},{"../../filterist":117,"../../models/Colors":151,"../../models/ProjectsModel":161,"../../utils":1094,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],84:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("../../models/SmartSchedule")),s=e("../../stores/SystemStatusStore"),u=e("../../utils"),c=n(e("../postpone/Postpone")),d=n(e("../../react_components/scheduler/SchedulerWrapper")),f=function(){function e(){(0,i.default)(this,e),this.create=this.create.bind(this),this.genIcon=this.genIcon.bind(this),this.genDate=this.genDate.bind(this),this.getPostponeIcon=this.getPostponeIcon.bind(this),this.genAISchedulerIcon=this.genAISchedulerIcon.bind(this),this.daysToAdd=this.daysToAdd.bind(this)}return(0,o.default)(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!0===t.with_help_text,n=!0===t.with_smart_schedule,a=!0===t.with_today,i=!0===t.with_tomorrow,o=!0===t.with_next_week,l=!0===t.with_postpone,s=!0===t.with_more,u=DIV({c:"scheduler_holder"});r&&$add(u,SPAN({c:"desc"},_("Schedule")));var c=DIV({c:"icon_list"});if($add(u,c),!n||!t.items||t.items instanceof Array||$add(c,this.genAISchedulerIcon(t.items,e,t.onHover)),a&&$add(c,this.genIcon("today",e,t.onHover,_("Today"),"scheduler|today")),i&&$add(c,this.genIcon("tomorrow",e,t.onHover,_("Tomorrow"),"scheduler|tomorrow")),l&&t.items){t.items instanceof Array&&1===t.items.length&&(t.items=t.items[0]);var d=t.items instanceof Array?t.on_postpone_click:e;$add(c,this.getPostponeIcon(t.items,d,t.onHover,"scheduler|postpone_to"))}return o&&$add(c,this.genIcon("next_week",e,t.onHover,_("Next week"),"scheduler|next_week")),s&&$add(c,this.genIcon("more",$p(this.moreClick,e,t.items),t.onHover,_("More"),"scheduler|more")),u}},{key:"moreClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0);return IstTooltip.hide(),t=t instanceof Array?t:[t],d.default.show({anchor:r,selectedItems:t,selectedDate:t[0].due,dialogClassName:"scheduler-editor-menu",hideMenus:!1,onDateSelect:e}),!1}},{key:"genIcon",value:function(e,t,r,n,a){var i,o=this,l="";switch(e){case"today":i="sm1/scheduler_today.svg",l="icon_today";break;case"tomorrow":i="sm1/scheduler_tomorrow.svg",l="icon_tomorrow";break;case"next_week":i="sm1/scheduler_next_week.svg",l="icon_next_week";break;case"more":i="sm1/more.svg",l="icon_more"}var s=A({href:"#",c:"icon_scheduler ".concat(l),"data-track":a},svgs.get(i));if("today"===e){var u="".concat((new Date).getDate());s.querySelector("tspan").textContent=u}return $AEV(s,["click","touchstart"],function(){return"more"!==e&&Signals.sendSignal("hide_editor_menu"),IstTooltip.hide(),t(o.genDate(e),s),!1}),r&&$AEV(s,"mouseover",function(){if("more"!==e)return r(o.genDate(e)),!1}),IstTooltip.showSimpleText(s,n,null,3,12),s}},{key:"genDate",value:function(e){if("today"===e)return Dateist.parse("today").due_date;if("tomorrow"===e)return Dateist.parse("tomorrow").due_date;if("next_week"===e){var t=this.daysToAdd();return Dateist.parse("+".concat(t," days")).due_date}}},{key:"getPostponeIcon",value:function(e,t,r,n){var i,o=A({href:"#",c:"icon_scheduler icon_postpone","data-track":n},svgs.get("sm1/scheduler_postpone.svg")),l=function(e){var t=c.default.getPostponeDate(e),r=t.new_due,n=t.formated_due;if("END_REACHED"===r){var a=Dateist.parse("tomorrow").due_date,i=DateistDateHelpers.day_diff(new Date,a);return[a,u.DateUtils.humanizeDayDiff(i,a)]}return[r,n]};if(e instanceof Array){var s=e.map(function(e){return l(e)[0]});return $AEV(o,["click","touchstart"],function(){return IstTooltip.hide(),Signals.sendSignal("hide_editor_menu"),t(s),!1}),r&&$AEV(o,"mouseover",function(){r(s)}),i=SPAN(_("Postpone")),IstTooltip.showSimpleText(o,i,null,3,12),o}var d=Array.from(l(e)),f=(0,a.default)(d,2),p=f[0],m=f[1];return $AEV(o,["click","touchstart"],function(){return IstTooltip.hide(),Signals.sendSignal("hide_editor_menu"),t(p),!1}),r&&$AEV(o,"mouseover",function(){r(p)}),i=SPAN(_("Postpone to")," ",B(m)),IstTooltip.showSimpleText(o,i,null,3,12),o}},{key:"genAISchedulerIcon",value:function(e,t,r){var n,a,i,o,c=Indicator.ringSpinner(),d=A({c:"icon_ai_scheduler icon_scheduler","data-track":"scheduler|ai"},SPAN({c:"spin_loader"},c),a=SPAN({
c:"predicted_date icon_suggestion"},svgs.get("sm1/scheduler_smart_date.svg")),n=SPAN({c:"error_icon icon_suggestion"},svgs.get("sm1/scheduler_error.svg")));return(0,s.isOffline)()?(o=_("Smart Schedule requires an Internet connection"),IstTooltip.showSimpleText(d,o,null,3,12),$addClass(d,"has_error"),r&&$AEV(d,["mouseover"],function(){r(null)}),d):(l.default.predictItemDuedate(e,function(e,n){if(n)return o=_("No suggestions available"),IstTooltip.showSimpleText(d,o,null,3,12),$addClass(d,"has_error"),void(r&&$AEV(d,["mouseover"],function(){r(null)}));e=DateistDateHelpers.date_max(e);var a=DateistDateHelpers.day_diff(new Date,e),l=u.DateUtils.humanizeDayDiff(a,e);o=DIV(_("Suggested date: "),B(l)),IstTooltip.showSimpleText(d,o,null,3,12),i=d.querySelector(".predicted_date tspan"),i.textContent=e.getDate(),$addClass(d,"has_result"),$AEV(d,["click","touchstart"],function(){IstTooltip.hide(),t(e)}),r&&$AEV(d,["mouseover"],function(){r(e)})}),d)}},{key:"daysToAdd",value:function(){var e=new Date,t=DateistDateHelpers.iso_day(e),r=window.Settings.START_DAY,n=window.Settings.NEXT_WEEK,a=r-t;a<=0&&(a+=7);var i=n-r;return i<0&&(i+=7),a+i}}]),e}(),p=new f;r.default=p},{"../../models/SmartSchedule":166,"../../react_components/scheduler/SchedulerWrapper":918,"../../stores/SystemStatusStore":1045,"../../utils":1094,"../postpone/Postpone":57,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],85:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("../generic_manager/GenericManagerUtils.js")),i=Class({current_replacer:null,init:function(e,t){this.li_items=e,this.controller=t,this.set_indent=!0,this.start_x=0,this.current_indent=1,this.indent_level="ProjectList"==t.name&&22||28,this.max_indent="ProjectList"==t.name&&4||5,$bindMethods(this)},onStart:function(){var e=ICE.$dnd.current_root,t=e.getBoundingClientRect().top,r=this.current_replacer=LI();ICE.$dnd.current_replacer=r,this.start_indent_x=(e.json.indent-1)*this.indent_level,this.set_indent&&($setStyle(r,"marginLeft",this.start_indent_x+"px"),this.current_indent=e.json.indent,this.cur_child=a.default.getChildren(e)),this.cur_child=this.cur_child||[],ICE.$dnd.cur_child=this.cur_child,$map(this.cur_child,function(e){$hide(e)}),$setClass(r,e.className),$addClass(r,"drop_item"),$removeClass(r,"current"),$addClass(e,"on_drag");var n=0;$hasClass(e,"task_item")||(n=1),$setHeight(r,e.offsetHeight-n),$setOpacity(e,1),$setTop(e,t),e.style.position="fixed",$addAfter(r,e),$setWidth(e,r.offsetWidth)},onDrag:function(){var e=ICE.$dnd.current_root,t=this.current_replacer,r=e.getBoundingClientRect().top,n=r+e.offsetHeight;if(this.li_items.forEach(function(a){if(a!==e){var i=a.getBoundingClientRect().top,o=i+a.offsetHeight/2,l=i+a.offsetHeight;if($hasClass(a,"reorder_item")&&r<o&&n>o)return void $addAfter(t,a);if(n>o&&n<l){for(;a.nextSibling&&"none"==a.nextSibling.style.display;)a=a.nextSibling;$addAfter(t,a)}else r<o&&r>i&&$addBefore(t,a)}}),this.set_indent){0===this.start_x&&(this.start_x=$position(e).x-this.start_indent_x);var a=$position(e).x-this.start_x,i=this.current_indent,o=this.indent_level;a<=10?i=1:a>=1*o-10&&a<=1*o+10?i=2:a>=2*o-10&&a<=2*o+10?i=3:a>=3*o-10&&a<=3*o+10?i=4:a>=4*o-10&&a<=4*o+10?i=5:a>=5*o-10&&a<=5*o+10&&(i=6),i>this.max_indent&&(i=this.max_indent);for(var l=t.previousSibling;;){if(!l)break;{if(l.json&&l!=e&&!$isHidden(l)&&!$hasClass(l,"manager")&&!$hasClass(l,"reorder_item"))break;l=l.previousSibling}}l?i>l.json.indent&&(i=Math.min(l.json.indent+1,this.max_indent)):i=1;var s=t.nextSibling;if(s)try{var u=s.json.indent;i<u&&(i=u)}catch(e){}$setStyle(t,"marginLeft",(i-1)*this.indent_level+"px"),this.current_indent=i}},onEnd:function(){var e=this,t=ICE.$dnd.current_root,r=this.current_replacer;if($removeClass(t,"on_drag"),t.style.position="",t.style.left="",t.style.top="",t.style.width="",t.style.opacity=1,this.set_indent){var n=this.current_indent;if(n>5&&(n=5),n!=t.json.indent){var i=n-t.json.indent;a.default.setIndent(t,n),$map(this.cur_child,function(t){var r=t.json.indent+i;r>e.max_indent&&(r=e.max_indent),a.default.setIndent(t,r)})}}try{$addBefore(t,r)}catch(e){}$remove($$("li.drop_item"));var o=this.controller.name||this.controller.list_class;if(("ProjectList"==o||"ProjectEditor"==o)&&a.default.normalizeIndent(t,t),ICE.$dnd.removeDragAble(t),this.current_replacer=null,ICE.$dnd.current_replacer=null,this.cur_child)return $rmap(this.cur_child,function(e){$addAfter(e,t)}),a.default.showHideChildren(this.cur_child,t),ICE.$dnd.cur_child=this.cur_child=null,!1}}),o=i;r.default=o},{"../generic_manager/GenericManagerUtils.js":26,"@babel/runtime/helpers/interopRequireDefault":189}],86:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parseStartPage=void 0;var a=n(e("../agenda/AgendaUtils")),i=n(e("../loading/Loading.js")),o=n(e("../projects_list/ProjectListUtils")),l=n(e("../location_manager/LocationManager.js")),s=n(e("../../stores/store")),u=e("../../reducers/mainView"),c=e("../../utils"),d=e("../../reducers/filters"),f=function(e){var t=/project\?id=(\d+)/,r=t.exec(e);return r?{type:"project",id:parseInt(r[1])}:r},p=function(e){var t=/project:(\d+)/,r=t.exec(e);return r?{type:"project",id:parseInt(r[1])}:r},m=function(e){var t=/_project_(\d+)/,r=t.exec(e);return r?{type:"project",id:parseInt(r[1])}:r},h=function(e){var t=/filter\?id=(\d+)/,r=t.exec(e);return r?{type:"filter",id:parseInt(r[1])}:r},_=function(e){var t=/filter:(\d+)/,r=t.exec(e);return r?{type:"filter",id:parseInt(r[1])}:r},v=function(e){var t=/label\?name=(.+)/,r=t.exec(e);return r?{type:"label",name:r[1]}:r},b=function(e){var t=/label:(\d+)/,r=t.exec(e);return r?{type:"label",id:parseInt(r[1])}:r},y=function(e){return"inbox"===e?{type:"inbox"}:null},g=function(e){return"teaminbox"===e?{type:"teaminbox"}:null},E=function(e){return"today"===e?{type:"today"}:null},T=function(e){return"next7days"===e?{type:"next7days"}:null},w=function(e){return"overdue, today"===e?{type:"today"}:null},R=function(e){return"overdue, 7 days"===e?{type:"next7days"}:null},P=function(e){return"_blank"===e||"blank"===e?{type:"blank"}:null},D=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){try{for(var r=0;r<t.length;r++){var n=t[r](e);if(n)return n}}catch(e){}return{type:"invalid"}}}(E,w,T,R,y,g,P,f,p,m,v,b,h,_);r.parseStartPage=D;var O=!0,C={show:function(){var e=l.default.getHash();return e&&O&&"start"!=e&&-1==e.indexOf("utm_source")?(l.default.updateView(e,!0),O=!1,i.default.hide(),!0):(C.queryStart(),l.default.updateLocation("start"),i.default.hide(),!1)},queryStart:function(){var e=window.Settings&&window.Settings.START_PAGE||"today";o.default.deselectCurrent();var t=s.default.getState(),r=D(e),n=!1;switch(!r.id||"filter"===r.type&&(0,d.isDefaultFilter)(r.id)||(r.id=(0,c.toUniqueID)(t,r.id)),r.type){case"today":s.default.dispatch((0,u.showTodayView)());break;case"next7days":s.default.dispatch((0,u.show7DaysView)());break;case"inbox":var i=t.user.inbox_project;s.default.dispatch((0,u.showProjectView)([i]));break;case"teaminbox":var l=t.user.team_inbox;s.default.dispatch((0,u.showProjectView)([l]));break;case"project":var f=r.id;t.projects[f]?s.default.dispatch((0,u.showProjectView)([f],{bottomListSelected:!0})):n=!0;break;case"label":var p=r.name;p?s.default.dispatch((0,u.showLabelView)(p,{bottomListSelected:!0})):n=!0;break;case"filter":var m=r.id;(0,d.filterGetByID)(t,m)?s.default.dispatch((0,u.showFilterView)(m,{bottomListSelected:!0})):n=!0;break;case"blank":a.default.reset(),$replace($("editor"),null);break;case"invalid":s.default.dispatch((0,u.showQueryView)(e))}n&&s.default.dispatch((0,u.showTodayView)())}},I=C;r.default=I},{"../../reducers/filters":1e3,"../../reducers/mainView":1015,"../../stores/store":1048,"../../utils":1094,"../agenda/AgendaUtils":8,"../loading/Loading.js":42,"../location_manager/LocationManager.js":45,"../projects_list/ProjectListUtils":70,"@babel/runtime/helpers/interopRequireDefault":189}],87:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/SyncEngine")),l=n(e("../../models/ItemsModel")),s=n(e("../../models/ProjectsModel")),u=n(e("../../models/LabelsModel")),c=n(e("../../models/FiltersModel")),d=e("../../react_components/confirm_dialog"),f=n(e("../../stores/store")),p=e("../../reducers/undo"),m=e("../../utils"),h=function(){function e(){var t=this;(0,a.default)(this,e),Signals.connect("sync_state_changed",function(){if(t.ul){o.default.getSyncState()===o.default.sync_states.syncing?($replace(t.ul,LI("...")),$setVisibility(t.btn_retry,!1),$show(t.indicator)):(t.generateListReport(t.ul),$setVisibility(t.btn_retry,!0),$hide(t.indicator))}})}return(0,i.default)(e,[{key:"show",value:function(){var e=this;this.btn_retry=IstButton.createButton(_("Try to sync again"),null,"red");var t=IstButton.createButton(_("Discard failed updates"),null),r=DIV({c:"sync_report"},DIV(_("Your updates couldn't be synced with Todoist's servers. Please wait a few minutes and try again."),DIV({c:"small_separator"}),this.indicator=Indicator.cssSpinner(),this.btn_retry,DIV({c:"separator"}),_("Detailed log"),":",DIV({c:"small_separator"}),this.ul=UL({c:"sync_error_text",name:"body"})),DIV({c:"separator"}),DIV(SPAN({c:"desc"},_("Discarding will restore your sync, but your updates mentioned above will be lost")),DIV({c:"small_separator"}),t),DIV({c:"separator"}));$hide(this.indicator),this.generateListReport(this.ul),$AEV(this.btn_retry,"click",function(){return o.default.sync(null,!0,!0),!1}),$AEV(t,"click",function(){return(0,d.showConfirmDialog)({confirmLabel:_("Yes"),cancelLabel:_("No"),message:_("Are you sure you want to discard your sync updates?"),onConfirm:function(){o.default.sync_queue.clear(),Signals.sendSignal("clear_local_data"),window.location.reload()}}),!1});var n=DIV({c:"sync_error_handler"},r);GB_showHTML(_("Sync issues"),n,300,550,function(){e.ul=null})}},{key:"generateListReport",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$replace(e,null);var n=function(e){var t=s.default.get(e.id),r=(null!=t?t.name:void 0)||e.name;if(r)return $trim(r,75)},a=0,i={};if(!r){var d;$add(e,LI({c:"log_action"},d=BUTTON({c:"full_log_action"},_("Show full log")))),$AEV(d,"click",function(){return t.generateListReport(e,!0),!1})}var h=o.default.sync_queue.get(),v=!0,b=!1,y=void 0;try{for(var g,E=h[Symbol.iterator]();!(v=(g=E.next()).done);v=!0){var T=g.value;if(T.last_error){var w;a++;var R="".concat(T.type,"-").concat(T.args.id,"-").concat(T.last_error.error_code);if(i[R])continue;i[R]=!0;var P=null;try{-1!==T.type.indexOf("item_")?P=function(e){var t=l.default.getById(e.id),r=(null!=t?t.content:void 0)||e.content;if(r)return $trim(r,75)}(T.args):-1!==T.type.indexOf("project_")?P=n(T.args):-1!==T.type.indexOf("share_")?P=n(T.args):-1!==T.type.indexOf("label_")?P=function(e){var t=u.default.getById(e.id),r=(null!=t?t.name:void 0)||e.name;if(r)return $trim(r,75)}(T.args):-1!==T.type.indexOf("filter_")&&(P=function(e){var t=c.default.get(e.id),r=(null!=t?t.name:void 0)||t.name;if(r)return $trim(r,75)}(T.args))}catch(e){}P=P?B(P,": "):"",w=r?LI(B(P),$serialize(T)):LI(B(P),this.humanCommandType(T.type),". ",this.getErrorIfAvailable(T)),$add(e,w)}}}catch(e){b=!0,y=e}finally{try{v||null==E.return||E.return()}finally{if(b)throw y}}if(0===a)$add(e,LI(_("All updates processed successfully!")));else if(m.copyToClipboard.supported){var D=function(){var e=JSON.stringify(h,null,2);(0,m.copyToClipboard)(e).then(function(){f.default.dispatch((0,p.undoPushMessage)(_("Sync log copied!")))})},O=BUTTON({c:"copy_log_action"},_("Copy full log to clipboard"));$AEV(O,"click",D),$add(e,LI({c:"log_action"},O))}}},{key:"getJson",value:function(){var e=[window.User.id,navigator.appVersion,window.LANG,$queryArgument("v")],t=!0,r=!1,n=void 0;try{for(var a,i=o.default.sync_queue.get()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var l=a.value;if(l.last_error){var s=$update({},l);s.args=$update({},l.args),s.args&&(s.args.content&&(s.args.content="..."),s.args.name&&(s.args.name="...")),e.push(s)}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return $serialize(e)}},{key:"humanCommandType",value:function(e){switch(e){case"item_add":return _("Task add failed");case"item_delete":return _("Task delete failed");case"item_update":case"item_update_date_complete":return _("Task update failed");case"item_move":return _("Task move failed");case"item_complete":return _("Task complete failed");case"item_uncomplete":return _("Task uncomplete failed");case"item_update_orders_indents":case"item_update_day_orders":return _("Task order update failed");case"note_add":return _("Comment add failed");case"note_update":return _("Comment update failed");case"note_delete":return _("Comment delete failed");case"project_add":return _("Project add failed");case"project_update":return _("Project update failed");case"project_delete":return _("Project delete failed");case"project_archive":return _("Project archive failed");case"project_unarchive":return _("Project unarchive failed");case"project_update_orders_indents":return _("Project order update failed");case"label_add":return _("Label add failed");case"label_delete":return _("Label delete failed");case"label_update":return _("Label update failed");case"label_update_orders":return _("Label order update failed");case"filter_add":return _("Filter add failed");case"filter_delete":return _("Filter delete failed");case"filter_update":return _("Filter update failed");case"filter_update_orders":return _("Filter order update failed");case"share_project":return _("Share project failed");case"delete_collaborator":return _("Remove collaborator failed");case"accept_invitation":return _("Accept invitation failed");case"reject_invitation":return _("Reject invitation failed");case"delete_invitation":return _("Delete invitation failed")}return _("%s failed").replace("%s",e)}},{key:"getErrorIfAvailable",value:function(e){return e&&e.last_error&&e.last_error.error?e.last_error.error:""}}]),e}(),v=new h;r.default=v},{"../../models/FiltersModel":156,"../../models/ItemsModel":157,"../../models/LabelsModel":158,"../../models/ProjectsModel":161,"../../models/SyncEngine":171,"../../react_components/confirm_dialog":509,"../../reducers/undo":1041,"../../stores/store":1048,"../../utils":1094,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],88:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/SyncEngine")),l=n(e("../../models/LoadEngine")),s=n(e("../../components/sync_error_handler/SyncErrorHandler")),u=function(){function e(){var t=this;(0,a.default)(this,e),this.render=this.render.bind(this),this.syncStateChanged=this.syncStateChanged.bind(this),this._syncStateChanged=this._syncStateChanged.bind(this),this.showOfflineInfo=this.showOfflineInfo.bind(this),this.forceSync=this.forceSync.bind(this),this.showSyncErrorHandler=this.showSyncErrorHandler.bind(this),this.current_state=null,Signals.connect("sync_state_changed",this.syncStateChanged),$AEV(window,"online",this.syncStateChanged),$AEV(window,"offline",this.syncStateChanged),$AEV(window,"load",function(){t.render(),!1===navigator.onLine&&t.syncStateChanged()})}return(0,i.default)(e,[{key:"render",value:function(){return this.holder?this.holder:(this.holder=SPAN({id:"sync_state_icon"}),this.holder)}},{key:"syncStateChanged",value:function(){this.holder&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this._syncStateChanged,100))}},{key:"_syncStateChanged",value:function(){var e=o.default.getSyncState(),t=o.default.sync_states,r=null;r=e===t.syncing?"syncing":o.default.global_error?"offline":o.default.getQueueErrorLength()?"offline":l.default.fetched_data_from_server?"none":"offline";var n=navigator.onLine;if("none"==r&&void 0!==n&&(n||(r="offline")),this.current_state!==r&&(this.current_state=r,r))if($replace(this.holder,null),"syncing"===r)$add(this.holder,Indicator.cssSpinner("small"));else if("offline"===r){var a;this.offline_link=a=SPAN({href:"#",c:"fixed_pos"},svgs.get("sm1/warning.svg",{className:"sync_alert"})),$AEV(a,"mouseover",$p(this.showOfflineInfo,a)),$AEV(a,"mouseout",IstTooltip.hide),!o.default.global_error&&o.default.getQueueErrorLength()>0&&$addClass(a,"sync_error_blinking"),a.onclick=this.forceSync,$add(this.holder,a)}}},{key:"showOfflineInfo",value:function(e){var t;o.default.getSyncState();var r=_("Offline mode is on");if(this.offline_link.onclick=this.forceSync,!1===navigator.onLine)t=DIV({c:"sync_error_tooltip"},_("Looks like you're not connected to the Internet. Changes you make in offline mode will be synced when you reconnect."));else if(o.default.global_error){var n=o.default.timeout/1e3||10;t=DIV({c:"sync_error_tooltip"},P(_("We're having trouble reaching the Todoist servers. Changes you make in offline mode will be synced once we're able to reconnect.")),P(_("Click on this icon to force a sync.")),P(_("Trying again in %s seconds...").replace("%s",n)))}else o.default.getQueueErrorLength()>0?(r=_("Sync issues"),t=DIV({c:"sync_error_tooltip"},_("We could not sync some updates"),BR(),_("Click here for more details")),this.offline_link.onclick=this.showSyncErrorHandler):t=null;IstTooltip.show(e,DIV({c:"ist_tooltip_content"},B(r),t),null,5,5)}},{key:"forceSync",value:function(){return IstTooltip.hide(),this.current_state="syncing",o.default.sync(null,!0,!0),$replace(this.holder,Indicator.cssSpinner("small")),!1}},{key:"showSyncErrorHandler",value:function(){return s.default.show(),!1}}]),e}(),c=new u;r.default=c},{"../../components/sync_error_handler/SyncErrorHandler":87,"../../models/LoadEngine":159,"../../models/SyncEngine":171,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],89:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../../models/ProjectsModel")),l=n(e("../../models/TemporaryIds")),s=n(e("../copy_to_clipboard/CopyForm")),u=n(e("../../containers/premium_promo/PremiumOnlyModal")),c=n(e("../../models/SyncEngine")),d=function(){function e(){(0,a.default)(this,e),this.showExportTemplate=this.showExportTemplate.bind(this),this.exportAsFile=this.exportAsFile.bind(this),this.exportAsUrl=this.exportAsUrl.bind(this)}return(0,i.default)(e,[{key:"showExportTemplate",value:function(e){var t,r;if(!this.checkPremiumForTemplates())return!1;var n=DIV({c:"template_exporter"},DIV(_("Please pick the template type:")),DIV(t=IstButton.createButton(_("Export as file"),svgs.get("sm1/file.svg"))),DIV(r=IstButton.createButton(_("Export as shareable URL"),svgs.get("sm1/link.svg"))),DIV({c:"template_relative"},LABEL(this.input_relative=INPUT({type:"checkbox"}),_("Use relative dates")),BR(),SPAN({c:"desc"},_("Relative means \u201cTomorrow\u201d will get turned into \u201c+1 day\u201d"))));this.input_relative.checked=!0,$AEV(t,"click",$p(this.exportAsFile,e)),$AEV(r,"click",$p(this.exportAsUrl,e,n)),GB_showHTML(_("Export as a template"),n,300,400)}},{key:"exportAsFile",value:function(e){var t=this,r=function(e){var r=t.input_relative.checked&&1||0,n=$encode({project_id:e,use_relative_dates:r}),a="/API/".concat(c.default.api_version,"/templates/export_as_file?").concat(n);return window.open(a),GB_hide(),!1};this.customShowGb(e,r)}},{key:"exportAsUrl",value:function(e,t){var r=this,n=function(e){var r=$encode({t_url:e.file_url}),n=s.default.genereate();n.input.value="https://todoist.com/API/".concat(c.default.api_version,"/import/project_from_url?").concat(r),$replace(t,DIV(_("Copy the URL"),":",BR(),n.form))},a=function(){$replace(t,Indicator.cssSpinner());var a=$requestJSON("/API/".concat(c.default.api_version,"/templates/export_as_url"));a.addCallback(n);var i=r.input_relative.checked&&1||0;a.sendReq({project_id:e,use_relative_dates:i})};return this.customShowGb(e,a),!1}},{key:"showImport",value:function(e){var t,r;if(!this.checkPremiumForTemplates())return!1;var n=DIV({c:"template_importer"},t=DIV({c:"upload_holder"}),DIV({c:"template_help"},_("Import tasks from a template, use this to create a new project by duplicating an existing one."),BR(),r=A({href:"https://www.youtube.com/watch?v=_Rl_CLGY_3o"},"\u25b6 ",_("Show a help video"))));$AEV(r,"click",function(){return GB_showYouTube("","https://www.youtube.com/watch?v=_Rl_CLGY_3o",387,640),!1});var a=function(){var t={onSuccess:function(){o.default.get(e)&&Signals.sendSignal("instant_refresh_interface"),setTimeout(GB_hide,200)}};top.SyncEngine.sync(t,!0)},i=new GHtml5Uploader(t,"/API/".concat(c.default.api_version,"/templates/import_into_project?project_id=").concat(e),!1,{allFilesUploaded:a,fileUploaded:a});return GB_showHTML(_("Import from template"),n,300,400,{close_validator_fn:function(){return i.remove(),!0}}),!1}},{key:"checkPremiumForTemplates",value:function(){return!!window.User.is_premium||(u.default.showTemplate(),!1)}},{key:"customShowGb",value:function(e,t){l.default.waitToResolve(e,function(e){t(e)})}}]),e}(),f=new d;r.default=f},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/ProjectsModel":161,"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../copy_to_clipboard/CopyForm":19,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],90:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=e("../../utils"),i=e("../../reducers/tooltip"),o=n(e("../../stores/store")),l=n(e("../../stores/subscribeSelected")),s=n(e("../start_page/StartPage"));(0,l.default)(o.default,(0,i.hasSeen)("accept_terms"),function(e){e||u()});var u=function(){var e=A({c:"ist_button ist_button_red"},_("Agree to Terms")),t=(0,a.format)(_("By clicking \u201cAgree to Terms\u201d, you agree to Todoist\u2019s {link1_start}Terms of Service{link1_end} and {link2_start}Privacy Policy{link2_end}."),{link1_start:'<a href="https://todoist.com/terms">',link1_end:"</a>",link2_start:'<a href="https://todoist.com/privacy">',link2_end:"</a>"}),r=P({c:"footer"});$setHTML(r,t);var n=DIV({c:"terms_dialog"},H1(_("Terms of Service")),P(_("To give you more control and transparency around the data we collect, we\u2019ve updated our Terms of Service and Privacy Policy. Here\u2019s a brief summary of the changes:")),H2(_("Transparency:")),P(_("You can see what type of data we collect from you, where we store it, how long we keep it, and how it\u2019s safeguarded.")),H2(_("Control:")),P(_("Your data is (and has always been) 100% your own. You have the ability to opt-in and out of emails, correct inaccurate data whenever you\u2019d like, and delete your account and data.")),P(_("If you agree with the changes, click below.")),e,r),l=GB_showHTML(null,n,500,550,{no_header:!0,close_validator_fn:function(){return!1}});$AEV(e,"click",function(){o.default.dispatch((0,i.markSeen)("accept_terms")),s.default.show(),l.hide()})};window.showTermsDialog=u},{"../../reducers/tooltip":1040,"../../stores/store":1048,"../../stores/subscribeSelected":1049,"../../utils":1094,"../start_page/StartPage":86,"@babel/runtime/helpers/interopRequireDefault":189}],91:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("../../stores/store")),s=a(e("../../stores/subscribeSelected")),u=e("../../reducers/settings"),c=e("../../reducers/selectors"),d=n(e("../../logger/Logger")),f={amethyst:"https://d3ptyyxy2at9ui.cloudfront.net/theme_amethyst.svgs-dbeaa3.js",blueberry:"https://d3ptyyxy2at9ui.cloudfront.net/theme_blueberry.svgs-c043b0.js",clover:"https://d3ptyyxy2at9ui.cloudfront.net/theme_clover.svgs-ebb110.js",dark:"https://d3ptyyxy2at9ui.cloudfront.net/theme_dark.svgs-cf8f8e.js",graphite:"https://d3ptyyxy2at9ui.cloudfront.net/theme_graphite.svgs-f0e886.js",gold:"https://d3ptyyxy2at9ui.cloudfront.net/theme_gold.svgs-58596f.js",neutral:"https://d3ptyyxy2at9ui.cloudfront.net/theme_neutral.svgs-c427b4.js",noir:"https://d3ptyyxy2at9ui.cloudfront.net/theme_noir.svgs-385a3b.js",sky:"https://d3ptyyxy2at9ui.cloudfront.net/theme_sky.svgs-db4c67.js",sunflower:"https://d3ptyyxy2at9ui.cloudfront.net/theme_sunflower.svgs-6ce120.js",tangerine:"https://d3ptyyxy2at9ui.cloudfront.net/theme_tangerine.svgs-13465d.js",todoist:"https://d3ptyyxy2at9ui.cloudfront.net/theme_todoist.svgs-67f02f.js"},p=function(){function e(){var t=this;(0,i.default)(this,e),this.theme="theme_todoist",this.theme_name="todoist",this.theme_number=15,this.theme_id_to_name={1:"noir",2:"neutral",3:"tangerine",4:"sunflower",5:"clover",6:"blueberry",7:"sky",8:"amethyst",9:"graphite",10:"gold",11:"dark"},this.loading_svg_bundles={},this.switchThemes=this.switchThemes.bind(this),this.loadSvgBundle=this.loadSvgBundle.bind(this),(0,s.default)(l.default,u.getTheme,c.dataLoaded,function(e,r){$html()&&void 0!==e&&r&&t.theme_number!==e&&t.switchThemes(e)})}return(0,o.default)(e,[{key:"changeThemeClass",value:function(e){var t="theme_".concat(this.theme_id_to_name[e])||"theme_todoist",r=$html().className;r=r.replace(/theme_\S+/g,""),r+=" ".concat(t),$html().className=r}},{key:"switchThemes",value:function(e){var t=this;$("top_bar")&&(this.theme_number=e,this.theme_name=this.theme_id_to_name[e]||"todoist",this.theme="theme_".concat(this.theme_name),this.loadSvgBundle().then(function(){return t.changeThemeClass(e),Signals.sendSignal("theme_changed")}))}},{key:"loadSvgBundle",value:function(){var e=this;return this.loading_svg_bundles[this.theme_name]instanceof Promise?this.loading_svg_bundles[this.theme_name]:($remove($("theme-loader")),this.loading_svg_bundles[this.theme_name]=new Promise(function(t){var r=SCRIPT({id:"theme-loader",src:f[e.theme_name]||f.todoist,async:!0});r.onload=function(){e.loading_svg_bundles[e.theme_name]=!1,t()},r.onerror=function(r){e.loading_svg_bundles[e.theme_name]=!1,d.captureError(r,{tags:{where:"ThemesSVGLoader"}}),t()},$add(document.body,r)}),this.loading_svg_bundles[this.theme_name])}}]),e}();window.Themes=new p;var m=window.Themes;r.default=m},{"../../logger/Logger":132,"../../reducers/selectors":1035,"../../reducers/settings":1036,"../../stores/store":1048,"../../stores/subscribeSelected":1049,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],92:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("../../models/Storage"),l=n(e("../opener/WindowOpener.js")),s=function(){function e(){(0,a.default)(this,e),this.getValidTimezone=this.getValidTimezone.bind(this),this.setValidTimezone=this.setValidTimezone.bind(this),this.checkTimezone=this.checkTimezone.bind(this),this.guessTimezone=this.guessTimezone.bind(this),this.showTimezoneHint=this.showTimezoneHint.bind(this),this.showTimezoneHintNormal=this.showTimezoneHintNormal.bind(this),this.createHintLink=this.createHintLink.bind(this),this.changeTimezoneToCurrent=this.changeTimezoneToCurrent.bind(this),this.hideTimezoneHint=this.hideTimezoneHint.bind(this),this.showSettings=this.showSettings.bind(this)}return(0,i.default)(e,[{key:"getValidTimezone",value:function(){return(0,o.$storage)("valid_timezone").get()}},{key:"setValidTimezone",value:function(e){(0,o.$storage)("valid_timezone").set(e)}},{key:"checkTimezone",value:function(){var e,t,r,n=window,a=n.User;if(a&&(a.tz_offset||a.tz_info)&&!window.PRINT_MODE){if(a.tz_info)e=a.tz_info.timezone,t=a.tz_info.hours,r=a.tz_info.minutes;else{e=a.timezone;var i=a.tz_offset;t=i[1],r=i[2]}if(this.getValidTimezone()!==e){var o=60*t+r,l=-(new Date).getTimezoneOffset();if(o!==l){var s;try{s=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){s=null}this.guessTimezone(l,s)}}}}},{key:"guessTimezone",value:function(e,t){var r=$requestJSON("/sync/v8/guess_timezone");r.addCallback(this.showTimezoneHint),r.sendReq({mm_offset:e,timezone_name:t})}},{key:"showTimezoneHint",value:function(e){this.showTimezoneHintNormal(e)}},{key:"showTimezoneHintNormal",value:function(e){if(e!==(window.User.timezone||window.User.tz_info.timezone)){_("Change time zone to {timezone}?");var t=DIV({c:"timezone_alert"});"UNKNOWN_TIMEZONE"!==e?(this.current_timezone=e,$add(t,_("Change time zone to %s?").replace("%s",e),BR(),this.createHintLink(_("Yes, update my settings"),this.changeTimezoneToCurrent,"ist_button ist_button_red ist_button_big timezone_button"),BR(),this.createHintLink(_("Don't update settings"),this.hideTimezoneHint,"timezone_link timezone_link_block"),this.createHintLink(_("View my settings"),this.showSettings,"timezone_link timezone_link_block"))):$add(t,DIV({c:"timezone_alert_message"},_("Your system time zone doesn't match your Todoist settings. Fix it now?")),this.createHintLink(_("Yes, show my settings"),this.showSettings,"ist_button ist_button_red ist_button_big timezone_button"),BR(),this.createHintLink(_("Don't update settings"),this.hideTimezoneHint,"timezone_link timezone_link_block")),GB_showHTML(_("Time zone settings"),DIV(t),200,400)}}},{key:"createHintLink",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"timezone_link",n=A({c:r,href:"#"},e);return $AEV(n,"click",t),n}},{key:"changeTimezoneToCurrent",value:function(){var e=this;this.hideTimezoneHint();var t=$request("/prefs/general/update_timezone");return t.addCallback(function(){return window.tz_info?window.User.tz_info.timezone=e.current_timezone:window.User.timezone=e.current_timezone,(0,o.$storage)("User").set(window.User),window.location.reload()}),t.sendReq({value:this.current_timezone}),!1}},{key:"hideTimezoneHint",value:function(){return GB_hideIfNeeded(),!1}},{key:"showSettings",value:function(){return this.hideTimezoneHint(),l.default.showPrefs("general"),!1}}]),e}(),u=new s;r.default=u},{"../../models/Storage":169,"../opener/WindowOpener.js":53,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],93:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../sync_state_icon/SyncStateIcon")),l=n(e("../notifications/Notifications")),s=n(e("../start_page/StartPage.js")),u=n(e("../../menus/MenuUser.js")),c=n(e("../../stores/store")),d=e("../../reducers/modals"),f=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,[{key:"renderTopLogo",value:function(){var e=A({href:"#"},svgs.get("sm1/todoist_logo.svg"));e.onclick=function(){return s.default.queryStart(),!1},$replace($("logo"),e)}},{key:"render",value:function(){var e,t;this.renderTopLogo()
;var r=$("top_icons");$addBefore(e=SPAN({"data-track":"navigation|quick_add"},this.createIcon(SPAN(svgs.get("sm1/plus_m.svg")),SPAN(B(_("Quick Add Task")),BR(),_("Open by typing %s").replace("%s","q")))),$("before_pie")),e.id="quick_add_task_holder",$AEV(e,"click",function(){c.default.dispatch((0,d.showModal)({type:d.MODAL_TYPES.QUICK_ADD}))}),$add(r,l.default.renderIcon()),$add(r,t=SPAN({id:"gear_holder",c:"menu_icon fixed_pos","data-track":"navigation|gear"},svgs.get("sm1/gear.svg",{className:"gear_normal"}),svgs.get("sm1/gear_alert.svg",{className:"gear_alerted"}))),$AEV(t,"click",function(){return u.default.open(t),!1}),$ATT($("top_icons"),o.default.render()),Signals.connect("new_version_available",function(){$addClass(t,"is_alerted")})}},{key:"createIcon",value:function(e,t,r){var n=e;return $isTouchDeviceOnly()||t&&IstTooltip.showSimpleText(n,t,null,2,4),r&&$AEV(n,"click",r),n}}]),e}(),p=new f;r.default=p},{"../../menus/MenuUser.js":147,"../../reducers/modals":1016,"../../stores/store":1048,"../notifications/Notifications":51,"../start_page/StartPage.js":86,"../sync_state_icon/SyncStateIcon":88,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DragTypes=r.DEFAULT_QUERY_7_DAYS=r.DEFAULT_QUERY_TODAY=r.MAIN_VIEW_TYPE_7_DAYS=r.MAIN_VIEW_TYPE_TODAY=r.MAIN_VIEW_TYPE_FILTER=r.MAIN_VIEW_TYPE_LABEL=r.MAIN_VIEW_TYPE_ACTIVITY_LOG=r.MAIN_VIEW_TYPE_PROJECT=r.MAIN_VIEW_TYPE_QUERY=r.MAX_SECTION_PER_PERJECT=r.MAX_ITEMS_PER_PROJECT_PREMIUM=r.MAX_ITEMS_PER_PROJECT_FREE=r.MAX_NUMBER_OF_FILTERS=void 0;r.MAX_NUMBER_OF_FILTERS=150;r.MAX_ITEMS_PER_PROJECT_FREE=150;r.MAX_ITEMS_PER_PROJECT_PREMIUM=300;r.MAX_SECTION_PER_PERJECT=20;r.MAIN_VIEW_TYPE_QUERY="query";r.MAIN_VIEW_TYPE_PROJECT="project";r.MAIN_VIEW_TYPE_ACTIVITY_LOG="activity_log";r.MAIN_VIEW_TYPE_LABEL="label";r.MAIN_VIEW_TYPE_FILTER="filter";r.MAIN_VIEW_TYPE_TODAY="today";r.MAIN_VIEW_TYPE_7_DAYS="7_days";r.DEFAULT_QUERY_TODAY="overdue & !assigned to: other, today & !assigned to: other";r.DEFAULT_QUERY_7_DAYS="overdue & !assigned to: other, 7 days & !assigned to: other";var n={Item:"Item",FilterListItemSortable:"FilterListItemSortable",PostponeBox:"PostponeBox"};r.DragTypes=n},{}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.topIconColor=r.colorInHex=r.DARK_THEME_BG_LIGHTER=r.DARK_THEME_ICON_COLOR_DARKER=r.DARK_THEME_ICON_COLOR=r.HEX_DARK=r.HEX_GOLD=r.HEX_GRAPHITE=r.HEX_AMETHYST=r.HEX_SKY=r.HEX_BLUEBERRY=r.HEX_CLOVER=r.HEX_SUNFLOWER=r.HEX_TANGERINE=r.HEX_NEUTRAL=r.HEX_NOIR=r.HEX_TODOIST=r.THEME_DARK=r.THEME_GOLD=r.THEME_GRAPHITE=r.THEME_AMETHYST=r.THEME_SKY=r.THEME_BLUEBERRY=r.THEME_CLOVER=r.THEME_SUNFLOWER=r.THEME_TANGERINE=r.THEME_NEUTRAL=r.THEME_NOIR=r.THEME_TODOIST=void 0;r.THEME_TODOIST=0;r.THEME_NOIR=1;r.THEME_NEUTRAL=2;r.THEME_TANGERINE=3;r.THEME_SUNFLOWER=4;r.THEME_CLOVER=5;r.THEME_BLUEBERRY=6;r.THEME_SKY=7;r.THEME_AMETHYST=8;r.THEME_GRAPHITE=9;r.THEME_GOLD=10;r.THEME_DARK=11;r.HEX_TODOIST="#db4c3f";r.HEX_NOIR="#3d3d3d";r.HEX_NEUTRAL="#f7f7f7";r.HEX_TANGERINE="#ff9000";r.HEX_SUNFLOWER="#fecf05";r.HEX_CLOVER="#3c9b0d";r.HEX_BLUEBERRY="#316fea";r.HEX_SKY="#4dc1e6";r.HEX_AMETHYST="#8e24aa";r.HEX_GRAPHITE="#506578";r.HEX_GOLD="#e0b53f";r.HEX_DARK="#f55547";r.DARK_THEME_ICON_COLOR="#d4d4d4";r.DARK_THEME_ICON_COLOR_DARKER="#3e3e3e";r.DARK_THEME_BG_LIGHTER="#282828";var n=["#db4c3f","#3d3d3d","#f7f7f7","#ff9000","#fecf05","#3c9b0d","#316fea","#4dc1e6","#8e24aa","#506578","#e0b53f","#f55547"],a=function(e){return n[e]?n[e]:(console.log("[warning] unsupported theme value",e),"#db4c3f")};r.colorInHex=a;var i=function(e){return 2==e?"#484B4C":4==e?"#484B4C":11==e?"rgba(255, 255, 255, 0.8)":"#ffffff"};r.topIconColor=i},{}],96:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/assertThisInitialized")),c=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),f=a(e("react")),p=a(e("prop-types")),m=n(e("../logger/Logger")),h=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(a))),(0,d.default)((0,u.default)(r),"state",{hasError:!1,eventID:null}),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidCatch",value:function(e,t){console.error("Error",e,t);var r=m.captureError(e,{extra:{info:t},tags:{react:1}});this.setState({hasError:!0,eventID:r}),this.props.onErrorCaught&&this.props.onErrorCaught(e,t)}},{key:"render",value:function(){var e=this.props,t=e.showErrorMsg,r=e.children,n=this.state,a=n.hasError,i=n.eventID;return a?t?f.default.createElement("div",{style:{color:"#999999"}},f.default.createElement("p",null,_("An unknown error happened while loading data... Please try reloading Todoist.")),f.default.createElement("p",null,null!=i?_("Contact Todoist Support (support@todoist.com) and supply the error ID below if this problem persists."):_("Contact Todoist Support (support@todoist.com) if this problem persists.")),null!=i&&f.default.createElement("p",null,"Error ID: ",i)):null:r}}]),t}(f.default.Component);r.default=h,(0,d.default)(h,"propTypes",{showErrorMsg:p.default.bool,children:p.default.node,onErrorCaught:p.default.func}),(0,d.default)(h,"defaultProps",{showErrorMsg:!1})},{"../logger/Logger":132,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],97:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../reducers/notes"),o=e("../reducers/drafts"),l=e("../reducers/user"),s=e("../reducers/collaborators"),u=n(e("../react_components/notes/Notes")),c=e("../reducers/projects"),d=function(e,t){var r=t.parentId,n=t.type,a=t.projectId,u=(0,l.getUser)(e),d=n===i.TYPE_PROJECT_NOTE?i.noteGetByProjectSorted:i.noteGetByItemSorted,f=d(e,r),p=(0,o.draftGet)(e,{type:n,id:r}),m=(0,s.getAllProjectCollaborators)(e,a),h=(0,s.getAllCollaboratorsWithUser)(e);return{draft:p,user:u,notes:f,hasMore:(0,i.hasMoreNotes)(e,r,n),collaborators:m,allCollaborators:h,project:(0,c.projectGetByID)(e,a),isProjectShared:(0,s.isShared)(e,a),isPremium:(0,l.isPremium)(e)}},f={onAddReaction:i.noteAddReaction,onRemoveReaction:i.noteRemoveReaction,onAddNote:i.noteAddWithFiles,onRemoveNote:i.noteRemove,onUpdateNote:i.noteUpdate,onFetchMoreNotes:i.noteFetch,onCloseWithoutSubmit:o.draftAdd},p=(0,a.connect)(d,f)(u.default);r.default=p},{"../react_components/notes/Notes":818,"../reducers/collaborators":983,"../reducers/drafts":997,"../reducers/notes":1021,"../reducers/projects":1026,"../reducers/user":1042,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],98:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.show=r.attach=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/inherits")),c=a(e("@babel/runtime/helpers/defineProperty")),d=e("../utils/fp"),f=a(e("../stores/store")),p=a(e("react")),m=a(e("react-dom")),h=a(e("prop-types")),v=a(e("../components/Constants")),b=a(e("../react_components/productivity_stat/ProductivityStat")),y=e("../react_components/spinners"),g=a(e("../components/opener/WindowOpener.js")),E=n(e("../logger/Logger")),T=e("../reducers/user"),w=e("../reducers/stats"),R=e("../reducers/settings"),P=n(e("./premium_promo/PremiumOnlyModal")),D=e("../reducers/mainView"),O=a(e("../react_components/emptyState/states/Productivity")),C=function(e){$AEV(e,"click",I)};r.attach=C;var I=function(){if(!($$(".completed_quick_viz").length>0)){var e=DIV({c:"completed_quick_viz"}),t={fn_left_offset:function(e,t){var r=$position($("top_completed_holder")).x;return window.MINI_VERSION?r-200:r-t.width/2},fn_top_offset:function(){return window.MINI_VERSION?v.default.top_bar.top_offset_mini:v.default.top_bar.top_offset_full},fn_arrow_left:function(){return $position($("top_completed_holder")).x+7},fixed_pos:!0,close_validator_fn:function(){return m.default.unmountComponentAtNode(e),!0}},r=f.default.dispatch((0,w.fetchStats)()),n=f.default.getState();m.default.render(p.default.createElement(A,{width:280,user:n.user,isPremium:(0,T.isPremium)(n),stats:r,theme:(0,R.getTheme)(n)}),e);var a=TooptipWin.show(_("Your Productivity"),e,300,310,t);a&&a.g_window&&$addClass(a.g_window,"productivity-stat")}};r.show=I;var A=function(e){function t(e){var r;return(0,i.default)(this,t),r=(0,l.default)(this,(0,s.default)(t).call(this,e)),r.state={stats:null,error:null},r.props.stats.then(function(e){return r.setState({stats:e})}).catch(function(e){return r.setState({error:e})}),r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidCatch",value:function(e,t){E.captureError(e,{extra:{info:t},tags:{react:1}}),this.setState({error:e})}},{key:"render",value:function(){var e=this.props,t=e.user,r=e.width,n=e.theme,a=e.isPremium;if(!this.state.stats&&!this.state.error)return p.default.createElement("div",{className:"status_loading"},p.default.createElement(y.RingSpinner,null));if(this.state.error)return p.default.createElement("div",{className:"status_error"},p.default.createElement("h6",null,_("Productivity report requires an Internet connection")),p.default.createElement("p",null,_("Please check your connection and try again")));if(0===(0,d.getOr)(0,"stats.completed_count",this.state))return p.default.createElement(O.default,{onButtonClick:function(){return g.default.showPrefs("karma")}});var i=(0,d.getOr)(0,"stats.days_items[0].total_completed",this.state),o=(0,d.getOr)(0,"stats.week_items[0].total_completed",this.state),l={theme:n,isPremium:a,hideKarma:!!t.karma_disabled,stat:this.state.stats,width:r,userName:t.full_name,completedToday:i,completedThisWeek:o,onSettingEditClick:function(){return g.default.showPrefs("karma")},onKarmaInfoClick:g.default.showKarmaInfo,onViewAllCompletedClick:function(){GB_hide(),a?f.default.dispatch((0,D.showActivityView)({eventFilter:"item:completed"})):P.showCompletedTasksView()}};return p.default.createElement(b.default,l)}}]),t}(p.default.Component);(0,c.default)(A,"propTypes",{width:h.default.number.isRequired,theme:h.default.number.isRequired,user:h.default.object.isRequired,isPremium:h.default.bool.isRequired,stats:h.default.object.isRequired});var S={attach:C,show:I};r.default=S},{"../components/Constants":1,"../components/opener/WindowOpener.js":53,"../logger/Logger":132,"../react_components/emptyState/states/Productivity":598,"../react_components/productivity_stat/ProductivityStat":843,"../react_components/spinners":961,"../reducers/mainView":1015,"../reducers/settings":1036,"../reducers/stats":1037,"../reducers/user":1042,"../stores/store":1048,"../utils/fp":1083,"./premium_promo/PremiumOnlyModal":104,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-dom":"react-dom"}],99:[function(e,t,r){"use strict";function n(e,t){if(!(0,x.hasSeen)(x.TOOLTIP_SMART_SCHEDULE,j.default.getState())){var r=function(){j.default.dispatch((0,x.markSeen)(x.TOOLTIP_SMART_SCHEDULE))},a=function(){j.default.dispatch((0,x.markSeen)(x.TOOLTIP_SMART_SCHEDULE)),n(e,t)};return void O.show(a,r)}if(D.isOffline()){var i=function(){n(e,t)};return void C.show(i)}var o=DIV(),l=GB_showHTML(_("Suggested dates"),o,500,600,{close_validator_fn:function(){return b.default.unmountComponentAtNode(o),!0}}),s=function(){t&&t.onSubmitted&&t.onSubmitted(),GB_hide()},u=j.default.getState();b.default.render(v.default.createElement($,{theme:(0,N.getTheme)(u),items:e,onUpdateSubmit:s,onCancel:function(){return l.hide()}}),o)}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.openSmartSchedule=n,r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("@babel/runtime/helpers/classCallCheck")),s=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/possibleConstructorReturn")),c=i(e("@babel/runtime/helpers/getPrototypeOf")),d=i(e("@babel/runtime/helpers/assertThisInitialized")),f=i(e("@babel/runtime/helpers/inherits")),p=i(e("@babel/runtime/helpers/defineProperty")),m=i(e("@babel/runtime/helpers/extends")),h=i(e("@babel/runtime/helpers/objectWithoutProperties")),v=i(e("react")),b=i(e("react-dom")),y=i(e("prop-types")),g=e("react-transition-group"),E=a(e("../models/Colors")),T=i(e("../models/ProjectsModel")),w=a(e("../filterist")),R=a(e("../models/SmartSchedule")),P=i(e("../components/formatter/Formatter.js")),D=a(e("../stores/SystemStatusStore")),O=a(e("./SmartScheduleTip")),C=a(e("./SmartScheduleOffline")),I=i(e("../models/ItemsModel")),A=e("../react_components/spinners"),S=e("../react_components/icons"),k=i(e("./TasksDueBar")),M=i(e("../react_components/scheduler/SchedulerWrapper")),j=i(e("../stores/store")),N=e("../reducers/settings"),x=e("../reducers/tooltip"),L=function(e){var t=e.children,r=(0,h.default)(e,["children"]);return v.default.createElement(g.CSSTransition,(0,m.default)({},r,{timeout:{enter:300,exit:0},classNames:"fade"}),t)},q=function(e){function t(e){var r;return(0,l.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,e)),r.rescheduleClicked=r.rescheduleClicked.bind((0,d.default)(r)),r.removeClicked=r.removeClicked.bind((0,d.default)(r)),r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){IstTooltip.showSimpleText(this.rescheduleBtnDom,_("Re-schedule"),null,10,3),IstTooltip.showSimpleText(this.removeBtnDom,_("Remove task from Smart Scheduling"))}},{key:"componentWillUnmount",value:function(){IstTooltip.hide()}},{key:"rescheduleClicked",value:function(e){var t=this,r=this.props.item;IstTooltip.hide(),this.listItemDom.classList.add("on_rescheduling"),M.default.show({anchor:e.target,dialogClassName:"scheduler-smart-schedule",selectedDate:r.due,selectedItems:[r],onDateSelect:function(e){t.props.rescheduleFn(r,e?e.toDate():null)},onHide:function(){t.listItemDom&&t.listItemDom.classList.remove("on_rescheduling")}})}},{key:"removeClicked",value:function(){this.props.removeFn(this.props.item),IstTooltip.hide()}},{key:"render",value:function(){var e=this,t=this.props.item,r=T.default.get(t.project_id),n={backgroundColor:E.getHex("project",r.color)},a=P.default.format(t.content),i=P.default.format(r.name),o=null;if(this.props.item.due){var l=_("Current: {item_due_date}").replace("{item_due_date}",DateUtils.formatView(this.props.item.due,!1));o=v.default.createElement("span",{className:"current_due"},l)}return v.default.createElement("li",{ref:function(t){return e.listItemDom=t}},v.default.createElement("div",{className:"task_block"},v.default.createElement("span",{className:"task_content",dangerouslySetInnerHTML:{__html:a}}),o),v.default.createElement("div",{className:"project_label"},v.default.createElement("span",{className:"project_label_name",dangerouslySetInnerHTML:{__html:i}}),v.default.createElement("span",{className:"project_label_color",style:n})),v.default.createElement("div",{className:"control"},v.default.createElement("span",{className:"control-reschedule",ref:function(t){return e.rescheduleBtnDom=t},onClick:this.rescheduleClicked},v.default.createElement(S.CalendarIcon,null)),v.default.createElement("span",{ref:function(t){return e.removeBtnDom=t},onClick:this.removeClicked},v.default.createElement(S.SmartScheduleStrikeIcon,null))))}}]),t}(v.default.Component);(0,p.default)(q,"propTypes",{item:y.default.object.isRequired,rescheduleFn:y.default.func.isRequired,removeFn:y.default.func.isRequired});var U=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e,t,r,n,a=this;if(this.props.newDueDate){var i=new Date;switch(DateistDateHelpers.day_diff(i,this.props.newDueDate)){case 0:e=_("Today"),t=DateUtils.formatView(this.props.newDueDate,!0);break;case 1:e=_("Tomorrow"),t=DateUtils.formatView(this.props.newDueDate,!0);break;default:e=DateUtils.getWeekDay(this.props.newDueDate.getDay()),t=DateUtils.formatView(this.props.newDueDate,!1)}r=w.getByDate(this.props.newDueDate),n=r.length>0?v.default.createElement(k.default,{withTooltip:!0,className:"day_section__item_bar",items:r,blockHeigth:11}):null}else e=_("No due date");return v.default.createElement("div",{className:"day_section"},v.default.createElement("h2",null,e,v.default.createElement("small",null,t),n),v.default.createElement("ul",null,v.default.createElement(g.TransitionGroup,null,this.props.items.map(function(e){return v.default.createElement(g.CSSTransition,{key:e.id,timeout:{enter:300,exit:0},classNames:"list_item"},v.default.createElement(q,{key:e.id,item:e,rescheduleFn:a.props.rescheduleFn,removeFn:a.props.removeFn}))}))))}}]),t}(v.default.Component);(0,p.default)(U,"propTypes",{items:y.default.array.isRequired,newDueDate:y.default.object,rescheduleFn:y.default.func.isRequired,removeFn:y.default.func.isRequired});var $=function(e){function t(e){var r;return(0,l.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,e)),r.state={items:r.props.items,newDueDates:null,error:null},r.reschedule=r.reschedule.bind((0,d.default)(r)),r.removeFromSmartSchedule=r.removeFromSmartSchedule.bind((0,d.default)(r)),r.submitSuggestion=r.submitSuggestion.bind((0,d.default)(r)),r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;R.predictItemDuedate(this.state.items,function(t,r){if(r)return e.setState({error:r}),void console.log("SmartSchedule error: ",r);e.setState({newDueDates:t})})}},{key:"reschedule",value:function(e,t){var r=this.state.items.indexOf(e),n=Array.from(this.state.newDueDates);n[r]=t,this.setState({newDueDates:n})}},{key:"removeFromSmartSchedule",value:function(e){var t=this.state.items.indexOf(e),r=Array.from(this.state.items),n=Array.from(this.state.newDueDates);r.splice(t,1),n.splice(t,1),0==r.length&&this.props.onCancel&&this.props.onCancel(),this.setState({items:r,newDueDates:n})}},{key:"submitSuggestion",value:function(){var e=this,t=this.state.items.reduce(function(t,r,n){return t[r.id]=e.state.newDueDates[n],t},{});I.default.updateDue(t),this.props.onUpdateSubmit()}},{key:"render",value:function(){var e=this;if(this.state.error)return v.default.createElement("div",{className:"SmartSchedule"},v.default.createElement("div",{className:"error_display"},v.default.createElement("p",null,"Opps...Something went wrong with our service. Please try again later.")));if(!this.state.newDueDates)return v.default.createElement("div",{className:"SmartSchedule"},v.default.createElement("div",{className:"smart_schedule_loader"},v.default.createElement(A.RingSpinner,null)));var t=[],r=!0,n=!1,a=void 0;try{for(var i,l=this.state.newDueDates.entries()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=(0,o.default)(i.value,2),u=s[0],c=s[1];c||t.push(this.state.items[u])}}catch(e){n=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw a}}var d;t.length>0&&(d=v.default.createElement(L,{key:"no_date"},v.default.createElement(U,{key:"no_date",items:t,newDueDate:null,rescheduleFn:this.reschedule,removeFn:this.removeFromSmartSchedule})));var f=new Map,p=!0,m=!1,h=void 0;try{for(var b,y=this.state.newDueDates.entries()[Symbol.iterator]();!(p=(b=y.next()).done);p=!0){var E=(0,o.default)(b.value,2),u=E[0],c=E[1];if(c){var T=this.state.items[u],w=R.isoDateStr(c);f.has(w)?f.get(w).push(T):f.set(w,[T])}}}catch(e){m=!0,h=e}finally{try{p||null==y.return||y.return()}finally{if(m)throw h}}var P=Array.from(f).sort().map(function(t){var r=(0,o.default)(t,2),n=r[0],a=r[1],i=R.isoDateStrToDate(n);return i.setHours(23),i.setMinutes(59),i.setSeconds(59),v.default.createElement(L,{key:n},v.default.createElement(U,{key:n,items:a,newDueDate:i,rescheduleFn:e.reschedule,removeFn:e.removeFromSmartSchedule}))});return v.default.createElement("div",{className:"SmartSchedule"},v.default.createElement("div",{className:"day_sections_holder"},v.default.createElement(g.TransitionGroup,null,v.default.createElement("div",{className:"desc"},_("Smart Schedule is an AI that helps you schedule tasks."),"\xa0",v.default.createElement("a",{href:"https://todoist.com/smartSchedule",target:"_blank",rel:"noopener noreferrer"},_("Learn more"))),d,P)),v.default.createElement("div",{className:"action_holder"},v.default.createElement("a",{onClick:this.props.onCancel,className:"cancel_btn"},_("Cancel")),v.default.createElement("a",{onClick:this.submitSuggestion,className:"ist_button ist_button_red submit_btn"},_("Update"))))}}]),t}(v.default.Component);(0,p.default)($,"propTypes",{theme:y.default.number.isRequired,items:y.default.array.isRequired,onUpdateSubmit:y.default.func,onCancel:y.default.func});var F={openSmartSchedule:n};r.default=F},{"../components/formatter/Formatter.js":22,"../filterist":117,"../models/Colors":151,"../models/ItemsModel":157,"../models/ProjectsModel":161,"../models/SmartSchedule":166,"../react_components/icons":731,"../react_components/scheduler/SchedulerWrapper":918,"../react_components/spinners":961,"../reducers/settings":1036,"../reducers/tooltip":1040,"../stores/SystemStatusStore":1045,"../stores/store":1048,"./SmartScheduleOffline":100,"./SmartScheduleTip":101,"./TasksDueBar":102,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-dom":"react-dom","react-transition-group":"react-transition-group"}],100:[function(e,t,r){"use strict";function n(e){var t=DIV(),r=GB_showHTML(_("Smart Schedule"),t,500,500,{close_validator_fn:function(){return o.default.unmountComponentAtNode(t),!0}}),n=function(t){r.hide(),e&&e(),t.preventDefault()};o.default.render(i.default.createElement(s,{onTryClick:n}),t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.show=n;var i=a(e("react")),o=a(e("react-dom")),l=a(e("prop-types")),s=function(e){return i.default.createElement("div",{className:"smart_schedule_offline"},i.default.createElement("h1",null,_("Smart Schedule requires an Internet connection")),i.default.createElement("p",null,_("Please check your connection and try again")),i.default.createElement("div",{className:"action_holder"},i.default.createElement("a",{className:"ist_button ist_button_red try_btn",onClick:e.onTryClick},_("Try Again"))))};s.propTypes={onTryClick:l.default.func}},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react","react-dom":"react-dom"}],101:[function(e,t,r){"use strict";function n(e,t){var r=DIV(),n=GB_showHTML(_("Smart Schedule"),r,500,500,{close_validator_fn:function(){return o.default.unmountComponentAtNode(r),t&&t(),!0}}),a=function(t){n.hide(),e&&e(),t.preventDefault()};o.default.render(i.default.createElement(s,{onTryClick:a}),r)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.show=n;var i=a(e("react")),o=a(e("react-dom")),l=a(e("prop-types")),s=function(e){return i.default.createElement("div",{className:"smart_schedule_tip"},i.default.createElement("div",{className:"banner_img_wrap"},i.default.createElement("img",{src:"https://d3ptyyxy2at9ui.cloudfront.net/smart_schedule_illustration-4e9395.png",alt:""})),i.default.createElement("h1",null,_("Manage your workload faster than ever!")),i.default.createElement("p",null,_("The AI-powered Smart Schedule suggests the best due dates for your tasks based on:")),i.default.createElement("ul",null,i.default.createElement("li",null,_("Task urgency")),i.default.createElement("li",null,_("Your current task load")),i.default.createElement("li",null,_("Your productivity habits"))),i.default.createElement("p",null,_("And more...")),i.default.createElement("div",{className:"action_holder"},i.default.createElement("a",{className:"menu_item_more",href:"https://todoist.com/smartSchedule",target:"_blank",rel:"noopener noreferrer"},_("Learn more")),i.default.createElement("a",{className:"ist_button ist_button_red try_btn",onClick:e.onTryClick},_("Try it"))))};s.propTypes={onTryClick:l.default.func}},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react","react-dom":"react-dom"}],102:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/inherits")),c=a(e("react")),d=a(e("prop-types")),f=a(e("classnames")),p=a(e("../utils/format")),m=a(e("../models/ProjectsModel")),h=n(e("../models/Colors")),_=function(e){function t(){return(0,i.default)(this,t),(0,l.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){if(this.props.withTooltip){var e=(0,p.default)(_n("{count} task due","{count} tasks due",this.props.items.length),{count:this.props.items.length});IstTooltip.showSimpleText(this.ref,e)}}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.blockHeight,a=r.blockWidth,i=r.className,o=r.items;try{var l=o.map(function(e){var t=m.default.get(e.project_id);return h.getHex("project",t.color)}).sort();e=l.map(function(e,t){var r={backgroundColor:e,display:"inline-block",width:a,height:n};return c.default.createElement("span",{key:t,className:"tasks-due-bar-unit",style:r})})}catch(t){e=[]}var s=(0,f.default)("tasks-due-bar",i);return c.default.createElement("div",{ref:function(e){return t.ref=e},className:s},e)}}]),t}(c.default.Component);_.propTypes={blockHeight:d.default.number,blockWidth:d.default.number,items:d.default.array.isRequired,height:d.default.number,withTooltip:d.default.bool,className:d.default.string},_.defaultProps={blockHeight:8,blockWidth:8,withTooltip:!1};var v=_;r.default=v},{"../models/Colors":151,"../models/ProjectsModel":161,"../utils/format":1079,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],103:[function(e,t,r){"use strict";function n(){try{return ICE.annotateAjaxData.push(function(e){window.CLIENT_ID&&e instanceof Object&&(e._client_id=window.CLIENT_ID)}),g.default.init(),y.default.loadData().then(U.default.loadSvgBundle).then(function(){Signals.sendSignal("app_data_loaded"),a(),F.default.inIDB("notes")&&F.default.loadStatus.notes.then(function(){Signals.sendSignal("instant_refresh_interface")}),x.start(),setTimeout(function(){$addClass($html(),"todoist_loaded")},50),h.default.onIntialized&&h.default.onIntialized()}).catch(function(e){(0,L.default)(e,{message:_("Could not load Todoist local data. Could be because you are using a private window. Please try login again.")})}),(0,b.postMessageToWindow)(top,"TODOIST_INITED:true")}catch(e){(0,L.default)(e,{message:_("Could not load Todoist local data. Could be because you are using a private window. Please try login again.")})}}function a(){var e=$("left_menu");return $hide($("app_holder"),e,$("content")),e&&v.default.render(),window.PageAddTask=k.default,IstTooltip.init(),D.default.init(),w.default.init(),E.default.init(),O.default.init(),w.default.init(),A.ProjectEditorGeneric.init(),P.default.init(),I.default.render(),M.default.init(P.default.get()),j.default.init(),N.default.init(),m.default.dispatch((0,B.listenForVersionUpdate)()),C.default.current_list=$("projects_list"),e&&$AEV(window,"load",function(){return C.default.arrows.updateArrows()}),setTimeout(i,10),R.default.checkTimezone(),Signals.sendSignal("instant_refresh_interface"),document.addEventListener("click",function(e){(0,q.default)(e.target)}),Signals.sendSignal("data_fully_loaded")}function i(){try{o(),IstComplete.init(),h.default.loadStartPage&&S.default.show(),$AEV([$("editor")],"contextmenu",function(e){if(e.shift)return!0;var t,r;return!(!(t=$eventElm(e))||"textarea"!==(r=$nodeName(t))&&"input"!==r)||!e.ctrl}),$AEV(window,"resize",function(){Signals.sendSignal("hide_menus")}),$AEV($("left_menu"),"scroll",function(){var e=$("left_menu").scrollTop;e!==window.LEFT_MENU_ST&&Signals.sendSignal("hide_menus"),window.LEFT_MENU_ST=e}),$show($("app_holder"),$("top_bar"),$("left_menu"),$("content"))}catch(e){(0,L.default)(e)}}function o(){if(window.location.host.match(/firefox|gmail/)){var e=function(){return!1};FilesManager.isDropboxEnabled=e,FilesManager.isDriveEnabled=e,FilesManager.isSelectFilesEnabled=e}}function l(){return c.default.useEffect(n,[]),c.default.useEffect(function(){return T.default.on(),function(){T.default.off()}},[]),c.default.createElement(f.DndProvider,{backend:p.default},c.default.createElement(d.Provider,{store:m.default},c.default.createElement(z.default,null)))}var s=e("@babel/runtime/helpers/interopRequireWildcard"),u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0
;var c=u(e("react")),d=e("react-redux"),f=e("react-dnd"),p=u(e("react-dnd-html5-backend")),m=u(e("../stores/store")),h=u(e("../models/Config")),v=u(e("../components/left_menu/LeftMenu")),b=e("../components/misc/Util.js"),y=u(e("../models/LoadEngine")),g=u(e("../plugin_version/MessageHandler")),E=u(e("../plugin_version/PluginVersion.js")),T=u(e("../plugin_version/LinkRedirecter.js")),w=u(e("../components/location_manager/LocationManager.js")),R=u(e("../components/timezone_checker/TimezoneChecker")),P=u(e("../components/agenda/Agenda.js")),D=u(e("../components/item_selecter/ItemSelecter.js")),O=u(e("../components/keyboard_shortcuts/KeyboardShortcuts.js")),C=u(e("../components/projects_list/ProjectList")),I=u(e("../components/projects_list/ProjectArchive")),A=e("../components/project_editor/ProjectEditor.js"),S=u(e("../components/start_page/StartPage.js")),k=u(e("../components/page_add_task/PageAddTask")),M=u(e("../menus/MenuAgendaEdit.js")),j=u(e("../menus/MenuItemEditMore")),N=u(e("../menus/MenuReschedule")),x=s(e("../models/Cron")),L=u(e("../init/showInitError")),q=u(e("../utils/traverseTracking")),U=u(e("../components/themes/Themes")),F=u(e("../models/StatePersistence")),z=u(e("../react_components/app_content"));e("../mini/MiniVersion");var B=e("../reducers/version"),H=l;r.default=H},{"../components/agenda/Agenda.js":5,"../components/item_selecter/ItemSelecter.js":31,"../components/keyboard_shortcuts/KeyboardShortcuts.js":39,"../components/left_menu/LeftMenu":41,"../components/location_manager/LocationManager.js":45,"../components/misc/Util.js":47,"../components/page_add_task/PageAddTask":54,"../components/project_editor/ProjectEditor.js":59,"../components/projects_list/ProjectArchive":68,"../components/projects_list/ProjectList":69,"../components/start_page/StartPage.js":86,"../components/themes/Themes":91,"../components/timezone_checker/TimezoneChecker":92,"../init/showInitError":128,"../menus/MenuAgendaEdit.js":136,"../menus/MenuItemEditMore":138,"../menus/MenuReschedule":145,"../mini/MiniVersion":148,"../models/Config":152,"../models/Cron":153,"../models/LoadEngine":159,"../models/StatePersistence":168,"../plugin_version/LinkRedirecter.js":461,"../plugin_version/MessageHandler":462,"../plugin_version/PluginVersion.js":463,"../react_components/app_content":490,"../reducers/version":1044,"../stores/store":1048,"../utils/traverseTracking":1133,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,react:"react","react-dnd":"react-dnd","react-dnd-html5-backend":"react-dnd-html5-backend","react-redux":"react-redux"}],104:[function(e,t,r){"use strict";function n(e){var t=DIV(),r=GB_showHTML(_("Premium"),t,500,500,{no_side_padding:!0,close_validator_fn:function(){return D.default.unmountComponentAtNode(t),!0}}),n=function(){r.hide()},a=(0,R.default)(X[e],3),i=a[0],o=a[1],l=a[2];D.default.render(P.default.createElement(Z,{isEligibleForTrial:!1,feature:e,header:i,headerImg:o,body:l,onLinkClick:n}),t)}function a(e){var t=e.onClose,r=e.feature,n=e.isEligibleForTrial,a=(0,R.default)(X[r],3),i=a[0],o=a[1],l=a[2];return P.default.createElement(Z,{isEligibleForTrial:n,header:i,headerImg:o,body:l,onLinkClick:t})}function i(){n(k)}function o(){n(M)}function l(){n(N)}function s(){var e=S.store.getState().user;n((e.features.restriction||e.restriction||0)>0?L:x)}function u(){n(q)}function c(){n(U)}function d(){n($)}function f(){n(F)}function p(){n(z)}function m(){n(B)}function h(){n(H)}function v(){n(V)}function b(){n(W)}function y(){n(G)}function g(){n(Y)}function E(){n(K)}function T(){n(j)}var w=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.showLabel=i,r.showTaskComment=o,r.showProjectComment=l,r.showReminder=s,r.showFilter=u,r.showTemplate=c,r.showEmailForwarding=d,r.showProjectCalendarFeed=f,r.showCollaboratorLimit=p,r.showTaskActivityLog=m,r.showProjectActivityLog=h,r.showTaskDuplication=v,r.showSharedProjectFileUpload=b,r.showAudioRecording=y,r.showCompletedTasksView=g,r.showCompletedTasksSearch=E,r.showTaskLimit=T,r.default=r.PremiumModal=r.MODAL_CONTENT=void 0;var R=w(e("@babel/runtime/helpers/slicedToArray")),P=w(e("react")),D=w(e("react-dom")),O=w(e("prop-types")),C=e("react-redux"),I=e("../../utils"),A=e("../../utils/deps"),S=(0,A.defineDeps)("PremiumOnlyModal",["store"]),k="FEATURE_LABEL",M="FEATURE_TASK_COMMENT",j="FEATURE_TASK_LIMIT",N="FEATURE_PROJECT_COMMENT",x="FEATURE_REMINDER",L="FEATURE_UNLIMITED_REMINDER",q="FEATURE_FILTER",U="FEATURE_TEMPLATE",$="FEATURE_EMAIL_FORWARDING",F="FEATURE_PROJECT_CALENDAR_FEED",z="FEATURE_COLLABORATOR_LIMIT",B="FEATURE_TASK_ACTIVITY_LOG",H="FEATURE_PROJECT_ACTIVITY_LOG",V="FEATURE_TASK_DUPLICATION",W="FEATURE_SHARED_PROJECT_FILE_UPLOAD",G="FEATURE_AUDIO_RECORDING",Y="FEATURE_COMPLETED_TASKS_VIEW",K="FEATURE_COMPLETED_TASKS_SEARCH",X={FEATURE_LABEL:[_("Labels are a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_labels%402x-410488.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Save time by batching your tasks together with custom labels like @email, @waiting, or @5_min.")))],FEATURE_TASK_COMMENT:[_("Comments & File Uploads are Premium features"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_comments%402x-d3258f.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Save time by keeping all the information you need organized right with your tasks. Upload any file \u2013 documents, photos, spreadsheets, PDFs \u2013 and add additional notes to your tasks.")))],FEATURE_PROJECT_COMMENT:[_("Project Comments and Uploads are Premium features"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_comments%402x-d3258f.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Keep all the project-level information you need neatly organized in one place. Upload relevant files and save important project details in additional notes.")))],FEATURE_REMINDER:[_("Reminders are a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_reminders%402x-7bdea4.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Never forget a task again. Send yourself a reminder by email or push notification at a specific date & time or location.")))],FEATURE_UNLIMITED_REMINDER:[_("Get unlimited Reminders!"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_reminders%402x-7bdea4.png",P.default.createElement("div",null,P.default.createElement("p",null,_("You\u2019ve reached your limit of 5 task reminders. Upgrade to Premium to get unlimited reminders \u2013 via email or push notification \u2013 for any task.")))],FEATURE_FILTER:[_("Custom Filters are a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_filters%402x-395a6c.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Customize your Todoist with saved searches for your most important task views. For example, all the tasks due in the next 7 days in a specific project.")))],FEATURE_TEMPLATE:[_("Templates are a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_templates%402x-382f11.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Save time by copying and recreating any project. Create checklists for repetitive work like writing blog posts, preparing for trade shows, or onboarding new clients.")))],FEATURE_EMAIL_FORWARDING:[_("Email Forwarding is a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_mail%402x-808a60.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Organize your inbox by forwarding emails as tasks to any Todoist project. Or keep all the relevant information organized in one place by forward emails as task and project comments.")))],FEATURE_PROJECT_CALENDAR_FEED:[_("Project Calendar Feeds is a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_calendar%402x-c7fb72.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Stay on top of your deadlines by viewing any project inside your calendar. Stay on the same page by sharing project calendar feeds with clients, coworkers, or loved ones.")))],FEATURE_COLLABORATOR_LIMIT:[_("Share projects with up to 25 people!"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_collaborators%402x-88bb0b.png",P.default.createElement("div",null,P.default.createElement("p",null,(0,I.format)(_n("You\u2019ve reached your limit of 1 collaborator per project.","You\u2019ve reached your limit of {n} collaborators per project.",5),{n:5})),P.default.createElement("p",null,_("Upgrade to Premium and share your projects with up to 25 people.")))],FEATURE_TASK_ACTIVITY_LOG:[_("Task Activity Log is a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_activity%402x-e4d8d7.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Get a quick overview of who did what and when for any task. See who created or completed it, changed the due date, added comments or file uploads, and more.")))],FEATURE_PROJECT_ACTIVITY_LOG:[_("Project Activity Log is a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_activity%402x-e4d8d7.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Get a quick overview of who did what and when in any project. See who created or completed tasks, changed due dates, added comments or file uploads, and more.")))],FEATURE_TASK_DUPLICATION:[_("Duplicate Tasks is a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_tasks%402x-c53209.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Save time by easily creating copies of one or more tasks inside any project.")))],FEATURE_SHARED_PROJECT_FILE_UPLOAD:[_("File Uploads are a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_files%402x-4bc19a.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Share any file - documents, photos, spreadsheets, PDFs, and more - with anyone. Uploads stay neatly organized right with your tasks.")))],FEATURE_AUDIO_RECORDING:[_("Audio Recording is a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_audio%402x-223119.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Quickly share more details in an audio recording. Audio recordings stay neatly organized with your task and easily accessible to everyone in your shared project.")))],FEATURE_COMPLETED_TASKS_VIEW:[_("The Completed Tasks Overview is a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_tasks%402x-c53209.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Get an overview of all completed tasks across all projects. Review your own progress \u2013 or create reports for your team. Free users can still view completed tasks inside any project.")))],FEATURE_COMPLETED_TASKS_SEARCH:[_("Completed tasks search is a Premium feature"),"https://d3ptyyxy2at9ui.cloudfront.net/premium_tasks%402x-c53209.png",P.default.createElement("div",null,P.default.createElement("p",null,_("Expand your search to all your completed tasks.")))],FEATURE_TASK_LIMIT:[(0,I.format)(_n("You can add a maximum of 1 task per project with your current plan","You can add a maximum of {n} tasks per project with your current plan"),{n:150}),"https://d3ptyyxy2at9ui.cloudfront.net/premium_tasks%402x-c53209.png",P.default.createElement("div",null,P.default.createElement("p",null,_("An upgraded subscription plan will increase the number of tasks that each project can hold.")))]};r.MODAL_CONTENT=X,a.propTypes={onClose:O.default.func,feature:O.default.string.isRequired,isEligibleForTrial:O.default.bool};var J=function(e){var t=e.user;return{isEligibleForTrial:!(t.free_trail_expires||t.is_premium||!t.magic_num_reached)}},Q=(0,C.connect)(J)(a);r.PremiumModal=Q;var Z=function(e){var t;return t=e.isEligibleForTrial?P.default.createElement("a",{className:"ist_button ist_button_red link_cta",href:"/premium/free_trial",target:"_blank",onClick:e.onLinkClick},_("Start Your Free Trial")):P.default.createElement("a",{className:"ist_button ist_button_red link_cta",href:"/premium/upgrade",target:"_blank",onClick:e.onLinkClick},_("Upgrade Now")),P.default.createElement("div",{className:"PremiumOnlyModal"},P.default.createElement("h1",null,e.header,P.default.createElement("img",{src:e.headerImg,alt:""})),P.default.createElement("div",{className:"main_content"},e.body,P.default.createElement("div",{className:"action_holder"},t,P.default.createElement("a",{className:"link_more action",href:"https://todoist.com/premium",target:"_blank",rel:"noopener noreferrer",onClick:e.onLinkClick},_("Learn more about Premium")))))};window.showPremiumModel=n,Z.propTypes={isEligibleForTrial:O.default.bool.isRequired,onLinkClick:O.default.func,header:O.default.node,headerImg:O.default.string,body:O.default.node};var ee=(_("Monthly Summary is a Premium feature"),_("Audio Recording is a Premium feature"),_("Photo Uploads are a Premium feature"),_("Premium Themes are a Premium feature"),_("The Activity Log is a Premium feature"),_("See any changes that have been made in your account, by you or your collaborators. Free users can still view their completed tasks inside any project."),_("Learn more"),{showLabel:i,showTaskComment:o,showProjectComment:l,showReminder:s,showFilter:u,showTemplate:c,showEmailForwarding:d,showProjectCalendarFeed:f,showCollaboratorLimit:p,showTaskActivityLog:m,showProjectActivityLog:h,showTaskDuplication:v,showSharedProjectFileUpload:b,showAudioRecording:y,showCompletedTasksView:g,showCompletedTasksSearch:E,showTaskLimit:T});r.default=ee},{"../../utils":1094,"../../utils/deps":1071,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-dom":"react-dom","react-redux":"react-redux"}],105:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,p.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/classCallCheck")),s=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/possibleConstructorReturn")),c=i(e("@babel/runtime/helpers/getPrototypeOf")),d=i(e("@babel/runtime/helpers/assertThisInitialized")),f=i(e("@babel/runtime/helpers/inherits")),p=i(e("@babel/runtime/helpers/defineProperty")),m=i(e("react")),h=i(e("../../react_components/reactist/Notifier")),v=e("../../reducers/tooltip"),b=i(e("../../stores/store")),y={transition:"all ".concat(300,"ms ease-out"),bottom:"-10px",opacity:0},g={entering:{bottom:"-10px",opacity:0},entered:{bottom:"10px",opacity:1}},E=function(e){function t(e){var r;return(0,l.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,e)),(0,p.default)((0,d.default)(r),"handleLearnMoreClick",function(){r.markSeen()}),(0,p.default)((0,d.default)(r),"handleGotItClick",function(){r.markSeen()}),(0,p.default)((0,d.default)(r),"handleOnClose",function(){r.markSeen()}),r.handleLearnMoreClick=r.handleLearnMoreClick.bind((0,d.default)(r)),r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"markSeen",value:function(){b.default.dispatch((0,v.markSeen)(v.TOOLTIP_GOOGLE_ASSISTANT))}},{key:"render",value:function(){var e=this;return m.default.createElement(h.default,{opened:!0,autoHideDurationMs:8e3,resumeHideDurationMs:8e3,transitionDurationMs:300,onClose:this.handleOnClose},function(t,r){return m.default.createElement("div",(0,o.default)({className:"promo_banner",style:a({},y,{},g[t])},r),m.default.createElement("div",{className:"banner is-shown"},m.default.createElement("div",{className:"main-section-full"},m.default.createElement("h1",null,_("Your Google Assistant lists are now synced with Todoist projects. Any synced tasks will have the \u201cAssistant\u201d label.")),m.default.createElement("a",{className:"ist_button ist_button_red",onClick:e.handleGotItClick},_("Got it")),m.default.createElement("a",{className:"link",onClick:e.handleLearnMoreClick,href:"https://get.todoist.help/hc/articles/360003357900",target:"_blank",rel:"noopener noreferrer"},_("Learn more")))))})}}]),t}(m.default.Component);r.default=E},{"../../react_components/reactist/Notifier":874,"../../reducers/tooltip":1040,"../../stores/store":1048,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,react:"react"}],106:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.shouldShowPremiumTrialBanner=r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=e("react-redux"),m=e("../../reducers/tooltip"),h=n(e("../../stores/store")),v=n(e("../../utils/format")),b=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),r.onAcceptClick=r.onAcceptClick.bind((0,s.default)(r)),r.onRejectClick=r.onRejectClick.bind((0,s.default)(r)),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"onAcceptClick",value:function(){h.default.dispatch((0,m.acceptPremiumTrial)()).then(function(){window.location="/premium/free_trial"})}},{key:"onRejectClick",value:function(){h.default.dispatch((0,m.rejectPremiumTrial)())}},{key:"render",value:function(){return d.default.createElement("div",{className:"promo_banner"},d.default.createElement("div",{className:"banner is-shown"},d.default.createElement("img",{className:"banner-img",src:"https://d3ptyyxy2at9ui.cloudfront.net/laptop_premium-76e0a8.png",alt:""}),d.default.createElement("div",{className:"main-section"},d.default.createElement("div",null,d.default.createElement("h1",null,(0,v.default)(_("{user_name}, want to try Premium for free? It\u2019s this way\u2026"),{user_name:this.props.user?this.props.user.full_name:""})),d.default.createElement("a",{className:"ist_button ist_button_red",onClick:this.onAcceptClick},_("Start Free Trial")),d.default.createElement("a",{className:"not-now-btn",onClick:this.onRejectClick},_("Not Now"))))))}}]),t}(d.default.Component);(0,c.default)(b,"propTypes",{user:f.default.object});var y=function(e){return{user:e.user}},g=(0,p.connect)(y)(b);r.default=g;var E=function(e){return e.user&&!e.user.free_trail_expires&&!e.user.is_premium&&(0,m.isScheduled)(m.TOOLTIP_PREMIUM_TRIAL,e)};r.shouldShowPremiumTrialBanner=E},{"../../reducers/tooltip":1040,"../../stores/store":1048,"../../utils/format":1079,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],107:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.shouldShowPremiumWillExpireBanner=r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=e("react-redux"),m=e("../../reducers/tooltip"),h=n(e("../../stores/store")),v=n(e("../../utils/format")),b=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),r.onUpgradeClick=r.onUpgradeClick.bind((0,s.default)(r)),r.onNotNowClick=r.onNotNowClick.bind((0,s.default)(r)),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"onUpgradeClick",value:function(){h.default.dispatch((0,m.markSeen)(m.TOOLTIP_PREMIUM_EXPIRING,m.EVENT_PREMIUM_EXPIRING_FOLLOW))}},{key:"onNotNowClick",value:function(){h.default.dispatch((0,m.markSeen)(m.TOOLTIP_PREMIUM_EXPIRING,m.EVENT_PREMIUM_EXPIRING_CLOSE))}},{key:"render",value:function(){var e,t=this.props.user.full_name.split(" ")[0];return e=this.props.isPremiumTrial?(0,v.default)(_("{user_first_name}, just a reminder - your Premium trial ends in {day_num} days. Want to stay Premium? Click here."),{user_first_name:t,day_num:this.props.expireDayCount}):(0,v.default)(_("{user_first_name}, just a reminder - your Premium expires in {day_num} days. Want to keep your Premium access? Click here."),{user_first_name:t,day_num:this.props.expireDayCount}),d.default.createElement("div",{className:"promo_banner"},d.default.createElement("div",{className:"banner is-shown"},d.default.createElement("img",{className:"banner-img",src:"https://d3ptyyxy2at9ui.cloudfront.net/laptop_premium-76e0a8.png",alt:""}),d.default.createElement("div",{className:"main-section"},d.default.createElement("h1",null,e),d.default.createElement("a",{className:"ist_button ist_button_red",onClick:this.onUpgradeClick,href:"https://todoist.com/premium",target:"_blank",rel:"noopener noreferrer"},this.props.isPremiumTrial?_("Upgrade"):_("Renew")),d.default.createElement("a",{className:"not-now-btn",onClick:this.onNotNowClick},_("Not Now")))))}}]),t}(d.default.Component);(0,c.default)(b,"propTypes",{user:f.default.object,isPremiumTrial:f.default.bool,expireDayCount:f.default.number});var y=function(e){var t=!1,r=null;e.user.free_trail_expires&&(r=new Date(e.user.free_trail_expires),t=r>new Date),t||(r=new Date(e.user.premium_until));var n=DateistDateHelpers.day_diff(new Date,r);return{user:e.user,isPremiumTrial:t,expireDayCount:n}},g=(0,p.connect)(y)(b);r.default=g;var E=function(e){if(!e.user||!e.user.premium_until&&!e.user.free_trail_expires||!(0,m.isScheduled)(m.TOOLTIP_PREMIUM_EXPIRING,e))return!1;var t=!1,r=null;e.user.free_trail_expires&&(r=new Date(e.user.free_trail_expires),t=r>new Date),t||(r=new Date(e.user.premium_until));var n=DateistDateHelpers.day_diff(new Date,r);return!(n>40||n<0)};r.shouldShowPremiumWillExpireBanner=E},{"../../reducers/tooltip":1040,"../../stores/store":1048,"../../utils/format":1079,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],108:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/inherits")),c=a(e("react")),d=a(e("prop-types")),f=e("react-redux"),p=e("reselect"),m=a(e("./GoogleAssistant")),h=n(e("./PremiumTrialBanner")),_=n(e("./PremiumWillExpireBanner")),v=e("../../reducers/tooltip"),b=e("../../utils/fp"),y=function(e){function t(e){return(0,i.default)(this,t),(0,l.default)(this,(0,s.default)(t).call(this,e))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.state;return e.undo?null:(0,v.isScheduled)(v.TOOLTIP_GOOGLE_ASSISTANT,e)?c.default.createElement(m.default,null):(0,h.shouldShowPremiumTrialBanner)(e)?c.default.createElement(h.default,null):(0,_.shouldShowPremiumWillExpireBanner)(e)?c.default.createElement(_.default,null):null}}]),t}(c.default.Component);y.propTypes={state:d.default.shape({tooltip:d.default.shape({scheduled:d.default.any,seen:d.default.any})})};var g=(0,p.createSelector)((0,b.pick)(["undo","tooltip.scheduled","tooltip.seen","user"]),function(e){return{state:e}}),E=(0,f.connect)(g)(y),T=E;r.default=T},{"../../reducers/tooltip":1040,"../../utils/fp":1083,"./GoogleAssistant":105,"./PremiumTrialBanner":106,"./PremiumWillExpireBanner":107,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-redux":"react-redux",reselect:"reselect"}],109:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("react-redux"),o=a(e("../../react_components/topbar/DailyGoalPie")),l=e("../../reducers/stats"),s=e("../../reducers/settings"),u=n(e("../ProductivityStat")),c=function(e){var t=e.stats,r=e.user;return t&&r?{vocationMode:r.features.karma_vacation,goal:(0,l.dailyGoal)(e),completed:(0,l.completedToday)(e),counter:r.karma_disabled?t.completed_count:r.karma,theme:(0,s.getTheme)(e),onClick:u.show}:{}},d=(0,i.connect)(c)(o.default);r.default=d},{"../../react_components/topbar/DailyGoalPie":970,"../../reducers/settings":1036,"../../reducers/stats":1037,"../ProductivityStat":98,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"react-redux":"react-redux"}],110:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("react")),d=n(e("prop-types")),f=e("react-redux"),p=n(e("./DailyGoalPie")),m=n(e("../ErrorBoundary")),h=n(e("../../components/top_icons/TopIcons")),_=n(e("../../components/quick_find/QuickFind")),v=n(e("../../components/themes/Themes")),b=e("../../reducers/selectors"),y=e("../../reducers/settings"),g=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){h.default.render(),_.default.render(),v.default.switchThemes(this.props.theme)}},{key:"render",value:function(){return c.default.createElement("div",{id:"top_bar",style:{display:"none"}},c.default.createElement("div",{id:"top_bar_inner"},c.default.createElement("div",{id:"logo","data-track":"navigation|todoist_logo"}),c.default.createElement("div",{id:"top_icons"},c.default.createElement("span",{id:"before_pie",style:{display:"none"}}),c.default.createElement(m.default,null,c.default.createElement(p.default,null))),c.default.createElement("div",{id:"quick_find"})))}}]),t}(c.default.Component);(0,u.default)(g,"propTypes",{theme:d.default.number});var E=function(e){return{dataLoaded:(0,b.dataLoaded)(e),theme:(0,y.getTheme)(e)}},T=function(e){return e.dataLoaded?c.default.createElement(g,e):null},w=(0,f.connect)(E)(T);r.default=w},{"../../components/quick_find/QuickFind":72,"../../components/themes/Themes":91,"../../components/top_icons/TopIcons":93,"../../reducers/selectors":1035,"../../reducers/settings":1036,"../ErrorBoundary":96,"./DailyGoalPie":109,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],111:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault"),o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("@babel/runtime/helpers/defineProperty")),s=e("../components/misc/Misc.js"),u=i(e("../components/projects_list/ProjectListUtils")),c=i(e("../components/local_notifications/LocalNotifications")),d=i(e("../components/local_reminders/LocalReminders")),f=i(e("../components/postpone/Postpone")),p=i(e("../models/ItemsModel")),m=i(e("../models/LabelsModel")),h=i(e("../models/ProjectsModel")),v=i(e("../models/SyncEngine")),b=i(e("../models/Collaborators")),y=e("../models/Reminders"),g=i(e("../filterist")),E=i(e("../models/UtilModels")),T=i(e("../models/Colors")),w=e("../plugin_version/ContentTransformers"),R=i(e("../models/DateExt")),P=i(e("../stores/subscribeSelected")),D=i(e("../stores/store")),O=e("../reducers/counts"),C=e("reselect"),I=e("../reducers/settings"),A=e("../reducers/notes"),S=e("../reducers/detailView"),k=e("../utils"),M=e("../reducers/labels"),j=e("../constants/constants"),N=e("../reducers/items/index.js"),x=e("../utils/fp"),L="local.todoist.com"===window.location.host,q="beta.todoist.com"===window.location.host,U="macstore.todoist.com"===window.location.host,F=(0,C.createSelector)(function(e){return e.user},I.getTheme,function(e,t){return a({},e,{theme:t})}),z=function(){return F(D.default.getState())};if((0,s.isMacApp)()||L||q||U){var B;window.MacBridge=B={bridge:null,handleRequest:function(e,t){var r,n,a,i={status:"ok"},c=(0,s.getMacAppVersion)(),d=(0,o.default)(c,3),_=d[0],E=d[1],w=d[2],P=function(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;null===l.color&&(l.color=7),_&&E&&(7===_&&0===E||_<7)&&(l.color=T.default.normalizeToOld(e,l.color))}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}},O=function(){i.projects=[];var e=!0,t=!1,r=void 0;try{for(var n,a=h.default.getAll({with_indent:!0})[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value,l=$update({},o);b.default.isProjectShared(o.id)?(l.collaborators=b.default.getAll(l.id),i.projects.push(l)):i.projects.push(l)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}P("project",i.projects)},C=function(){i.labels=[];var e=!0,t=!1,r=void 0;try{
for(var n,a=m.default.getAll(!0)[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value,l=$update({},o);i.labels.push(l)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}P("label",i.labels)},I=function(){var e=Array.from(g.default.getOverdueAndToday(D.default.getState())),t=(0,o.default)(e,2),r=t[0],n=t[1];i.items_today=B.handleDayResult(r),i.items_overdue=B.handleDayResult(n)},j=function(){if(i.user=z(),i.user.lang=window.LANG,i.user.dateist_lang=window.DATEIST_LANG||"en",_&&E&&w&&(7===_&&2===E&&w<=3||7===_&&E<2||_<7)){if(i.user.premium_until){var e=new Date(i.user.premium_until);i.user.premium_until=e.toISOString()}if(i.user.join_date){var t=new Date(i.user.join_date);i.user.join_date=t.toISOString()}if(i.user.free_trail_expires){var r=new Date(i.user.free_trail_expires);i.user.free_trail_expires=r.toISOString()}}};if("sync"===e.action)v.default.sync(null,!0);else if("logout"===e.action)Signals.sendSignal("logout");else if("getData"===e.action)O(),C(),I(),j();else if("getProjects"===e.action)O();else if("getLabels"===e.action||"getPersonalLabels"===e.action)C();else if("getDynamicLabels"===e.action)i.labels=(0,M.labelGetAllShared)(D.default.getState());else if("getTodayItems"===e.action)I();else if("getUser"===e.action)j();else if("parseDate"===e.action)B.parseDate(e,i);else if("formatDate"===e.action)B.formatDate(e,i);else if("getCollaborators"===e.action)i.collaborators=(0,x.get)("collaborators.all",D.default.getState());else if("getProjectMembersWithID"===e.action){var L;L=b.default.isProjectShared(e.id)?b.default.getAll(e.id):[],i.members=L,i.length=L.length}else if("completeItem"===e.action)(r=p.default.getById(e.itemId))&&p.default.complete(r);else if("uncompleteItem"===e.action)p.default.uncomplete(e.itemId);else if("genericAction"===e.action){var q=!0,U=!1,F=void 0;try{for(var H,V=e.actions[Symbol.iterator]();!(q=(H=V.next()).done);q=!0){r=H.value;var W;if("complete"===r.action)(W=p.default.getById(r.id))&&p.default.complete(W);else if("postpone"===r.action)(W=p.default.getById(r.id))&&f.default.postPoneModel(W);else if("view_project"===r.action)u.default.setCurrentById(r.project_id);else if("view_task"===r.action)D.default.dispatch((0,S.detailViewShowItem)(r.item_id));else if("view_project_note"===r.action)D.default.dispatch((0,S.detailViewShowProject)(r.project_id,{activeTab:"comments",highlightedNoteId:r.note_id}));else if("view_business_users"===r.action)window.open("/business/users");else if("view_business_billing"===r.action)window.open("/business/accountAndBilling");else if("note_add"===r.action){var G=!!r.project_id;G?D.default.dispatch((0,A.noteAdd)({parentId:r.project_id,content:r.text,type:A.TYPE_PROJECT_NOTE})):D.default.dispatch((0,A.noteAdd)({parentId:r.item_id,content:r.text,type:A.TYPE_ITEM_NOTE}))}}}catch(e){U=!0,F=e}finally{try{q||null==V.return||V.return()}finally{if(U)throw F}}Signals.sendSignal("refresh_interface",!0)}else if("addItem"===e.action){var Y;a=h.default.get(e.projectId),a||(a=h.default.getInbox());var K=null;if(e.dueDate){if(Y=k.DateUtils.parse(e.dueDate),!Y.due_date)return i.status="error",i.reason="INVALID_DATE",t(i),i;K=R.default.fromDateist(Y)}if(!e.content||0===e.content.length)return i.status="error",i.reason="CONTENT_IS_EMPTY",t(i),i;var X={content:e.content,due:K,project_id:a.id,priority:e.priority||1,responsible_uid:e.responsible_uid||null};if(e.dismissedLabels){var J={},Q=!0,Z=!1,ee=void 0;try{for(var te,re=e.dismissedLabels[Symbol.iterator]();!(Q=(te=re.next()).done);Q=!0)n=te.value,J[n]=!0}catch(e){Z=!0,ee=e}finally{try{Q||null==re.return||re.return()}finally{if(Z)throw ee}}X.labels_to_ignore=J}if(e.labels&&(X.labels=e.labels),r=p.default.add(X,{return_as_error:!0}),r.error)i.status="error",i.reason="LIMIT_REACHED";else{if(i.item=r,e.reminders){var ne=!0,ae=!1,ie=void 0;try{for(var oe,le=e.reminders[Symbol.iterator]();!(ne=(oe=le.next()).done);ne=!0){var se=oe.value;Y=k.DateUtils.parse(se),Y.due_date&&y.RemindersModel.add({item_id:r.id,type:"absolute",due:R.default.fromDateist(Y)})}}catch(e){ae=!0,ie=e}finally{try{ne||null==le.return||le.return()}finally{if(ae)throw ie}}}e.note&&e.note.length>0&&D.default.dispatch((0,A.noteAdd)({parentId:r.id,content:e.note,type:A.TYPE_ITEM_NOTE})),Signals.sendSignal("instant_refresh_interface")}}else if("addLabel"===e.action)(n=m.default.add({name:e.name,color:e.color}))||(i.status="error",i.reason="NOT_ADDED");else if("addProject"===e.action){var ue={name:e.name,color:e.color,indent:e.indent||1};a=h.default.add(ue),a||(i.status="error",i.reason="NOT_ADDED")}else if("shareProject"===e.action)(a=b.default.addInvite(e.projectId,e.email))||(i.status="error",i.reason="NOT_SHARED");else if("scheduleItem"===e.action)try{var ce=k.DateUtils.parse(e.date),de=R.default.fromDateist(ce);D.default.dispatch((0,N.itemUpdateDue)((0,l.default)({},e.itemId,de)))}catch(e){i.status="error",i.reason=e}else if("commentItem"===e.action)D.default.dispatch((0,A.noteAdd)({parentId:e.itemId,content:e.comment,type:A.TYPE_ITEM_NOTE}));else if("commentProject"===e.action)D.default.dispatch((0,A.noteAdd)({parentId:e.projectId,content:e.comment,type:A.TYPE_PROJECT_NOTE}));else if("openItem"===e.action)D.default.dispatch((0,S.detailViewShowItem)(e.itemId));else if("openItemComments"===e.action)D.default.dispatch((0,S.detailViewShowItem)(e.itemId,{activeTab:"comments"}));else if("openProjectComments"===e.action)D.default.dispatch((0,S.detailViewShowProject)(e.projectId,{activeTab:"comments"}));else if("openNotifications"===e.action){var fe=$("notifications_counter");fe&&fe.click()}return $isFunction(t)&&t(i),i},parseDate:function(e,t){var r=e.dueDate,n=k.DateUtils.parse(r);return n.due_date?(t.date_string=n.date_string,t.date_lang=n.date_lang,t.date=n.due_date.getTime()):(t.status="error",t.reason="INVALID_DATE"),t},formatDate:function(e,t){var r=e.date_string.split("-"),n=new Date(parseInt(r[0]),parseInt(r[1])-1,parseInt(r[2]));return t.date_string=k.DateUtils.format(n),t},handleDayResult:function(e){var t=new Date,r=new w.GContentTransformers,n=[],a=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value,c={};$update(c,u),r.setupByContent(u.content),"outlook"===r.type?c.content="Outlook: ".concat(r.title):"thunderbird"===r.type?c.content="Thunderbird: ".concat(r.title):r.type&&(c.content="Gmail: ".concat(r.title)),c.is_recurring=c.due.is_recurring;var d=c.due.toDate();if(c.due_date=d,c.date_string=c.due.string,DateistDateHelpers.is_overdue(t,d)){var f=DateistDateHelpers.day_diff(new Date,d);c.diff_human=k.DateUtils.humanizeDayDiff(f,d)}c.indent=1,c.item_order=1,n.push(c),r.reset()}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return n.sort(E.default.daySort),n}},function(e){if(window.WebViewJavascriptBridge)e(window.WebViewJavascriptBridge);else{var t=function(){e(window.WebViewJavascriptBridge)};document.addEventListener("WebViewJavascriptBridgeReady",t,!1)}}(function(e){e.init(function(){return null}),B.bridge=e,c.default.connect(),d.default.connect(),e.registerHandler("nativeAppBridge",function(e,t){return B.handleRequest(e,t)});(0,P.default)(D.default,O.countToday,O.countOverdue,function(t,r){e&&e.callHandler("jsAppBridge",{action:5,count:t+r},function(){return null})}),Signals.connect("data_fully_loaded",function(){e&&e.callHandler("jsAppBridge",{action:7},function(){return null})}),Signals.connect("mac_remind",function(t){if(e){var r={action:6};r.title=t.content,r.body="",r.type="reminder",r.id="reminder",r.info={itemId:t.id};var n=[{text:_("Complete"),action:"complete",id:t.id,put_in_focus:!1}];t.due&&n.push({text:_("Postpone"),action:"postpone",id:t.id,put_in_focus:!1}),r.actions=n,e.callHandler("jsAppBridge",r,function(){return null})}}),Signals.connect("mac_notify",function(t,r,n,a,i){if(e){var o={action:6};o.title=t,o.body=r||"",o.type="notification",o.id=a||"",o.info=i||{};var l=[];n&&l.push(n),o.actions=l,e.callHandler("jsAppBridge",o,function(){return null})}});var t=function(){if(e){var t={action:8};t.user=z(),e.callHandler("jsAppBridge",t,function(){return null})}},r=function(){if(e){var t={action:9};t.color="#f6f6f6",e.callHandler("jsAppBridge",t,function(){return null})}},n=function(){if(e){var t={action:10},r=D.default.getState(),n=r.mainView.type===j.MAIN_VIEW_TYPE_PROJECT?r.mainView.ids[0]:r.user&&r.user.inbox_project;if(n&&(t.projectId=n),r.mainView.type===j.MAIN_VIEW_TYPE_LABEL&&(t.content="@".concat(r.mainView.id," ")),r.mainView.type===j.MAIN_VIEW_TYPE_TODAY||r.mainView.type===j.MAIN_VIEW_TYPE_7_DAYS){var a=DateistDateHelpers.date_max(new Date),i=k.DateUtils.dateistResultFromDate(a);t.dueDate=i.date_string}e.callHandler("jsAppBridge",t,function(){return null})}};return(0,P.default)(D.default,F,function(){t(),r()}),Signals.connect("show_quick_add",function(){n()})})}},{"../components/local_notifications/LocalNotifications":43,"../components/local_reminders/LocalReminders":44,"../components/misc/Misc.js":46,"../components/postpone/Postpone":57,"../components/projects_list/ProjectListUtils":70,"../constants/constants":94,"../filterist":117,"../models/Collaborators":150,"../models/Colors":151,"../models/DateExt":154,"../models/ItemsModel":157,"../models/LabelsModel":158,"../models/ProjectsModel":161,"../models/Reminders":163,"../models/SyncEngine":171,"../models/UtilModels":175,"../plugin_version/ContentTransformers":459,"../reducers/counts":994,"../reducers/detailView":996,"../reducers/items/index.js":1005,"../reducers/labels":1010,"../reducers/notes":1021,"../reducers/settings":1036,"../stores/store":1048,"../stores/subscribeSelected":1049,"../utils":1094,"../utils/fp":1083,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,reselect:"reselect"}],112:[function(e,t,r){"use strict";function n(e){$isString(e)&&(e=$eval(e)),u.setCurrentEmail(e),u.trackIfNeeded()}function a(e){$isString(e)&&(e=$eval(e)),u.setCurrentEmail(e),Signals.sendSignal("PluginVersion.addToGenericController")}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("../stores/store")),l=e("../reducers/modals"),s=e("../plugin_version/ContentTransformers"),u={current_email_obj:null,addToTextArea:function(e){var t=u.current_email_obj;return!!t&&(s.ContentTransformers.type="outlook",s.ContentTransformers.link_id=t.id,s.ContentTransformers.title=t.subject,e?e.insertText?e.insertText(s.ContentTransformers.onContentSave(t.subject)):(s.ContentTransformers.annotateWithIcon(e),LibEdit.insertAtCursor(e,t.subject,!0)):o.default.dispatch((0,l.showModal)({type:l.MODAL_TYPES.QUICK_ADD,props:{item:{content:s.ContentTransformers.onContentSave(t.subject)}}})),!1)},setCurrentEmail:function(e){if(e){var t=u.current_email_obj={};$update(t,e)}else u.current_email_obj=null;Signals.sendSignal("PluginVersion.notifyExternalServices")},openEmail:function(e){try{return window.external.openmail(e),!1}catch(e){}return!0},tracked:!1,trackIfNeeded:function(){u.tracked||(u.tracked=!0)}};window.OutlookIntegration=u,window.setOutlookEmail=n,window.addOutlookEmail=a;var c=u;r.default=c},{"../plugin_version/ContentTransformers":459,"../reducers/modals":1016,"../stores/store":1048,"@babel/runtime/helpers/interopRequireDefault":189}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("../utils/deps"),a=(0,n.defineDeps)("filterist",["ItemsModel","createProjectPickBySelector","projectGetChildren","createCollaboratorFilterSelector","isShared","store"]);r.default=a},{"../utils/deps":1071}],114:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.GrammarError=r.UnrecognizedSymbolError=r.ProgrammingError=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=function e(t){(0,a.default)(this,e),this.messages=t,Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this)};r.ProgrammingError=i;var o=function e(t,r,n){(0,a.default)(this,e),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this),this.queryString=t,this.index=r,this.badSymbol=n,this.message="UnrecognizedSymbolError: "+n};r.UnrecognizedSymbolError=o;var l=function e(t){(0,a.default)(this,e),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this);var r=t.map(function(e){return"".concat(e.constructor.name,'("').concat(e.matchedStr,'")')}).join(" ");this.message="GrammarError (tokens: "+r+")"};r.GrammarError=l;var s={ProgrammingError:i,UnrecognizedSymbolError:o,GrammarError:l};r.default=s},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/interopRequireDefault":189}],115:[function(e,t,r){(function(t){"use strict";function n(e){var n;return n=void 0!==r&&null!==r?t.todoist.filteri18n:window.todoist.filteri18n,e=e?e.toLowerCase():"en",n[e]?n[e]:(console.log('[warn] filterist.i18n cannot load pattern for lang "'+e+'". English is loaded instead.'),n.en)}Object.defineProperty(r,"__esModule",{value:!0}),r.load=n,e("./i18n/en")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./i18n/en":116}],116:[function(e,t,r){(function(e){"use strict";!function(){var t,n={ALL:[/^\s*:all:\s*/i,/^\s*all\s*/i],AND:[/^\s*&\s*/i],ASSIGNED:[/^\s*assigned\s*/i],ASSIGNED_BY:[/^\s*assigned by\s*:\s*([^()|&!,]+)\s*/i],ASSIGNED_TO:[/^\s*assigned to\s*:\s*([^()|&!,]+)\s*/i,/^\s*\+\s*([^()|&!,]+)\s*/i],CREATED:[/^\s*created\s*:\s*([^()|&!,]+)\s*/i,/^\s*added\s*:\s*([^()|&!,]+)\s*/i],CREATED_AFTER:[/^\s*created after\s*:\s*([^()|&!,]+)\s*/i,/^\s*added after\s*:\s*([^()|&!,]+)\s*/i],CREATED_BEFORE:[/^\s*created before\s*:\s*([^()|&!,]+)\s*/i,/^\s*added before\s*:\s*([^()|&!,]+)\s*/i],DUE:[/^\s*due\s*:\s*([^()|&!,]+)\s*/i],DUE_AFTER:[/^\s*due after\s*:\s*([^()|&!,]+)\s*/i],DUE_BEFORE:[/^\s*due before\s*:\s*([^()|&!,]+)\s*/i],DUE_RECURRING:[/^\s*recurring\s*/i],LABEL:[/^\s*label\s*:\s*([^\s()|&!,]+)\s*/i,/^\s*@\s*([^\s()|&!,]+)\s*/i],LEFT:[/^\s*\(\s*/i],NOT:[/^\s*!\s*/i],NO_DUE_DATE:[/^\s*no due date\s*/i,/^\s*no date\s*/i],NO_LABELS:[/^\s*no labels\s*/i,/^\s*no label\s*/i],NO_PRIORITY:[/^\s*no priority\s*/i],OR:[/^\s*\|\s*/i],OVERDUE:[/^\s*over due\s*/i,/^\s*overdue\s*/i,/^\s*od\s*/i],PRIORITY:[/^\s*priority\s*:\s*([1-4])\s*\s*/i,/^\s*priority\s*([1-4])\s*\s*/i,/^\s*p\s*([1-4])\s*\s*/i],PROJECT:[/^\s*p\s*:\s*([^()|&!,]+)\s*/i,/^\s*##\s*([^()|&!,]+)\s*/i],PROJECT_SINGLE:[/^\s*project\s*:\s*([^()|&!,]+)\s*/i,/^\s*#\s*([^()|&!,]+)\s*/i],RIGHT:[/^\s*\)\s*/i],SEARCH:[/^\s*search\s*:\s*([^()|&!,]+)\s*/i,/^\s*q\s*:\s*([^()|&!,]+)\s*/i],SHARED:[/^\s*shared\s*/i],TO_ME:[/^\s*:to me:\s*/i,/^\s*:to_me:\s*/i,/^\s*to me\s*/i],TO_OTHERS:[/^\s*:to others:\s*/i,/^\s*:to_others:\s*/i,/^\s*to others\s*/i],VIEW_ALL:[/^\s*view all\s*/i],WITHIN_DAYS:[/^\s*within\s*(-?[1-9]+\d*)\s*days\s*/i,/^\s*next\s*(-?[1-9]+\d*)\s*days\s*/i,/^\s*\s*(-?[1-9]+\d*)\s*days\s*/i]},a={ALL:[":all:","all"],ASSIGNED:["assigned"],ASSIGNED_BY:["assigned by:$COLLABORATOR"],ASSIGNED_TO:["assigned to:$COLLABORATOR","+$COLLABORATOR"],CREATED:["created:$DATE","added:$DATE"],CREATED_AFTER:["created after:$DATE","added after:$DATE"],CREATED_BEFORE:["created before:$DATE","added before:$DATE"],DUE:["due:$DATE"],DUE_AFTER:["due after:$DATE"],DUE_BEFORE:["due before:$DATE"],DUE_RECURRING:["recurring"],LABEL:["label:$LABEL_NAME","@$LABEL_NAME"],NO_DUE_DATE:["no due date","no date"],NO_LABELS:["no labels","no label"],NO_PRIORITY:["no priority"],OVERDUE:["over due","overdue","od"],PRIORITY:["priority $PRIORITY_LEVEL","priority:$PRIORITY_LEVEL","p$PRIORITY_LEVEL"],PROJECT:["##$PROJECT_NAME","p:$PROJECT_NAME"],PROJECT_SINGLE:["project:$PROJECT_NAME","#$PROJECT_NAME"],SEARCH:["search:$SEARCH_STR","q:$SEARCH_STR"],SHARED:["shared"],TO_ME:[":to me:",":to_me:","to me"],TO_OTHERS:[":to others:",":to_others:","to others"],VIEW_ALL:["view all"],WITHIN_DAYS:["within $DAYS_NUM days","next $DAYS_NUM days","$DAYS_NUM days"]},i={WITHIN_DAYS:"Due within $DAYS_NUM days",ASSIGNED:"Assigned",SEARCH:"Search for $SEARCH_STR",NO_PRIORITY:"No priority",SHARED:"Shared",CREATED:"Added on $DATE",ASSIGNED_TO:"Assigned to $NAME",DUE:"Due on $DATE",DUE_BEFORE:"Due before $DATE",PRIORITY:"Priority $PRIORITY_LEVEL",NO_DUE_DATE:"No due date",VIEW_ALL:"All tasks",NO_LABELS:"No labels",CREATED_AFTER:"Added after $DATE",DUE_RECURRING:"Recurring",ASSIGNED_BY:"Assigned by $NAME",DUE_AFTER:"Due after $DATE",TO_OTHERS:"Assigned to others",CREATED_BEFORE:"Added before $DATE",TO_ME:"Assigned to me",OVERDUE:"Overdue"},o={ME:["me"],OTHERS:["others","other"]};t=void 0!==r&&null!==r?e:window,void 0===t.todoist&&(t.todoist={}),void 0===t.todoist.filteri18n&&(t.todoist.filteri18n={}),t.todoist.filteri18n.en={query:a,queryRex:n,resultTitle:i,specialCollaboratorVal:o}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],117:[function(e,t,r){"use strict";function n(e,t){for(var r=window.LANG?window.LANG:"en",n=g(t),a=b.default.itemGetUncompleted(t),i=e.split(","),o=[],l=0;l<i.length;l++){var s=function(l){var s=void 0,u=void 0;try{var d=w(i[l],n),f=(0,c.default)(d,2);s=f[0],u=f[1]}catch(t){if(!(t instanceof v.UnrecognizedSymbolError))throw t;var p=i.map(function(e){return e.length}).slice(0,l).reduce(function(e,t){return e+t},t.index);throw new v.UnrecognizedSymbolError(e,p,t.badSymbol)}if(1===s.length&&s[0]instanceof h.Search)return{v:[_.createSearchSection(s[0],r)]};var m=a.filter(function(e){return!e.in_history&&!e.checked&&u.eval(e,t)}),b=_.create(s,u,m,r);o=o.concat(b)}(l);if("object"===(0,u.default)(s))return s.v}return o}function a(e){var t=n("overdue & !assigned to: other, today & !assigned to: other",e),r=(0,c.default)(t,2),a=r[0];return[r[1].items,a.items]}function i(e){var t=new Date(e.getTime());return t.setHours(23),t.setMinutes(59),t.setSeconds(59),t.setMilliseconds(999),b.default.ItemsModel.getAllOwn().filter(function(e){return!!e.due&&((0,f.hasTime)(t)?!e.due.with_time&&(0,f.hasSameDateAndTime)(e.due,t):(0,f.isOnSameDate)(e.due,t))})}function o(e){var t=b.default.store.getState(),r=g(t),n=e.split(",");try{for(var a=0;a<n.length;a++)T(n[a],r)}catch(e){return!1}return!0}var l=e("@babel/runtime/helpers/interopRequireWildcard"),s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.filter=n,r.getOverdueAndToday=a,r.getByDate=i,r.isValidQuery=o,r.default=r.createFilterFunc=r.getFilteristConfig=void 0;var u=s(e("@babel/runtime/helpers/typeof")),c=s(e("@babel/runtime/helpers/slicedToArray")),d=e("reselect"),f=e("../utils"),p=e("./lexer"),m=l(e("./parser")),h=e("./token"),_=l(e("./section")),v=e("./errors"),b=s(e("./Deps")),y=s(e("../logger/Logger")),g=(0,d.createSelector)(function(e){return e.user},function(e){var t=e||{},r=t.date_format,n=t.time_format;return{lang:window.LANG,isUSDate:r,isAMPM:n}});r.getFilteristConfig=g;var E=(0,f.memoize)(function(e,t,r,n){return new p.Lexer({lang:e,isUSDate:t,isAMPM:r,now:n})}),T=function(e,t){var r=t.lang,n=t.isUSDate,a=t.isAMPM,i=t.now;if(void 0===r||void 0===n||void 0===a)throw new Error("Required configuration missing");var o=E(r,n,a,i),l=o.tokenize(e),s=l.filter(function(e){return e instanceof h.UnrecognizedSymbol});if(s.length>0){var u=s[0];throw new v.UnrecognizedSymbolError(e,u.index,u.matchedStr)}return[l,m.buildQueryTree(l)]},w=(0,f.LMemoize)(T,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.lang,n=t.isUSDate,a=t.isAMPM;return"".concat(r,"-").concat(n,"-").concat(a,"-").concat(e)});w.cache=new f.LRU(100);var R=function(e,t){try{var r=e.split(","),n=r.map(function(e){var r=w(e,t),n=(0,c.default)(r,2),a=n[1];return function(e,t){return a.eval(e,t)}});return function(t,r){try{var a=!0,i=!1,o=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){if((0,l.value)(t,r))return!0}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return!1}catch(r){return y.default.captureError(r,{tags:{where:"_createFilterFunc"},extra:{item:t,query:e}}),!1}}}catch(e){if(e instanceof v.UnrecognizedSymbolError||e instanceof v.GrammarError)return function(){return!1};throw e}},P=(0,f.LMemoize)(R,function(e,t){var r=t.lang,n=t.isUSDate,a=t.isAMPM,i=t.now;return i?"".concat(r,"-").concat(n,"-").concat(a,"-").concat(e,"-").concat(i.getTime()):"".concat(r,"-").concat(n,"-").concat(a,"-").concat(e)});r.createFilterFunc=P,P.cache=new f.LRU(100);var D={createFilterFunc:P,getFilteristConfig:g,filter:n,isValidQuery:o,getOverdueAndToday:a,getByDate:i,UnrecognizedSymbolError:v.UnrecognizedSymbolError,GrammarError:v.GrammarError};r.default=D},{"../logger/Logger":132,"../utils":1094,"./Deps":113,"./errors":114,"./lexer":118,"./parser":119,"./section":120,"./token":121,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/typeof":201,reselect:"reselect"}],118:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.DateistMatcher=r.Lexer=r.RexMatcher=void 0;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=o(e("@babel/runtime/helpers/defineProperty")),u=o(e("@babel/runtime/helpers/classCallCheck")),c=o(e("@babel/runtime/helpers/createClass")),d=i(e("./token")),f=i(e("./i18n")),p=e("./errors"),m=[!1,null,null],h=function(){function e(t,r){(0,u.default)(this,e),this.rex=t,this.tokenFn=r}return(0,c.default)(e,[{key:"match",value:function(e,t){var r=e.substring(t),n=this.rex.exec(r);if(null===n)return m;if(0!==n.index)throw new p.ProgrammingError("Programming Error: matcher should only match the beginning of string. (Rex: ".concat(this.rex,")"));return t+=n[0].length,[!0,this.tokenFn(n),t]}}]),e}();r.RexMatcher=h;var _=function(){function e(t,r,n,a){(0,u.default)(this,e),this.rex=t,this.tokenCls=a,this.dateistLangs=r,this.dateistOpt=n}return(0,c.default)(e,[{key:"match",value:function(e,t){var r=e.substring(t),n=this.rex.exec(r);if(null===n)return m;if(0!==n.index)throw new p.ProgrammingError("Programming Error: matcher should only match the beginning of string. (Rex: ".concat(this.rex,")"));var a,i,o=n[1];try{var l=Dateist.parse_multiple(o,this.dateistLangs,this.dateistOpt);l.due_date&&!l.is_recurring&&(a=l.due_date,i=l.date_lang)}catch(e){}return a?(t+=n[0].length,o=o.trim(),[!0,new this.tokenCls(o,i,this.dateistOpt),t]):m}}]),e}(),v=function(){function e(t){(0,u.default)(this,e),this.opt=t||{},this.opt=a({isUSDate:1,isAMPM:0},this.opt),this.initMatchers()}return(0,c.default)(e,[{key:"tokenize",value:function(e){for(var t=[],r=0;r<e.length;){var n=this.nextToken(e,r),a=(0,l.default)(n,2),i=a[0],o=a[1];t.push(i),r=o}return t}},{key:"nextToken",value:function(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=this.matchers[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value,u=s.match(e,t),c=(0,l.default)(u,3),f=c[0],p=c[1],m=c[2];if(f)return p.index=t,p.matchedStr=e.substring(t,m),[p,m]}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}var h=t;t+=1;e:for(;t<e.length;){var _=!0,v=!1,b=void 0;try{for(var y,g=this.matchers[Symbol.iterator]();!(_=(y=g.next()).done);_=!0){var E=y.value,T=E.match(e,t),w=(0,l.default)(T,1),f=w[0];if(f)break e}}catch(e){v=!0,b=e}finally{try{_||null==g.return||g.return()}finally{if(v)throw b}}t+=1}var R=e.substring(h,t),P=new d.UnrecognizedSymbol(R);return P.index=h,P.matchedStr=R,[P,t]}},{key:"initMatchers",value:function(){var e,t=f.load(this.opt.lang).queryRex;e=window.DATEIST_LANG?"en"==window.DATEIST_LANG?["en"]:[window.DATEIST_LANG,"en"]:"all_lang"===this.opt.lang?b:this.opt.lang?[this.opt.lang.slice(0,2),"en"]:["en"];var r={us_dates:this.opt.isUSDate,am_pm:this.opt.isAMPM,now_date:this.opt.now},n=f.load(this.opt.lang).specialCollaboratorVal,a=this;this.matchers=[].concat(t.LEFT.map(function(e){return new h(e,function(){return new d.Left})}),t.RIGHT.map(function(e){return new h(e,function(){return new d.Right})}),t.AND.map(function(e){return new h(e,function(){return new d.And})}),t.OR.map(function(e){return new h(e,function(){return new d.Or})}),t.NOT.map(function(e){return new h(e,function(){return new d.Not})}),t.VIEW_ALL.map(function(e){return new h(e,function(){return new d.ViewAll})}),t.NO_PRIORITY.map(function(e){return new h(e,function(){return new d.NoPriority})}),t.ALL.map(function(e){return new h(e,function(){return new d.All})}),t.TO_OTHERS.map(function(e){return new h(e,function(){return new d.ToOthers})}),t.TO_ME.map(function(e){return new h(e,function(){return new d.ToMe})}),t.NO_DUE_DATE.map(function(e){return new h(e,function(){return new d.NoDueDate})}),t.NO_LABELS.map(function(e){return new h(e,function(){return new d.NoLabels})}),t.ASSIGNED.map(function(e){return new h(e,function(){return new d.Assigned})}),t.SHARED.map(function(e){return new h(e,function(){return new d.Shared})}),t.DUE_RECURRING.map(function(e){return new h(e,function(){return new d.DueRecurring})}),t.LABEL.map(function(e){return new h(e,function(e){return new d.Label(e[1])})}),t.OVERDUE.map(function(e){return new h(e,function(){return a.opt.now?new d.Overdue(a.opt.now):new d.Overdue})}),t.PROJECT.map(function(e){return new h(e,function(e){var t=e[1].trim();return new d.Project(t)})}),t.PROJECT_SINGLE.map(function(e){return new h(e,function(e){var t=e[1].trim();return new d.ProjectSingle(t)})}),t.SEARCH.map(function(e){return new h(e,function(e){var t=e[1].trim();return new d.Search(t)})}),t.PRIORITY.map(function(e){return new h(e,function(e){var t=parseInt(e[1],10);return new d.Priority(t)})}),t.WITHIN_DAYS.map(function(e){return new h(e,function(e){var t=parseInt(e[1],10);return a.opt.now?new d.WithinDays(t,a.opt.now):new d.WithinDays(t)})}),t.ASSIGNED_TO.map(function(e){return new h(e,function(e){var t=e[1].trim().toLowerCase();return-1!=n.ME.indexOf(t)?new d.AssignedTo(d.COLLABORATOR_ME):-1!=n.OTHERS.indexOf(t)?new d.AssignedTo(d.COLLABORATOR_OTHERS):new d.AssignedTo(t)})}),t.ASSIGNED_BY.map(function(e){return new h(e,function(e){var t=e[1].trim().toLowerCase();return-1!=n.ME.indexOf(t)?new d.AssignedBy(d.COLLABORATOR_ME):-1!=n.OTHERS.indexOf(t)?new d.AssignedBy(d.COLLABORATOR_OTHERS):new d.AssignedBy(t)})}),t.CREATED.map(function(t){return new _(t,e,r,d.Created)}),t.CREATED_BEFORE.map(function(t){return new _(t,e,r,d.CreatedBefore)}),t.CREATED_AFTER.map(function(t){return new _(t,e,r,d.CreatedAfter)}),t.DUE.map(function(t){return new _(t,e,r,d.Due)}),t.DUE_BEFORE.map(function(t){return new _(t,e,r,d.DueBefore)}),t.DUE_AFTER.map(function(t){return new _(t,e,r,d.DueAfter)})),this.matchers.push(new y(e,r)),this.sortMatchers()}},{key:"sortMatchers",value:function(){this.matchers.sort(function(e,t){return e instanceof y?1:t instanceof y?-1:t.rex.source.length-e.rex.source.length||t.rex.source-e.rex.source})}}]),e}();r.Lexer=v;var b=["en","da","pl","zh","ko","ja","de","pt","it","es","nl","ru","sv","fr"],y=function(){function e(t,r){(0,u.default)(this,e),this.dateistLangs=t,this.dateistOpt=r}return(0,c.default)(e,[{key:"match",value:function(e,t){for(var r,n,a,i=e.substring(t),o=1;o<=i.length&&o<30&&-1===[",",")","|","&"].indexOf(i[o-1]);o++){var l=i.slice(0,o);try{var s=Dateist.parse_multiple(l,this.dateistLangs,this.dateistOpt);s.due_date&&!s.is_recurring&&(r=s,n=l,a=o)}catch(e){}}return r?(t+=a,n=n.trim(),[!0,new d.Due(n,r.date_lang,this.dateistOpt),t]):m}}]),e}();r.DateistMatcher=y},{"./errors":114,"./i18n":115,"./token":121,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199}],119:[function(e,t,r){"use strict";function n(e){return new d(e).buildQueryTree()}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.buildQueryTree=n,r.Parser=r.CURSOR_END=r.QueryTree=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),s=a(e("./token")),u=e("./errors"),c=function(){function e(t){(0,o.default)(this,e),this.token=t}return(0,l.default)(e,[{key:"setLeft",value:function(e){if(this.token.type!==s.TOKEN_TYPE_BINARY_OPERATOR&&this.token.type!==s.TOKEN_TYPE_UNARY_OPEATOR)throw new u.ProgrammingError("Cannot attach children for token (type: ".concat(this.token.type,")"));this.left=e,this.left.parent=this}},{key:"setRight",value:function(e){if(this.token.type!==s.TOKEN_TYPE_BINARY_OPERATOR)throw new u.ProgrammingError("Cannot attach children for token (type: ".concat(this.token.type,")"));this.right=e,this.right.parent=this}},{key:"hasChild",value:function(){return"left"in this||"right"in this}},{key:"isLeaf",value:function(){return!this.hasChild()}},{key:"toString",value:function(){return this.hasChild()?this.right?"(".concat(this.left," ").concat(this.token," ").concat(this.right,")"):"".concat(this.token.toString(),"(").concat(this.left.toString(),")"):this.token.toString()}},{key:"eval",value:function(e,t){if(!this.hasChild())return this.token.eval(e,t);if(this.token instanceof s.And)return this.left.eval(e,t)&&this.right.eval(e,t);if(this.token instanceof s.Or)return this.right.eval(e,t)||this.left.eval(e,t);if(this.token instanceof s.Not)return!this.left.eval(e,t);throw new u.ProgrammingError("Unrecognized operand token type")}},{key:"traverseUp",value:function(e){this.parent&&(e(this.parent),this.parent.traverseUp(e))}},{key:"traverseLeafs",value:function(e){if(this.isLeaf())return void e(this);this.left&&this.left.traverseLeafs(e),this.right&&this.right.traverseLeafs(e)}},{key:"leafNodes",value:function(){var e=[];return this.traverseLeafs(function(t){return e.push(t)}),e}},{key:"parentNodes",value:function(){var e=[];return this.traverseUp(function(t){return e.push(t)}),e}},{key:"find",value:function(e){var t=[];return e(this)&&t.push(this),this.left&&(t=t.concat(this.left.find(e))),this.right&&(t=t.concat(this.right.find(e))),t}},{key:"exist",value:function(e){return this.find(e).length>0}},{key:"clone",value:function(){var t=new e(this.token);if(this.isLeaf())return t;if(this.left){var r=this.left.clone();t.setLeft(r)}if(this.right){var n=this.right.clone();t.setRight(n)}return t}}]),e}();r.QueryTree=c;r.CURSOR_END=null;var d=function(){function e(t){(0,o.default)(this,e),this.tokens=t,this.cursor=0,this.root=null}return(0,l.default)(e,[{key:"next",value:function(){if(this.cursor>=this.tokens.length)return null;var e=this.tokens[this.cursor];return this.cursor=this.cursor+1,e}},{key:"peak",value:function(){return this.cursor>=this.tokens.length?null:this.tokens[this.cursor]}},{key:"buildQueryTree",value:function(){var e=this.expr();if(null!==this.next())throw new u.GrammarError(this.tokens);return e}},{key:"expr",value:function(){return this.expr4()}},{key:"expr4",value:function(){var e=this.expr3(),t=this.peak();if(t instanceof s.Or){t=this.next();var r=new c(t);return r.setLeft(e),r.setRight(this.expr4()),r}return e}},{key:"expr3",value:function(){var e=this.expr2(),t=this.peak();if(t instanceof s.And){t=this.next();var r=new c(t);return r.setLeft(e),
r.setRight(this.expr3()),r}return e}},{key:"expr2",value:function(){if(this.peak()instanceof s.Not){var e=this.next(),t=new c(e);return t.setLeft(this.expr2()),t}return this.expr1()}},{key:"expr1",value:function(){var e=this.next();if(null===e)throw new u.GrammarError(this.tokens);if(e.type===s.TOKEN_TYPE_OPERAND)return new c(e);if(e instanceof s.Left){var t=this.expr();if(!((e=this.next())instanceof s.Right))throw new u.GrammarError(this.tokens);return t}throw new u.GrammarError(this.tokens)}}]),e}();r.Parser=d},{"./errors":114,"./token":121,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],120:[function(e,t,r){"use strict";function n(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function a(e,t){return[e.filter(t),e.filter(function(e){return!t(e)})]}function i(e,t,r,n){var a=s(e,r,t),i=(0,m.default)(a,2),o=i[0],l=i[1];if(o)return l;var u=b.load(n).resultTitle,f=d(u,e);if(c(t)){var p=e.filter(function(e){return e instanceof v.Search})[0],h=new P(r,T,{name:f});return h.query=p.searchStr,[h]}return[new P(r,E,{name:f})]}function o(e,t){var r=b.load(t).resultTitle,n=d(r,[e]),a=new P([],T,{name:n});return a.query=e.searchStr,a}function l(e,t){return t.find(function(t){return t.token==e})[0].parentNodes().filter(function(e){return e.token instanceof v.Not}).length%2==1}function s(e,t,r){e=e.filter(function(e){return r.exist(function(t){return t.token==e})});var i=u(e),o=e.filter(function(e){return e instanceof v.Overdue&&!l(e,r)}),s=e.filter(function(e){return e instanceof v.WithinDays&&Math.abs(e.days)<=7&&!l(e,r)}),c=e.filter(function(e){return e instanceof v.WithinDays&&Math.abs(e.days)>7&&!l(e,r)}),d=e.filter(function(e){return e instanceof v.Due&&!l(e,r)});if(0===o.length&&0===s.length&&0===c.length&&0===d.length)return[!1,null];s.length>0?(s.sort(function(e,t){return t.days-e.days}),s=s[0]):s=null;var f=t.slice(),p=[];if(o.length>0){var h,b=a(f,function(e){return o[0].eval(e)}),y=(0,m.default)(b,2);h=y[0],f=y[1],p.push(new P(h,g,{orderable:i}))}if(d.length>0||s){var E=d.map(function(e){return new P([],R,{day_date:e.dueDate,orderable:i})});if(s){var T=(0,_.range)(s.days).sort().map(function(e){var t=new Date;return t.setDate(t.getDate()+e),t}),D=!0,O=!1,C=void 0;try{for(var I,A=T[Symbol.iterator]();!(D=(I=A.next()).done);D=!0){var S=I.value;E.push(new P([],R,{day_date:S,orderable:i}))}}catch(e){O=!0,C=e}finally{try{D||null==A.return||A.return()}finally{if(O)throw C}}}for(var k=[],M=0;M<E.length;M++)!function(e){var t=E[e];0===k.filter(function(e){return n(e.day_date,t.day_date)}).length&&k.push(t)}(M);k.sort(function(e,t){return e.day_date-t.day_date});for(var j=0,N=k;j<N.length;j++)!function(){var e=N[j],t=void 0,r=a(f,function(t){return t.due&&n(t.due,e.day_date)}),i=(0,m.default)(r,2);t=i[0],f=i[1],e.items=t}();p=p.concat(k)}if(c.length>0){var x=new P([],w,{orderable:i}),L=!0,q=!1,U=void 0;try{for(var $,F=c[Symbol.iterator]();!(L=($=F.next()).done);L=!0)!function(){var e=$.value,t=void 0,r=a(f,function(t){return e.eval(t)}),n=(0,m.default)(r,2);t=n[0],f=n[1],x.items=x.items.concat(t)}()}catch(e){q=!0,U=e}finally{try{L||null==F.return||F.return()}finally{if(q)throw U}}x.items.length>0&&(p=p.concat(x))}return f.length>0?[!1,null]:[!0,p]}function u(e){return 1===e.length&&(e[0]instanceof v.WithinDays||e[0]instanceof v.Due)||4===e.length&&((e[0]instanceof v.Due||e[0]instanceof v.Overdue||e[0]instanceof v.WithinDays)&&e[1]instanceof v.And&&e[2]instanceof v.Not&&e[3]instanceof v.AssignedTo)}function c(e){return e.isLeaf()&&e.token instanceof v.Search}function d(e,t){function r(t){return t instanceof v.Search?e.SEARCH.replace("$SEARCH_STR",'"'.concat(t.searchStr,'"')):t instanceof v.WithinDays?e.WITHIN_DAYS.replace("$DAYS_NUM",t.days):t instanceof v.Priority?e.PRIORITY.replace("$PRIORITY_LEVEL",t.level):t instanceof v.NoDueDate?e.NO_DUE_DATE:t instanceof v.ViewAll?e.VIEW_ALL:t instanceof v.NoLabels?e.NO_LABELS:t instanceof v.ToOthers?e.TO_OTHERS:t instanceof v.ToMe?e.TO_ME:t instanceof v.Overdue?e.OVERDUE:t instanceof v.Or|t instanceof v.And?" ".concat(t.matchedStr," "):t.matchedStr}var n=t.map(r).join("");return n.length<50?n:(n=t.map(function(e){return e.matchedStr}).join(""),n.length>50&&(n=n.slice(0,50)+" ..."),n)}var f=e("@babel/runtime/helpers/interopRequireWildcard"),p=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.create=i,r.createSearchSection=o,r.Section=r.VIEW_TYPE_DAY_VIEW_FIXED=r.VIEW_TYPE_DAY_VIEW_SPAN=r.VIEW_TYPE_SEARCH=r.VIEW_TYPE_FLAT=r.VIEW_TYPE_OVERDUE=r.VIEW_TYPE_VIEW_ALL=void 0;var m=p(e("@babel/runtime/helpers/slicedToArray")),h=p(e("@babel/runtime/helpers/classCallCheck")),_=e("../utils"),v=f(e("./token")),b=f(e("./i18n")),y=e("./errors");r.VIEW_TYPE_VIEW_ALL="view_all";var g="overdue";r.VIEW_TYPE_OVERDUE=g;var E="flat_view";r.VIEW_TYPE_FLAT=E;var T="search";r.VIEW_TYPE_SEARCH=T;var w="day_view_span";r.VIEW_TYPE_DAY_VIEW_SPAN=w;var R="day_view_fixed";r.VIEW_TYPE_DAY_VIEW_FIXED=R;var P=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,h.default)(this,e),r===R&&!n.day_date)throw new y.ProgrammingError("Fix day view required date");this.items=t,this.view=r,this.name=n.name,this.day_date=n.day_date,this.orderable=n.orderable};r.Section=P},{"../utils":1094,"./errors":114,"./i18n":115,"./token":121,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199}],121:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.UnrecognizedSymbol=r.Shared=r.Assigned=r.AssignedBy=r.AssignedTo=r.Search=r.All=r.ViewAll=r.ToOthers=r.ToMe=r.WithinDays=r.Overdue=r.CreatedAfter=r.CreatedBefore=r.Created=r.DueRecurring=r.DueAfter=r.DueBefore=r.Due=r.NoDueDate=r.ProjectSingle=r.Project=r.NoLabels=r.Label=r.NoPriority=r.Priority=r.Or=r.And=r.Right=r.Left=r.Not=r.DateToken=r.Token=r.createCollaboratorQuerySelector=r.createQueryValueMatcher=r.COLLABORATOR_OTHERS=r.COLLABORATOR_ME=r.TOKEN_TYPE_PARATHESIS=r.TOKEN_TYPE_OPERAND=r.TOKEN_TYPE_UNARY_OPEATOR=r.TOKEN_TYPE_BINARY_OPERATOR=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("@babel/runtime/helpers/assertThisInitialized")),s=i(e("@babel/runtime/helpers/defineProperty")),u=i(e("@babel/runtime/helpers/possibleConstructorReturn")),c=i(e("@babel/runtime/helpers/getPrototypeOf")),d=i(e("@babel/runtime/helpers/inherits")),f=i(e("@babel/runtime/helpers/classCallCheck")),p=i(e("@babel/runtime/helpers/createClass")),m=e("../utils"),h=e("../utils/fp"),_=i(e("./errors")),v=e("reselect"),b=e("redux"),y=i(e("./Deps")),g=0;r.TOKEN_TYPE_BINARY_OPERATOR=g;var E=1;r.TOKEN_TYPE_UNARY_OPEATOR=E;var T=2;r.TOKEN_TYPE_OPERAND=T;var w=3;r.TOKEN_TYPE_PARATHESIS=w;r.COLLABORATOR_ME="COLLABORATOR_ME";r.COLLABORATOR_OTHERS="COLLABORATOR_OTHERS";var R=function(e){var t=e;return t=(0,m.normalizeMatchStr)(t),t=t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(/\*/g,".*"),t="^".concat(t,"$"),t=RegExp(t),function(e){return e=(0,m.normalizeMatchStr)(e),t.test(e)}};r.createQueryValueMatcher=R;var P=function(e){switch(e){case"COLLABORATOR_ME":return(0,v.createSelector)(function(e){return e.user},function(e){return function(t){return t&&t===e.id}});case"COLLABORATOR_OTHERS":return(0,v.createSelector)(function(e){return e.user},function(e){return function(t){return t&&t!==e.id}});default:var t=R(e),r=y.default.createCollaboratorFilterSelector(function(e){return t(e.full_name)||t(e.email)});return(0,v.createSelector)(r,function(e){return function(t){return Boolean(e[t])}})}};r.createCollaboratorQuerySelector=P;var D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;(0,f.default)(this,e),this.type=t,this.matchedStr=r,this.index=n}return(0,p.default)(e,[{key:"toString",value:function(){return"".concat(this.constructor.name)}},{key:"eval",value:function(e,t){throw new _.default("".concat(this.class," did not implement eval"))}}]),e}();r.Token=D;var O=function(e){function t(e,r,n){var a;return(0,f.default)(this,t),a=(0,u.default)(this,(0,c.default)(t).call(this,T)),a.dateStr=e,a.dateLang=r,a.dateistOpt=n,a.parse=(0,m.createMemoizedDateParser)(),a}return(0,d.default)(t,e),(0,p.default)(t,[{key:"getDate",value:function(){return this.parse(this.dateStr,this.dateLang,this.dateistOpt)}}]),t}(D);r.DateToken=O;var C=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,E))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"operatorEval",value:function(e){return!e}}]),t}(D);r.Not=C;var I=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,w))}return(0,d.default)(t,e),t}(D);r.Left=I;var A=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,w))}return(0,d.default)(t,e),t}(D);r.Right=A;var S=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,g))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"operatorEval",value:function(e,t){return e&&t}}]),t}(D);r.And=S;var k=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,g))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"operatorEval",value:function(e,t){return e||t}}]),t}(D);r.Or=k;var M=function(e){function t(e){var r;return(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.level=e,r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Priority(".concat(this.level,")")}},{key:"eval",value:function(e){return 5-e.priority===this.level}}]),t}(D);r.Priority=M;var j=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"No Priority"}},{key:"eval",value:function(e){return-1*e.priority+5==4}}]),t}(D);r.NoPriority=j;var N=function(e){function t(e){var r;return(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.name=e,r.matchQuery=R(e),r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Label(".concat(this.name,")")}},{key:"eval",value:function(e){return!!e.labels&&e.labels.some(this.matchQuery)}}]),t}(D);r.Label=N;var x=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"NoLabels(".concat(this.name,")")}},{key:"eval",value:function(e){return!e.labels||0===e.labels.length}}]),t}(D);r.NoLabels=x;var L=function(e){function t(e){var r;(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.name=e;var n=R(e),i=y.default.createProjectPickBySelector(function(e){return n(e.name)});return r.isMatch=(0,v.createSelector)(function(e){return e.projects},function(e){var t=i({projects:e}),r=(0,b.compose)(h.byID,m.flatten,(0,h.map)(function(t){return y.default.projectGetChildren(t.id,{projects:e})}),h.values)(t),n=a({},t,{},r);return function(e){return Boolean(n[e])}}),r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Project(".concat(this.name,")")}},{key:"eval",value:function(e,t){return this.isMatch(t)(e.project_id)}}]),t}(D);r.Project=L;var q=function(e){function t(e){var r;(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.name=e;var n=R(e),a=y.default.createProjectPickBySelector(function(e){return n(e.name)});return r.isMatch=(0,v.createSelector)(a,function(e){return function(t){return Boolean(e[t])}}),r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"ProjectSingle(".concat(this.name,")")}},{key:"eval",value:function(e,t){return this.isMatch(t)(e.project_id)}}]),t}(D);r.ProjectSingle=q;var U=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"NoDueDate"}},{key:"eval",value:function(e){return!e.due}}]),t}(D);r.NoDueDate=U;var $=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Due(".concat(this.dateStr,")")}},{key:"eval",value:function(e){return!!this.dueDate&&(!!e.due&&((0,m.hasTime)(this.dueDate)?!!e.due.with_time&&(0,m.hasSameDateAndTime)(e.due,this.dueDate):(0,m.isOnSameDate)(e.due,this.dueDate)))}},{key:"dueDate",get:function(){return this.getDate()}}]),t}(O);r.Due=$;var F=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"DueBefore"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&(!!e.due&&((0,m.hasTime)(t)?e.due.isLessThan(t):e.due.isLessThan((0,m.dayMin)(t))))}}]),t}(O);r.DueBefore=F;var z=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"DueAfter"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&(!!e.due&&((0,m.hasTime)(t)?e.due.isGreaterThan(t):e.due.isGreaterThan((0,m.dayMax)(t))))}}]),t}(O);r.DueAfter=z;var B=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"DueRecurring"}},{key:"eval",value:function(e){return e.due&&e.due.is_recurring}}]),t}(D);r.DueRecurring=B;var H=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Created"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&((0,m.hasTime)(t)?(0,m.hasSameDateAndTime)(e.date_added,t):(0,m.isOnSameDate)(e.date_added,t))}}]),t}(O);r.Created=H;var V=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"CreatedBefore"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&((0,m.hasTime)(t)?e.date_added<t:e.date_added<(0,m.dayMin)(t))}}]),t}(O);r.CreatedBefore=V;var W=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"CreatedAfter"}},{key:"eval",value:function(e){var t=this.getDate();return!!t&&((0,m.hasTime)(t)?e.date_added>t:e.date_added>(0,m.dayMax)(t))}}]),t}(O);r.CreatedAfter=W;var G=function(e){function t(e){var r;return(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.now=e,r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Overdue"}},{key:"eval",value:function(e){var t=this.now||new Date;return e.due&&!(0,m.isOnSameDate)(t,e.due)&&e.due.getTime()<t.getTime()}}]),t}(D);r.Overdue=G;var Y=function(e){function t(e,r){var n;return(0,f.default)(this,t),n=(0,u.default)(this,(0,c.default)(t).call(this,T)),(0,s.default)((0,l.default)(n),"_getInterval",(0,m.memoize)(function(e,t){var r=n.now||new Date,a=new Date(r.getTime()),i=new Date(r.getTime());return n.days>0?i.setDate(r.getDate()+n.days-1):a.setDate(r.getDate()+n.days+1),a=(0,m.dayMin)(a),i=(0,m.dayMax)(i),[a,i]})),n.days=e,n.now=r,n}return(0,d.default)(t,e),(0,p.default)(t,[{key:"getInterval",value:function(){var e=this.now||new Date;return this._getInterval(e.getMonth(),e.getDate())}},{key:"toString",value:function(){return"WithinDays(".concat(this.days,")")}},{key:"eval",value:function(e){var t=this.getInterval(),r=(0,o.default)(t,2),n=r[0],a=r[1];return!!e.due&&(e.due.isGreaterThanOrEqual(n)&&e.due.isLessThanOrEqual(a))}}]),t}(D);r.WithinDays=Y;var K=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"ToMe"}},{key:"eval",value:function(e,t){return y.default.isShared(t,e.project_id)&&e.responsible_uid===t.user.id}}]),t}(D);r.ToMe=K;var X=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"ToOthers"}},{key:"eval",value:function(e,t){var r=t.user.id;return e.responsible_uid&&e.responsible_uid!==r&&e.assigned_by_uid===r}}]),t}(D);r.ToOthers=X;var J=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"ViewAll"}},{key:"eval",value:function(){return!0}}]),t}(D);r.ViewAll=J;var Q=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"All"}},{key:"eval",value:function(){return!0}}]),t}(D);r.All=Q;var Z=function(e){function t(e){var r;return(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.searchStr=e,r.matchFn=(0,m.looseMatch)(e),r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Search(".concat(this.searchStr,")")}},{key:"eval",value:function(e){return this.matchFn(e.content)}}]),t}(D);r.Search=Z;var ee=function(e){function t(e){var r;return(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.query=e,r.hasMatch=P(e),r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"AssignedTo(".concat(this.query,")")}},{key:"eval",value:function(e,t){return!!y.default.isShared(t,e.project_id)&&this.hasMatch(t)(e.responsible_uid)}}]),t}(D);r.AssignedTo=ee;var te=function(e){function t(e){var r;return(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.query=e,r.hasMatch=P(e),r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"AssignedBy(".concat(this.query,")")}},{key:"eval",value:function(e,t){return!(!y.default.isShared(t,e.project_id)||!e.responsible_uid)&&this.hasMatch(t)(e.assigned_by_uid)}}]),t}(D);r.AssignedBy=te;var re=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Assigned"}},{key:"eval",value:function(e,t){return y.default.isShared(t,e.project_id)&&e.responsible_uid}}]),t}(D);r.Assigned=re;var ne=function(e){function t(){return(0,f.default)(this,t),(0,u.default)(this,(0,c.default)(t).call(this,T))}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"Shared"}},{key:"eval",value:function(e,t){return y.default.isShared(t,e.project_id)}}]),t}(D);r.Shared=ne;var ae=function(e){function t(e){var r;return(0,f.default)(this,t),r=(0,u.default)(this,(0,c.default)(t).call(this,T)),r.symbol=e,r}return(0,d.default)(t,e),(0,p.default)(t,[{key:"toString",value:function(){return"UnrecognizedSymbol(".concat(this.symbol,")")}},{key:"eval",value:function(){return!1}}]),t}(D);r.UnrecognizedSymbol=ae},{"../utils":1094,"../utils/fp":1083,"./Deps":113,"./errors":114,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/slicedToArray":199,redux:"redux",reselect:"reselect"}],122:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.loadLangResource=r.defaultResource=r.LangResource=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=function(){function e(t){var r=t.locale,n=t.messages,i=t.pluralfunc,o=t.nplurals;(0,a.default)(this,e),this.messages=n,this.locale=r,this.pluralfunc=i,this.nplurals=o,this._=this.gettext.bind(this),this._n=this.ngettext.bind(this),this._x=this.pgettext.bind(this),this._nx=this.npgettext.bind(this)}return(0,i.default)(e,[{key:"gettext",value:function(e){return this.pgettext("",e)}},{key:"ngettext",value:function(e,t,r){return this.npgettext("",e,t,r)}},{key:"pgettext",value:function(e,t){var r=this.messages[e];if(!r)return t;var n=r[t];return l(n)?n:t}},{key:"npgettext",value:function(e,t,r,n){var a=!n||n<=1?t:r,i=this.messages[e];if(!i)return a;var o=i[t];if(!o)return a;var s=o[this.pluralfunc(n)];return l(s)?s:a}},{key:"install",value:function(){window._=this.gettext.bind(this),window._=this.gettext.bind(this),window._n=this.ngettext.bind(this),window._x=this.pgettext.bind(this),window._nx=this.npgettext.bind(this)}}]),e}();r.LangResource=o;var l=function(e){return"string"==typeof e&&""!==e},s=new o({messages:{},locale:"default",pluralfunc:function(e){return 1==e?0:1},nplurals:2});r.defaultResource=s;var u=function(e){try{new o(e).install()}catch(e){s.install()}};r.loadLangResource=u,window.I18N_LANG_RESOURCE?u(window.I18N_LANG_RESOURCE):s.install()},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],123:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault"),o=i(e("@babel/runtime/helpers/defineProperty"));e("core-js/modules/es6.array.copy-within"),e("core-js/modules/es6.array.fill"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.find-index"),e("core-js/modules/es7.array.flat-map"),e("core-js/modules/es6.array.from"),e("core-js/modules/es7.array.includes"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.array.of"),e("core-js/modules/es6.array.sort"),e("core-js/modules/es6.array.species"),e("core-js/modules/es6.date.to-json"),e("core-js/modules/es6.date.to-primitive"),e("core-js/modules/es6.function.has-instance"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.map"),e("core-js/modules/es6.math.acosh"),e("core-js/modules/es6.math.asinh"),e("core-js/modules/es6.math.atanh"),e("core-js/modules/es6.math.cbrt"),e("core-js/modules/es6.math.clz32"),e("core-js/modules/es6.math.cosh"),e("core-js/modules/es6.math.expm1"),e("core-js/modules/es6.math.fround"),e("core-js/modules/es6.math.hypot"),e("core-js/modules/es6.math.imul"),e("core-js/modules/es6.math.log1p"),e("core-js/modules/es6.math.log10"),e("core-js/modules/es6.math.log2"),e("core-js/modules/es6.math.sign"),e("core-js/modules/es6.math.sinh"),e("core-js/modules/es6.math.tanh"),e("core-js/modules/es6.math.trunc"),e("core-js/modules/es6.number.constructor"),e("core-js/modules/es6.number.epsilon"),e("core-js/modules/es6.number.is-finite"),e("core-js/modules/es6.number.is-integer"),e("core-js/modules/es6.number.is-nan"),e("core-js/modules/es6.number.is-safe-integer"),e("core-js/modules/es6.number.max-safe-integer"),e("core-js/modules/es6.number.min-safe-integer"),e("core-js/modules/es6.number.parse-float"),e("core-js/modules/es6.number.parse-int"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es7.object.define-getter"),e("core-js/modules/es7.object.define-setter"),e("core-js/modules/es7.object.entries"),e("core-js/modules/es6.object.freeze"),e("core-js/modules/es6.object.get-own-property-descriptor"),e("core-js/modules/es7.object.get-own-property-descriptors"),e("core-js/modules/es6.object.get-own-property-names"),e("core-js/modules/es6.object.get-prototype-of"),e("core-js/modules/es7.object.lookup-getter"),e("core-js/modules/es7.object.lookup-setter"),e("core-js/modules/es6.object.prevent-extensions"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.is"),e("core-js/modules/es6.object.is-frozen"),e("core-js/modules/es6.object.is-sealed"),e("core-js/modules/es6.object.is-extensible"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.object.seal"),e("core-js/modules/es6.object.set-prototype-of"),e("core-js/modules/es7.object.values"),e("core-js/modules/es6.promise"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.reflect.apply"),e("core-js/modules/es6.reflect.construct"),e("core-js/modules/es6.reflect.define-property"),e("core-js/modules/es6.reflect.delete-property"),e("core-js/modules/es6.reflect.get"),e("core-js/modules/es6.reflect.get-own-property-descriptor"),e("core-js/modules/es6.reflect.get-prototype-of"),e("core-js/modules/es6.reflect.has"),e("core-js/modules/es6.reflect.is-extensible"),e("core-js/modules/es6.reflect.own-keys"),e("core-js/modules/es6.reflect.prevent-extensions"),e("core-js/modules/es6.reflect.set"),e("core-js/modules/es6.reflect.set-prototype-of"),e("core-js/modules/es6.regexp.constructor"),e("core-js/modules/es6.regexp.flags"),e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.regexp.search"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.set"),e("core-js/modules/es6.symbol"),e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.string.anchor"),e("core-js/modules/es6.string.big"),e("core-js/modules/es6.string.blink"),e("core-js/modules/es6.string.bold"),e("core-js/modules/es6.string.code-point-at"),e("core-js/modules/es6.string.ends-with"),e("core-js/modules/es6.string.fixed"),e("core-js/modules/es6.string.fontcolor"),e("core-js/modules/es6.string.fontsize"),e("core-js/modules/es6.string.from-code-point"),e("core-js/modules/es6.string.includes"),e("core-js/modules/es6.string.italics"),e("core-js/modules/es6.string.iterator"),e("core-js/modules/es6.string.link"),e("core-js/modules/es7.string.pad-start"),e("core-js/modules/es7.string.pad-end"),e("core-js/modules/es6.string.raw"),e("core-js/modules/es6.string.repeat"),e("core-js/modules/es6.string.small"),e("core-js/modules/es6.string.starts-with"),e("core-js/modules/es6.string.strike"),e("core-js/modules/es6.string.sub"),e("core-js/modules/es6.string.sup"),e("core-js/modules/es7.string.trim-left"),e("core-js/modules/es7.string.trim-right"),e("core-js/modules/es6.typed.array-buffer"),e("core-js/modules/es6.typed.int8-array"),e("core-js/modules/es6.typed.uint8-array"),e("core-js/modules/es6.typed.uint8-clamped-array"),e("core-js/modules/es6.typed.int16-array"),e("core-js/modules/es6.typed.uint16-array"),e("core-js/modules/es6.typed.int32-array"),e("core-js/modules/es6.typed.uint32-array"),e("core-js/modules/es6.typed.float32-array"),e("core-js/modules/es6.typed.float64-array"),e("core-js/modules/es6.weak-map"),e("core-js/modules/es6.weak-set"),e("core-js/modules/web.timers"),e("core-js/modules/web.immediate"),e("core-js/modules/web.dom.iterable"),e("regenerator-runtime/runtime"),e("../i18n/loader");var l=e("dateist");e("../node_modules/dateist/dist/defs/DateistDefsEN");var s=e("../utils");e("whatwg-fetch"),e("../utils/dom/polyfill"),e("what-input"),e("../svgs"),e("../svgs/dist/sm1.svgs.js"),e("../svgs/dist/sm2.svgs.js"),e("../svgs/dist/ft.svgs.js"),e("./init_ICE");var u=i(e("react")),c=i(e("react-dom")),d=e("../components/misc/Util.js"),f=e("../models/Storage"),p=i(e("./ResolveDeps")),m=i(e("../containers/TodoistApp")),h=i(e("../models/VersionUpdater")),v=i(e("../models/Config")),b=i(e("./showInitError")),y=i(e("../models/SyncEngine"));e("../models/SyncData"),e("../external_services/MacAppBridge"),e("../components/term_consent/TermConsent"),e("../components/refresh_interface/RefreshInterface"),e("../models/window"),e("../react_components/sync_debug_console"),e("../models/WebSocketManager.js"),e("../components/comet/Comet"),e("./printUtil");var g=e("../init/featureFlags");window.Dateist=l.Dateist,window.DateistNormalization=l.DateistNormalization,window.DateistDateHelpers=l.DateistDateHelpers,window.DateistUtils=l.DateistUtils,window.DateUtils=s.DateUtils,window.initTodoist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{p.default.resolve(),e=a({loadStartPage:!0,disablePromotion:!1},e),v.default.init(e);if(h.default.reloadIfVersionUpdated())return;(0,g.initFeatureFlags)().then(function(){var e=document.getElementById("todoist_app");c.default.render(u.default.createElement(m.default,null),e)})}catch(e){(0,b.default)(e)}},window!==top&&top.postMessage&&setInterval(function(){return(0,d.postMessageToWindow)(top,window.location.toString())},200),window.onbeforeunload=function(e){if(f.GlobalStorage.commitAll(),0!==y.default.getQueueSuccessLength()&&!y.default.global_error){setTimeout(function(){y.default.sync(null,!0)},10);var t=_("Some changes you've made have not been synced. Exit anyway?");return e.returnValue=t,t}}},{"../components/comet/Comet":18,"../components/misc/Util.js":47,"../components/refresh_interface/RefreshInterface":73,"../components/term_consent/TermConsent":90,"../containers/TodoistApp":103,"../external_services/MacAppBridge":111,"../i18n/loader":122,"../init/featureFlags":125,"../models/Config":152,"../models/Storage":169,"../models/SyncData":170,"../models/SyncEngine":171,"../models/VersionUpdater":176,"../models/WebSocketManager.js":177,"../models/window":178,"../node_modules/dateist/dist/defs/DateistDefsEN":454,"../react_components/sync_debug_console":965,"../svgs":1053,"../svgs/dist/ft.svgs.js":1050,"../svgs/dist/sm1.svgs.js":1051,"../svgs/dist/sm2.svgs.js":1052,"../utils":1094,"../utils/dom/polyfill":1074,"./ResolveDeps":124,"./init_ICE":126,"./printUtil":127,"./showInitError":128,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"core-js/modules/es6.array.copy-within":324,"core-js/modules/es6.array.fill":325,"core-js/modules/es6.array.find":327,"core-js/modules/es6.array.find-index":326,"core-js/modules/es6.array.from":328,"core-js/modules/es6.array.iterator":329,"core-js/modules/es6.array.of":330,"core-js/modules/es6.array.sort":331,"core-js/modules/es6.array.species":332,"core-js/modules/es6.date.to-json":333,"core-js/modules/es6.date.to-primitive":334,"core-js/modules/es6.function.has-instance":335,"core-js/modules/es6.function.name":336,"core-js/modules/es6.map":337,"core-js/modules/es6.math.acosh":338,"core-js/modules/es6.math.asinh":339,"core-js/modules/es6.math.atanh":340,"core-js/modules/es6.math.cbrt":341,
"core-js/modules/es6.math.clz32":342,"core-js/modules/es6.math.cosh":343,"core-js/modules/es6.math.expm1":344,"core-js/modules/es6.math.fround":345,"core-js/modules/es6.math.hypot":346,"core-js/modules/es6.math.imul":347,"core-js/modules/es6.math.log10":348,"core-js/modules/es6.math.log1p":349,"core-js/modules/es6.math.log2":350,"core-js/modules/es6.math.sign":351,"core-js/modules/es6.math.sinh":352,"core-js/modules/es6.math.tanh":353,"core-js/modules/es6.math.trunc":354,"core-js/modules/es6.number.constructor":355,"core-js/modules/es6.number.epsilon":356,"core-js/modules/es6.number.is-finite":357,"core-js/modules/es6.number.is-integer":358,"core-js/modules/es6.number.is-nan":359,"core-js/modules/es6.number.is-safe-integer":360,"core-js/modules/es6.number.max-safe-integer":361,"core-js/modules/es6.number.min-safe-integer":362,"core-js/modules/es6.number.parse-float":363,"core-js/modules/es6.number.parse-int":364,"core-js/modules/es6.object.assign":365,"core-js/modules/es6.object.freeze":366,"core-js/modules/es6.object.get-own-property-descriptor":367,"core-js/modules/es6.object.get-own-property-names":368,"core-js/modules/es6.object.get-prototype-of":369,"core-js/modules/es6.object.is":373,"core-js/modules/es6.object.is-extensible":370,"core-js/modules/es6.object.is-frozen":371,"core-js/modules/es6.object.is-sealed":372,"core-js/modules/es6.object.keys":374,"core-js/modules/es6.object.prevent-extensions":375,"core-js/modules/es6.object.seal":376,"core-js/modules/es6.object.set-prototype-of":377,"core-js/modules/es6.object.to-string":378,"core-js/modules/es6.promise":379,"core-js/modules/es6.reflect.apply":380,"core-js/modules/es6.reflect.construct":381,"core-js/modules/es6.reflect.define-property":382,"core-js/modules/es6.reflect.delete-property":383,"core-js/modules/es6.reflect.get":386,"core-js/modules/es6.reflect.get-own-property-descriptor":384,"core-js/modules/es6.reflect.get-prototype-of":385,"core-js/modules/es6.reflect.has":387,"core-js/modules/es6.reflect.is-extensible":388,"core-js/modules/es6.reflect.own-keys":389,"core-js/modules/es6.reflect.prevent-extensions":390,"core-js/modules/es6.reflect.set":392,"core-js/modules/es6.reflect.set-prototype-of":391,"core-js/modules/es6.regexp.constructor":393,"core-js/modules/es6.regexp.flags":395,"core-js/modules/es6.regexp.match":396,"core-js/modules/es6.regexp.replace":397,"core-js/modules/es6.regexp.search":398,"core-js/modules/es6.regexp.split":399,"core-js/modules/es6.regexp.to-string":400,"core-js/modules/es6.set":401,"core-js/modules/es6.string.anchor":402,"core-js/modules/es6.string.big":403,"core-js/modules/es6.string.blink":404,"core-js/modules/es6.string.bold":405,"core-js/modules/es6.string.code-point-at":406,"core-js/modules/es6.string.ends-with":407,"core-js/modules/es6.string.fixed":408,"core-js/modules/es6.string.fontcolor":409,"core-js/modules/es6.string.fontsize":410,"core-js/modules/es6.string.from-code-point":411,"core-js/modules/es6.string.includes":412,"core-js/modules/es6.string.italics":413,"core-js/modules/es6.string.iterator":414,"core-js/modules/es6.string.link":415,"core-js/modules/es6.string.raw":416,"core-js/modules/es6.string.repeat":417,"core-js/modules/es6.string.small":418,"core-js/modules/es6.string.starts-with":419,"core-js/modules/es6.string.strike":420,"core-js/modules/es6.string.sub":421,"core-js/modules/es6.string.sup":422,"core-js/modules/es6.symbol":423,"core-js/modules/es6.typed.array-buffer":424,"core-js/modules/es6.typed.float32-array":425,"core-js/modules/es6.typed.float64-array":426,"core-js/modules/es6.typed.int16-array":427,"core-js/modules/es6.typed.int32-array":428,"core-js/modules/es6.typed.int8-array":429,"core-js/modules/es6.typed.uint16-array":430,"core-js/modules/es6.typed.uint32-array":431,"core-js/modules/es6.typed.uint8-array":432,"core-js/modules/es6.typed.uint8-clamped-array":433,"core-js/modules/es6.weak-map":434,"core-js/modules/es6.weak-set":435,"core-js/modules/es7.array.flat-map":436,"core-js/modules/es7.array.includes":437,"core-js/modules/es7.object.define-getter":438,"core-js/modules/es7.object.define-setter":439,"core-js/modules/es7.object.entries":440,"core-js/modules/es7.object.get-own-property-descriptors":441,"core-js/modules/es7.object.lookup-getter":442,"core-js/modules/es7.object.lookup-setter":443,"core-js/modules/es7.object.values":444,"core-js/modules/es7.promise.finally":445,"core-js/modules/es7.string.pad-end":446,"core-js/modules/es7.string.pad-start":447,"core-js/modules/es7.string.trim-left":448,"core-js/modules/es7.string.trim-right":449,"core-js/modules/es7.symbol.async-iterator":450,"core-js/modules/web.dom.iterable":451,"core-js/modules/web.immediate":452,"core-js/modules/web.timers":453,dateist:455,react:"react","react-dom":"react-dom","regenerator-runtime/runtime":457,"what-input":"what-input","whatwg-fetch":"whatwg-fetch"}],124:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.resolve=void 0;var i=a(e("@babel/runtime/helpers/defineProperty")),o=a(e("../components/agenda/Agenda.js")),l=e("../components/project_editor/ProjectEditor.js"),s=a(e("../components/projects_list/ProjectList")),u=e("../reducers/projects"),c=e("../reducers/collaborators"),d=a(e("../models/ItemsModel")),f=a(e("../models/ProjectsModel")),p=a(e("../models/SyncEngine")),m=e("../utils/deps"),h=n(e("../containers/SmartSchedule")),_=a(e("../components/item_selecter/ItemSelecter")),v=a(e("../stores/store")),b=n(e("../reducers/notes/actions")),y=e("../reducers/items"),g=a(e("../models/DateExt"));e("../utils/formatDate");var E=function(){var e;(0,m.inject)((e={UtilModels:{SyncEngine:p.default},ProjectListUtils:{ProjectList:s.default},AgendaUtils:{Agenda:o.default,ItemsModel:d.default,store:v.default},ProjectEditorManager:{ProjectEditor:l.ProjectEditor},ProjectsArchive:{ProjectList:s.default},filterist:{ItemsModel:d.default,itemGetUncompleted:y.itemGetUncompleted,createProjectPickBySelector:u.createProjectPickBySelector,projectGetChildren:u.projectGetChildren,createCollaboratorFilterSelector:c.createCollaboratorFilterSelector,isShared:c.isShared,store:v.default},MenuProjectEditor:{ItemSelecter:_.default},DragAndDrop:{Agenda:o.default,ProjectList:s.default},Logger:{store:v.default,ProjectsModel:f.default},LoadEngine:{SyncEngine:p.default},Scheduler:{SmartSchedule:h}},(0,i.default)(e,"reducers/items/actions",{notesActions:b}),(0,i.default)(e,"reducers/labels/selectors",{itemGetVisible:y.itemGetVisible}),(0,i.default)(e,"utils/formatDate",{DateExt:g.default}),(0,i.default)(e,"PremiumOnlyModal",{store:v.default}),(0,i.default)(e,"jsonAPI",{store:v.default,SyncEngine:p.default}),(0,i.default)(e,"featureFlags",{store:v.default}),e)),(0,m.checkIfAllInjected)()};r.resolve=E;var T={resolve:E};r.default=T},{"../components/agenda/Agenda.js":5,"../components/item_selecter/ItemSelecter":31,"../components/project_editor/ProjectEditor.js":59,"../components/projects_list/ProjectList":69,"../containers/SmartSchedule":99,"../models/DateExt":154,"../models/ItemsModel":157,"../models/ProjectsModel":161,"../models/SyncEngine":171,"../reducers/collaborators":983,"../reducers/items":1005,"../reducers/notes/actions":1019,"../reducers/projects":1026,"../stores/store":1048,"../utils/deps":1071,"../utils/formatDate":1080,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],125:[function(e,t,r){"use strict";function n(){return a.apply(this,arguments)}function a(){return a=(0,l.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.default.setCustomStringProperty("email",function(){return d.store.getState().user.email}),u.default.setCustomStringProperty("language",function(){return d.store.getState().user.lang}),u.default.setCustomBooleanProperty("beta",function(){return Boolean(d.store.getState().user.features.beta)}),u.default.register("",f),e.next=6,u.default.setup("5d5a503b2385ac15e39b6051");case 6:case"end":return e.stop()}},e)})),a.apply(this,arguments)}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.initFeatureFlags=n,r.default=r.featureFlags=r.UPCOMING_VIEW_FLAG=void 0;var o=i(e("@babel/runtime/regenerator")),l=i(e("@babel/runtime/helpers/asyncToGenerator")),s=i(e("@babel/runtime/helpers/defineProperty")),u=i(e("rox-browser")),c=e("../utils/deps"),d=(0,c.defineDeps)("featureFlags",["store"]);r.UPCOMING_VIEW_FLAG="global.upcoming_view";var f=(0,s.default)({},"global.upcoming_view",new u.default.Flag(!1));r.featureFlags=f;var p={initFeatureFlags:n,featureFlags:f};r.default=p},{"../utils/deps":1071,"@babel/runtime/helpers/asyncToGenerator":182,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/regenerator":202,"rox-browser":458}],126:[function(e,t,r){"use strict";ICE.BASE_URL="/",window.$static_path=function(e){return e},window.getOfflineMessage=function(e){return 0===e.status?_("You appear to be offline and this action requires that you are online."):_("You appear to be offline or Todoist is down. This action requires that you are online. Please try again later.")},ICE.generalErrorback=function(e,t){var r=window.oldAlert||window.alert,n=e.responseText;if($isString(n)&&-1!=n.toLowerCase().indexOf("user not logged in")){r(_("You are not logged in. You will be taken to the login page."));var a="/";return window.HAS_MINI_ARGUMENT&&(a+="?mini=1"),window.location=a,!0}!t.offline_message||0!==e.status&&502!=e.status||alert(window.getOfflineMessage(e))}},{}],127:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("react-dom")),i=n(e("react")),o=n(e("../react_components/notes/Note")),l=n(e("../stores/store")),s=e("../reducers/collaborators"),u=e("react-redux"),c=function(e){return i.default.createElement(u.Provider,{store:l.default},i.default.createElement(o.default,e))};window.renderNote=function(e){try{var t=document.createElement("div"),r=l.default.getState(),n={allCollaborators:(0,s.getAllCollaboratorsWithUser)(r),note:e,user:r.user,onAddReaction:function(){},onRemoveReaction:function(){},onRemoveNote:function(){},onUpdateNote:function(){},editing:!1,onEditing:function(){},onEditingClose:function(){}};return a.default.render(i.default.createElement(c,n),t),t}catch(e){return null}}},{"../react_components/notes/Note":816,"../reducers/collaborators":983,"../stores/store":1048,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],128:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("../logger/Logger")),i=n(e("../stores/store")),o=n(e("../models/ProjectsModel")),l=function(e){try{if(-1!==e.message.indexOf("window.User")&&-1!==e.message.indexOf("undefined")){var t=i.default.getState().user,r=localStorage.getItem("User"),n=o.default.getAll().length;a.default.captureError(e,{tags:{where:"undefined_user"},extra:{store_user:t,ls_user:r,projectCounts:n}})}}catch(e){}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.message,n=t.extra,i=t.showErrorLog,o=void 0===i||i,s=t.captureError,c=void 0===s||s;console.log(e);var d;c&&(l(e),d=a.default.captureError(e,{tags:{where:"init"}}));var f;if(o){var p=e instanceof window.DOMError?"(".concat(e.name,") ").concat(e):"".concat(e);e.message&&-1===p.indexOf(e.message)&&(p+=": ".concat(e.message)),n&&(p+="\n"+n),d&&(p+="\nEvent ID: "+d),f=TEXTAREA({readonly:"readonly"},p)}var m=A({c:"ist_button ist_button_red"},_("Ok"));r||(r=_("An unknown error happened while loading data\u2026We will try to reload Todoist."));var h=DIV({c:"init_error_popup"},P(r),P(o?_("Please contact Todoist Support (support@todoist.com) and supply the error log below if this problem persists."):_("Please contact Todoist Support (support@todoist.com) if this problem persists.")),f,m);$("app_holder")&&($("app_holder").style.display="block");var v=GB_showHTML(_("Error"),h,500,500,{close_validator_fn:function(){return u(),!0}});$AEV(m,"click",function(){u(),v.hide()})},u=function(){try{window.applicationCache.update()}catch(e){}e("../models/LoadEngine").default.logout()},c=s;r.default=c},{"../logger/Logger":132,"../models/LoadEngine":159,"../models/ProjectsModel":161,"../stores/store":1048,"@babel/runtime/helpers/interopRequireDefault":189}],129:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./emojis_todoist")),i=n(e("./emojis_standard")),o={RE_GMAIL:/\[\[gmail=(.+?),\s*(.+?)\]\]/gi,RE_OUTLOOK:/\[\[outlook=(.+?),(.+?)\]\]/gi,RE_THUNDERBIRD:/\[\[thunderbird\n(.+)\n(.+)\n\s*\]\]/gi,RE_TODOIST_LINK:/((?:(?:onenote:)?[\w-]+):\/\/[^\s]+)\s+[\[\(]([^\)]+)[\]\)]/gi,RE_MARKDOWN_LINK:/\[(.+?)\]\((.+?)\)/gi,RE_REGULAR_LINK:/(href=['"])*(^|\s+)((?:onenote:)?[\w-]+:\/\/[^\s<]+)/gi,RE_MARKDOWN_TODOIST_BOLD:/(^|[\s!?,;>:]+)(?:\*\*|__|!!)(.+?)(\*\*|__|!!)(?=$|[\s!?,;><:]+)/gi,RE_MARKDOWN_ITALIC_1:/(^|[\s!?,;>:]+)(?:_)(.+?)(_)(?=$|[\s!?,;><:]+)/gi,RE_MARKDOWN_ITALIC_2:/(^|[\s!?,;>:]+)(?:\*)(.+?)(\*)(?=$|[\s!?,;><:]+)/gi,RE_CODE_INLINE:/`([^`]+)`/gi,RE_CODE_BLOCK:/```([\s\S]*?)```/gi,RE_STANDARD_EMOJI:/:[^\s]+:/gi,RE_TODOIST_EMOJI:null,RE_EMAIL:/(^|\s+)([a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,})(\b)/gi,LRU_CACHE:window.LRUCache&&new window.LRUCache(50)||null,formatSimple:function(e,t){var r=e+t.as_html+t.only_text;t.cache_prefix&&(r=t.cache_prefix+r);var n=null;if(this.LRU_CACHE&&(n=this.LRU_CACHE.get(r)),n&&!t.link_data)return n;void 0==t.with_email&&(t.with_email=!0),void 0==t.with_links&&(t.with_links=!0);var a=e;if(t=this.setOpts(a,t),t.with_links&&(a=this.formatMarkdownLink(a,t),a=this.formatTodoistLink(a,t)),a=this.formatStyles(a,t),a=this.formatEmojiStandard(a,t),a=this.formatEmojiTodoist(a,t),t.with_links&&(a=this.formatRegularLink(a,t)),t.with_email&&(a=this.formatEmails(a,t)),t.as_html){var i=this.hasOnlyEmojis(a);a=t.pure_emoji?a.replace(this.emojiRangesRegExp(),"$&"):a.replace(this.emojiRangesRegExp(),'<span class="emoji">$&</span>'),i&&(a='<span class="only_emojis">'+a+"</span>"),a=a.replace(this.emojiRangesRegExp(),function(e,t,r){var n=r.charAt(t+1);return"<span>"+("\ufe0f"===n?e+n:e)+"</span>"}),a=a.replace(/<\/span>\uFE0F/g,"</span>"),a=a.replace(/<span>([^<]+)<\/span>/g,"$1")}return!$isMac()&&t.as_html&&window.twemoji&&(a=window.twemoji.parse(a)),this.LRU_CACHE&&this.LRU_CACHE.put(r,a),a},_cache_emoji_all_regexp:null,_cache_emoji_range:null,hasOnlyEmojis:function(e){return""===(e=e.replace("<p>","").replace("</p>","").replace(/\s+/g,"").replace(this.emojiRangesRegExp(),"").replace(/\ufe0f/g,""))},emojiRangesRegExp:function(){if(this._cache_emoji_range)return this._cache_emoji_range;var e=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F/g;return this._cache_emoji_range=e,e},format:function(e,t){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),t=this.setOpts(e,t);var r={};e=this.formatCode(this.RE_CODE_BLOCK,e,t,r),e=this.formatCode(this.RE_CODE_INLINE,e,t,r),e=this.formatGmail(e,t),e=this.formatOutlook(e,t),e=this.formatThunderbird(e,t),e=this.formatSimple(e,t);for(var n in r){var a=r[n];e=e.replace(n,a)}return t.as_html&&(e=e.replace(/\n/g,"<br>"),e=e.replace(/<br><code>/g,"<code>")),e},setOpts:function(e,t){return t||(t={}),void 0===t.as_html&&(t.as_html=!0),void 0===t.only_text&&(t.only_text=!1),t.emojis_standard||(t.emojis_standard=i.default),t.emojis_todoist||(t.emojis_todoist=a.default),t},formatGmail:function(e,t){if(-1==e.indexOf("[[gmail"))return e;var r=function(e,r,n){if(t.fn_handle_gmail)return t.fn_handle_gmail(e,r,n);var a=r,i=n,l="https://mail.google.com/mail/#inbox/"+a;return t.only_text?"Gmail: "+i:t.as_html?"Gmail: "+o.generateLink(l,i,t):"Gmail: "+i+" ( "+l+" )"};return e.replace(this.RE_GMAIL,r)},formatOutlook:function(e,t){if(-1==e.indexOf("[[outlook"))return e;var r=function(e,r,n){return t.fn_handle_outlook?t.fn_handle_outlook(e,r,n):"Outlook: "+n};return e.replace(this.RE_OUTLOOK,r)},formatThunderbird:function(e,t){if(-1==e.indexOf("[[thunderbird"))return e;var r=function(e,r,n){return t.fn_handle_thunderbird?t.fn_handle_thunderbird(e,r,n):"Thunderbird: "+r};return e.replace(this.RE_THUNDERBIRD,r)},formatTodoistLink:function(e,t){if(-1!=e.indexOf("(")&&-1!=e.indexOf(")")){var r=function(e,r,n){return t.only_text?n:t.as_html?o.generateLink(r,n,t):n+": "+r};return e.replace(this.RE_TODOIST_LINK,r)}return e},formatMarkdownLink:function(e,t){if(-1!=e.indexOf("[")&&-1!=e.indexOf("]")){var r=function(e,r,n){return t.only_text?r:t.as_html?o.generateLink(n,r,t):r+": "+n};return e.replace(this.RE_MARKDOWN_LINK,r)}return e},formatRegularLink:function(e,t){if(-1==e.indexOf("://"))return e;var r=function(e,r,n,a){if(!t.as_html)return e;if(r)return e;var i=a;return n+o.generateLink(a,i,t)};return e.replace(this.RE_REGULAR_LINK,r)},formatEmails:function(e,t){if(-1==e.indexOf("@")||-1!=e.indexOf("[[")&&-1!=e.indexOf("]]")||-1!=e.indexOf("thunder_id"))return e;var r=function(e,r,n,a){return t.as_html?r+o.generateLink("mailto:"+n,n,t)+a:e};return e.replace(this.RE_EMAIL,r)},formatStyles:function(e,t){if(-1!=e.indexOf("!!")||-1!=e.indexOf("**")||-1!=e.indexOf("__")){var r=function(e,r,n,a){return" "==$first(n)||" "==$last(n)?e:t.only_text?r+n:t.as_html?r+"<strong>"+n+"</strong>":e};e=e.replace(this.RE_MARKDOWN_TODOIST_BOLD,r)}if(-1!=e.indexOf("*")||-1!=e.indexOf("_")){var r=function(e,r,n,a){return" "==$first(n)||" "==$last(n)?e:t.only_text?r+n:t.as_html?r+"<em>"+n+"</em>":e};e=e.replace(this.RE_MARKDOWN_ITALIC_1,r),e=e.replace(this.RE_MARKDOWN_ITALIC_2,r)}return e},formatCode:function(e,t,r,n){if(-1==t.indexOf("`"))return t;var a=function(e,a){var i,o="\xb6P"+Object.keys(n).length;if(r.only_text)i=e;else{var l;l=-1!=t.indexOf("```")?'<code class="code_block">':'<code class="code_inline">',i=l+$strip(a)+"</code>"}return n[o]=i,o};return t.replace(e,a)},formatEmojiStandard:function(e,t){if(-1==e.indexOf(":"))return e;var r=t.emojis_standard,n=function(e){var t=r[e];return t||e};return e.replace(this.RE_STANDARD_EMOJI,n)},formatEmojiTodoist:function(e,t){var r=t.emojis_todoist;this.RE_TODOIST_EMOJI||(this.RE_TODOIST_EMOJI=this.compileEmojiEegExp(r));var n=function(e,t,n){var a=r[n];return a?t+a:e};return e=e.replace(this.RE_TODOIST_EMOJI,n)},compileEmojiEegExp:function(e){var t=[];for(var r in e)r=r.replace(/([\\|()^+$*.])/gi,"\\$1"),t.push("(?:"+r+")");var n=t.join("|");return new RegExp("(^|\\s+)("+n+")(?=$|\\s+)","g")},generateLink:function(e,t,r){return e=e.trim(),e=e.replace(/^(java)?script[^\w.-]/gi,""),e=e.replace(/"/g,""),r.fn_generate_link?r.fn_generate_link(e,t,r):'<a href="'+e+'">'+t+"</a>"}},l=o;r.default=l},{"./emojis_standard":130,"./emojis_todoist":131,"@babel/runtime/helpers/interopRequireDefault":189}],130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={":microscope:":"\ud83d\udd2c",":squared_up_with_exclamation_mark:":"\ud83c\udd99",":arrow_heading_up:":"\u2934",":kissing_face_with_closed_eyes:":"\ud83d\ude1a",":palm_tree:":"\ud83c\udf34",":crescent_moon:":"\ud83c\udf19",":dart:":"\ud83c\udfaf",":light_rail:":"\ud83d\ude88",":weary_face:":"\ud83d\ude29",":hammer_and_pick:":"\u2692",":low_brightness_symbol:":"\ud83d\udd05",":wind_blowing_face:":"\ud83c\udf2c",":t-shirt:":"\ud83d\udc55",":worried_face:":"\ud83d\ude1f",":thought_balloon:":"\ud83d\udcad",":alien_monster:":"\ud83d\udc7e",":squared_cjk_unified_ideograph-55b6:":"\ud83c\ude3a",":first_quarter_moon_symbol:":"\ud83c\udf13",":flag_for_Burkina_Faso:":"\ud83c\udde7 \ud83c\uddeb",":school_satchel:":"\ud83c\udf92",":symbols:":"\ud83d\udd23",":white_sun_behind_cloud_with_rain:":"\ud83c\udf26",":bottle_with_popping_cork:":"\ud83c\udf7e",":virgo:":"\u264d",":womens:":"\ud83d\udeba",":yum:":"\ud83d\ude0b",":heart:":"\u2764",":flag_for_Cape_Verde:":"\ud83c\udde8 \ud83c\uddfb",":red_car:":"\ud83d\ude97",":label:":"\ud83c\udff7",":fast_forward:":"\u23e9",":monkey:":"\ud83d\udc12",":spiral_calendar_pad:":"\ud83d\uddd3",":fax:":"\ud83d\udce0",":pray:":"\ud83d\ude4f",":sake_bottle_and_cup:":"\ud83c\udf76",":congratulations:":"\u3297",":family:":"\ud83d\udc6a",":curly_loop:":"\u27b0",":american_football:":"\ud83c\udfc8",":full_moon_symbol:":"\ud83c\udf15",":thumbs_up_sign:":"\ud83d\udc4d",":weary_cat_face:":"\ud83d\ude40",":cool:":"\ud83c\udd92",":face_with_stuck-out_tongue_and_tightly-closed_eyes:":"\ud83d\ude1d",":shower:":"\ud83d\udebf",":emoji_modifier_fitzpatrick_type-1-2:":"\ud83c\udffb",":see_no_evil:":"\ud83d\ude48",":unamused:":"\ud83d\ude12",":sports_medal:":"\ud83c\udfc5",":shoe:":"\ud83d\udc5e",":wheel_of_dharma:":"\u2638",":flag_for_Australia:":"\ud83c\udde6 \ud83c\uddfa",":direct_hit:":"\ud83c\udfaf",":studio_microphone:":"\ud83c\udf99",":paw_prints:":"\ud83d\udc3e",":flag_for_Mongolia:":"\ud83c\uddf2 \ud83c\uddf3",":mushroom:":"\ud83c\udf44",":clock_face_one-thirty:":"\ud83d\udd5c",":flag_for_Martinique:":"\ud83c\uddf2 \ud83c\uddf6",":high_brightness:":"\ud83d\udd06",":clock_face_eight-thirty:":"\ud83d\udd63",":flag_for_China:":"\ud83c\udde8 \ud83c\uddf3",":dog_face:":"\ud83d\udc36",":guitar:":"\ud83c\udfb8",":phone:":"\u260e",":dog2:":"\ud83d\udc15",":negative_squared_latin_capital_letter_a:":"\ud83c\udd70",":clock10:":"\ud83d\udd59",":trident_emblem:":"\ud83d\udd31",":panda_face:":"\ud83d\udc3c",":squared_cjk_unified_ideograph-6709:":"\ud83c\ude36",":camel:":"\ud83d\udc2b",":tulip:":"\ud83c\udf37",":flag_for_C\xf4te_d\u2019Ivoire:":"\ud83c\udde8 \ud83c\uddee",":sunset_over_buildings:":"\ud83c\udf07",":flag_for_Liberia:":"\ud83c\uddf1 \ud83c\uddf7",":clock_face_eight_oclock:":"\ud83d\udd57",":boat:":"\u26f5",":wheelchair_symbol:":"\u267f",":left_right_arrow:":"\u2194",":circled_ideograph_advantage:":"\ud83c\ude50",":smiling_cat_face_with_open_mouth:":"\ud83d\ude3a",":negative_squared_latin_capital_letter_p:":"\ud83c\udd7f",":cat2:":"\ud83d\udc08",":tired_face:":"\ud83d\ude2b",":train2:":"\ud83d\ude86",":banknote_with_euro_sign:":"\ud83d\udcb6",":card_index:":"\ud83d\udcc7",":delivery_truck:":"\ud83d\ude9a",":two_women_holding_hands:":"\ud83d\udc6d",":chart_with_downwards_trend:":"\ud83d\udcc9",":relaxed:":"\u263a",":large_orange_diamond:":"\ud83d\udd36",":mountain_railway:":"\ud83d\ude9e",":flag_for_Portugal:":"\ud83c\uddf5 \ud83c\uddf9",":sunflower:":"\ud83c\udf3b",":clock_face_eleven-thirty:":"\ud83d\udd66",":partly_sunny:":"\u26c5",":first_quarter_moon_with_face:":"\ud83c\udf1b",":aubergine:":"\ud83c\udf46",":baby_bottle:":"\ud83c\udf7c",":military_medal:":"\ud83c\udf96",":deciduous_tree:":"\ud83c\udf33",":trumpet:":"\ud83c\udfba",":leo:":"\u264c",":film_frames:":"\ud83c\udf9e",":flag_for_Lebanon:":"\ud83c\uddf1 \ud83c\udde7",":om_symbol:":"\ud83d\udd49",":knife:":"\ud83d\udd2a",":face_with_look_of_triumph:":"\ud83d\ude24",":clock_face_eleven_oclock:":"\ud83d\udd5a",":flag_for_Uruguay:":"\ud83c\uddfa \ud83c\uddfe",":triangular_ruler:":"\ud83d\udcd0",":growing_heart:":"\ud83d\udc97",":japanese_dolls:":"\ud83c\udf8e",":flag_for_French_Southern_Territories:":"\ud83c\uddf9 \ud83c\uddeb",":thumbsdown:":"\ud83d\udc4e",":mailbox_closed:":"\ud83d\udcea",":neutral_face:":"\ud83d\ude10",":broken_heart:":"\ud83d\udc94",":new_moon_symbol:":"\ud83c\udf11",":chocolate_bar:":"\ud83c\udf6b",":flag_for_Burundi:":"\ud83c\udde7 \ud83c\uddee",":smiling_imp:":"\ud83d\ude08",":flag_for_Grenada:":"\ud83c\uddec \ud83c\udde9",":no_good:":"\ud83d\ude45",":calling:":"\ud83d\udcf2",":ferry:":"\u26f4",":blue_heart:":"\ud83d\udc99",":smiling_cat_face_with_heart-shaped_eyes:":"\ud83d\ude3b",":date:":"\ud83d\udcc5",":flag_for_Brunei:":"\ud83c\udde7 \ud83c\uddf3",":man_with_turban:":"\ud83d\udc73",":triangular_flag_on_post:":"\ud83d\udea9",":oncoming_taxi:":"\ud83d\ude96",":fried_shrimp:":"\ud83c\udf64",":tropical_drink:":"\ud83c\udf79",":black_left-pointing_triangle:":"\u25c0",":flag_for_Canada:":"\ud83c\udde8 \ud83c\udde6",":soon_with_rightwards_arrow_above:":"\ud83d\udd1c",":horse_racing:":"\ud83c\udfc7",":droplet:":"\ud83d\udca7",":womans_clothes:":"\ud83d\udc5a",":oncoming_police_car:":"\ud83d\ude94",":peace_symbol:":"\u262e",":signal_strength:":"\ud83d\udcf6",":bus_stop:":"\ud83d\ude8f",":reversed_hand_with_middle_finger_extended:":"\ud83d\udd95",":keycap_digit_four:":"4 \u20e3",":flag_for_Zimbabwe:":"\ud83c\uddff \ud83c\uddfc",":rewind:":"\u23ea",":white_small_square:":"\u25ab",":flag_for_Jersey:":"\ud83c\uddef \ud83c\uddea",":airplane:":"\u2708",":anger:":"\ud83d\udca2",":mailbox_with_no_mail:":"\ud83d\udced",":circled_ideograph_congratulation:":"\u3297",":dark_sunglasses:":"\ud83d\udd76",":lower_left_ballpoint_pen:":"\ud83d\udd8a",":flag_for_Mexico:":"\ud83c\uddf2 \ud83c\uddfd",":question:":"\u2753",
":black_heart_suit:":"\u2665",":flag_for_Pakistan:":"\ud83c\uddf5 \ud83c\uddf0",":open_mailbox_with_raised_flag:":"\ud83d\udcec",":man_and_woman_holding_hands:":"\ud83d\udc6b",":arrow_heading_down:":"\u2935",":ok_hand_sign:":"\ud83d\udc4c",":train:":"\ud83d\ude8b",":mens_symbol:":"\ud83d\udeb9",":minibus:":"\ud83d\ude90",":flag_for_Rwanda:":"\ud83c\uddf7 \ud83c\uddfc",":clock_face_one_oclock:":"\ud83d\udd50",":mailbox_with_mail:":"\ud83d\udcec",":older_man:":"\ud83d\udc74",":flag_for_Clipperton_Island:":"\ud83c\udde8 \ud83c\uddf5",":earth_globe_americas:":"\ud83c\udf0e",":earth_asia:":"\ud83c\udf0f",":custard:":"\ud83c\udf6e",":grinning_face_with_smiling_eyes:":"\ud83d\ude01",":flag_for_Uganda:":"\ud83c\uddfa \ud83c\uddec",":mahjong_tile_red_dragon:":"\ud83c\udc04",":flag_for_Indonesia:":"\ud83c\uddee \ud83c\udde9",":ski:":"\ud83c\udfbf",":hospital:":"\ud83c\udfe5",":books:":"\ud83d\udcda",":couplekiss:":"\ud83d\udc8f",":squared_cjk_unified_ideograph-7a7a:":"\ud83c\ude33",":flag_for_Palau:":"\ud83c\uddf5 \ud83c\uddfc",":bear:":"\ud83d\udc3b",":flag_for_St._Helena:":"\ud83c\uddf8 \ud83c\udded",":tent:":"\u26fa",":no_mouth:":"\ud83d\ude36",":flag_for_Central_African_Republic:":"\ud83c\udde8 \ud83c\uddeb",":dash_symbol:":"\ud83d\udca8",":sunrise:":"\ud83c\udf05",":key:":"\ud83d\udd11",":ice_skate:":"\u26f8",":black_nib:":"\u2712",":ambulance:":"\ud83d\ude91",":flag_for_Slovenia:":"\ud83c\uddf8 \ud83c\uddee",":hamster_face:":"\ud83d\udc39",":gemini:":"\u264a",":accept:":"\ud83c\ude51",":face_with_cold_sweat:":"\ud83d\ude13",":mag:":"\ud83d\udd0d",":slightly_smiling_face:":"\ud83d\ude42",":face_with_tears_of_joy:":"\ud83d\ude02",":ram:":"\ud83d\udc0f",":sos:":"\ud83c\udd98",":squared_vs:":"\ud83c\udd9a",":cancer:":"\u264b",":squared_cjk_unified_ideograph-7121:":"\ud83c\ude1a",":golfer:":"\ud83c\udfcc",":potable_water_symbol:":"\ud83d\udeb0",":squared_cjk_unified_ideograph-6708:":"\ud83c\ude37",":nut_and_bolt:":"\ud83d\udd29",":restroom:":"\ud83d\udebb",":circled_latin_capital_letter_m:":"\u24c2",":joy_cat:":"\ud83d\ude39",":loudspeaker:":"\ud83d\udce2",":low_brightness:":"\ud83d\udd05",":crying_face:":"\ud83d\ude22",":no_entry:":"\u26d4",":sake:":"\ud83c\udf76",":u5408:":"\ud83c\ude34",":clock_face_five_oclock:":"\ud83d\udd54",":disappointed_but_relieved_face:":"\ud83d\ude25",":scissors:":"\u2702",":b:":"\ud83c\udd71",":bank:":"\ud83c\udfe6",":busstop:":"\ud83d\ude8f",":flag_for_Caribbean_Netherlands:":"\ud83c\udde7 \ud83c\uddf6",":stuck_out_tongue:":"\ud83d\ude1b",":flag_for_North_Korea:":"\ud83c\uddf0 \ud83c\uddf5",":clinking_beer_mugs:":"\ud83c\udf7b",":white_up_pointing_backhand_index:":"\ud83d\udc46",":running_shirt_with_sash:":"\ud83c\udfbd",":up_down_arrow:":"\u2195",":smiling_face_with_halo:":"\ud83d\ude07",":gift:":"\ud83c\udf81",":world_map:":"\ud83d\uddfa",":sweat:":"\ud83d\ude13",":flag_for_Swaziland:":"\ud83c\uddf8 \ud83c\uddff",":sleepy:":"\ud83d\ude2a",":confused_face:":"\ud83d\ude15",":flag_for_Heard_&_McDonald_Islands:":"\ud83c\udded \ud83c\uddf2",":dress:":"\ud83d\udc57",":white_large_square:":"\u2b1c",":kissing_face_with_smiling_eyes:":"\ud83d\ude19",":whale2:":"\ud83d\udc0b",":flag_for_Puerto_Rico:":"\ud83c\uddf5 \ud83c\uddf7",":smiling_face_with_sunglasses:":"\ud83d\ude0e",":flag_for_Paraguay:":"\ud83c\uddf5 \ud83c\uddfe",":speedboat:":"\ud83d\udea4",":face_with_head-bandage:":"\ud83e\udd15",":flag_for_Colombia:":"\ud83c\udde8 \ud83c\uddf4",":smile:":"\ud83d\ude04",":flag_for_Libya:":"\ud83c\uddf1 \ud83c\uddfe",":facepunch:":"\ud83d\udc4a",":flag_in_hole:":"\u26f3",":dvd:":"\ud83d\udcc0",":cherries:":"\ud83c\udf52",":latin_cross:":"\u271d",":face_massage:":"\ud83d\udc86",":star_and_crescent:":"\u262a",":cupid:":"\ud83d\udc98",":flag_for_Syria:":"\ud83c\uddf8 \ud83c\uddfe",":love_hotel:":"\ud83c\udfe9",":yellow_heart:":"\ud83d\udc9b",":secret:":"\u3299",":walking:":"\ud83d\udeb6",":horse_face:":"\ud83d\udc34",":wedding:":"\ud83d\udc92",":person_frowning:":"\ud83d\ude4d",":beginner:":"\ud83d\udd30",":grin:":"\ud83d\ude01",":flag_for_Barbados:":"\ud83c\udde7 \ud83c\udde7",":smiling_face_with_open_mouth:":"\ud83d\ude03",":electric_torch:":"\ud83d\udd26",":european_post_office:":"\ud83c\udfe4",":capricorn:":"\u2651",":hushed_face:":"\ud83d\ude2f",":white_exclamation_mark_ornament:":"\u2755",":flag_for_St._Vincent_&_Grenadines:":"\ud83c\uddfb \ud83c\udde8",":raised_hands:":"\ud83d\ude4c",":flag_for_Afghanistan:":"\ud83c\udde6 \ud83c\uddeb",":hole:":"\ud83d\udd73",":older_woman:":"\ud83d\udc75",":clock_face_twelve-thirty:":"\ud83d\udd67",":sheep:":"\ud83d\udc11",":black_circle:":"\u26ab",":seat:":"\ud83d\udcba",":building_construction:":"\ud83c\udfd7",":arrow_right_hook:":"\u21aa",":flag_for_Aruba:":"\ud83c\udde6 \ud83c\uddfc",":flag_for_Ceuta_&_Melilla:":"\ud83c\uddea \ud83c\udde6",":input_symbol_for_latin_letters:":"\ud83d\udd24",":wrench:":"\ud83d\udd27",":double_exclamation_mark:":"\u203c",":incoming_envelope:":"\ud83d\udce8",":lemon:":"\ud83c\udf4b",":sun_behind_cloud:":"\u26c5",":pine_decoration:":"\ud83c\udf8d",":small_orange_diamond:":"\ud83d\udd38",":high-speed_train:":"\ud83d\ude84",":face_throwing_a_kiss:":"\ud83d\ude18",":on_with_exclamation_mark_with_left_right_arrow_above:":"\ud83d\udd1b",":black_circle_for_record:":"\u23fa",":flag_for_Malaysia:":"\ud83c\uddf2 \ud83c\uddfe",":bridge_at_night:":"\ud83c\udf09",":earth_globe_europe-africa:":"\ud83c\udf0d",":mouth:":"\ud83d\udc44",":flag_for_El_Salvador:":"\ud83c\uddf8 \ud83c\uddfb",":flag_for_Tonga:":"\ud83c\uddf9 \ud83c\uddf4",":candy:":"\ud83c\udf6c",":1234:":"\ud83d\udd22",":pensive:":"\ud83d\ude14",":persevere:":"\ud83d\ude23",":squared_cool:":"\ud83c\udd92",":classical_building:":"\ud83c\udfdb",":outbox_tray:":"\ud83d\udce4",":bulb:":"\ud83d\udca1",":relieved:":"\ud83d\ude0c",":sailboat:":"\u26f5",":straight_ruler:":"\ud83d\udccf",":woman:":"\ud83d\udc69",":thinking_face:":"\ud83e\udd14",":keycap_digit_three:":"3 \u20e3",":envelope:":"\u2709",":postal_horn:":"\ud83d\udcef",":thumbsup:":"\ud83d\udc4d",":+1:":"\ud83d\udc4d",":cat:":"\ud83d\udc31",":squared_cjk_unified_ideograph-6307:":"\ud83c\ude2f",":checkered_flag:":"\ud83c\udfc1",":person_with_folded_hands:":"\ud83d\ude4f",":clipboard:":"\ud83d\udccb",":reminder_ribbon:":"\ud83c\udf97",":moon_viewing_ceremony:":"\ud83c\udf91",":flag_for_Georgia:":"\ud83c\uddec \ud83c\uddea",":abc:":"\ud83d\udd24",":flag_for_South_Africa:":"\ud83c\uddff \ud83c\udde6",":face_with_rolling_eyes:":"\ud83d\ude44",":flag_for_Guatemala:":"\ud83c\uddec \ud83c\uddf9",":arrows_clockwise:":"\ud83d\udd03",":six_pointed_star_with_middle_dot:":"\ud83d\udd2f",":hourglass_with_flowing_sand:":"\u23f3",":flag_for_Kazakhstan:":"\ud83c\uddf0 \ud83c\uddff",":nail_care:":"\ud83d\udc85",":six_pointed_star:":"\ud83d\udd2f",":hot_springs:":"\u2668",":party_popper:":"\ud83c\udf89",":open_hands_sign:":"\ud83d\udc50",":hibiscus:":"\ud83c\udf3a",":waning_crescent_moon:":"\ud83c\udf18",":rabbit:":"\ud83d\udc30",":flag_for_Sudan:":"\ud83c\uddf8 \ud83c\udde9",":gear:":"\u2699",":pencil2:":"\u270f",":truck:":"\ud83d\ude9a",":dagger_knife:":"\ud83d\udde1",":mega:":"\ud83d\udce3",":no_one_under_eighteen_symbol:":"\ud83d\udd1e",":rightwards_arrow_with_hook:":"\u21aa",":flag_for_Ecuador:":"\ud83c\uddea \ud83c\udde8",":pager:":"\ud83d\udcdf",":flag_for_Mayotte:":"\ud83c\uddfe \ud83c\uddf9",":flashlight:":"\ud83d\udd26",":hotel:":"\ud83c\udfe8",":flag_for_Venezuela:":"\ud83c\uddfb \ud83c\uddea",":saxophone:":"\ud83c\udfb7",":white_question_mark_ornament:":"\u2754",":lower_left_fountain_pen:":"\ud83d\udd8b",":globe_with_meridians:":"\ud83c\udf10",":evergreen_tree:":"\ud83c\udf32",":fountain:":"\u26f2",":pushpin:":"\ud83d\udccc",":flag_for_Nicaragua:":"\ud83c\uddf3 \ud83c\uddee",":point_up:":"\u261d",":dolls:":"\ud83c\udf8e",":keycap_asterisk:":"* \u20e3",":cd:":"\ud83d\udcbf",":flag_for_Anguilla:":"\ud83c\udde6 \ud83c\uddee",":sound:":"\ud83d\udd09",":flag_for_Spain:":"\ud83c\uddea \ud83c\uddf8",":file_folder:":"\ud83d\udcc1",":chequered_flag:":"\ud83c\udfc1",":winking_face:":"\ud83d\ude09",":arrow_lower_left:":"\u2199",":waxing_crescent_moon:":"\ud83c\udf12",":cookie:":"\ud83c\udf6a",":bullettrain_front:":"\ud83d\ude85",":dollar:":"\ud83d\udcb5",":white_right_pointing_backhand_index:":"\ud83d\udc49",":automobile:":"\ud83d\ude97",":horse:":"\ud83d\udc34",":smiling_face_with_open_mouth_and_smiling_eyes:":"\ud83d\ude04",":dragon:":"\ud83d\udc09",":flag_for_India:":"\ud83c\uddee \ud83c\uddf3",":flag_for_Monaco:":"\ud83c\uddf2 \ud83c\udde8",":recycle:":"\u267b",":strawberry:":"\ud83c\udf53",":back:":"\ud83d\udd19",":flag_for_Czech_Republic:":"\ud83c\udde8 \ud83c\uddff",":grapes:":"\ud83c\udf47",":fog:":"\ud83c\udf2b",":e-mail_symbol:":"\ud83d\udce7",":extraterrestrial_alien:":"\ud83d\udc7d",":flag_for_Jamaica:":"\ud83c\uddef \ud83c\uddf2",":arrow_upper_left:":"\u2196",":tiger2:":"\ud83d\udc05",":flag_for_Albania:":"\ud83c\udde6 \ud83c\uddf1",":flag_for_Dominican_Republic:":"\ud83c\udde9 \ud83c\uddf4",":flag_for_Faroe_Islands:":"\ud83c\uddeb \ud83c\uddf4",":bikini:":"\ud83d\udc59",":flag_for_Pitcairn_Islands:":"\ud83c\uddf5 \ud83c\uddf3",":antenna_with_bars:":"\ud83d\udcf6",":paperclip:":"\ud83d\udcce",":koala:":"\ud83d\udc28",":nerd_face:":"\ud83e\udd13",":flag_for_Canary_Islands:":"\ud83c\uddee \ud83c\udde8",":flag_for_U.S._Virgin_Islands:":"\ud83c\uddfb \ud83c\uddee",":clock1:":"\ud83d\udd50",":mouse2:":"\ud83d\udc01",":inbox_tray:":"\ud83d\udce5",":expressionless:":"\ud83d\ude11",":snowman:":"\u2603",":warning:":"\u26a0",":arrow_down_small:":"\ud83d\udd3d",":prayer_beads:":"\ud83d\udcff",":radio:":"\ud83d\udcfb",":white_frowning_face:":"\u2639",":honey_pot:":"\ud83c\udf6f",":bike:":"\ud83d\udeb2",":warning_sign:":"\u26a0",":clockwise_downwards_and_upwards_open_circle_arrows:":"\ud83d\udd03",":clock_face_five-thirty:":"\ud83d\udd60",":flag_for_Tajikistan:":"\ud83c\uddf9 \ud83c\uddef",":flag_for_France:":"\ud83c\uddeb \ud83c\uddf7",":flag_for_Niger:":"\ud83c\uddf3 \ud83c\uddea",":flag_for_Somalia:":"\ud83c\uddf8 \ud83c\uddf4",":raised_fist:":"\u270a",":smiley_cat:":"\ud83d\ude3a",":cow:":"\ud83d\udc2e",":flag_for_Nepal:":"\ud83c\uddf3 \ud83c\uddf5",":sunglasses:":"\ud83d\ude0e",":flushed_face:":"\ud83d\ude33",":flag_for_Hong_Kong:":"\ud83c\udded \ud83c\uddf0",":loudly_crying_face:":"\ud83d\ude2d",":confounded:":"\ud83d\ude16",":flag_for_Iceland:":"\ud83c\uddee \ud83c\uddf8",":soft_ice_cream:":"\ud83c\udf66",":flag_for_Lesotho:":"\ud83c\uddf1 \ud83c\uddf8",":banknote_with_dollar_sign:":"\ud83d\udcb5",":iphone:":"\ud83d\udcf1",":barber:":"\ud83d\udc88",":open_lock:":"\ud83d\udd13",":chart_with_upwards_trend_and_yen_sign:":"\ud83d\udcb9",":speaker_with_cancellation_stroke:":"\ud83d\udd07",":sandal:":"\ud83d\udc61",":part_alternation_mark:":"\u303d",":bactrian_camel:":"\ud83d\udc2b",":open_hands:":"\ud83d\udc50",":factory:":"\ud83c\udfed",":face_with_thermometer:":"\ud83e\udd12",":teacup_without_handle:":"\ud83c\udf75",":barber_pole:":"\ud83d\udc88",":goat:":"\ud83d\udc10",":heart_with_arrow:":"\ud83d\udc98",":european_castle:":"\ud83c\udff0",":tokyo_tower:":"\ud83d\uddfc",":hammer:":"\ud83d\udd28",":confounded_face:":"\ud83d\ude16",":flag_for_Switzerland:":"\ud83c\udde8 \ud83c\udded",":rabbit2:":"\ud83d\udc07",":person_bowing_deeply:":"\ud83d\ude47",":unamused_face:":"\ud83d\ude12",":traffic_light:":"\ud83d\udea5",":copyright:":"\xa9",":cityscape_at_dusk:":"\ud83c\udf06",":rolled-up_newspaper:":"\ud83d\uddde",":flag_for_Macedonia:":"\ud83c\uddf2 \ud83c\uddf0",":flag_for_Turks_&_Caicos_Islands:":"\ud83c\uddf9 \ud83c\udde8",":rugby_football:":"\ud83c\udfc9",":izakaya_lantern:":"\ud83c\udfee",":thumbs_down_sign:":"\ud83d\udc4e",":sleuth_or_spy:":"\ud83d\udd75",":high_heel:":"\ud83d\udc60",":flag_for_Cameroon:":"\ud83c\udde8 \ud83c\uddf2",":astonished:":"\ud83d\ude32",":stuck_out_tongue_winking_eye:":"\ud83d\ude1c",":handbag:":"\ud83d\udc5c",":volleyball:":"\ud83c\udfd0",":hundred_points_symbol:":"\ud83d\udcaf",":large_blue_circle:":"\ud83d\udd35",":up-pointing_small_red_triangle:":"\ud83d\udd3c",":id:":"\ud83c\udd94",":flag_for_Poland:":"\ud83c\uddf5 \ud83c\uddf1",":glowing_star:":"\ud83c\udf1f",":bath:":"\ud83d\udec0",":postbox:":"\ud83d\udcee",":flag_for_Nigeria:":"\ud83c\uddf3 \ud83c\uddec",":baseball:":"\u26be",":mask:":"\ud83d\ude37",":put_litter_in_its_place:":"\ud83d\udeae",":toilet:":"\ud83d\udebd",":coffin:":"\u26b0",":black_joker:":"\ud83c\udccf",":heart_eyes:":"\ud83d\ude0d",":mobile_phone_off:":"\ud83d\udcf4",":flag_for_St._Lucia:":"\ud83c\uddf1 \ud83c\udde8",":envelope_with_arrow:":"\ud83d\udce9",":tiger:":"\ud83d\udc2f",":grinning_face:":"\ud83d\ude00",":flag_for_Gambia:":"\ud83c\uddec \ud83c\uddf2",":down-pointing_small_red_triangle:":"\ud83d\udd3d",":flag_for_Niue:":"\ud83c\uddf3 \ud83c\uddfa",":cat_face_with_wry_smile:":"\ud83d\ude3c",":ferris_wheel:":"\ud83c\udfa1",":synagogue:":"\ud83d\udd4d",":black_left-pointing_double_triangle_with_vertical_bar:":"\u23ee",":memo:":"\ud83d\udcdd",":face_with_open_mouth:":"\ud83d\ude2e",":flag_for_Malta:":"\ud83c\uddf2 \ud83c\uddf9",":hankey:":"\ud83d\udca9",":flag_for_Northern_Mariana_Islands:":"\ud83c\uddf2 \ud83c\uddf5",":videocassette:":"\ud83d\udcfc",":flag_for_Peru:":"\ud83c\uddf5 \ud83c\uddea",":table_tennis_paddle_and_ball:":"\ud83c\udfd3",":left_luggage:":"\ud83d\udec5",":dango:":"\ud83c\udf61",":medium_black_circle:":"\u26ab",":steaming_bowl:":"\ud83c\udf5c",":tangerine:":"\ud83c\udf4a",":keyboard:":"\u2328",":flag_for_Argentina:":"\ud83c\udde6 \ud83c\uddf7",":heart_decoration:":"\ud83d\udc9f",":clock_face_ten-thirty:":"\ud83d\udd65",":open_mouth:":"\ud83d\ude2e",":rice_ball:":"\ud83c\udf59",":flag_for_Turkey:":"\ud83c\uddf9 \ud83c\uddf7",":clock_face_two-thirty:":"\ud83d\udd5d",":face_with_no_good_gesture:":"\ud83d\ude45",":flag_for_Laos:":"\ud83c\uddf1 \ud83c\udde6",":calendar:":"\ud83d\udcc6",":end:":"\ud83d\udd1a",":wolf_face:":"\ud83d\udc3a",":blossom:":"\ud83c\udf3c",":hammer_and_wrench:":"\ud83d\udee0",":copyright_sign:":"\xa9",":package:":"\ud83d\udce6",":do_not_litter_symbol:":"\ud83d\udeaf",":arrow_double_down:":"\u23ec",":tm:":"\u2122",":helicopter:":"\ud83d\ude81",":speech_balloon:":"\ud83d\udcac",":flag_for_Ascension_Island:":"\ud83c\udde6 \ud83c\udde8",":cocktail_glass:":"\ud83c\udf78",":flag_for_Dominica:":"\ud83c\udde9 \ud83c\uddf2",":bomb:":"\ud83d\udca3",":upside-down_face:":"\ud83d\ude43",":speaker_with_one_sound_wave:":"\ud83d\udd09",":negative_squared_cross_mark:":"\u274e",":squared_ok:":"\ud83c\udd97",":a:":"\ud83c\udd70",":door:":"\ud83d\udeaa",":rice_cracker:":"\ud83c\udf58",":flag_for_Nauru:":"\ud83c\uddf3 \ud83c\uddf7",":eight_spoked_asterisk:":"\u2733",":couch_and_lamp:":"\ud83d\udecb",":top_with_upwards_arrow_above:":"\ud83d\udd1d",":mag_right:":"\ud83d\udd0e",":snowflake:":"\u2744",":registered:":"\xae",":cloud_with_rain:":"\ud83c\udf27",":amphora:":"\ud83c\udffa",":-1:":"\ud83d\udc4e",":squared_katakana_koko:":"\ud83c\ude01",":bear_face:":"\ud83d\udc3b",":foggy:":"\ud83c\udf01",":flag_for_Solomon_Islands:":"\ud83c\uddf8 \ud83c\udde7",":notes:":"\ud83c\udfb6",":waxing_gibbous_moon:":"\ud83c\udf14",":black_medium_square:":"\u25fc",":flag_for_Gibraltar:":"\ud83c\uddec \ud83c\uddee",":clock_face_six-thirty:":"\ud83d\udd61",":flag_for_Morocco:":"\ud83c\uddf2 \ud83c\udde6",":speaking_head_in_silhouette:":"\ud83d\udde3",":u6708:":"\ud83c\ude37",":flag_for_Uzbekistan:":"\ud83c\uddfa \ud83c\uddff",":electric_plug:":"\ud83d\udd0c",":o:":"\u2b55",":dove_of_peace:":"\ud83d\udd4a",":flipper:":"\ud83d\udc2c",":arrow_pointing_rightwards_then_curving_upwards:":"\u2934",":flag_for_Israel:":"\ud83c\uddee \ud83c\uddf1",":spaghetti:":"\ud83c\udf5d",":innocent:":"\ud83d\ude07",":flag_for_Latvia:":"\ud83c\uddf1 \ud83c\uddfb",":person_raising_both_hands_in_celebration:":"\ud83d\ude4c",":frowning:":"\ud83d\ude26",":tshirt:":"\ud83d\udc55",":do_not_litter:":"\ud83d\udeaf",":arrow_forward:":"\u25b6",":flag_for_Zambia:":"\ud83c\uddff \ud83c\uddf2",":smile_cat:":"\ud83d\ude38",":skier:":"\u26f7",":100:":"\ud83d\udcaf",":camera:":"\ud83d\udcf7",":potable_water:":"\ud83d\udeb0",":athletic_shoe:":"\ud83d\udc5f",":u7a7a:":"\ud83c\ude33",":tram_car:":"\ud83d\ude8b",":flag_for_Belize:":"\ud83c\udde7 \ud83c\uddff",":balloon:":"\ud83c\udf88",":pizza:":"\ud83c\udf55",":new_moon:":"\ud83c\udf11",":face_savouring_delicious_food:":"\ud83d\ude0b",":victory_hand:":"\u270c",":admission_tickets:":"\ud83c\udf9f",":smirking_face:":"\ud83d\ude0f",":burrito:":"\ud83c\udf2f",":keycap_digit_one:":"1 \u20e3",":skull:":"\ud83d\udc80",":heavy_division_sign:":"\u2797",":fire:":"\ud83d\udd25",":weight_lifter:":"\ud83c\udfcb",":bookmark_tabs:":"\ud83d\udcd1",":heavy_plus_sign:":"\u2795",":slice_of_pizza:":"\ud83c\udf55",":ok:":"\ud83c\udd97",":tram:":"\ud83d\ude8a",":telescope:":"\ud83d\udd2d",":rose:":"\ud83c\udf39",":clock3:":"\ud83d\udd52",":chestnut:":"\ud83c\udf30",":black_diamond_suit:":"\u2666",":anchor:":"\u2693",":euro:":"\ud83d\udcb6",":disappointed_relieved:":"\ud83d\ude25",":flag_for_Eritrea:":"\ud83c\uddea \ud83c\uddf7",":scales:":"\u2696",":spiral_shell:":"\ud83d\udc1a",":file_cabinet:":"\ud83d\uddc4",":stadium:":"\ud83c\udfdf",":house:":"\ud83c\udfe0",":japanese_ogre:":"\ud83d\udc79",":mosque:":"\ud83d\udd4c",":banana:":"\ud83c\udf4c",":black_down-pointing_double_triangle:":"\u23ec",":fax_machine:":"\ud83d\udce0",":monorail:":"\ud83d\ude9d",":parking:":"\ud83c\udd7f",":trophy:":"\ud83c\udfc6",":firework_sparkler:":"\ud83c\udf87",":guardsman:":"\ud83d\udc82",":page_with_curl:":"\ud83d\udcc3",":mountain_bicyclist:":"\ud83d\udeb5",":flag_for_Congo_-_Kinshasa:":"\ud83c\udde8 \ud83c\udde9",":flag_for_R\xe9union:":"\ud83c\uddf7 \ud83c\uddea",":flag_for_Senegal:":"\ud83c\uddf8 \ud83c\uddf3",":keycap_digit_eight:":"8 \u20e3",":speaker_with_three_sound_waves:":"\ud83d\udd0a",":end_with_leftwards_arrow_above:":"\ud83d\udd1a",":desktop_computer:":"\ud83d\udda5",":vertical_traffic_light:":"\ud83d\udea6",":squared_id:":"\ud83c\udd94",":pencil:":"\ud83d\udcdd",":face_without_mouth:":"\ud83d\ude36",":book:":"\ud83d\udcd6",":person_with_blond_hair:":"\ud83d\udc71",":muscle:":"\ud83d\udcaa",":curry_and_rice:":"\ud83c\udf5b",":grimacing:":"\ud83d\ude2c",":shirt:":"\ud83d\udc55",":vibration_mode:":"\ud83d\udcf3",":runner:":"\ud83c\udfc3",":kiss:":"\ud83d\udc8b",":pedestrian:":"\ud83d\udeb6",":fire_engine:":"\ud83d\ude92",":funeral_urn:":"\u26b1",":down-pointing_red_triangle:":"\ud83d\udd3b",":high-speed_train_with_bullet_nose:":"\ud83d\ude85",":flag_for_Fiji:":"\ud83c\uddeb \ud83c\uddef",":wastebasket:":"\ud83d\uddd1",":crying_cat_face:":"\ud83d\ude3f",":smoking:":"\ud83d\udeac",":open_mailbox_with_lowered_flag:":"\ud83d\udced",":oil_drum:":"\ud83d\udee2",":hamburger:":"\ud83c\udf54",":emoji_modifier_fitzpatrick_type-4:":"\ud83c\udffd",":flag_for_Cambodia:":"\ud83c\uddf0 \ud83c\udded",":pensive_face:":"\ud83d\ude14",":u6709:":"\ud83c\ude36",":poodle:":"\ud83d\udc29",":clapping_hands_sign:":"\ud83d\udc4f",":no_pedestrians:":"\ud83d\udeb7",":white_smiling_face:":"\u263a",":flag_for_Vietnam:":"\ud83c\uddfb \ud83c\uddf3",":dolphin:":"\ud83d\udc2c",":flag_for_Suriname:":"\ud83c\uddf8 \ud83c\uddf7",":card_index_dividers:":"\ud83d\uddc2",":cinema:":"\ud83c\udfa6",":stew:":"\ud83c\udf72",":city_sunset:":"\ud83c\udf06",":flag_for_Estonia:":"\ud83c\uddea \ud83c\uddea",":bird:":"\ud83d\udc26",":slightly_frowning_face:":"\ud83d\ude41",":rabbit_face:":"\ud83d\udc30",":bow_and_arrow:":"\ud83c\udff9",":flag_for_United_States:":"\ud83c\uddfa \ud83c\uddf8",":black_right-pointing_double_triangle:":"\u23e9",":hear_no_evil:":"\ud83d\ude49",":bouquet:":"\ud83d\udc90",":thunder_cloud_and_rain:":"\u26c8",":flag_for_Bouvet_Island:":"\ud83c\udde7 \ud83c\uddfb",":pig2:":"\ud83d\udc16",":minidisc:":"\ud83d\udcbd",":grimacing_face:":"\ud83d\ude2c",":house_with_garden:":"\ud83c\udfe1",":roasted_sweet_potato:":"\ud83c\udf60",":waxing_crescent_moon_symbol:":"\ud83c\udf12",":hugging_face:":"\ud83e\udd17",":flag_for_Isle_of_Man:":"\ud83c\uddee \ud83c\uddf2",":flag_for_Madagascar:":"\ud83c\uddf2 \ud83c\uddec",":four_leaf_clover:":"\ud83c\udf40",":movie_camera:":"\ud83c\udfa5",":lollipop:":"\ud83c\udf6d",":snail:":"\ud83d\udc0c",":non-potable_water_symbol:":"\ud83d\udeb1",":airplane_arriving:":"\ud83d\udeec",":beetle:":"\ud83d\udc1e",":station:":"\ud83d\ude89",":flag_for_Ireland:":"\ud83c\uddee \ud83c\uddea",":unicorn_face:":"\ud83e\udd84",":new:":"\ud83c\udd95",":robot_face:":"\ud83e\udd16",":black_question_mark_ornament:":"\u2753",":front-facing_baby_chick:":"\ud83d\udc25",":cocktail:":"\ud83c\udf78",":flag_for_Taiwan:":"\ud83c\uddf9 \ud83c\uddfc",":snowboarder:":"\ud83c\udfc2",":on:":"\ud83d\udd1b",":stars:":"\ud83c\udf20",":clock4:":"\ud83d\udd53",":kaaba:":"\ud83d\udd4b",":flag_for_Philippines:":"\ud83c\uddf5 \ud83c\udded",":u5272:":"\ud83c\ude39",":exclamation:":"\u2757",":libra:":"\u264e",":registered_sign:":"\xae",":hushed:":"\ud83d\ude2f",":tear-off_calendar:":"\ud83d\udcc6",":sleeping_accommodation:":"\ud83d\udecc",":twisted_rightwards_arrows:":"\ud83d\udd00",":u7533:":"\ud83c\ude38",":hatched_chick:":"\ud83d\udc25",":taco:":"\ud83c\udf2e",":whale:":"\ud83d\udc33",":flag_for_Guam:":"\ud83c\uddec \ud83c\uddfa",":playing_card_black_joker:":"\ud83c\udccf",":white_up_pointing_index:":"\u261d",":tea:":"\ud83c\udf75",":loud_sound:":"\ud83d\udd0a",":flag_for_Japan:":"\ud83c\uddef \ud83c\uddf5",":banknote_with_pound_sign:":"\ud83d\udcb7",":milky_way:":"\ud83c\udf0c",":white_medium_square:":"\u25fb",":flag_for_Guernsey:":"\ud83c\uddec \ud83c\uddec",":flag_for_Marshall_Islands:":"\ud83c\uddf2 \ud83c\udded",":gem:":"\ud83d\udc8e",":hocho:":"\ud83d\udd2a",":ice_cream:":"\ud83c\udf68",":zap:":"\u26a1",":small_airplane:":"\ud83d\udee9",":crab:":"\ud83e\udd80",":flag_for_Germany:":"\ud83c\udde9 \ud83c\uddea",":rage:":"\ud83d\ude21",":bookmark:":"\ud83d\udd16",":flag_for_Guinea-Bissau:":"\ud83c\uddec \ud83c\uddfc",":flag_for_Equatorial_Guinea:":"\ud83c\uddec \ud83c\uddf6",":speaker:":"\ud83d\udd08",":heartpulse:":"\ud83d\udc97",":face_with_medical_mask:":"\ud83d\ude37",":flag_for_Gabon:":"\ud83c\uddec \ud83c\udde6",":flag_for_St._Martin:":"\ud83c\uddf2 \ud83c\uddeb",":tiger_face:":"\ud83d\udc2f",":cricket_bat_and_ball:":"\ud83c\udfcf",":arrow_down:":"\u2b07",":north_west_arrow:":"\u2196",":white_medium_small_square:":"\u25fd",":cherry_blossom:":"\ud83c\udf38",":flag_for_Chile:":"\ud83c\udde8 \ud83c\uddf1",":flag_for_Greenland:":"\ud83c\uddec \ud83c\uddf1",":beer_mug:":"\ud83c\udf7a",":face_with_stuck-out_tongue:":"\ud83d\ude1b",":hourglass:":"\u231b",":aries:":"\u2648",":man:":"\ud83d\udc68",":waving_black_flag:":"\ud83c\udff4",":underage:":"\ud83d\udd1e",":three_button_mouse:":"\ud83d\uddb1",":leaves:":"\ud83c\udf43",":atm:":"\ud83c\udfe7",":face_screaming_in_fear:":"\ud83d\ude31",":bust_in_silhouette:":"\ud83d\udc64",":thermometer:":"\ud83c\udf21",":elephant:":"\ud83d\udc18",":mens:":"\ud83d\udeb9",":clock1230:":"\ud83d\udd67",":no_bicycles:":"\ud83d\udeb3",":suspension_railway:":"\ud83d\ude9f",":credit_card:":"\ud83d\udcb3",":ballot_box_with_ballot:":"\ud83d\uddf3",":monkey_face:":"\ud83d\udc35",":dragon_face:":"\ud83d\udc32",":emoji_modifier_fitzpatrick_type-5:":"\ud83c\udffe",":trident:":"\ud83d\udd31",":chart:":"\ud83d\udcb9",":two_hearts:":"\ud83d\udc95",":telephone:":"\u260e",":heart_eyes_cat:":"\ud83d\ude3b",":dizzy_face:":"\ud83d\ude35",":pig_nose:":"\ud83d\udc3d",":rainbow:":"\ud83c\udf08",":necktie:":"\ud83d\udc54",":girl:":"\ud83d\udc67",":clock_face_three-thirty:":"\ud83d\udd5e",":input_symbol_for_numbers:":"\ud83d\udd22",":white_sun_behind_cloud:":"\ud83c\udf25",":dancers:":"\ud83d\udc6f",":u6307:":"\ud83c\ude2f",":rocket:":"\ud83d\ude80",":badminton_racquet_and_shuttlecock:":"\ud83c\udff8",":moneybag:":"\ud83d\udcb0",":alarm_clock:":"\u23f0",":automated_teller_machine:":"\ud83c\udfe7",":footprints:":"\ud83d\udc63",":o2:":"\ud83c\udd7e",":flag_for_Qatar:":"\ud83c\uddf6 \ud83c\udde6",":feet:":"\ud83d\udc3e",":pound:":"\ud83d\udcb7",":arrow_double_up:":"\u23eb",":squared_ng:":"\ud83c\udd96",":arrow_backward:":"\u25c0",":flag_for_South_Georgia_&_South_Sandwich_Islands:":"\ud83c\uddec \ud83c\uddf8",":weary:":"\ud83d\ude29",":laughing:":"\ud83d\ude06",":field_hockey_stick_and_ball:":"\ud83c\udfd1",":ear:":"\ud83d\udc42",":arrows_counterclockwise:":"\ud83d\udd04",":cross_mark:":"\u274c",":chipmunk:":"\ud83d\udc3f",":biohazard_sign:":"\u2623",":police_officer:":"\ud83d\udc6e",":earth_globe_asia-australia:":"\ud83c\udf0f",":black_square_for_stop:":"\u23f9",":night_with_stars:":"\ud83c\udf03",":soon:":"\ud83d\udd1c",":grey_exclamation:":"\u2755",":graduation_cap:":"\ud83c\udf93",":ramen:":"\ud83c\udf5c",":turkey:":"\ud83e\udd83",":blue_car:":"\ud83d\ude99",":jack_o_lantern:":"\ud83c\udf83",":cheese_wedge:":"\ud83e\uddc0",":flag_for_Svalbard_&_Jan_Mayen:":"\ud83c\uddf8 \ud83c\uddef",":cat_face:":"\ud83d\udc31",":splashing_sweat_symbol:":"\ud83d\udca6",":princess:":"\ud83d\udc78",":flag_for_Serbia:":"\ud83c\uddf7 \ud83c\uddf8",":flag_for_Kosovo:":"\ud83c\uddfd \ud83c\uddf0",":recreational_vehicle:":"\ud83d\ude99",":double_vertical_bar:":"\u23f8",":motorway:":"\ud83d\udee3",":clock5:":"\ud83d\udd54",":speak-no-evil_monkey:":"\ud83d\ude4a",":heavy_black_heart:":"\u2764",":scream:":"\ud83d\ude31",":carp_streamer:":"\ud83c\udf8f",":clock_face_seven_oclock:":"\ud83d\udd56",":rotating_light:":"\ud83d\udea8",":writing_hand:":"\u270d",":flag_for_Turkmenistan:":"\ud83c\uddf9 \ud83c\uddf2",":roller_coaster:":"\ud83c\udfa2",":swimmer:":"\ud83c\udfca",":fork_and_knife_with_plate:":"\ud83c\udf7d",":popcorn:":"\ud83c\udf7f",":koko:":"\ud83c\ude01",":japanese_castle:":"\ud83c\udfef",":clockwise_rightwards_and_leftwards_open_circle_arrows:":"\ud83d\udd01",":mortar_board:":"\ud83c\udf93",":penguin:":"\ud83d\udc27",":squared_cjk_unified_ideograph-5408:":"\ud83c\ude34",":sign_of_the_horns:":"\ud83e\udd18",":black_up-pointing_double_triangle:":"\u23eb",":capital_abcd:":"\ud83d\udd20",":sparkle:":"\u2747",":flag_for_Cook_Islands:":"\ud83c\udde8 \ud83c\uddf0",":womans_boots:":"\ud83d\udc62",":cake:":"\ud83c\udf70",":mailbox:":"\ud83d\udceb",":house_buildings:":"\ud83c\udfd8",":bento_box:":"\ud83c\udf71",":sun_with_face:":"\ud83c\udf1e",":squared_cl:":"\ud83c\udd91",":raised_hand:":"\u270b",":beer:":"\ud83c\udf7a",":police_car:":"\ud83d\ude93",":doughnut:":"\ud83c\udf69",":kissing:":"\ud83d\ude17",":no_smoking:":"\ud83d\udead",":flag_for_Benin:":"\ud83c\udde7 \ud83c\uddef",":keycap_digit_zero:":"0 \u20e3",":flag_for_Egypt:":"\ud83c\uddea \ud83c\uddec",":flag_for_\xc5land_Islands:":"\ud83c\udde6 \ud83c\uddfd",":eyes:":"\ud83d\udc40",":trade_mark_sign:":"\u2122",":high-heeled_shoe:":"\ud83d\udc60",":ledger:":"\ud83d\udcd2",":flag_for_Greece:":"\ud83c\uddec \ud83c\uddf7",":flag_for_European_Union:":"\ud83c\uddea \ud83c\uddfa",":mobile_phone_with_rightwards_arrow_at_left:":"\ud83d\udcf2",":haircut:":"\ud83d\udc87",":flag_for_Iran:":"\ud83c\uddee \ud83c\uddf7",":green_book:":"\ud83d\udcd7",":ng:":"\ud83c\udd96",":abcd:":"\ud83d\udd21",":dizzy:":"\ud83d\udcab",":menorah_with_nine_branches:":"\ud83d\udd4e",":flag_for_British_Indian_Ocean_Territory:":"\ud83c\uddee \ud83c\uddf4",":oncoming_automobile:":"\ud83d\ude98",":headphone:":"\ud83c\udfa7",":metro:":"\ud83d\ude87",":collision_symbol:":"\ud83d\udca5",":flag_for_Belgium:":"\ud83c\udde7 \ud83c\uddea",":flag_for_Myanmar:":"\ud83c\uddf2 \ud83c\uddf2",":comet:":"\u2604",":silhouette_of_japan:":"\ud83d\uddfe",":bus:":"\ud83d\ude8c",":clock830:":"\ud83d\udd63",":hourglass_flowing_sand:":"\u23f3",":flag_for_Panama:":"\ud83c\uddf5 \ud83c\udde6",":railway_track:":"\ud83d\udee4",":emoji_modifier_fitzpatrick_type-6:":"\ud83c\udfff",":keycap_digit_seven:":"7 \u20e3",":flag_for_St._Barth\xe9lemy:":"\ud83c\udde7 \ud83c\uddf1",":church:":"\u26ea",":boot:":"\ud83d\udc62",":blowfish:":"\ud83d\udc21",":printer:":"\ud83d\udda8",":high_brightness_symbol:":"\ud83d\udd06",":white_medium_star:":"\u2b50",":disappointed_face:":"\ud83d\ude1e",":flag_for_Kiribati:":"\ud83c\uddf0 \ud83c\uddee",":flag_for_Tunisia:":"\ud83c\uddf9 \ud83c\uddf3",":flag_for_Andorra:":"\ud83c\udde6 \ud83c\udde9",":white_square_button:":"\ud83d\udd33",":black_rightwards_arrow:":"\u27a1",":ab:":"\ud83c\udd8e",":angel:":"\ud83d\udc7c",":squared_new:":"\ud83c\udd95",":womens_symbol:":"\ud83d\udeba",":water_wave:":"\ud83c\udf0a",":japanese_symbol_for_beginner:":"\ud83d\udd30",":eject_symbol:":"\u23cf",":anguished:":"\ud83d\ude27",":non-potable_water:":"\ud83d\udeb1",":crown:":"\ud83d\udc51",":clock730:":"\ud83d\udd62",":no_smoking_symbol:":"\ud83d\udead",":waxing_gibbous_moon_symbol:":"\ud83c\udf14",":desert:":"\ud83c\udfdc",":flag_for_American_Samoa:":"\ud83c\udde6 \ud83c\uddf8",":ballot_box_with_check:":"\u2611",":flag_for_Lithuania:":"\ud83c\uddf1 \ud83c\uddf9",":fallen_leaf:":"\ud83c\udf42",":ticket:":"\ud83c\udfab",":kiss_mark:":"\ud83d\udc8b",":statue_of_liberty:":"\ud83d\uddfd",":wink:":"\ud83d\ude09",":flag_for_South_Korea:":"\ud83c\uddf0 \ud83c\uddf7",":santa:":"\ud83c\udf85",":loop:":"\u27bf",":flag_for_St._Kitts_&_Nevis:":"\ud83c\uddf0 \ud83c\uddf3",":japan:":"\ud83d\uddfe",":smoking_symbol:":"\ud83d\udeac",":flag_for_Guinea:":"\ud83c\uddec \ud83c\uddf3",":clock6:":"\ud83d\udd55",":flushed:":"\ud83d\ude33",":flag_for_Belarus:":"\ud83c\udde7 \ud83c\uddfe",":herb:":"\ud83c\udf3f",":hot_pepper:":"\ud83c\udf36",":hotsprings:":"\u2668",":flag_for_Slovakia:":"\ud83c\uddf8 \ud83c\uddf0",":mouse_face:":"\ud83d\udc2d",":negative_squared_ab:":"\ud83c\udd8e",":clock630:":"\ud83d\udd61",":optical_disc:":"\ud83d\udcbf",":artist_palette:":"\ud83c\udfa8",":clock_face_four_oclock:":"\ud83d\udd53",":snow_capped_mountain:":"\ud83c\udfd4",":fish_cake:":"\ud83c\udf65",":sushi:":"\ud83c\udf63",":fist:":"\u270a",":downwards_black_arrow:":"\u2b07",":vs:":"\ud83c\udd9a",":flag_for_Samoa:":"\ud83c\uddfc \ud83c\uddf8",":flag_for_Cyprus:":"\ud83c\udde8 \ud83c\uddfe",":confused:":"\ud83d\ude15",":pill:":"\ud83d\udc8a",":surfer:":"\ud83c\udfc4",":flag_for_St._Pierre_&_Miquelon:":"\ud83c\uddf5 \ud83c\uddf2",":cooked_rice:":"\ud83c\udf5a",":speak_no_evil:":"\ud83d\ude4a",":mount_fuji:":"\ud83d\uddfb",":pouting_face:":"\ud83d\ude21",":closed_book:":"\ud83d\udcd5",":clock_face_seven-thirty:":"\ud83d\udd62",":round_pushpin:":"\ud83d\udccd",":fish_cake_with_swirl_design:":"\ud83c\udf65",":radio_button:":"\ud83d\udd18",":space_invader:":"\ud83d\udc7e",":cry:":"\ud83d\ude22",":tada:":"\ud83c\udf89",":scorpion:":"\ud83e\udd82",":eggplant:":"\ud83c\udf46",":hand:":"\u270b",":repeat_one:":"\ud83d\udd02",":money-mouth_face:":"\ud83e\udd11",":flag_for_Montenegro:":"\ud83c\uddf2 \ud83c\uddea",":blush:":"\ud83d\ude0a",":angry_face:":"\ud83d\ude20",":cat_face_with_tears_of_joy:":"\ud83d\ude39",":football:":"\ud83c\udfc8",":film_projector:":"\ud83d\udcfd",":apple:":"\ud83c\udf4e",":rat:":"\ud83d\udc00",":confetti_ball:":"\ud83c\udf8a",":waning_gibbous_moon_symbol:":"\ud83c\udf16",":moon:":"\ud83c\udf14",":flag_for_Romania:":"\ud83c\uddf7 \ud83c\uddf4",":nail_polish:":"\ud83d\udc85",":lady_beetle:":"\ud83d\udc1e",":leftwards_black_arrow:":"\u2b05",":maple_leaf:":"\ud83c\udf41",":mouse:":"\ud83d\udc2d",":flag_for_New_Caledonia:":"\ud83c\uddf3 \ud83c\udde8",":clapper:":"\ud83c\udfac",":desert_island:":"\ud83c\udfdd",":white_left_pointing_backhand_index:":"\ud83d\udc48",":flag_for_Micronesia:":"\ud83c\uddeb \ud83c\uddf2",":ok_woman:":"\ud83d\ude46",":notebook:":"\ud83d\udcd3",":heavy_dollar_sign:":"\ud83d\udcb2",":kissing_closed_eyes:":"\ud83d\ude1a",":womans_sandal:":"\ud83d\udc61",":birthday_cake:":"\ud83c\udf82",":bicyclist:":"\ud83d\udeb4",":person_with_ball:":"\u26f9",":flag_for_Wallis_&_Futuna:":"\ud83c\uddfc \ud83c\uddeb",":lock:":"\ud83d\udd12",":flag_for_Mauritania:":"\ud83c\uddf2 \ud83c\uddf7",":orange_book:":"\ud83d\udcd9",":bar_chart:":"\ud83d\udcca",":cactus:":"\ud83c\udf35",":flag_for_Cocos__Islands:":"\ud83c\udde8 \ud83c\udde8",":black_telephone:":"\u260e",":man_in_business_suit_levitating:":"\ud83d\udd74",":fries:":"\ud83c\udf5f",":fearful_face:":"\ud83d\ude28",":skull_and_crossbones:":"\u2620",":flag_for_Macau:":"\ud83c\uddf2 \ud83c\uddf4",":keycap_digit_six:":"6 \u20e3",
":squared_cjk_unified_ideograph-6e80:":"\ud83c\ude35",":flag_for_Botswana:":"\ud83c\udde7 \ud83c\uddfc",":link_symbol:":"\ud83d\udd17",":bathtub:":"\ud83d\udec1",":woman_with_bunny_ears:":"\ud83d\udc6f",":public_address_loudspeaker:":"\ud83d\udce2",":city_sunrise:":"\ud83c\udf07",":beating_heart:":"\ud83d\udc93",":chicken:":"\ud83d\udc14",":taurus:":"\u2649",":see-no-evil_monkey:":"\ud83d\ude48",":keycap_digit_nine:":"9 \u20e3",":flag_for_Angola:":"\ud83c\udde6 \ud83c\uddf4",":musical_note:":"\ud83c\udfb5",":christmas_tree:":"\ud83c\udf84",":smiling_face_with_smiling_eyes:":"\ud83d\ude0a",":ocean:":"\ud83c\udf0a",":stuck_out_tongue_closed_eyes:":"\ud83d\ude1d",":flag_for_San_Marino:":"\ud83c\uddf8 \ud83c\uddf2",":pot_of_food:":"\ud83c\udf72",":billiards:":"\ud83c\udfb1",":hot_dog:":"\ud83c\udf2d",":sweat_smile:":"\ud83d\ude05",":flag_for_Antarctica:":"\ud83c\udde6 \ud83c\uddf6",":pineapple:":"\ud83c\udf4d",":waning_gibbous_moon:":"\ud83c\udf16",":heart_with_ribbon:":"\ud83d\udc9d",":zzz:":"\ud83d\udca4",":couple:":"\ud83d\udc6b",":japanese_goblin:":"\ud83d\udc7a",":point_up_2:":"\ud83d\udc46",":face_with_open_mouth_and_cold_sweat:":"\ud83d\ude30",":bride_with_veil:":"\ud83d\udc70",":fisted_hand_sign:":"\ud83d\udc4a",":flag_for_Luxembourg:":"\ud83c\uddf1 \ud83c\uddfa",":small_red_triangle:":"\ud83d\udd3a",":put_litter_in_its_place_symbol:":"\ud83d\udeae",":clock_face_twelve_oclock:":"\ud83d\udd5b",":telephone_receiver:":"\ud83d\udcde",":double_curly_loop:":"\u27bf",":post_office:":"\ud83c\udfe3",":no_bell:":"\ud83d\udd15",":squared_sos:":"\ud83c\udd98",":yin_yang:":"\u262f",":golf:":"\u26f3",":railway_car:":"\ud83d\ude83",":lock_with_ink_pen:":"\ud83d\udd0f",":flag_for_Bosnia_&_Herzegovina:":"\ud83c\udde7 \ud83c\udde6",":left-pointing_magnifying_glass:":"\ud83d\udd0d",":cow2:":"\ud83d\udc04",":bowling:":"\ud83c\udfb3",":squared_free:":"\ud83c\udd93",":clock530:":"\ud83d\udd60",":clap:":"\ud83d\udc4f",":keycap_digit_two:":"2 \u20e3",":flag_for_Bahamas:":"\ud83c\udde7 \ud83c\uddf8",":closed_umbrella:":"\ud83c\udf02",":alien:":"\ud83d\udc7d",":worried:":"\ud83d\ude1f",":clock930:":"\ud83d\udd64",":flag_for_Bahrain:":"\ud83c\udde7 \ud83c\udded",":white_check_mark:":"\u2705",":squared_cjk_unified_ideograph-7533:":"\ud83c\ude38",":father_christmas:":"\ud83c\udf85",":flag_for_Montserrat:":"\ud83c\uddf2 \ud83c\uddf8",":taxi:":"\ud83d\ude95",":shit:":"\ud83d\udca9",":sagittarius:":"\u2650",":microphone:":"\ud83c\udfa4",":mahjong:":"\ud83c\udc04",":flexed_biceps:":"\ud83d\udcaa",":birthday:":"\ud83c\udf82",":crystal_ball:":"\ud83d\udd2e",":fireworks:":"\ud83c\udf86",":baby_chick:":"\ud83d\udc24",":earth_africa:":"\ud83c\udf0d",":cityscape:":"\ud83c\udfd9",":tanabata_tree:":"\ud83c\udf8b",":bento:":"\ud83c\udf71",":smirk_cat:":"\ud83d\ude3c",":flag_for_U.S._Outlying_Islands:":"\ud83c\uddfa \ud83c\uddf2",":oden:":"\ud83c\udf62",":oncoming_bus:":"\ud83d\ude8d",":department_store:":"\ud83c\udfec",":racehorse:":"\ud83d\udc0e",":wind_chime:":"\ud83c\udf90",":tractor:":"\ud83d\ude9c",":page_facing_up:":"\ud83d\udcc4",":flag_for_Cuba:":"\ud83c\udde8 \ud83c\uddfa",":basketball:":"\ud83c\udfc0",":persevering_face:":"\ud83d\ude23",":flag_for_French_Guiana:":"\ud83c\uddec \ud83c\uddeb",":purse:":"\ud83d\udc5b",":musical_keyboard:":"\ud83c\udfb9",":point_left:":"\ud83d\udc48",":cyclone:":"\ud83c\udf00",":ribbon:":"\ud83c\udf80",":person_with_pouting_face:":"\ud83d\ude4e",":flag_for_Trinidad_&_Tobago:":"\ud83c\uddf9 \ud83c\uddf9",":hot_beverage:":"\u2615",":keycap_number_sign:":"# \u20e3",":shinto_shrine:":"\u26e9",":seedling:":"\ud83c\udf31",":tropical_fish:":"\ud83d\udc20",":camping:":"\ud83c\udfd5",":curry:":"\ud83c\udf5b",":camera_with_flash:":"\ud83d\udcf8",":right-pointing_magnifying_glass:":"\ud83d\udd0e",":flag_for_British_Virgin_Islands:":"\ud83c\uddfb \ud83c\uddec",":love_letter:":"\ud83d\udc8c",":flag_for_Chad:":"\ud83c\uddf9 \ud83c\udde9",":sweat_drops:":"\ud83d\udca6",":flag_for_Brazil:":"\ud83c\udde7 \ud83c\uddf7",":large_red_circle:":"\ud83d\udd34",":flag_for_Namibia:":"\ud83c\uddf3 \ud83c\udde6",":dizzy_symbol:":"\ud83d\udcab",":flag_for_Oman:":"\ud83c\uddf4 \ud83c\uddf2",":banknote_with_yen_sign:":"\ud83d\udcb4",":black_club_suit:":"\u2663",":smiley:":"\ud83d\ude03",":happy_person_raising_one_hand:":"\ud83d\ude4b",":school:":"\ud83c\udfeb",":fleur-de-lis:":"\u269c",":last_quarter_moon_symbol:":"\ud83c\udf17",":motor_boat:":"\ud83d\udee5",":flag_for_Armenia:":"\ud83c\udde6 \ud83c\uddf2",":dash:":"\ud83d\udca8",":clock1030:":"\ud83d\udd65",":open_file_folder:":"\ud83d\udcc2",":clubs:":"\u2663",":keycap_digit_five:":"5 \u20e3",":clock1130:":"\ud83d\udd66",":bullettrain_side:":"\ud83d\ude84",":ox:":"\ud83d\udc02",":flag_for_Diego_Garcia:":"\ud83c\udde9 \ud83c\uddec",":aerial_tramway:":"\ud83d\udea1",":helmet_with_white_cross:":"\u26d1",":trolleybus:":"\ud83d\ude8e",":beers:":"\ud83c\udf7b",":flag_for_Ethiopia:":"\ud83c\uddea \ud83c\uddf9",":flag_for_Algeria:":"\ud83c\udde9 \ud83c\uddff",":flag_for_Russia:":"\ud83c\uddf7 \ud83c\uddfa",":heavy_exclamation_mark:":"\u2757",":u6e80:":"\ud83c\ude35",":clock8:":"\ud83d\udd57",":flag_for_Togo:":"\ud83c\uddf9 \ud83c\uddec",":fork_and_knife:":"\ud83c\udf74",":flag_for_Netherlands:":"\ud83c\uddf3 \ud83c\uddf1",":office:":"\ud83c\udfe2",":clock230:":"\ud83d\udd5d",":punch:":"\ud83d\udc4a",":wine_glass:":"\ud83c\udf77",":email:":"\u2709",":umbrella_on_ground:":"\u26f1",":spider:":"\ud83d\udd77",":flag_for_Austria:":"\ud83c\udde6 \ud83c\uddf9",":exclamation_question_mark:":"\u2049",":flag_for_Sierra_Leone:":"\ud83c\uddf8 \ud83c\uddf1",":heartbeat:":"\ud83d\udc93",":white_down_pointing_backhand_index:":"\ud83d\udc47",":atom_symbol:":"\u269b",":flag_for_Hungary:":"\ud83c\udded \ud83c\uddfa",":dromedary_camel:":"\ud83d\udc2a",":control_knobs:":"\ud83c\udf9b",":baby_symbol:":"\ud83d\udebc",":purple_heart:":"\ud83d\udc9c",":construction_sign:":"\ud83d\udea7",":rice:":"\ud83c\udf5a",":police_cars_revolving_light:":"\ud83d\udea8",":national_park:":"\ud83c\udfde",":lion_face:":"\ud83e\udd81",":children_crossing:":"\ud83d\udeb8",":flag_for_Azerbaijan:":"\ud83c\udde6 \ud83c\uddff",":flag_for_Bulgaria:":"\ud83c\udde7 \ud83c\uddec",":clock_face_three_oclock:":"\ud83d\udd52",":cop:":"\ud83d\udc6e",":spider_web:":"\ud83d\udd78",":sleeping:":"\ud83d\ude34",":flag_for_Jordan:":"\ud83c\uddef \ud83c\uddf4",":closed_mailbox_with_raised_flag:":"\ud83d\udceb",":flag_for_Sweden:":"\ud83c\uddf8 \ud83c\uddea",":arrow_up_small:":"\ud83d\udd3c",":flag_for_Bhutan:":"\ud83c\udde7 \ud83c\uddf9",":flag_for_Tristan_da_Cunha:":"\ud83c\uddf9 \ud83c\udde6",":money_bag:":"\ud83d\udcb0",":floppy_disk:":"\ud83d\udcbe",":gift_heart:":"\ud83d\udc9d",":black_scissors:":"\u2702",":circled_ideograph_accept:":"\ud83c\ude51",":corn:":"\ud83c\udf3d",":ear_of_maize:":"\ud83c\udf3d",":yen:":"\ud83d\udcb4",":shaved_ice:":"\ud83c\udf67",":sa:":"\ud83c\ude02",":flag_for_Iraq:":"\ud83c\uddee \ud83c\uddf6",":flag_for_Tanzania:":"\ud83c\uddf9 \ud83c\uddff",":dog:":"\ud83d\udc36",":fish:":"\ud83d\udc1f",":black_spade_suit:":"\u2660",":raised_hand_with_part_between_middle_and_ring_fingers:":"\ud83d\udd96",":spouting_whale:":"\ud83d\udc33",":clock430:":"\ud83d\udd5f",":white_circle:":"\u26aa",":relieved_face:":"\ud83d\ude0c",":clock330:":"\ud83d\udd5e",":arrow_upper_right:":"\u2197",":u7981:":"\ud83c\ude32",":arrow_up:":"\u2b06",":house_building:":"\ud83c\udfe0",":car:":"\ud83d\ude97",":racing_motorcycle:":"\ud83c\udfcd",":helm_symbol:":"\u2388",":south_west_arrow:":"\u2199",":customs:":"\ud83d\udec3",":satellite:":"\ud83d\udce1",":arrow_left:":"\u2b05",":circled_ideograph_secret:":"\u3299",":rooster:":"\ud83d\udc13",":two_men_holding_hands:":"\ud83d\udc6c",":flag_for_Yemen:":"\ud83c\uddfe \ud83c\uddea",":circus_tent:":"\ud83c\udfaa",":kissing_face:":"\ud83d\ude17",":black_universal_recycling_symbol:":"\u267b",":raised_hand_with_fingers_splayed:":"\ud83d\udd90",":flag_for_Bolivia:":"\ud83c\udde7 \ud83c\uddf4",":8ball:":"\ud83c\udfb1",":pig_face:":"\ud83d\udc37",":flag_for_Guyana:":"\ud83c\uddec \ud83c\uddfe",":place_of_worship:":"\ud83d\uded0",":negative_squared_latin_capital_letter_b:":"\ud83c\udd71",":cloud_with_snow:":"\ud83c\udf28",":clock_face_ten_oclock:":"\ud83d\udd59",":scream_cat:":"\ud83d\ude40",":flag_for_Maldives:":"\ud83c\uddf2 \ud83c\uddfb",":kissing_smiling_eyes:":"\ud83d\ude19",":frog_face:":"\ud83d\udc38",":anticlockwise_downwards_and_upwards_open_circle_arrows:":"\ud83d\udd04",":jeans:":"\ud83d\udc56",":orthodox_cross:":"\u2626",":busts_in_silhouette:":"\ud83d\udc65",":full_moon_with_face:":"\ud83c\udf1d",":collision:":"\ud83d\udca5",":bell:":"\ud83d\udd14",":flag_for_Costa_Rica:":"\ud83c\udde8 \ud83c\uddf7",":kissing_cat_face_with_closed_eyes:":"\ud83d\ude3d",":crossed_flags:":"\ud83c\udf8c",":eye:":"\ud83d\udc41",":shooting_star:":"\ud83c\udf20",":multiple_musical_notes:":"\ud83c\udfb6",":flag_for_Tokelau:":"\ud83c\uddf9 \ud83c\uddf0",":pig:":"\ud83d\udc37",":jack-o-lantern:":"\ud83c\udf83",":office_building:":"\ud83c\udfe2",":new_moon_with_face:":"\ud83c\udf1a",":flag_for_Mauritius:":"\ud83c\uddf2 \ud83c\uddfa",":watch:":"\u231a",":squared_cjk_unified_ideograph-5272:":"\ud83c\ude39",":ghost:":"\ud83d\udc7b",":waving_hand_sign:":"\ud83d\udc4b",":alembic:":"\u2697",":flag_for_Comoros:":"\ud83c\uddf0 \ud83c\uddf2",":fuelpump:":"\u26fd",":rice_scene:":"\ud83c\udf91",":flag_for_Malawi:":"\ud83c\uddf2 \ud83c\uddfc",":hearts:":"\u2665",":hamster:":"\ud83d\udc39",":flag_for_Falkland_Islands:":"\ud83c\uddeb \ud83c\uddf0",":astonished_face:":"\ud83d\ude32",":cooking:":"\ud83c\udf73",":clock9:":"\ud83d\udd58",":passenger_ship:":"\ud83d\udef3",":black_right-pointing_triangle_with_double_vertical_bar:":"\u23ef",":steam_locomotive:":"\ud83d\ude82",":rowboat:":"\ud83d\udea3",":revolving_hearts:":"\ud83d\udc9e",":upwards_black_arrow:":"\u2b06",":flag_for_Sri_Lanka:":"\ud83c\uddf1 \ud83c\uddf0",":first_quarter_moon:":"\ud83c\udf13",":man_with_gua_pi_mao:":"\ud83d\udc72",":black_sun_with_rays:":"\u2600",":white_sun_with_small_cloud:":"\ud83c\udf24",":ear_of_rice:":"\ud83c\udf3e",":ski_and_ski_boot:":"\ud83c\udfbf",":crocodile:":"\ud83d\udc0a",":articulated_lorry:":"\ud83d\ude9b",":coffee:":"\u2615",":briefcase:":"\ud83d\udcbc",":tv:":"\ud83d\udcfa",":tongue:":"\ud83d\udc45",":keycap_ten:":"\ud83d\udd1f",":running:":"\ud83c\udfc3",":lower_left_paintbrush:":"\ud83d\udd8c",":sunrise_over_mountains:":"\ud83c\udf04",":flag_for_Cayman_Islands:":"\ud83c\uddf0 \ud83c\uddfe",":sleeping_symbol:":"\ud83d\udca4",":mantelpiece_clock:":"\ud83d\udd70",":flags:":"\ud83c\udf8f",":black_small_square:":"\u25aa",":couple_with_heart:":"\ud83d\udc91",":flag_for_Cura\xe7ao:":"\ud83c\udde8 \ud83c\uddfc",":flag_for_Mozambique:":"\ud83c\uddf2 \ud83c\uddff",":frowning_face_with_open_mouth:":"\ud83d\ude26",":flag_for_Sint_Maarten:":"\ud83c\uddf8 \ud83c\uddfd",":lantern:":"\ud83c\udfee",":small_blue_diamond:":"\ud83d\udd39",":cloud:":"\u2601",":wrapped_present:":"\ud83c\udf81",":sparkling_heart:":"\ud83d\udc96",":spiral_note_pad:":"\ud83d\uddd2",":boom:":"\ud83d\udca5",":point_right:":"\ud83d\udc49",":sunny:":"\u2600",":flag_for_Bermuda:":"\ud83c\udde7 \ud83c\uddf2",":small_red_triangle_down:":"\ud83d\udd3b",":interrobang:":"\u2049",":sleepy_face:":"\ud83d\ude2a",":no_mobile_phones:":"\ud83d\udcf5",":anguished_face:":"\ud83d\ude27",":tomato:":"\ud83c\udf45",":old_key:":"\ud83d\udddd",":input_symbol_for_latin_capital_letters:":"\ud83d\udd20",":name_badge:":"\ud83d\udcdb",":computer:":"\ud83d\udcbb",":sleeping_face:":"\ud83d\ude34",":musical_score:":"\ud83c\udfbc",":point_down:":"\ud83d\udc47",":nose:":"\ud83d\udc43",":diamonds:":"\u2666",":water_buffalo:":"\ud83d\udc03",":sparkler:":"\ud83c\udf87",":u7121:":"\ud83c\ude1a",":personal_computer:":"\ud83d\udcbb",":heavy_exclamation_mark_symbol:":"\u2757",":tennis_racquet_and_ball:":"\ud83c\udfbe",":grinning:":"\ud83d\ude00",":arrow_up_down:":"\u2195",":pouch:":"\ud83d\udc5d",":flag_for_Djibouti:":"\ud83c\udde9 \ud83c\uddef",":mountain_cableway:":"\ud83d\udea0",":moyai:":"\ud83d\uddff",":flag_for_Finland:":"\ud83c\uddeb \ud83c\uddee",":wolf:":"\ud83d\udc3a",":cow_face:":"\ud83d\udc2e",":waving_white_flag:":"\ud83c\udff3",":flag_for_Kenya:":"\ud83c\uddf0 \ud83c\uddea",":level_slider:":"\ud83c\udf9a",":clapper_board:":"\ud83c\udfac",":mountain:":"\u26f0",":ophiuchus:":"\u26ce",":flag_for_United_Arab_Emirates:":"\ud83c\udde6 \ud83c\uddea",":x:":"\u274c",":black_right-pointing_triangle:":"\u25b6",":smiling_face_with_open_mouth_and_cold_sweat:":"\ud83d\ude05",":flag_for_Ghana:":"\ud83c\uddec \ud83c\udded",":electric_light_bulb:":"\ud83d\udca1",":mobile_phone:":"\ud83d\udcf1",":ice_hockey_stick_and_puck:":"\ud83c\udfd2",":linked_paperclips:":"\ud83d\udd87",":trackball:":"\ud83d\uddb2",":flag_for_Seychelles:":"\ud83c\uddf8 \ud83c\udde8",":pouting_cat_face:":"\ud83d\ude3e",":mans_shoe:":"\ud83d\udc5e",":flag_for_Liechtenstein:":"\ud83c\uddf1 \ud83c\uddee",":bread:":"\ud83c\udf5e",":clock2:":"\ud83d\udd51",":red_apple:":"\ud83c\udf4e",":bow:":"\ud83d\ude47",":shield:":"\ud83d\udee1",":french_fries:":"\ud83c\udf5f",":airplane_departure:":"\ud83d\udeeb",":up:":"\ud83c\udd99",":flag_for_Italy:":"\ud83c\uddee \ud83c\uddf9",":heavy_check_mark:":"\u2714",":flag_for_Western_Sahara:":"\ud83c\uddea \ud83c\udded",":convenience_store:":"\ud83c\udfea",":flag_for_New_Zealand:":"\ud83c\uddf3 \ud83c\uddff",":star:":"\u2b50",":top:":"\ud83d\udd1d",":construction:":"\ud83d\udea7",":flag_for_Bangladesh:":"\ud83c\udde7 \ud83c\udde9",":bee:":"\ud83d\udc1d",":racing_car:":"\ud83c\udfce",":ideograph_advantage:":"\ud83c\ude50",":clock_face_two_oclock:":"\ud83d\udd51",":no_entry_sign:":"\ud83d\udeab",":scroll:":"\ud83d\udcdc",":free:":"\ud83c\udd93",":white_flower:":"\ud83d\udcae",":dancer:":"\ud83d\udc83",":pick:":"\u26cf",":heavy_large_circle:":"\u2b55",":heavy_multiplication_x:":"\u2716",":link:":"\ud83d\udd17",":north_east_arrow:":"\u2197",":clock_face_six_oclock:":"\ud83d\udd55",":money_with_wings:":"\ud83d\udcb8",":zipper-mouth_face:":"\ud83e\udd10",":cl:":"\ud83c\udd91",":satisfied:":"\ud83d\ude06",":flag_for_S\xe3o_Tom\xe9_&_Pr\xedncipe:":"\ud83c\uddf8 \ud83c\uddf9",":flag_for_Haiti:":"\ud83c\udded \ud83c\uddf9",":melon:":"\ud83c\udf48",":medium_white_circle:":"\u26aa",":womans_hat:":"\ud83d\udc52",":clock_face_nine_oclock:":"\ud83d\udd58",":icecream:":"\ud83c\udf66",":flag_for_Congo_-_Brazzaville:":"\ud83c\udde8 \ud83c\uddec",":arrow_pointing_rightwards_then_curving_downwards:":"\u2935",":flag_for_Vatican_City:":"\ud83c\uddfb \ud83c\udde6",":snake:":"\ud83d\udc0d",":flag_for_Tuvalu:":"\ud83c\uddf9 \ud83c\uddfb",":syringe:":"\ud83d\udc89",":cold_sweat:":"\ud83d\ude30",":leopard:":"\ud83d\udc06",":slot_machine:":"\ud83c\udfb0",":flag_for_Denmark:":"\ud83c\udde9 \ud83c\uddf0",":angry:":"\ud83d\ude20",":scorpius:":"\u264f",":flag_for_Saudi_Arabia:":"\ud83c\uddf8 \ud83c\udde6",":bamboo:":"\ud83c\udf8d",":gem_stone:":"\ud83d\udc8e",":game_die:":"\ud83c\udfb2",":waning_crescent_moon_symbol:":"\ud83c\udf18",":clock_face_four-thirty:":"\ud83d\udd5f",":smiling_face_with_open_mouth_and_tightly-closed_eyes:":"\ud83d\ude06",":flag_for_Ukraine:":"\ud83c\uddfa \ud83c\udde6",":south_east_arrow:":"\u2198",":input_symbol_for_latin_small_letters:":"\ud83d\udd21",":flag_for_Norway:":"\ud83c\uddf3 \ud83c\uddf4",":performing_arts:":"\ud83c\udfad",":beach_with_umbrella:":"\ud83c\udfd6",":soccer_ball:":"\u26bd",":flag_for_Mali:":"\ud83c\uddf2 \ud83c\uddf1",":battery:":"\ud83d\udd0b",":kissing_heart:":"\ud83d\ude18",":flag_for_Kyrgyzstan:":"\ud83c\uddf0 \ud83c\uddec",":flag_for_Singapore:":"\ud83c\uddf8 \ud83c\uddec",":video_camera:":"\ud83d\udcf9",":television:":"\ud83d\udcfa",":umbrella:":"\u2602",":red_circle:":"\ud83d\udd34",":sparkles:":"\u2728",":octopus:":"\ud83d\udc19",":leftwards_arrow_with_hook:":"\u21a9",":fishing_pole_and_fish:":"\ud83c\udfa3",":chart_with_upwards_trend:":"\ud83d\udcc8",":input_symbol_for_symbols:":"\ud83d\udd23",":smiling_face_with_heart-shaped_eyes:":"\ud83d\ude0d",":last_quarter_moon_with_face:":"\ud83c\udf1c",":radioactive_sign:":"\u2622",":clock12:":"\ud83d\udd5b",":crossed_swords:":"\u2694",":violin:":"\ud83c\udfbb",":pistol:":"\ud83d\udd2b",":flag_for_Palestinian_Territories:":"\ud83c\uddf5 \ud83c\uddf8",":top_hat:":"\ud83c\udfa9",":star2:":"\ud83c\udf1f",":smiling_face_with_horns:":"\ud83d\ude08",":shortcake:":"\ud83c\udf70",":sob:":"\ud83d\ude2d",":soccer:":"\u26bd",":smirk:":"\ud83d\ude0f",":boar:":"\ud83d\udc17",":pouting_cat:":"\ud83d\ude3e",":green_heart:":"\ud83d\udc9a",":flag_for_Kuwait:":"\ud83c\uddf0 \ud83c\uddfc",":bicycle:":"\ud83d\udeb2",":right_anger_bubble:":"\ud83d\uddef",":frog:":"\ud83d\udc38",":back_with_leftwards_arrow_above:":"\ud83d\udd19",":bellhop_bell:":"\ud83d\udece",":bell_with_cancellation_stroke:":"\ud83d\udd15",":bangbang:":"\u203c",":fuel_pump:":"\u26fd",":watermelon:":"\ud83c\udf49",":blue_book:":"\ud83d\udcd8",":envelope_with_downwards_arrow_above:":"\ud83d\udce9",":flag_for_French_Polynesia:":"\ud83c\uddf5 \ud83c\uddeb",":tennis:":"\ud83c\udfbe",":joystick:":"\ud83d\udd79",":closed_mailbox_with_lowered_flag:":"\ud83d\udcea",":massage:":"\ud83d\udc86",":emoji_modifier_fitzpatrick_type-3:":"\ud83c\udffc",":shell:":"\ud83d\udc1a",":headphones:":"\ud83c\udfa7",":wc:":"\ud83d\udebe",":green_apple:":"\ud83c\udf4f",":e-mail:":"\ud83d\udce7",":poop:":"\ud83d\udca9",":pisces:":"\u2653",":black_large_square:":"\u2b1b",":ok_hand:":"\ud83d\udc4c",":unlock:":"\ud83d\udd13",":flag_for_Guadeloupe:":"\ud83c\uddec \ud83c\uddf5",":flag_for_Papua_New_Guinea:":"\ud83c\uddf5 \ud83c\uddec",":face_with_stuck-out_tongue_and_winking_eye:":"\ud83d\ude1c",":black_right-pointing_double_triangle_with_vertical_bar:":"\u23ed",":squared_cjk_unified_ideograph-7981:":"\ud83c\ude32",":vhs:":"\ud83d\udcfc",":wavy_dash:":"\u3030",":bed:":"\ud83d\udecf",":flag_for_Timor-Leste:":"\ud83c\uddf9 \ud83c\uddf1",":information_desk_person:":"\ud83d\udc81",":white_heavy_check_mark:":"\u2705",":flag_for_Vanuatu:":"\ud83c\uddfb \ud83c\uddfa",":fearful:":"\ud83d\ude28",":currency_exchange:":"\ud83d\udcb1",":arrow_right:":"\u27a1",":anger_symbol:":"\ud83d\udca2",":triumph:":"\ud83d\ude24",":construction_worker:":"\ud83d\udc77",":tophat:":"\ud83c\udfa9",":cloud_with_tornado:":"\ud83c\udf2a",":water_closet:":"\ud83d\udebe",":heavy_minus_sign:":"\u2796",":baby:":"\ud83d\udc76",":wave:":"\ud83d\udc4b",":black_square_button:":"\ud83d\udd32",":turtle:":"\ud83d\udc22",":hear-no-evil_monkey:":"\ud83d\ude49",":basketball_and_hoop:":"\ud83c\udfc0",":m:":"\u24c2",":stopwatch:":"\u23f1",":closed_lock_with_key:":"\ud83d\udd10",":baggage_claim:":"\ud83d\udec4",":clock7:":"\ud83d\udd56",":cheering_megaphone:":"\ud83d\udce3",":baby_angel:":"\ud83d\udc7c",":star_of_david:":"\u2721",":shopping_bags:":"\ud83d\udecd",":black_left-pointing_double_triangle:":"\u23ea",":flag_for_Honduras:":"\ud83c\udded \ud83c\uddf3",":disappointed:":"\ud83d\ude1e",":chains:":"\u26d3",":lipstick:":"\ud83d\udc84",":card_file_box:":"\ud83d\uddc3",":meat_on_bone:":"\ud83c\udf56",":arrow_lower_right:":"\u2198",":volcano:":"\ud83c\udf0b",":japanese_post_office:":"\ud83c\udfe3",":video_game:":"\ud83c\udfae",":bug:":"\ud83d\udc1b",":art:":"\ud83c\udfa8",":high_voltage_sign:":"\u26a1",":full_moon:":"\ud83c\udf15",":peach:":"\ud83c\udf51",":horizontal_traffic_light:":"\ud83d\udea5",":u55b6:":"\ud83c\ude3a",":eyeglasses:":"\ud83d\udc53",":up-pointing_red_triangle:":"\ud83d\udd3a",":frame_with_picture:":"\ud83d\uddbc",":spades:":"\u2660",":lips:":"\ud83d\udc44",":eight_pointed_black_star:":"\u2734",":carousel_horse:":"\ud83c\udfa0",":grey_question:":"\u2754",":grinning_cat_face_with_smiling_eyes:":"\ud83d\ude38",":leaf_fluttering_in_wind:":"\ud83c\udf43",":flag_for_Norfolk_Island:":"\ud83c\uddf3 \ud83c\uddeb",":clock130:":"\ud83d\udd5c",":earth_americas:":"\ud83c\udf0e",":mute:":"\ud83d\udd07",":rosette:":"\ud83c\udff5",":ship:":"\ud83d\udea2",":clockwise_rightwards_and_leftwards_open_circle_arrows_with_circled_one_overlay:":"\ud83d\udd02",":flag_for_Thailand:":"\ud83c\uddf9 \ud83c\udded",":candle:":"\ud83d\udd6f",":shamrock:":"\u2618",":umbrella_with_rain_drops:":"\u2614",":satellite_antenna:":"\ud83d\udce1",":derelict_house_building:":"\ud83c\udfda",":flag_for_Christmas_Island:":"\ud83c\udde8 \ud83c\uddfd",":repeat:":"\ud83d\udd01",":clock11:":"\ud83d\udd5a",":pear:":"\ud83c\udf50",":black_medium_small_square:":"\u25fe",":diamond_shape_with_a_dot_inside:":"\ud83d\udca0",":wheelchair:":"\u267f",":flower_playing_cards:":"\ud83c\udfb4",":v:":"\u270c",":flag_for_Antigua_&_Barbuda:":"\ud83c\udde6 \ud83c\uddec",":flag_for_South_Sudan:":"\ud83c\uddf8 \ud83c\uddf8",":lower_left_crayon:":"\ud83d\udd8d",":joy:":"\ud83d\ude02",":ring:":"\ud83d\udc8d",":aquarius:":"\u2652",":egg:":"\ud83c\udf73",":newspaper:":"\ud83d\udcf0",":passport_control:":"\ud83d\udec2",":negative_squared_latin_capital_letter_o:":"\ud83c\udd7e",":boy:":"\ud83d\udc66",":hatching_chick:":"\ud83d\udc23",":open_book:":"\ud83d\udcd6",":raising_hand:":"\ud83d\ude4b",":ant:":"\ud83d\udc1c",":last_quarter_moon:":"\ud83c\udf17",":snowman_without_snow:":"\u26c4",":kissing_cat:":"\ud83d\ude3d",":cloud_with_lightning:":"\ud83c\udf29",":sweet_potato:":"\ud83c\udf60",":heavy_heart_exclamation_mark_ornament:":"\u2763",":face_with_ok_gesture:":"\ud83d\ude46",":flag_for_United_Kingdom:":"\ud83c\uddec \ud83c\udde7",":poultry_leg:":"\ud83c\udf57",":clock_face_nine-thirty:":"\ud83d\udd64",":timer_clock:":"\u23f2",":gun:":"\ud83d\udd2b",":squared_katakana_sa:":"\ud83c\ude02",":large_blue_diamond:":"\ud83d\udd37",":notebook_with_decorative_cover:":"\ud83d\udcd4",":kimono:":"\ud83d\udc58",":expressionless_face:":"\ud83d\ude11",":flag_for_Moldova:":"\ud83c\uddf2 \ud83c\udde9",":information_source:":"\u2139",":compression:":"\ud83d\udddc",":flag_for_Croatia:":"\ud83c\udded \ud83c\uddf7",":imp:":"\ud83d\udc7f",":pile_of_poo:":"\ud83d\udca9",":honeybee:":"\ud83d\udc1d"},a=n;r.default=a},{}],131:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={":-)":"\ud83d\ude0a",":)":"\ud83d\ude0a",";-)":"\ud83d\ude09",";)":"\ud83d\ude09",":-D":"\ud83d\ude03",":D":"\ud83d\ude03",";-D":"\ud83d\ude02",";D":"\ud83d\ude02","^_^":"\ud83d\ude01","(love)":"\ud83d\ude0d",":-O":"\ud83d\ude2e",":O":"\ud83d\ude2e",":-o":"\ud83d\ude2e",":o":"\ud83d\ude2e",":-P":"\ud83d\ude0b",":P":"\ud83d\ude0b",":-$":"\ud83d\ude0a",":$":"\ud83d\ude0a","(blush)":"\ud83d\ude0a","O:-)":"\ud83d\ude07","O:)":"\ud83d\ude07","}:-)":"\ud83d\ude08","}:)":"\ud83d\ude08",":-|":"\ud83d\ude10",":|":"\ud83d\ude10",":-\\":"\ud83d\ude15",":\\":"\ud83d\ude15",":-/":"\ud83d\ude15",":/":"\ud83d\ude15","X-(":"\ud83d\ude21","X(":"\ud83d\ude21",":-(":"\ud83d\ude1e",":(":"\ud83d\ude1e","-_-;":"\ud83d\ude13","-_-'":"\ud83d\ude13",":'-(":"\ud83d\ude22",":'(":"\ud83d\ude22","(+1)":"\ud83d\udc4d","(yes)":"\ud83d\udc4d","(-1)":"\ud83d\udc4e","(no)":"\ud83d\udc4e","(heart)":"\u2764\ufe0f","<3":"\ud83d\ude18","(star)":"\u2b50\ufe0f","(*)":"\u2b50\ufe0f",":-{":"\ud83d\udc68",":{":"\ud83d\udc68","(cool)":"\ud83d\ude0e","(spock)":"\ud83d\udd96",":spock:":"\ud83d\udd96",":,D":"\ud83d\ude02",":-S":"\ud83d\ude15",":-X":"\ud83d\ude37",":-!":"\ud83e\udd10","(doh)":"\ud83d\ude2b",":-3":"\ud83d\ude3a"},a=n;r.default=a},{}],132:[function(e,t,r){"use strict";function n(){return"undefined"!=typeof Raven&&Raven.isSetup()}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.error(e),n()){if(t.extra=t.extra?t.extra:{},t.extra.error_message=e.message,d(e)){var r=Raven.lastEventId();return console.log(e,"\n"+"event_id: ".concat(r)),r}Raven.captureException(e,t);return Raven.lastEventId()}}function i(e,t){if(n())try{throw new Error(e)}catch(e){a(e,t)}console.log(e)}function o(e,t){n()&&Raven.captureMessage(e,t),console.log(e)}function l(e){n()&&Raven.captureBreadcrumb(e)}function s(e){n()&&Raven.setTagsContext(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.captureError=a,r.captureMessageWithTrace=i,r.captureMessage=o,r.captureBreadcrumb=l,r.setTagsContext=s,r.default=void 0;var u=e("../utils/deps"),c=(0,u.defineDeps)("Logger",["store","ProjectsModel"]),d=function(e){try{if(-1!==e.message.indexOf("window.User")&&-1!==e.message.indexOf("undefined")){return a(e,{tags:{where:"undefined_user_2"},extra:{store_user:c.store.getState().user,ls_user:localStorage.getItem("User"),projectCounts:c.ProjectsModel.getAll().length}}),!0}}catch(e){}return!1},f={captureError:a,captureMessageWithTrace:i,captureMessage:o,captureBreadcrumb:l,setTagsContext:s};r.default=f},{"../utils/deps":1071}],133:[function(e,t,r){"use strict";function n(e,t){var r=UL({class:"menu_buttons priorities"});$add(r,LI({class:"lbl"},_("Priority")));var n=LI({class:"priorities"});return $map([4,3,2,1],function(r){var a=5-r,i=[svgs.get("sm1/priority_1.svg"),svgs.get("sm1/priority_2.svg"),svgs.get("sm1/priority_3.svg"),svgs.get("sm1/priority_4.svg")],o=i[r-1],l=A({c:"a_priority icon_priority_"+r,"data-track":"task|more_priority_"+r},o);l.priority=a;var s=B(_("Priority %s").replace("%s",r));t&&(s=SPAN(s,BR(),"p"+r)),IstTooltip.showSimpleText(l,s,null,0,5),$AEV(l,["click","touchstart"],function(t){return $preventDefault(t),e(a,l),!1}),$add(n,l)}),$add(r,n),{type:"item",view:r,extra_class:"no_hover"}}function a(e,t){var r=$all("li","colors",e.colors.view)[0];$map($AF(r.childNodes),function(e){parseInt(e.getAttribute("data-index"))==t?$addClass(e,"selected_color"):$removeClass(e,"selected_color")})}function i(e,t){var r=UL({class:"menu_buttons colors"}),n=LI({class:"colors"});return $map(e,function(e,r){var a=r+u.default.START_INDEX,i=A({c:"object_color","data-index":a},svgs.get("sm1/check_mark_big.svg"));i.style.backgroundColor=e.hex,i.onclick=$p(t,a,i,null),IstTooltip.showSimpleText(i,e.name,null,1,9),$add(n,i)}),$add(r,n),{type:"item",view:r,extra_class:"no_hover"}}function o(e,t){var r=UL({class:"menu_buttons reactions"}),n=LI({class:"reactions"});return $map(e,function(e,r){var a=$setHTML(A({c:"object_reaction"}),s.default.formatSimple(e,{as_html:!0}));a.onclick=$p(t,r,a,null),$add(n,a)}),$add(r,n),{type:"item",view:r,extra_class:"no_hover"}}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createPriorities=n,r.selectColor=a,r.createColor=i,r.createReactions=o,r.default=void 0;var s=l(e("../ist_libs/doist_format/doist_format")),u=l(e("../models/Colors")),c={createPriorities:n,selectColor:a,createColor:i,createReactions:o};r.default=c},{"../ist_libs/doist_format/doist_format":129,"../models/Colors":151,"@babel/runtime/helpers/interopRequireDefault":189}],134:[function(e,t,r){"use strict";function n(e,t){i(t,e.json.priority);var r=t.current_holder.json,n={with_help_text:!0,with_smart_schedule:!0,with_today:!0,with_postpone:!!r.due,with_tomorrow:!r.due,with_next_week:!0,with_more:!0,items:r},a=function(e){var n;n=t.saveCurrentItem?t.saveCurrentItem:function(e){e()},e instanceof Date&&(e=r.due?r.due.inheritDate({year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()},{withTime:59!==e.getSeconds(),timezone:r.due.timezone}):u.default.fromDate(e)),n(function(){d.default.updateDue((0,s.default)({},r.id,e)),t.hide(),f.default.refresh()})},o=c.default.create(a,n);$replace(t.scheduler_holder.view,o)}function a(e){$AEV(document,"click",function(t){var r=$eventElm(t);return!!($parent(r,"div","popper")||$parent(r,"div","popover")||$parent(r,"div","scheduler")||$parent(r,"div","dialog-content")||$parent(r,"div","dialog-timepicker")||$parent(r,"div","dialog-timezone"))||e.hide(t)})}function i(e,t){var r=$all("li","priorities",e.menu_holder)[0];o(),$map($AF(r.childNodes),function(e){e.priority==t&&$addClass(e,"priority_selected")})}function o(){$map($all("a","a_priority"),function(e){$removeClass(e,"priority_selected")})}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.annotateItemEditMenu=n,r.schedulerClose=a,r.selectPriority=i,r.default=void 0;var s=l(e("@babel/runtime/helpers/defineProperty")),u=l(e("../models/DateExt")),c=l(e("../components/smart_scheduler/SmartScheduler")),d=l(e("../models/ItemsModel")),f=l(e("../components/agenda/AgendaUtils"));Signals.connect("update_priority",o);var p={annotateItemEditMenu:n,schedulerClose:a,selectPriority:i};r.default=p},{"../components/agenda/AgendaUtils":8,"../components/smart_scheduler/SmartScheduler":84,"../models/DateExt":154,"../models/ItemsModel":157,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],135:[function(e,t,r){"use strict";function n(e,t){return function(){var r=e.current_form;r&&""!==$gc(r,null,"richtext_editor").proxyGetValue()?"edit"==e.current_mode?e.saveItem(r,function(){e.showAddItem(!0,t)}):e.addItem(r,function(){e.showAddItem(!0,t)}):e.showAddItem(!0,t)}}function a(e,t){if(!e)return null;var r=e.current_holder;return e.current_holder=null,!1!==t&&e.hide(),r}Object.defineProperty(r,"__esModule",{value:!0}),r.menuSaveAndAdd=n,r.getAndResetCurrent=a,r.default=void 0;var i={menuSaveAndAdd:n,getAndResetCurrent:a};r.default=i},{}],136:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,i=n(e("@babel/runtime/helpers/extends")),o=n(e("./HelpersMenuGeneral.js")),l=n(e("./HelperMenuAnnotations.js")),s=n(e("./HelperColorsPriorities.js")),u=n(e("../components/items_utils/ItemCommonEdits")),c=n(e("../components/items_utils/ItemUniqueLink.js")),d=n(e("../components/generic_manager/GenericManagerUtils.js")),f=n(e("../components/reminders/Reminders.js")),p=n(e("./../components/agenda/AgendaUtils")),m=n(e("../components/item_selecter/ItemSelecter.js")),h=n(e("react")),v=n(e("react-dom")),b=e("react-redux"),y=n(e("../stores/store")),g=n(e("../react_components/project_picker")),E=e("../react_components/icons"),T=e("../reducers/items"),w={init:function(e){a=new IstMenu,a.saveCurrentItem=e.saveCurrentItem,a.addItems(IstMenu.createItem(_("Edit task"),function(){e.editCurrentItem({},o.default.getAndResetCurrent(a))},{extra_class:"menu_item_edit",icon:svgs.get("sm1/edit.svg"),attr:{"data-track":"task|more_edit"}}),IstMenu.createItem(_("Go to project"),function(){e.goToProject(o.default.getAndResetCurrent(a))},{icon:svgs.get("sm1/project.svg"),attr:{"data-track":"task|go_to_project"}}),IstMenu.createSeparator(),a.scheduler_holder={type:"item",view:DIV(),extra_class:"no_hover"},function(){var t=s.default.createPriorities(function(t){e.saveCurrentItem(function(){w.updatePriority(e,t)})},!1);return t.extra_class+=" sel_f_priorities",t}()),a.addItems(IstMenu.createSeparator(),IstMenu.createItem(_("Reminders"),function(){var e=o.default.getAndResetCurrent(a);return e&&f.default.show(e),!1},{extra_class:"menu_item_reminders",icon:svgs.get("sm1/reminder.svg"),attr:{"data-track":"task|more_reminders"}}));_("Move to project");return a.moveToProjectItem=TR({c:"sel_move_task menu_item_move menu_item"}),a.addItems(IstMenu.createSeparator(),IstMenu.createItem(_("Archive task"),$p(e.saveCurrentItem,$p(w.forceComplete,e)),{extra_class:"menu_item_archive",icon:svgs.get("sm1/archive.svg"),attr:{"data-track":"task|more_archive"}}),a.moveToProjectItem,IstMenu.createItem(_("Duplicate"),function(){return e.saveCurrentItem(function(){var e=o.default.getAndResetCurrent(a);u.default.duplicate([e.json.id])}),!1},{extra_class:"menu_item_duplicate",icon:svgs.get("sm1/add_integration.svg"),attr:{"data-track":"task|more_duplicate"}}),IstMenu.createItem(_("Copy link to task"),function(){var e=o.default.getAndResetCurrent(a);return e&&c.default.show(e.json),!1},{extra_class:"menu_item_link",icon:svgs.get("sm1/link.svg"),attr:{"data-track":"task|more_link_to_task"}}),IstMenu.createSeparator(),IstMenu.createItem(_("Delete task"),w.deleteCurrentItem,{extra_class:"sel_delete_task danger",icon:svgs.get("sm1/trash.svg"),attr:{"data-track":"task|more_delete"}})),a.hide_callbacks.push(function(){$removeClass($all("li","on_menu_show"),"on_menu_show"),
v.default.unmountComponentAtNode(a.moveToProjectItem)}),a.hide_menu_icon=!0,l.default.schedulerClose(a),Signals.connect("hide_editor_menu",function(){a.hide()}),a},get:function(){return a},toggle:function(e,t,r,n){return!e.disabled&&(m.default.deselectAll(),$removeClass($all("li","on_menu_show"),"on_menu_show"),$addClass(e,"on_menu_show"),a.current_holder=e,l.default.annotateItemEditMenu(e,a),v.default.render(h.default.createElement(b.Provider,{store:y.default},h.default.createElement(g.default,{onSelect:function(t){var r=t.project_id,n=t.section_id;y.default.dispatch((0,T.itemMoveAndReorder)({id:e.json.id,project_id:r,section_id:n})),a.hide(),Signals.sendSignal("instant_refresh_interface")},selectedProjectId:e.json.project_id,selectedSectionId:e.json.section_id,withSectionSelection:!0},function(e){var t=e.toggle,r=e.buttonProps;return h.default.createElement("td",(0,i.default)({onClick:t,"data-track":"task|more_move_to_project"},r),h.default.createElement("div",{className:"menu_wrapper"},h.default.createElement("span",{className:"menu_icon"},h.default.createElement(E.MoveIcon,null)),h.default.createElement("div",{className:"menu_label"},_("Move to project"))))})),a.moveToProjectItem),a.toggle(t,e,n),!1)},updatePriority:function(e,t){var r=o.default.getAndResetCurrent(a);if(r){var n=r.json.priority;u.default.updatePriority(r,t),e.refresh(r.json,{priority:n,due:r.json.due})}},forceComplete:function(e){var t=o.default.getAndResetCurrent(a);return t&&(e.completeItem(t,{shift:!0},!0),GB_getLast()&&GB_hide()),!1},deleteCurrentItem:function(){var e=o.default.getAndResetCurrent(a);if(e){var t=$child(e,"img","arrow");if(t)try{p.default.fetchChildren(t)}catch(e){}d.default.getChildren(e,!0),u.default.deleteItems([e],function(e){e&&GB_getLast()&&GB_hide()})}}},R=w;r.default=R},{"../components/generic_manager/GenericManagerUtils.js":26,"../components/item_selecter/ItemSelecter.js":31,"../components/items_utils/ItemCommonEdits":33,"../components/items_utils/ItemUniqueLink.js":35,"../components/reminders/Reminders.js":74,"../react_components/icons":731,"../react_components/project_picker":854,"../reducers/items":1005,"../stores/store":1048,"./../components/agenda/AgendaUtils":8,"./HelperColorsPriorities.js":133,"./HelperMenuAnnotations.js":134,"./HelpersMenuGeneral.js":135,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],137:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,i=n(e("./HelpersMenuGeneral.js")),o=e("../components/items_utils/ItemUniqueLink"),l=n(e("./HelperMenuAnnotations.js")),s={init:function(e){return a=new IstMenu,a.addItems(IstMenu.createItem(_("Copy link to task"),function(){var e=i.default.getAndResetCurrent(a);return(0,o.show)(e.json),!1},{extra_class:"menu_item_link",icon:svgs.get("sm1/link.svg"),attr:{"data-track":"task|more_link_to_task"}}),IstMenu.createItem(_("Delete task"),function(){var t=i.default.getAndResetCurrent(a);return e.getCurrentSectionList().deleteCurrentItem(t),!1},{extra_class:"sel_delete_task danger",icon:svgs.get("sm1/trash.svg"),attr:{"data-track":"task|more_delete"}})),l.default.schedulerClose(a),a.hide_callbacks.push(function(){$removeClass($all("li","on_menu_show"),"on_menu_show")}),a.hide_menu_icon=!0,Signals.connect("hide_editor_menu",function(){a.hide()}),a},get:function(){return a},toggle:function(e,t,r,n){return!e.disabled&&($removeClass($all("li","on_menu_show"),"on_menu_show"),$addClass(e,"on_menu_show"),a.current_holder=e,a.toggle(t,e,n),!1)}},u=s;r.default=u},{"../components/items_utils/ItemUniqueLink":35,"./HelperMenuAnnotations.js":134,"./HelpersMenuGeneral.js":135,"@babel/runtime/helpers/interopRequireDefault":189}],138:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.get=void 0;var n={},a=function(){return n.Menu};r.get=a;var i=function(){var e;n.Menu=e=new IstMenu,e.with_arrow=!0,e.pos_y_offset=6,e.arrow_y_offset=10,e.arrow_x_offset=5;var t=function(e){return SPAN({c:"keyboard_key"},e)},r=DIV({c:"indent_menu","data-track":"task_form|more_indent_left"},DIV({c:"indent_desc"},SPAN(_("Parent task")),BR(),SPAN({c:"small_text"},_("Indent Left"))),DIV({c:"indent_shortcut"},t($isMac()?"\u2318":"CTRL"),SPAN({c:"plus"},"+"),t("\u2190"))),a=DIV({c:"indent_menu","data-track":"task_form|more_indent_right"},DIV({c:"indent_desc"},SPAN(_("Sub-task")),BR(),SPAN({c:"small_text"},_("Indent Right"))),DIV({c:"indent_shortcut"},t($isMac()?"\u2318":"CTRL"),SPAN({c:"plus"},"+"),t("\u2192")));return e.addItems(IstMenu.createItem(a,function(){return Signals.sendSignal("menu_indent_right"),!1},{extra_class:"menu_indent"}),IstMenu.createItem(r,function(){return Signals.sendSignal("menu_indent_left"),!1},{extra_class:"menu_indent"})),$AEV(document,"click",e.hide),e};r.init=i;var o={get:a,init:i};r.default=o},{}],139:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.get=void 0;var a=n(e("../models/Colors")),i=n(e("./HelperColorsPriorities.js")),o={},l=function(){return o.Menu};r.get=l;var s=function(){var e;return o.Menu=e=new IstMenu,$addClass(e.menu_holder,"color_picker"),e.pos_y_offset=-3,e.pos_x_offset=4,e.addItems(e.colors=i.default.createColor(a.default.get(),function(t){return Signals.sendSignal("color_selected",t),e.hide(),!1})),$addClass(e.colors.view,"projects_list_colors"),$AEV(document,"click",e.hide),e};r.init=s;var u={get:l,init:s};r.default=u},{"../models/Colors":151,"./HelperColorsPriorities.js":133,"@babel/runtime/helpers/interopRequireDefault":189}],140:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,i=n(e("@babel/runtime/helpers/extends")),o=n(e("./HelpersMenuGeneral.js")),l=n(e("./HelperMenuAnnotations.js")),s=n(e("./HelperColorsPriorities.js")),u=n(e("../components/reminders/Reminders.js")),c=n(e("../components/items_utils/ItemUniqueLink.js")),d=n(e("../components/items_utils/ItemCommonEdits")),f=e("../utils/deps"),p=n(e("react")),m=n(e("react-dom")),h=e("react-redux"),v=n(e("../stores/store")),b=n(e("../react_components/project_picker")),y=e("../react_components/icons"),g=e("../reducers/items"),E=(0,f.defineDeps)("MenuProjectEditor",["ItemSelecter"]),T={init:function(e){a=new IstMenu;var t=this;a.addItems(IstMenu.createItem(_("Add task above"),function(r){return e.setCurrentSectionList(t.sectionList,!0),o.default.menuSaveAndAdd(e.getCurrentSectionList(),!0)(r)},{extra_class:"menu_item_add_above",icon:svgs.get("sm1/add_above.svg"),attr:{"data-track":"task|more_add_task_above"}}),IstMenu.createItem(_("Add task below"),function(r){e.setCurrentSectionList(t.sectionList,!0),o.default.menuSaveAndAdd(e.getCurrentSectionList(),!1)(r)},{extra_class:"menu_item_add_below",icon:svgs.get("sm1/add_below.svg"),attr:{"data-track":"task|more_add_task_below"}}),IstMenu.createItem(_("Edit task"),function(){e.setCurrentSectionList(t.sectionList,!0);var r=e.getCurrentSectionList();r.saveCurrentItem(r.editCurrentItem)},{extra_class:"menu_item_edit",icon:svgs.get("sm1/edit.svg"),attr:{"data-track":"task|more_edit"}}),IstMenu.createSeparator(),a.scheduler_holder={type:"item",view:DIV(),extra_class:"no_hover"},function(){var e=s.default.createPriorities(function(e){var t=o.default.getAndResetCurrent(a);t&&d.default.updatePriority(t,e)},!1);return e.extra_class+=" sel_priorities",e}()),a.addItems(IstMenu.createSeparator(),IstMenu.createItem(_("Reminders"),function(){var e=o.default.getAndResetCurrent(a);return u.default.show(e),!1},{extra_class:"menu_item_reminders",icon:svgs.get("sm1/reminder.svg"),attr:{"data-track":"task|more_reminders"}})),a.addItems(IstMenu.createSeparator()),a.moveToProjectItem=TR({c:"sel_move_task menu_item_move menu_item"});var r=IstMenu.createItem(_("Archive task"),function(){e.setCurrentSectionList(t.sectionList,!0);var r=e.getCurrentSectionList(),n=o.default.getAndResetCurrent(a);r&&n&&r.archiveItem(n)},{extra_class:"menu_item_archive",icon:svgs.get("sm1/archive.svg"),attr:{"data-track":"task|more_archive"}});return a.archiveTaskItem=r,a.addItems(r,a.moveToProjectItem,IstMenu.createItem(_("Duplicate"),function(){var e=o.default.getAndResetCurrent(a);return d.default.duplicate([e.json.id]),!1},{extra_class:"menu_item_duplicate",icon:svgs.get("sm1/add_integration.svg"),attr:{"data-track":"task|more_duplicate"}}),IstMenu.createItem(_("Copy link to task"),function(){var e=o.default.getAndResetCurrent(a);return c.default.show(e.json),!1},{extra_class:"menu_item_link",icon:svgs.get("sm1/link.svg"),attr:{"data-track":"task|more_link_to_task"}}),IstMenu.createSeparator(),IstMenu.createItem(_("Delete task"),function(){var r=o.default.getAndResetCurrent(a);return e.setCurrentSectionList(t.sectionList,!0),e.getCurrentSectionList().deleteCurrentItem(r),!1},{extra_class:"sel_delete_task danger",icon:svgs.get("sm1/trash.svg"),attr:{"data-track":"task|more_delete"}})),a.hide_menu_icon=!0,l.default.schedulerClose(a),a.hide_callbacks.push(function(){$removeClass($all("li","on_menu_show"),"on_menu_show"),m.default.unmountComponentAtNode(a.moveToProjectItem)}),Signals.connect("hide_editor_menu",function(){a.hide()}),a},get:function(){return a},toggle:function(e,t,r,n,o){if(t.disabled)return!1;this.sectionList=e,E.ItemSelecter.deselectAll(),$removeClass($all("li","on_menu_show"),"on_menu_show"),$addClass(t,"on_menu_show"),a.current_holder=t,l.default.annotateItemEditMenu(t,a);var s=a.archiveTaskItem.view.querySelector(".menu_label");return s&&(t.json&&t.json.completeItem&&t.json.due?(a.archiveTaskItem.view.style.display="",s.textContent=_("Complete forever")):t.json&&t.json.completeItem?a.archiveTaskItem.view.parentElement.style.display="none":(a.archiveTaskItem.view.style.display="",s.textContent=_("Archive task"))),m.default.render(p.default.createElement(h.Provider,{store:v.default},p.default.createElement(b.default,{onSelect:function(e){var r=e.project_id,n=e.section_id;v.default.dispatch((0,g.itemMoveAndReorder)({id:t.json.id,project_id:r,section_id:n})),a.hide(),Signals.sendSignal("instant_refresh_interface")},selectedProjectId:t.json.project_id,selectedSectionId:t.json.section_id,withSectionSelection:!0},function(e){var t=e.toggle,r=e.buttonProps;return p.default.createElement("td",(0,i.default)({onClick:t,"data-track":"task|more_move_to_project"},r),p.default.createElement("div",{className:"menu_wrapper"},p.default.createElement("span",{className:"menu_icon"},p.default.createElement(y.MoveIcon,null)),p.default.createElement("div",{className:"menu_label"},_("Move to project"))))})),a.moveToProjectItem),a.toggle(r,t,o),!1}},w=T;r.default=w},{"../components/items_utils/ItemCommonEdits":33,"../components/items_utils/ItemUniqueLink.js":35,"../components/reminders/Reminders.js":74,"../react_components/icons":731,"../react_components/project_picker":854,"../reducers/items":1005,"../stores/store":1048,"../utils/deps":1071,"./HelperColorsPriorities.js":133,"./HelperMenuAnnotations.js":134,"./HelpersMenuGeneral.js":135,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],141:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.get=void 0;var a,i=n(e("@babel/runtime/helpers/toConsumableArray")),o=n(e("../components/items_utils/ItemsSortBy.js")),l=n(e("../components/project_editor/ProjectExtraActions")),s=n(e("../components/templates/Templates")),u=function(){return a};r.get=u;var c=function(e){function t(e,t){var r=e.view;r.style.display="hide"===t?"none":"",r.parentElement.style.padding="hide"===t?0:"",r.parentElement.parentElement.style.padding="hide"===t?0:""}var r;a=new IstMenu;var n=[];n=[IstMenu.createItem(_("Add section"),function(){e.getCurrentEditor().showSectionAddForm(),a.hide()},{icon:svgs.get("sm1/add_section.svg")}),IstMenu.createSeparator()],(r=a).addItems.apply(r,(0,i.default)(n).concat([IstMenu.createItem(_("Sort by date"),function(){o.default.sortByDate()},{icon:svgs.get("sm1/calendar.svg"),attr:{"data-track":"project|actions_sort_by_date"}}),IstMenu.createItem(_("Sort by priority"),function(){o.default.sortByPriority()},{icon:svgs.get("sm1/priority_flag.svg"),attr:{"data-track":"project|actions_sort_by_priority"}}),IstMenu.createItem(_("Sort by name"),function(){o.default.sortByName()},{icon:svgs.get("sm1/name.svg"),attr:{"data-track":"project|actions_sort_by_name"}}),IstMenu.createItem(_("Sort by responsible"),function(){o.default.sortByResponsible()},{extra_class:"sort_responsible",icon:svgs.get("sm1/member_big.svg"),attr:{"data-track":"project|actions_sort_by_responsible"}}),IstMenu.createSeparator()]));var u=IstMenu.createItem(_("Show completed tasks"),function(){return a.hide(),e.getCurrentEditor().showHistory(),!1},{icon:svgs.get("sm1/checkbox_checked.svg"),attr:{"data-track":"project|action_show_completed"}}),c=IstMenu.createItem(_("Hide completed tasks"),function(){return a.hide(),e.getCurrentEditor().hideHistory(),!1},{icon:svgs.get("sm1/cancel_checked_icon.svg"),attr:{"data-track":"project|action_show_completed"}});return c.view.style.display="none",a.addItems(IstMenu.createItem(_("Import from template"),function(){return s.default.showImport(e.getCurrentProjectId()),a.hide(),!1},{icon:svgs.get("sm1/download.svg"),attr:{"data-track":"project|actions_import_from_template"}}),IstMenu.createItem(_("Export as a template"),function(){return s.default.showExportTemplate(e.getCurrentProjectId()),a.hide(),!1},{icon:svgs.get("sm1/upload.svg"),attr:{"data-track":"project|actions_export_as_template"}}),IstMenu.createSeparator(),IstMenu.createItem(_("Email tasks to this project"),function(){return l.default.showProjectEmail(e.getCurrentProjectId()),!1},{icon:svgs.get("sm1/mail.svg"),attr:{"data-track":"project|actions_email_tasks"}}),IstMenu.createItem(_("Project calendar feed"),function(){return l.default.showCalFeed(e.getCurrentProjectId()),!1},{icon:svgs.get("sm1/list.svg"),attr:{"data-track":"project|actions_project_calendar_feed"}}),IstMenu.createSeparator(),u,c),$AEV(document,"click",a.hide),Signals.connect("sort_by_done",function(){a.hide()}),a.toggleMenu=function(e,r,n,i){i&&i.showCompleted?(t(c,"show"),t(u,"hide")):(t(c,"hide"),t(u,"show")),a.toggle(e,r,n,i)},a};r.init=c;var d={get:u,init:c};r.default=d},{"../components/items_utils/ItemsSortBy.js":37,"../components/project_editor/ProjectExtraActions":63,"../components/templates/Templates":89,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],142:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.get=void 0;var a,i=n(e("./HelpersMenuGeneral.js")),o=n(e("../components/projects_list/ProjectArchive")),l=n(e("../components/project_editor/ProjectExtraActions")),s=n(e("../components/sharing/SharingManager")),u=n(e("../models/ProjectsModel")),c=function(){return a};r.get=c;var d=function(e){return a=new IstMenu,a.addItems(IstMenu.createItem(_("Add project above"),i.default.menuSaveAndAdd(e,!0),{extra_class:"project_archive_action project_inbox_action",icon:svgs.get("sm1/add_above.svg"),attr:{"data-track":"projects|menu_add_project_above"}}),IstMenu.createItem(_("Add project below"),i.default.menuSaveAndAdd(e,!1),{extra_class:"project_archive_action",icon:svgs.get("sm1/add_below.svg"),attr:{"data-track":"projects|menu_add_project_below"}}),IstMenu.createSeparator("project_archive_action"),IstMenu.createItem(_("Edit project"),$p(e.saveCurrentItem,e.editCurrentItem),{extra_class:"project_archive_action project_inbox_action",icon:svgs.get("sm1/edit.svg"),attr:{"data-track":"projects|menu_edit"}}),IstMenu.createItem(_x("project_menu","Share project"),function(){var e=i.default.getAndResetCurrent(a);return e&&s.default.show(e.json.id),!1},{extra_class:"project_archive_action",icon:svgs.get("sm1/add_member.svg"),attr:{"data-track":"projects|menu_share_project"}}),IstMenu.createItem(_("Add to favorites"),function(){var e=i.default.getAndResetCurrent(a);e&&u.default.update(e.json.id,{is_favorite:1})},{extra_class:"project_add_favorite_action",icon:svgs.get("sm1/heart.svg"),attr:{"data-track":"projects|menu_add_to_favorites"}}),IstMenu.createSeparator("project_archive_action project_inbox_action"),IstMenu.createItem(_("Email tasks to this project"),function(){var e=i.default.getAndResetCurrent(a);return l.default.showProjectEmail(e.json.id)},{extra_class:"project_archive_action",icon:svgs.get("sm1/mail.svg"),attr:{"data-track":"projects|menu_email_tasks"}}),IstMenu.createItem(_("Project calendar feed"),function(){var e=i.default.getAndResetCurrent(a);return l.default.showCalFeed(e.json.id)},{extra_class:"project_archive_action",icon:svgs.get("sm1/list.svg"),attr:{"data-track":"projects|menu_project_calendar_feed"}}),IstMenu.createSeparator("project_archive_action project_inbox_action"),IstMenu.createItem(SPAN({id:"menu_archive_text",class:"menu_label"},_("Archive project")),function(){var e=i.default.getAndResetCurrent(a);if(e){e.json.is_archived?o.default.unarchive(e):o.default.archive(e)}return!1},{extra_class:"project_inbox_action",icon:svgs.get("sm1/archive.svg"),attr:{"data-track":"projects|menu_archive"}}),IstMenu.createItem(SPAN({id:"menu_delete_text",class:"menu_label"},_("Delete project")),function(){var t=i.default.getAndResetCurrent(a);return e.deleteCurrentItem(t)},{extra_class:"project_inbox_action danger",icon:svgs.get("sm1/trash.svg"),attr:{"data-track":"projects|menu_delete"}})),a.hide_menu_icon=!0,$AEV(document,"click",a.hide),a};r.init=d;var f={get:c,init:d};r.default=f},{"../components/project_editor/ProjectExtraActions":63,"../components/projects_list/ProjectArchive":68,"../components/sharing/SharingManager":82,"../models/ProjectsModel":161,"./HelpersMenuGeneral.js":135,"@babel/runtime/helpers/interopRequireDefault":189}],143:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.getReactions=r.get=void 0;var a=n(e("./HelperColorsPriorities.js")),i=["\ud83d\udc4d","\ud83d\udc4e","\u2764\ufe0f","\ud83d\ude04","\ud83d\ude02","\ud83d\ude2e","\ud83d\ude22","\ud83d\ude21","\ud83d\udc4f","\ud83c\udf89"],o={},l=function(){return o.Menu};r.get=l;var s=function(){return i};r.getReactions=s;var u=function(){var e;return o.Menu=e=new IstMenu,$addClass(e.menu_holder,"reactions_menu"),e.with_arrow=!0,e.arrow_fixed=!1,e.pos_y_offset=7,e.arrow_y_offset=15,e.arrow_x_offset=0,e.addItems(a.default.createReactions(i,function(e){return Signals.sendSignal("reaction_added",e),!1})),$AEV(document,"click",e.hide),e.hide_callbacks.push(function(){return $removeClass($$(".reactions_sticky"),"reactions_sticky"),!1}),e};r.init=u;var c={get:l,getReactions:s,init:u};r.default=c},{"./HelperColorsPriorities.js":133,"@babel/runtime/helpers/interopRequireDefault":189}],144:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.get=void 0;var n=null,a=function(){return n};r.get=a;var i=function(e){var t;return n=new IstMenu,n.pos_x_offset=-12,$addClass(n.menu_holder,"reminders_menu"),n.addItems(IstMenu.createItem(_("Date and time"),function(){return e.adder.onChangeInterface("absolute")},{attr:{"data-track":"task_form|reminders_date"},icon:svgs.get("sm1/history.svg")}),t=IstMenu.createItem(_("Before task"),function(){return e.adder.onChangeInterface("relative")},{icon:svgs.get("sm1/clock.svg")}),IstMenu.createItem(_("Location"),function(){return e.adder.onChangeInterface("location")},{attr:{"data-track":"task_form|reminders_location"},icon:svgs.get("sm1/location_mark.svg")})),n.setRelativePossible=function(e){return e?$show(t.view.parentNode):$hide(t.view.parentNode)},$AEV(document,"click",n.hide),n};r.init=i;var o={get:a,init:i};r.default=o},{}],145:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.get=void 0;var n={},a=function(){return n.Menu};r.get=a;var i=function(){var e;n.Menu=e=new IstMenu;var t=svgs.get("sm1/scheduler_today.svg",{height:24,width:24}),r="".concat((new Date).getDate());return t.querySelector("tspan").textContent=r,e.addItems(IstMenu.createItem(_("Move to Today"),function(){Signals.sendSignal("menu_move_to_today")},{attr:{"data-track":"reschedule|move_to_today"},icon:t,extra_class:"menu_reschedule_today"}),IstMenu.createItem(_("Open Smart Schedule"),function(){Signals.sendSignal("menu_open_smart_schedule")},{attr:{"data-track":"reschedule|open_smart_schedule"},icon:svgs.get("sm1/smart_schedule.svg"),extra_class:"menu_reschedule_smart"})),e.hide_callbacks.push(function(){Signals.sendSignal("menu_reschedule_hide")}),$AEV(document,"click",e.hide),e};r.init=i;var o={get:a,init:i};r.default=o},{}],146:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=r.hide=r.show=r.get=void 0;var n={},a=function(){return n.Menu};r.get=a;var i=function(e,t,r){var a=r&&!!r.show_assign,i=$$(".menu_item_assign",n.Menu.menu);return a?$addClass(i,"show"):$removeClass(i,"show"),n.Menu.show(e,t,r)};r.show=i;var o=function(){return n.Menu.hide()};r.hide=o;var l=function(){var e;return n.Menu=e=new IstMenu,$addClass(e.menu_holder,"menu_selecter_more"),e.with_arrow=!0,e.pos_y_offset=3,e.arrow_y_offset=15,e.arrow_x_offset=4,e.addItems(IstMenu.createItem(_("Assign to someone"),function(){return Signals.sendSignal("menu_item_assign"),!1},{extra_class:"menu_item_assign",icon:svgs.get("sm1/add_member.svg")}),IstMenu.createItem(_("Complete"),function(){return Signals.sendSignal("menu_selecter_complete"),!1},{extra_class:"menu_indent menu_item_archive",icon:svgs.get("sm1/archive.svg")}),IstMenu.createItem(_("Duplicate"),function(){return Signals.sendSignal("menu_selecter_duplicate"),!1},{extra_class:"menu_indent menu_item_duplicate",icon:svgs.get("sm1/add_integration.svg")}),IstMenu.createItem(_("Delete"),function(){return Signals.sendSignal("menu_selecter_delete"),!1},{extra_class:"menu_indent menu_item_delete danger",icon:svgs.get("sm1/trash.svg")})),$AEV(document,"click",e.hide),e};r.init=l;var s={get:a,show:i,hide:o,init:l};r.default=s},{}],147:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.open=void 0;var a=n(e("../stores/store")),i=n(e("react")),o=n(e("react-dom")),l=e("react-redux"),s=n(e("../react_components/menu_user")),u=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="34px",t.style.right="28px",e.parentElement.parentElement.appendChild(t);var r=function(){o.default.unmountComponentAtNode(t),t.parentElement.removeChild(t)};return o.default.render(i.default.createElement(l.Provider,{store:a.default},i.default.createElement(s.default,{onClose:r})),t),!1};r.open=u;var c={open:u};r.default=c},{"../react_components/menu_user":803,"../stores/store":1048,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],148:[function(e,t,r){"use strict";Object.defineProperty(window,"MINI_VERSION",{get:function(){return window.innerWidth<750}})},{}],149:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,e("./MiniVersion");var n={isSupported:function(){var e=window.location.host;return"chrome.todoist.com"===e||"firefox.todoist.com"===e||top!=window},launch:function(){return n._popout("".concat(window.location),"Todoist",500,560),!1},_popout:function(e,t,r,n){var a=screen.width/2-r/2,i=screen.height/2-n/2;return window.open("/app?mini=2",t,"toolbar=no, scrollbars=yes, width=".concat(r,", height=").concat(n,", top=").concat(i,", left=").concat(a))}};window.Popout=n;var a=n;r.default=a},{"./MiniVersion":148}],150:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../stores/store")),l=e("../reducers/collaborators"),s=e("../utils"),u=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,[{key:"addInvite",value:function(e,t){o.default.dispatch((0,l.collaboratorInvite)(e,t)),Signals.sendSignal("instant_refresh_interface")}},{key:"deleteFromProject",value:function(e,t){o.default.dispatch((0,l.collaboratorDelete)(t.id,e)),Signals.sendSignal("instant_refresh_interface")}},{key:"getUserById",value:function(e){return(0,l.getCollaboratorById)(e,o.default.getState())}},{key:"isProjectShared",value:function(e){return(0,l.isShared)(o.default.getState(),e)}},{key:"getAll",value:function(e){return(0,l.getAllProjectCollaborators)(o.default.getState(),e)}},{key:"getAllCollaborators",value:function(){return o.default.getState().collaborators.all}},{key:"getCount",value:function(){var e=o.default.getState();return(0,s.keys)(e.collaborators.all).length}},{key:"getActiveUsers",value:function(e){return(0,l.getActiveCollaborators)(e,o.default.getState())}},{key:"getInvitedUsers",value:function(e){return(0,l.getInvitedCollaborators)(e,o.default.getState())}}]),e}();window.Collaborators=new u;var c=window.Collaborators;r.default=c},{"../reducers/collaborators":983,"../stores/store":1048,"../utils":1094,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],151:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.START_INDEX=r.DEFAULT_COLOR=r.getHex=r.normalizeToOld=r.normalizeToNew=r.get=r.PRIORITY_COLORS=void 0;r.DEFAULT_COLOR=47;r.START_INDEX=30;var n={4:"#DE4C4A",3:"#F49C18",2:"#4073d6",1:"#808080"};r.PRIORITY_COLORS=n;var a=[{name:_("Berry Red"),hex:"#b8255f"},{name:_("Red"),hex:"#db4035"},{name:_("Orange"),hex:"#ff9933"},{name:_("Yellow"),hex:"#fad000"},{name:_("Olive Green"),hex:"#afb83b"},{name:_("Lime Green"),hex:"#7ecc49"},{name:_("Green"),hex:"#299438"},{name:_("Mint Green"),hex:"#6accbc"},{name:_("Teal"),hex:"#158fad"},{name:_("Sky Blue"),hex:"#14aaf5"},{name:_("Light Blue"),hex:"#96c3eb"},{name:_("Blue"),hex:"#4073ff"},{name:_("Grape"),hex:"#884dff"},{name:_("Violet"),hex:"#af38eb"},{name:_("Lavender"),hex:"#eb96eb"},{name:_("Magenta"),hex:"#e05194"},{name:_("Salmon"),hex:"#ff8d85"},{name:_("Charcoal"),hex:"#808080"},{name:_("Grey"),hex:"#b8b8b8"},{name:_("Taupe"),hex:"#ccac93"}],i={0:35,1:46,2:32,3:33,4:40,5:49,6:44,7:48,8:46,9:32,10:37,11:39,12:45,13:30,14:31,15:36,16:37,17:38,18:39,19:41,20:47,21:47},o={};for(var l in i)o[i[l]]=l;var s={0:36,1:34,2:31,3:45,4:43,5:41,6:38,7:47,8:38,9:37,10:30,11:35,12:47},u={};for(var c in s)u[s[c]]=c;var d=function(){return a};r.get=d;var f=function(e,t){var r;return r="project"==e?i:s,t>=30&&t<=49?t:void 0!=r[t]?parseInt(r[t]):47};r.normalizeToNew=f;var p=function(e,t){var r;return r="project"==e?o:u,"project"==e&&0<=t&&t<=21?t:("label"==e||"filter"==e)&&0<=t&&t<=12?t:void 0!=r[t]?parseInt(r[t]):7};r.normalizeToOld=p;var m=function(e,t){return t=f(e,t),t-=30,a[t].hex};r.getHex=m;var h={PRIORITY_COLORS:n,get:d,normalizeToNew:f,normalizeToOld:p,getHex:m,DEFAULT_COLOR:47,START_INDEX:30};r.default=h},{}],152:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.version=e.version,this.isBeta=e.isBeta,this.smartScheduleDomain=e.smartScheduleDomain,this.loadStartPage=e.loadStartPage,this.disablePromotion=e.disablePromotion,this.onIntialized=e.onIntialized}},a=n;r.default=a},{}],153:[function(e,t,r){"use strict";function n(){window.addEventListener("focus",h),window.addEventListener("blur",function(){o&&clearInterval(o)})}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.start=void 0;var o,l=i(e("../stores/store")),s=e("../reducers/tooltip"),u=e("../reducers/clock"),c=e("../utils"),d=a(e("../logger/Logger.js")),f=function(){try{fetch("/sync/v8/tooltips/get_scheduled?token=".concat(window.User.token)).then(function(e){if(200!=e.status){var t=new Error(e.statusText);throw t.jsonRes=e,t}return e.json()}).then(function(e){e.result&&e.result instanceof Array&&l.default.dispatch((0,s.scheduledUpdated)(Array.from(e.result)))}).catch(function(){})}catch(e){throw d.captureError(e),e}},p=function(){try{fetch("/sync/v8/tooltips/get_seen_list?token=".concat(window.User.token)).then(function(e){if(200!=e.status){var t=new Error(e.statusText);throw t.jsonRes=e,t}return e.json()}).then(function(e){e.result&&e.result instanceof Array&&l.default.dispatch((0,s.seenUpdated)(e.result))}).catch(function(){})}catch(e){throw d.captureError(e),e}},m=function e(){f(),p(),setTimeout(e,864e5)},h=function(){o&&clearInterval(o);var e=(0,c.todayISO)();o=setInterval(function(){var t=(0,c.todayISO)();e!==t&&(e=t,l.default.dispatch((0,u.tick)()))},3e3)},_=function(){m(),h(),n()};r.start=_},{"../logger/Logger.js":132,"../reducers/clock":981,"../reducers/tooltip":1040,"../stores/store":1048,"../utils":1094,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],154:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getOffsetDate=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("lodash/isNumber")),s=n(e("lodash/mapValues")),u=e("../logger/Logger"),c=n(e("moment-timezone")),d=n(e("../utils/toISODateString")),f=e("../utils/timezones"),p=n(e("../utils/DateUtils")),m=function(e){var t=new Date(e);return t.setSeconds(59),t},h=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,_=/^(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(\.(\d){1,4})?Z*/,v=function(e,t,r){return e instanceof Date&&(0,l.default)(t)&&(0,l.default)(r)?new Date(e.getTime()+60*r*1e3-60*t*1e3):null};r.getOffsetDate=v;var b=function(){function e(t){var r=t.date,n=t.timezone,o=t.is_recurring,l=t.string,s=t.lang;(0,i.default)(this,e),this.date=r,this.timezone=n||null,this.is_recurring=!!o,this.string=l,this.lang=s;var u=h.exec(r);if(u){var c=u.slice(1,4).map(function(e){return parseInt(e)}),d=(0,a.default)(c,3),p=d[0],m=d[1],v=d[2];return this._date=new Date(p,m-1,v,23,59,59,0),this.with_time=!1,this.timezone_offset=null,Object.freeze(this)}var b=_.exec(r);if(!b)throw new Error("Unsupported date string format: "+r);this.with_time=!0;var y=b.slice(1,7).map(function(e){return parseInt(e)}),g=(0,a.default)(y,6),E=g[0],T=g[1],w=g[2],R=g[3],P=g[4],D=g[5];return n?(this._date=new Date(Date.UTC(E,T-1,w,R,P,D)),this.timezone_offset=(0,f.getTimezoneOffset)(n,this._date,{useUTC:!0})):(this._date=new Date(E,T-1,w,R,P,D),this.timezone_offset=null),Object.freeze(this)}return(0,o.default)(e,[{key:"inheritDate",value:function(e){var t=e.year,r=e.month,n=e.day,a=e.hours,i=e.minutes,o=e.seconds,s=e.milliseconds,u=void 0===s?0:s,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=m.withTime,_=m.timezone,v=void 0===_?null:_,b=this._createWritableClone();return(0,l.default)(t)&&(0,l.default)(r)&&(0,l.default)(n)&&(!h||(0,l.default)(a)&&(0,l.default)(i)&&(0,l.default)(o)&&(0,l.default)(u))?(b._date=b._toTimezoneDate(),b._date.setDate(1),b._date.setFullYear(t),b._date.setMonth(r),b._date.setDate(n),h&&(b.timezone=v,b._date.setHours(a,i,o,u),b.with_time=59!==o),b.with_time&&b.timezone?(b._date=c.default.tz((0,d.default)(b._date),(0,f.getTimezoneName)(b.timezone)),b.timezone_offset=-b._date.utcOffset(),
b._date=b._date.toDate()):b.timezone_offset=null,b.is_recurring||(b.string=p.default.format(b._toTimezoneDate()),b.lang=window.DATEIST_LANG||"en"),b.date=(0,d.default)(b._date,{toUTC:!!b.timezone,dateOnly:!b.with_time}),Object.freeze(b)):Object.freeze(b)}},{key:"changeTime",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.timezone;if(!(0,l.default)(e)||!(0,l.default)(t)||!(0,l.default)(r))return Object.freeze(this._createWritableClone());var i=this._toTimezoneDate();return this.inheritDate({year:i.getFullYear(),month:i.getMonth(),day:i.getDate(),hours:e,minutes:t,seconds:r,milliseconds:i.getMilliseconds()},{withTime:!0,timezone:a})}},{key:"changeTimezone",value:function(e){var t=this._toTimezoneDate();return this.inheritDate({year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()},{withTime:!0,timezone:e})}},{key:"nextRecurrence",value:function(){if(!this.is_recurring)throw new Error("nextRecurrence() can only be called on a recurring DateExt");var t,r={us_dates:p.default.isUsDates()&&1||0,am_pm:p.default.isAmPm()&&1||0,start_day:p.default.startDay(),next_week:p.default.nextWeek(),task_date:this._toTimezoneDate()},n="en"==this.lang?["en"]:[this.lang,"en"];try{t=Dateist.parse_multiple(this.string,n,r)}catch(e){t={error:!0},(0,u.captureError)(e)}return t.end_reached?[this,!0]:(t.error&&(t=Dateist.parse("tomorrow")),[e.fromDateist(t,{timezone:this.timezone}),!1])}},{key:"postpone",value:function(){if(this.is_recurring){var e=this.nextRecurrence(),t=(0,a.default)(e,2),r=t[0];return t[1]?"END_REACHED":r}var n,i=new Date;return this.isGreaterThanOrEqual(i)?(n=new Date(this.getTime()),n.setDate(n.getDate()+1)):(n=new Date(i),n.setDate(n.getDate()+1)),this.inheritDate({year:n.getFullYear(),month:n.getMonth(),day:n.getDate()},{timezone:this.timezone})}},{key:"toAPIFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stripMilliseconds,r=void 0===t||t,n=Object.assign({},this);return delete n.with_time,delete n._date,delete n.timezone_offset,n.date.match(/^(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):59Z*/)&&(0,u.captureMessageWithTrace)("warning (DateExt): deprecated YYYY-MM-DDTHH:MM:59Z in use",{extra:{date:n}}),r&&(n.date=n.date.replace(/\.(\d){1,4}/,"")),n}},{key:"format",value:function(e){var t=e.inTimezoneTime,r=e.onlyTime,n=t?this._toTimezoneDate():this._date;return r?$strip(p.default.getHourAndMin(n)):p.default.format(n)}},{key:"relativeFormat",value:function(){var e=DateistDateHelpers.day_diff(new Date,this);return p.default.humanizeDayDiff(e,this)}},{key:"isSameDate",value:function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()}},{key:"isGreaterThan",value:function(t){return e.compare(this,t)>0}},{key:"isGreaterThanOrEqual",value:function(t){var r=e.compare(this,t);return r>0||0==r}},{key:"isLessThan",value:function(t){return e.compare(this,t)<0}},{key:"isLessThanOrEqual",value:function(t){var r=e.compare(this,t);return r<0||0==r}},{key:"toDate",value:function(){return new Date(this._date)}},{key:"_toTimezoneDate",value:function(){return this.timezone&&(0,l.default)(this.timezone_offset)?v(this._date,-this._date.getTimezoneOffset(),-this.timezone_offset):this.toDate()}},{key:"dateMin",value:function(){var e=new Date(this._date);return e.setMilliseconds(0),e.setSeconds(0),e.setMinutes(0),e.setHours(0),e.setMilliseconds(0),e}},{key:"_createWritableClone",value:function(){var t=Object.getOwnPropertyDescriptors(this);return t=(0,s.default)(t,function(e){if(e.value instanceof Date){var t=new Date(e.value);return Object.assign({},e,{value:t,writable:!0,configurable:!0})}return Object.assign({},e,{writable:!0,configurable:!0})}),Object.create(e.prototype,t)}},{key:"getFullYear",value:function(){return Date.prototype.getFullYear.call(this._date)}},{key:"getYear",value:function(){return Date.prototype.getYear.call(this._date)}},{key:"getMonth",value:function(){return Date.prototype.getMonth.call(this._date)}},{key:"getDate",value:function(){return Date.prototype.getDate.call(this._date)}},{key:"getDay",value:function(){return Date.prototype.getDay.call(this._date)}},{key:"getHours",value:function(){return Date.prototype.getHours.call(this._date)}},{key:"getMinutes",value:function(){return Date.prototype.getMinutes.call(this._date)}},{key:"getSeconds",value:function(){return Date.prototype.getSeconds.call(this._date)}},{key:"getMilliseconds",value:function(){return Date.prototype.getMilliseconds.call(this._date)}},{key:"getUTCFullYear",value:function(){return Date.prototype.getUTCFullYear.call(this._date)}},{key:"getUTCMonth",value:function(){return Date.prototype.getUTCMonth.call(this._date)}},{key:"getUTCDate",value:function(){return Date.prototype.getUTCDate.call(this._date)}},{key:"getUTCDay",value:function(){return Date.prototype.getUTCDay.call(this._date)}},{key:"getUTCHours",value:function(){return Date.prototype.getUTCHours.call(this._date)}},{key:"getUTCMinutes",value:function(){return Date.prototype.getUTCMinutes.call(this._date)}},{key:"getUTCSeconds",value:function(){return Date.prototype.getUTCSeconds.call(this._date)}},{key:"getUTCMilliseconds",value:function(){return Date.prototype.getUTCMilliseconds.call(this._date)}},{key:"getTimezoneFullYear",value:function(){return Date.prototype.getFullYear.call(this._toTimezoneDate())}},{key:"getTimezoneYear",value:function(){return Date.prototype.getYear.call(this._toTimezoneDate())}},{key:"getTimezoneMonth",value:function(){return Date.prototype.getMonth.call(this._toTimezoneDate())}},{key:"getTimezoneDate",value:function(){return Date.prototype.getDate.call(this._toTimezoneDate())}},{key:"getTimezoneDay",value:function(){return Date.prototype.getDay.call(this._toTimezoneDate())}},{key:"getTimezoneHours",value:function(){return Date.prototype.getHours.call(this._toTimezoneDate())}},{key:"getTimezoneMinutes",value:function(){return Date.prototype.getMinutes.call(this._toTimezoneDate())}},{key:"getTimezoneSeconds",value:function(){return Date.prototype.getSeconds.call(this._toTimezoneDate())}},{key:"getTimezoneMilliseconds",value:function(){return Date.prototype.getMilliseconds.call(this._toTimezoneDate())}},{key:"getTime",value:function(){return Date.prototype.getTime.call(this._date)}},{key:"getTimezoneOffset",value:function(){return Date.prototype.getTimezoneOffset.call(this._date)}},{key:"isInPast",get:function(){var e=new Date;return this.isLessThan(e)}},{key:"isInFuture",get:function(){var e=new Date;return this.isGreaterThan(e)}}],[{key:"fromDateist",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.timezone,a=void 0===n?null:n;if(!t.due_date)throw new Error("Cannot create DateExt with invalid dateist result");var i=t.due_date,o=59!==i.getSeconds(),l=null;o&&a&&(i=c.default.tz((0,d.default)(i),(0,f.getTimezoneName)(a)),l=-i.utcOffset(),i=i.toDate());var s=(0,d.default)(i,{toUTC:!!a,dateOnly:!o}),u={_date:{value:i,enumerable:!0},lang:{value:t.date_lang,enumerable:!0},with_time:{value:o,enumerable:!0},is_recurring:{value:t.is_recurring,enumerable:!0},string:{value:t.date_string,enumerable:!0},date:{value:s,enumerable:!0},timezone:{value:a,enumerable:!0},timezone_offset:{value:l,enumerable:!0}};return u=Object.create(e.prototype,u),Object.freeze(u)}},{key:"fromDate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.timezone,a=void 0===n?null:n,i=r.withTime,o=void 0!==i&&i;if(isNaN(t.getTime()))throw new Error("Cannot create DateExt from an invalid Date",t);o||(t=m(t),a=null);var l=p.default.format(t),s=p.default.getDateistLang(),u=null;a&&(t=c.default.tz((0,d.default)(t),(0,f.getTimezoneName)(a)),u=-t.utcOffset(),t=t.toDate());var h=(0,d.default)(t,{toUTC:!!a,dateOnly:!o}),_={_date:{value:t,enumerable:!0},lang:{value:s,enumerable:!0},with_time:{value:o,enumerable:!0},is_recurring:{value:!1,enumerable:!0},string:{value:l,enumerable:!0},date:{value:h,enumerable:!0},timezone:{value:a,enumerable:!0},timezone_offset:{value:u,enumerable:!0}};return _=Object.create(e.prototype,_),Object.freeze(_)}},{key:"compare",value:function(t,r){var n=t instanceof e?t._date:t,a=r instanceof e?r._date:r;return n.getTime()-a.getTime()}}]),e}();r.default=b},{"../logger/Logger":132,"../utils/DateUtils":1056,"../utils/timezones":1128,"../utils/toISODateString":1130,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"lodash/isNumber":"lodash/isNumber","lodash/mapValues":"lodash/mapValues","moment-timezone":"moment-timezone"}],155:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../stores/subscribeSelected")),l=function(e){return e.toLowerCase().substring(0,2)},s={da:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsDA-d305ce.js",de:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsDE-044f7d.js",en:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsEN-60da61.js",es:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsES-e66fe9.js",fi:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsFI-aae2a6.js",fr:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsFR-b0939f.js",it:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsIT-995c86.js",ja:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsJA-fb2ca1.js",ko:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsKO-d02d4f.js",nl:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsNL-c2864b.js",pl:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsPL-400474.js",pt:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsPT-d5ced6.js",ru:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsRU-9a4e73.js",sv:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsSV-c6360d.js",zh:"https://d3ptyyxy2at9ui.cloudfront.net/DateistDefsZH-d99aee.js"},u=function(){function e(){(0,a.default)(this,e),this.loadStatus={en:Promise.resolve()},window.DATEIST_LANG&&(this.loadStatus[window.DATEIST_LANG]=Promise.resolve())}return(0,i.default)(e,[{key:"init",value:function(e){var t=this;(0,o.default)(e,function(e){return e.dateistLangs},function(e){for(var r in e)e.hasOwnProperty(r)&&t.loadLang(r)})}},{key:"loadLang",value:function(e){if(e=l(e),!s[e])return Promise.reject(new Error("Unable to load unknown lange: ".concat(e)));if(this.loadStatus[e])return this.loadStatus[e];var t=new Promise(function(t,r){var n=SCRIPT({src:s[e],async:!0});n.onload=function(){t(),Dateist.cache={},Signals.sendSignal("refresh_interface")},n.onerror=function(e){r(e)},$add($body(),n)});return this.loadStatus[e]=t,t}}]),e}(),c=new u;r.default=c},{"../stores/subscribeSelected":1049,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],156:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../stores/store")),l=e("../reducers/filters"),s=function(){function e(){(0,a.default)(this,e),this.getById=this.getById.bind(this),this.get=this.get.bind(this),this.getAll=this.getAll.bind(this),this.getByName=this.getByName.bind(this)}return(0,i.default)(e,[{key:"getById",value:function(e){return this.get(e)}},{key:"get",value:function(e){return(0,l.filterGetByID)(o.default.getState(),e)}},{key:"getAll",value:function(){return(0,l.filterGetAll)(o.default.getState())}},{key:"getByName",value:function(e){return(0,l.filterGetByName)(o.default.getState(),e)}}]),e}(),u=new s;r.default=u},{"../reducers/filters":1e3,"../stores/store":1048,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],157:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("@babel/runtime/helpers/toConsumableArray")),s=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),c=e("../reducers/items"),d=function(){function e(){(0,s.default)(this,e),this.getAll=this.getAll.bind(this),this.getAllOwn=this.getAllOwn.bind(this),this.getById=this.getById.bind(this),this.getBySyncId=this.getBySyncId.bind(this),this.getChildren=this.getChildren.bind(this),this.getByName=this.getByName.bind(this),this.add=this.add.bind(this),this.deleteItem=this.deleteItem.bind(this),this.update=this.update.bind(this),this.updateDayOrders=this.updateDayOrders.bind(this),this.moveMultiple=this.moveMultiple.bind(this),this.complete=this.complete.bind(this),this.uncomplete=this.uncomplete.bind(this),this.addLabel=this.addLabel.bind(this),this.removeLabel=this.removeLabel.bind(this)}return(0,u.default)(e,null,[{key:"initClass",value:function(){this.prototype.max_indent=5,this.prototype.max_chars_for_content=2048}}]),(0,u.default)(e,[{key:"getAll",value:function(){return(0,c.itemGetUncompleted)(f().getState())}},{key:"getAllVisible",value:function(){return(0,c.itemGetVisible)(f().getState())}},{key:"getAllOwn",value:function(){return(0,c.itemGetOwn)(f().getState())}},{key:"getById",value:function(e){return(0,c.itemGetByID)(f().getState(),e)}},{key:"getBySyncId",value:function(e){return(0,c.itemGetBySyncID)(e,f().getState())}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.with_parent,n=void 0!==r&&r,a=t.sorted,i=void 0!==a&&a,o=f().getState(),s=(0,c.itemGetChildren)(e.id,o,{sorted:i});return n?[e].concat((0,l.default)(s)):s}},{key:"getByName",value:function(e,t){return(0,c.itemGetByName)(e,f().getState(),t)}},{key:"itemGetSectionGroups",value:function(e){return(0,c.itemGetSectionGroups)(e,f().getState())}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f().dispatch((0,c.itemAdd)(e,t))}},{key:"itemGetMaxTopLevelChildOrder",value:function(e){return(0,c.itemGetMaxTopLevelChildOrder)(e,f().getState())}},{key:"deleteItem",value:function(e){return f().dispatch((0,c.itemDelete)(e))}},{key:"update",value:function(e,t,r){var n=this.getById(e),i=f().dispatch((0,c.itemUpdate)(a({},t,{id:e}),{item:r})),o=n!==i;return o&&Signals.sendSignal("item_updated",i),[i,o]}},{key:"updateDayOrders",value:function(e){f().dispatch((0,c.itemUpdateDayOrder)(e))}},{key:"updateDue",value:function(e){return f().dispatch((0,c.itemUpdateDue)(e))}},{key:"moveMultiple",value:function(e,t,r){return f().dispatch((0,c.itemMoveMultiple)(e,t,r))}},{key:"complete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return f().dispatch((0,c.itemComplete)(e.id,{force_history:t}))}},{key:"uncomplete",value:function(e,t,r){return f().dispatch((0,c.itemUncomplete)(e,t,r)),this.getById(e)}},{key:"archive",value:function(e){return f().dispatch((0,c.itemArchive)(e))}},{key:"unarchive",value:function(e){return f().dispatch((0,c.itemUnarchive)(e))}},{key:"addLabel",value:function(e,t){if(!e.labels.includes(t.name)){var r=[].concat((0,l.default)(e.labels),[t.name]);return this.update(e.id,{labels:r})}}},{key:"removeLabel",value:function(e,t){if(e.labels.includes(t.name)){var r=e.labels.filter(function(e){return e!==t.name});return this.update(e.id,{labels:r})}}},{key:"getTotalCompletedCount",value:function(){return f().getState().stats.completed_count}},{key:"moveAndReorder",value:function(e,t,r){f().dispatch((0,c.itemMoveAndReorder)(e,t,r))}}]),e}();d.initClass();var f=function(){return e("../stores/store").default};window.ItemsModel=new d;var p=window.ItemsModel;r.default=p},{"../reducers/items":1005,"../stores/store":1048,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],158:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("./UtilModels")),l=n(e("../stores/store")),s=e("../reducers/labels"),u=e("../utils"),c=function(){function e(){(0,a.default)(this,e),this.syncLocalModel=this.syncLocalModel.bind(this),this.getOrAdd=this.getOrAdd.bind(this),this.getAll=this.getAll.bind(this),this.getById=this.getById.bind(this),this.getDataLabels=this.getDataLabels.bind(this),this.getByName=this.getByName.bind(this),this.add=this.add.bind(this),this.get=this.get.bind(this),this.update=this.update.bind(this),this.deleteLabel=this.deleteLabel.bind(this),this.deleteMany=this.deleteMany.bind(this),this.getLabels=this.getLabels.bind(this),this.updateOrders=this.updateOrders.bind(this)}return(0,i.default)(e,null,[{key:"initClass",value:function(){this.prototype.re_labels=/(^|\s+)@([^\s,]+)/g,this.prototype.max_limit=500}}]),(0,i.default)(e,[{key:"syncLocalModel",value:function(e){e.length>0&&Signals.sendSignal("labels_updated",e)}},{key:"getOrAdd",value:function(e){e=this.normalizeName(e);var t=this.get(e);if(!t){var r=(0,s.labelGetMaxOrder)(l.default.getState())+1;t=l.default.dispatch((0,s.labelAdd)({name:e,item_order:r}))}return t}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=$values(l.default.getState().labels);return e&&(t=t.sort(o.default.sortByItemOrder)),t}},{key:"getById",value:function(e){return(0,s.labelGetByID)(l.default.getState(),e)}},{key:"getDataLabels",value:function(e){if(!e.labels)return[];var t=[],r=!0,n=!1,a=void 0;try{for(var i,o=e.labels[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,s=this.getById(l);s&&t.push("@".concat(s.name))}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}},{key:"getByName",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]){var t=(0,s.labelGetByName)(e,l.default.getState());return t?[t]:[]}return(0,s.labelGetBySearch)(l.default.getState(),e)}},{key:"normalizeName",value:function(e){return e=e.replace(/[<>"=#+\s%!?~:@,()&]+/g,"_")}},{key:"add",value:function(e){return(0,s.labelGetCount)(l.default.getState())>=this.max_limit?void alert((0,u.format)(_n("For performance reasons you can add at most one label.","For performance reasons you can add at most {n} labels.",this.max_limit),{n:this.max_limit})):(e.item_order||(e.item_order=(0,s.labelGetMaxOrder)(l.default.getState())+1),l.default.dispatch((0,s.labelAdd)(e)))}},{key:"get",value:function(e){return(0,s.labelGetByName)(e,l.default.getState())}},{key:"update",value:function(e,t){t.name&&(t.name=this.normalizeName(t.name));var r=this.getById(e);if(r)return l.default.dispatch((0,s.labelUpdate)(e,t)),r=this.getById(e)}},{key:"deleteLabel",value:function(e){this.getById(e)&&l.default.dispatch((0,s.labelRemove)(e))}},{key:"deleteMany",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;this.deleteLabel(o)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"getLabels",value:function(e){var t=this,r=e.content,n=[],a=function(r,a,i){return e.labels_to_ignore&&e.labels_to_ignore[i]?r:(i=t.normalizeName(i.toLowerCase()),t.get(i)?(n.push(i),""):r)};return r=r.replace(this.re_labels,a),[r,n]}},{key:"updateOrders",value:function(e){l.default.dispatch((0,s.labelUpdateOrders)(e))}}]),e}();c.initClass(),window.LabelsModel=new c;var d=window.LabelsModel;r.default=d},{"../reducers/labels":1010,"../stores/store":1048,"../utils":1094,"./UtilModels":175,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],159:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/defineProperty")),l=e("../models/Storage"),s=e("../utils/CellStorage"),u=e("../utils/deps"),c=n(e("./StatePersistence")),d=e("../react_components/confirm_dialog"),f=(0,u.defineDeps)("LoadEngine",["SyncEngine"]),p=function(){function e(){var t=this;(0,a.default)(this,e),(0,o.default)(this,"cleanReload",function(){return t.clearAllCachedData().then(function(){window.location.reload()})}),this.loadData=this.loadData.bind(this),this.clearAllCachedData=this.clearAllCachedData.bind(this),this.logout=this.logout.bind(this),Signals.connect("logout",function(){t.logout()}),Signals.connect("logout",function(){t.logout()}),Signals.connect("clean_reload",function(){t.cleanReload()}),Signals.connect("syncing_data",function(){t.fetched_data_from_server=!0})}return(0,i.default)(e,null,[{key:"initClass",value:function(){this.prototype.fetched_data_from_server=!1}}]),(0,i.default)(e,[{key:"loadData",value:function(){if(f.SyncEngine.loadCachedData(),this.shouldCleanReload())return this.cleanReload().then(function(){return new Promise(function(){})});Signals.sendSignal("load_cached_data");var e=c.default.load(),t=e.notes;return e.items.then(function(){return f.SyncEngine.isInitialSync()?f.SyncEngine.sync():(t.then(function(){return f.SyncEngine.sync(null,!0,!0)}),c.default.inIDB("notes")?Promise.resolve():t)})}},{key:"shouldCleanReload",value:function(){var e=$storage("lastCleanReloadID").get();return e?"4"!==e:!f.SyncEngine.isInitialSync()||($storage("lastCleanReloadID").set("4"),!1)}},{key:"clearAllCachedData",value:function(){return l.GlobalStorage.clear_all_cached_and_delayed(),window.localStorage.clear(),Signals.sendSignal("clear_local_data"),s.idbs.deleteDatabase().catch(function(){})}},{key:"logout",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=function(){e.clearAllCachedData().then(function(){if(t){var e="/Users/logout?csrf=".concat($cookie.get("csrf"));(window.HAS_MINI_ARGUMENT||window.MINI_VERSION)&&(e+="&mini=1"),window.location=e}})};0===f.SyncEngine.getQueueAllLength()?r():(0,d.showConfirmDialog)({message:_("You're in offline mode. Some changes you've made won't be saved. Log out anyway?"),confirmLabel:_("Log out"),cancelLabel:_("Go back"),onConfirm:function(){r()}})}}]),e}();p.initClass();var m=new p;window.logoutTodoist=function(){m.logout()};var h=m;r.default=h},{"../models/Storage":169,"../react_components/confirm_dialog":509,"../utils/CellStorage":1055,"../utils/deps":1071,"./StatePersistence":168,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],160:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("./Storage"),l=n(e("./SyncEngine")),s=function(){function e(){var t=this;(0,a.default)(this,e),this.initState=this.initState.bind(this),this.syncLocalModel=this.syncLocalModel.bind(this),this.getNotifications=this.getNotifications.bind(this),this.getUnreadCount=this.getUnreadCount.bind(this),this.markNotesAsRead=this.markNotesAsRead.bind(this),this.syncLastRead=this.syncLastRead.bind(this),this.getLastRead=this.getLastRead.bind(this),this.markAsRead=this.markAsRead.bind(this),this.markRead=this.markRead.bind(this),this.markReadAll=this.markReadAll.bind(this),this.markUnread=this.markUnread.bind(this),this.acceptInvitationBiz=this.acceptInvitationBiz.bind(this),this.rejectInvitationBiz=this.rejectInvitationBiz.bind(this),this.doInvitationGenericBiz=this.doInvitationGenericBiz.bind(this),this.acceptInvitation=this.acceptInvitation.bind(this),this.rejectInvitation=this.rejectInvitation.bind(this),this.doInvitationGeneric=this.doInvitationGeneric.bind(this),this.syncCachedData=this.syncCachedData.bind(this),this.loadCachedData=this.loadCachedData.bind(this),this.initState(),Signals.connect("clear_local_data",this.initState),Signals.connect("load_cached_data",function(){t.loadCachedData()})}return(0,i.default)(e,[{key:"initState",value:function(){this.noti_model={},this.last_read_id=0,this.initial_sync=!0}}]),(0,i.default)(e,[{key:"deserializeFields",value:function(e){e.created=new Date(e.created).getTime()}},{key:"syncLocalModel",value:function(e){var t=this.noti_model,r=!0;this.initial_sync?r=!1:l.default.isInitialSync()&&(r=!1);var n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;this.deserializeFields(u);var c;if(void 0===t[u.notification_key]&&(c=!0),t[u.notification_key]=u,u.is_deleted){t[u.notification_key]&&delete t[u.notification_key]}else r&&c&&Signals.sendSignal("notify",u)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}var d=this.getNotifications();if(d.length>120){var f=!0,p=!1,m=void 0;try{for(var h,_=d.slice(120)[Symbol.iterator]();!(f=(h=_.next()).done);f=!0){var v=h.value;t[v.notification_key]&&delete t[v.notification_key]}}catch(e){p=!0,m=e}finally{try{f||null==_.return||_.return()}finally{if(p)throw m}}}this.syncCachedData(),this.initial_sync=!1}},{key:"getNotifications",value:function(){var e=$values(this.noti_model);return e=e.sort(function(e,t){return t.id-e.id})}},{key:"getUnreadCount",value:function(){var e=this.last_read_id,t=0,r=!0,n=!1,a=void 0;try{for(var i,o=this.getNotifications()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){i.value.id>e&&(t+=1)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}},{key:"markNotesAsRead",value:function(e){var t={},r=!0,n=!1,a=void 0;try{for(var i,o=this.getNotifications()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;l.note_id&&(t[l.note_id]=l)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}var s=[],u=!0,c=!1,d=void 0;try{for(var f,p=e[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value,h=t[m.id];h&&1===h.is_unread&&(h.is_unread=0,s.push(h.id),Signals.sendSignal("noti_updated",h))}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}s.length>0&&(this.markRead(s),Signals.sendSignal("notifications_updated")),t=null}},{key:"syncLastRead",value:function(e){this.last_read_id=e,this.syncCachedData(),Signals.sendSignal("notifications_updated")}},{key:"getLastRead",value:function(){return this.last_read_id}},{key:"markAsRead",value:function(e){e.id!==this.last_read_id&&(this.last_read_id=e.id,this.last_read_id&&(this.syncCachedData(),l.default.queueUpdate({type:"live_notifications_set_last_read",args:{id:this.last_read_id}})))}},{key:"markRead",value:function(e){this.syncCachedData(),l.default.queueUpdate({type:"live_notifications_mark_read",args:{ids:e}})}},{key:"markReadAll",value:function(){this.syncCachedData(),l.default.queueUpdate({type:"live_notifications_mark_read_all"})}},{key:"markUnread",value:function(e){this.syncCachedData(),l.default.queueUpdate({type:"live_notifications_mark_unread",args:{ids:e}})}},{key:"acceptInvitationBiz",value:function(e,t,r){this.doInvitationGenericBiz("biz_accept_invitation",e,t,r)}},{key:"rejectInvitationBiz",value:function(e,t,r){this.doInvitationGenericBiz("biz_reject_invitation",e,t,r)}},{key:"doInvitationGenericBiz",value:function(e,t,r,n){var a=function(){r&&r()},i={onSuccess:a,onError:n};l.default.queueUpdate({type:e,args:{invitation_id:t.invitation_id,invitation_secret:t.invitation_secret}}),l.default.sync(i,!0),this.noti_model[t.notification_key]&&(delete this.noti_model[t.notification_key],this.syncCachedData())}},{key:"acceptInvitation",value:function(e,t,r){this.doInvitationGeneric("accept_invitation",e,t,r)}},{key:"rejectInvitation",value:function(e,t,r){this.doInvitationGeneric("reject_invitation",e,t,r),this.noti_model[e.notification_key]&&(delete this.noti_model[e.notification_key],this.syncCachedData())}},{key:"doInvitationGeneric",value:function(e,t,r,n){var a=function(){r&&r()},i={onSuccess:a,onError:n};l.default.queueUpdate({type:e,args:{invitation_id:t.invitation_id,invitation_secret:t.invitation_secret}}),l.default.sync(i,!0)}},{key:"syncCachedData",value:function(){(0,o.$storage)("Notifications").set(this.noti_model),(0,o.$storage)("NotificationsLastReadId").set(this.last_read_id)}},{key:"loadCachedData",value:function(){var e=(0,o.$storage)("Notifications").get();this.noti_model=e||{},$values(this.noti_model).forEach(this.deserializeFields);var t=(0,o.$storage)("NotificationsLastReadId").get();this.last_read_id=t||0}}]),e}();window.NotificationsModel=new s;var u=window.NotificationsModel;r.default=u},{"./Storage":169,"./SyncEngine":171,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],161:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("@babel/runtime/helpers/toConsumableArray")),s=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),c=e("../utils"),d=e("../reducers/projects"),f=function(){return e("../stores/store").default},p=function(){function e(){(0,s.default)(this,e),this.syncLocalModel=this.syncLocalModel.bind(this),this.get=this.get.bind(this),this.getInbox=this.getInbox.bind(this),this.getTeamInbox=this.getTeamInbox.bind(this),this.getIds=this.getIds.bind(this),this.getAll=this.getAll.bind(this),this.getChildren=this.getChildren.bind(this),this.getParent=this.getParent.bind(this),this.getByName=this.getByName.bind(this),this.add=this.add.bind(this),this.deleteMany=this.deleteMany.bind(this),this.update=this.update.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this)}return(0,u.default)(e,[{key:"model_data",get:function(){return f().getState().projects}}],[{key:"initClass",value:function(){this.prototype.max_indent=4}}]),(0,u.default)(e,[{key:"syncLocalModel",value:function(e,t){}},{key:"get",value:function(e){return(0,d.projectGetByID)(f().getState(),e)}},{key:"getInbox",value:function(){return(0,d.projectGetInbox)(f().getState())}},{key:"getTeamInbox",value:function(){return(0,d.projectGetTeamInbox)(f().getState())}},{key:"getIds",value:function(){return $keys(f().getState().projects)}},{key:"getAll",value:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.with_indent;return void 0!==t&&t?(0,d.projectGetActiveWithIndent)(f().getState()):(0,d.projectGetActiveSorted)(f().getState())}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,d.projectGetChildren)(e.id,f().getState());if(t){var n=this.get(e.id);return n?[n].concat((0,l.default)(r)):[]}return r}},{key:"getParent",value:function(e){return(0,d.projectGetParent)(f().getState(),e.id)}},{key:"getByName",value:function(e){return(0,d.projectGetByNameSearch)(e.trim(),f().getState())}},{key:"add",value:function(e){var t,r=this.getAll();return t=window.User.is_premium&&window.User.business_account_id?501:window.User.is_premium?301:81,r.length>=t?void alert((0,c.format)(_n("For performance reasons you can add at most one project. Please archive or delete some of your finished projects.","For performance reasons you can add at most {n} projects. Please archive or delete some of your finished projects.",t),{n:t})):f().dispatch((0,d.projectAdd)(e))}},{key:"moveAndReorder",value:function(e,t){var r=t.noUndo;f().dispatch((0,d.projectMoveAndReorder)(e,{noUndo:r}))}},{key:"deleteMany",value:function(e){f().dispatch(d.projectRemove.apply(void 0,(0,l.default)(e)))}},{key:"update",value:function(e,t){var r=this.get(e);if(r)return(t.indent||t.item_order||t.parent_id)&&(t=(0,c.omit)(t,["indent","item_order","parent_id"])),f().dispatch((0,d.projectUpdate)(e,t)),t.name&&Signals.sendSignal("project.name.changed",r),a({},r,{},t)}},{key:"updateLocalFields",value:function(e){e=a({},e);var t=!0,r=!1,n=void 0;try{for(var i,o=(0,c.keys)(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;this.get(l)||delete e[l]}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}f().dispatch((0,d.projectUpdateLocalFields)(e))}},{key:"archive",value:function(e){f().dispatch((0,d.projectArchive)(e))}},{key:"unarchive",value:function(e){f().dispatch((0,d.projectUnarchive)(e))}},{key:"fetchArchivedProject",value:function(e){return f().dispatch((0,d.projectFetchArchived)(e))}},{key:"archivedFeteched",value:function(e){f().dispatch((0,d.projectArchivedFeteched)(e))}}]),e}();p.initClass(),window.ProjectsModel=new p;var m=window.ProjectsModel;r.default=m},{"../reducers/projects":1026,"../stores/store":1048,"../utils":1094,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],162:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return function(){try{return e.apply(null,arguments)}catch(e){throw p.captureError(e,{tags:{where:"hierachy"},extra:{args:arguments}}),e}}}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.deriveProjectIndentItemOrder=r.deriveProjectParentChildOrder=r.deriveTaskParentChild=r._deriveIndentItemOrder=r.deriveIndentItemOrder=r.deriveParentChildOrder=void 0;var s=l(e("@babel/runtime/helpers/slicedToArray")),u=l(e("@babel/runtime/helpers/toConsumableArray")),c=l(e("@babel/runtime/helpers/defineProperty")),d=e("redux"),f=e("../utils/fp"),p=o(e("../logger/Logger")),m=(0,f.sortBy)(["item_order","id"]),h=function e(t,r,n){for(var i=t.reduce(function(e,t,r){return t.indent==n+1&&e.push(r),e},[]),o=0;o<i.length;o++){var l=i[o],s=t[l];s=a({},s,{parent_id:r,child_order:o+1}),t[l]=s}i.push(t.length);for(var c=1;c<i.length;c++){var d=i[c],f=i[c-1],p=t[f],m=t.slice(f+1,d);0!=m.length&&(m=e(m,p.id,p.indent),t.splice.apply(t,[f+1,m.length].concat((0,u.default)(m))))}return t},_=i(function(e){return e=m(e),e=R(e),h(e,null,0)});r.deriveParentChildOrder=_;var v=i(function(e){var t=E(e);return b(t,null,0)});r.deriveIndentItemOrder=v;var b=function e(t,r,n){var i=t[r];if(!i)return[];for(var o=[],l=0;l<i.length;l++){var s=a({},i[l],{indent:n+1});o.push(s);var u=t[s.id];u&&(u=e(t,s.id,s.indent),o=o.concat(u))}return o=o.map(function(e,t){return a({},e,{item_order:t+1})})};r._deriveIndentItemOrder=b;var y=(0,d.compose)((0,f.mapValues)(f.head),(0,f.groupBy)("id")),g=function(e){return(0,d.compose)(function(e){return h(e,null,0)},R,m)(e)};r.deriveTaskParentChild=g;var E=(0,d.compose)((0,f.mapValues)((0,f.sortBy)(["child_order"])),(0,f.groupBy)("parent_id")),T=function(e){var t=(0,d.compose)((0,f.partition)(function(e){return e.inbox_project||e.team_inbox}),f.values)(e),r=(0,s.default)(t,2),n=r[0],i=r[1];return i=(0,d.compose)(y,_)(i),n=y(n),a({},i,{},n)};r.deriveProjectParentChildOrder=T;var w=function(e){var t=(0,d.compose)((0,f.partition)(function(e){return e.inbox_project||e.team_inbox}),f.values)(e),r=(0,s.default)(t,2),n=r[0],i=r[1];return i=(0,d.compose)(y,v)(i),n=y(n),a({},i,{},n)};r.deriveProjectIndentItemOrder=w;var R=function(e){if(0===e.length)return e;var t=0,r=!1,n=e.map(function(e){return e.indent<t?(t=e.indent,e):e.indent===t?e:e.indent===t+1?(t=e.indent,e):e.indent>t+1?(e=a({},e,{indent:t+1}),r=!0,e):void 0});return r?n:e}},{"../logger/Logger":132,"../utils/fp":1083,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,redux:"redux"}],163:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.BufferedRemindersModel=r.RemindersModel=r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/defineProperty")),l=e("./Storage"),s=n(e("./TemporaryIds")),u=n(e("./SyncEngine")),c=n(e("./UtilModels")),d=n(e("../models/DateExt")),f=e("../utils"),p=function(){function e(){var t=this;(0,a.default)(this,e),(0,o.default)(this,"receiveBridgeUpdate",function(e){var r=e.reminders;r&&(t.model_data=r,t.syncCachedData({bridgeUpdate:!1}))}),this.initState=this.initState.bind(this),this.syncLocalModel=this.syncLocalModel.bind(this),this.getAllReminders=this.getAllReminders.bind(this),this.hasReminders=this.hasReminders.bind(this),this.getRemindersByItemId=this.getRemindersByItemId.bind(this),this.resolveTempId=this.resolveTempId.bind(this),this.hasExceededMaxLimit=this.hasExceededMaxLimit.bind(this),this.add=this.add.bind(this),this.addLocation=this.addLocation.bind(this),this._addToModel=this._addToModel.bind(this),this.remove=this.remove.bind(this),this.removeRelative=this.removeRelative.bind(this),this.syncCachedData=this.syncCachedData.bind(this),this.convertDueToDateExt=this.convertDueToDateExt.bind(this),this.removeMissingDueReminder=this.removeMissingDueReminder.bind(this),this.loadCachedData=this.loadCachedData.bind(this),this.handleItemArchive=this.handleItemArchive.bind(this),this.initState(),Signals.connect("clear_local_data",this.initState),Signals.connect("load_cached_data",function(){t.loadCachedData()}),Signals.connect("resolve_temp.reminder",function(e,r){t.resolveTempId(e,r)}),Signals.connect("bridge:redux_update",this.receiveBridgeUpdate)}return(0,i.default)(e,[{key:"initState",value:function(){this.model_data={},this.cache_has_reminders={}}}],[{key:"initClass",value:function(){this.prototype.loaded=!1}}]),(0,i.default)(e,[{key:"syncLocalModel",value:function(e){var t=this;e.length>0&&(e.forEach(function(e){return e&&t.convertDueToDateExt(e)}),c.default.syncLocalModel(e,this.model_data),this.syncCachedData())}},{key:"getAllReminders",value:function(){return $values(this.model_data)}},{key:"hasReminders",value:function(e){if(void 0===this.cache_has_reminders[e]){this.getRemindersByItemId(e).length>0?this.cache_has_reminders[e]=!0:this.cache_has_reminders[e]=!1}return this.cache_has_reminders[e]}},{key:"getRemindersByItemId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=s.default.getRealId(e);var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=$values(this.model_data)[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var u=o.value;if(u.item_id===e){if(null!==t&&u.type!==t)continue;r.push(u)}}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}},{key:"resolveTempId",value:function(e,t){var r=this.model_data[e];r&&(r.id=t,delete this.model_data[e],this.model_data[t]=r,s.default.isTemporary(r.notify_uid)&&(r.notify_uid=s.default.getRealId(r.notify_uid)),s.default.isTemporary(r.item_id)&&(r.item_id=s.default.getRealId(r.item_id)),this.syncCachedData())}},{key:"hasExceededMaxLimit",value:function(){return $values(this.model_data).length>700}},{key:"hasExceededMaxLimitForLocRmd",value:function(){return $values(this.model_data).filter(function(e){return"location"===e.type}).length>=300}},{key:"hasExceededMaxLimitForTimeRmd",value:function(){return $values(this.model_data).filter(function(e){return"location"!==e.type}).length>=700}},{key:"add",value:function(e){var t="relative"!==e.type&&"absolute"!==e.type;if(!this.hasExceededMaxLimit()&&!t){var r={},n=r.id=s.default.generate("reminder");void 0!==e.minute_offset?r.type="relative":r.type="absolute",e.type=r.type,e.notify_uid&&(r.notify_uid=e.notify_uid),e.service?r.service=e.service:(e.service="default",r.service="default"),this.model_data[n]=r,$update(r,e);var a=Object.assign({},e,{due:e.due?e.due.toAPIFormat():null});return u.default.queueUpdate({type:"reminder_add",args:a,temp_id:n}),this.syncCachedData(),r}}},{key:"addLocation",value:function(e){var t,r={};return t=r.id?r.id:r.id=s.default.generate("reminder"),this.model_data[t]=r,$update(r,e),u.default.queueUpdate({type:"reminder_add",args:e,temp_id:t}),this.syncCachedData(),r}},{key:"_addToModel",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.model_data[e.id]=e,t&&this.syncCachedData()}},{key:"featureEnabled",value:function(){return!!window.User.is_premium||(window.User.features.restriction||window.User.restriction||0)>0}},{key:"remove",value:function(e){e=s.default.getRealId(e),this.model_data[e]&&delete this.model_data[e],u.default.queueUpdate({type:"reminder_delete",args:{id:e}}),this.syncCachedData()}},{key:"removeRelative",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=this.getRemindersByItemId(e,"relative")[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;this.remove(o.id)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"syncCachedData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bridgeUpdate,r=void 0===t||t;this.removeMissingDueReminder(),(0,l.$storage)("Reminders").set(this.model_data),this.cache_has_reminders={},r&&this.sendBridgeUpdate()}},{key:"sendBridgeUpdate",value:function(){Signals.sendSignal("bridge:model_update",{reminders:this.model_data})}},{key:"convertDueToDateExt",value:function(e){return!e.due||e.due instanceof d.default?e:(e.due instanceof Object&&(e.due=new d.default(e.due)),e)}},{key:"removeMissingDueReminder",value:function(){var e=[];for(var t in this.model_data){var r=this.model_data[t];"absolute"===r.type&&!r.due&&e.push(r)}for(var n=0,a=e;n<a.length;n++){var i=a[n];delete this.model_data[i.id]}return e.length>0}},{key:"loadCachedData",value:function(){var e=(0,l.$storage)("Reminders").get();this.model_data=e||{};for(var t in this.model_data){var r=this.model_data[t];this.convertDueToDateExt(r)}this.removeMissingDueReminder()&&this.syncCachedData(),this.sendBridgeUpdate(),this.loaded=!0}},{key:"handleItemArchive",value:function(e){var t=$values(this.model_data).filter(function(t){return e.includes(t.item_id)}).map(function(e){return e.id}),r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;delete this.model_data[l]}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t.length>0&&this.syncCachedData(),t}}]),e}();p.initClass();var m=function(){function e(){(0,a.default)(this,e),this.getCurItem=this.getCurItem.bind(this),this.commitBuffered=this.commitBuffered.bind(this),this.getCurrentReminders=this.getCurrentReminders.bind(this)}return(0,i.default)(e,[{key:"getCurItem",value:function(){var e={};this.cur_item?$update(e,this.cur_item):(e.id="_buf_rem",e.project_id=this.current_project_id);var t=$all("input","input_due_date");if(t.length>0){var r=t[0].value;try{var n=f.DateUtils.parse(r);n.due_date&&(e.due=d.default.fromDateist(n))}catch(t){e.due=null}}return e}},{key:"commitBuffered",value:function(e){if(this.reminders.length>0){var t=!0,r=!1,n=void 0;try{for(var a,i=this.reminders[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.item_id=e.id,"location"===o.type?h.addLocation(o):h.add(o)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}},{key:"getCurrentReminders",value:function(){try{return this.getRemindersByItemId(this.getCurItem().id)}catch(e){return[]}}},{key:"getRemindersByItemId",value:function(e){return this.use_buffered?this.reminders:h.getRemindersByItemId(e)}},{key:"add",value:function(e){return this.use_buffered?(e.id=s.default.generate("reminder"),this.reminders.push(e)):e="location"===e.type?h.addLocation(e):h.add(e),e}},{key:"remove",value:function(e){if(this.use_buffered){var t=[],r=!0,n=!1,a=void 0;try{for(var i,o=this.reminders[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;l.id!==e&&t.push(l)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}this.reminders=t}else h.remove(e)}},{key:"reset",value:function(){this.reminders=[],this.cur_item=null,this.use_buffered=!1}}],[{key:"initClass",value:function(){this.prototype.use_buffered=!1,this.prototype.cur_item=null,this.prototype.current_project_id=null,this.prototype.reminders=[]}}]),e}();m.initClass();var h=new p;r.RemindersModel=h;var _=new m;r.BufferedRemindersModel=_;var v={RemindersModel:h,BufferedRemindersModel:_};r.default=v,window.RemindersModel=h},{"../models/DateExt":154,"../utils":1094,"./Storage":169,"./SyncEngine":171,"./TemporaryIds":174,"./UtilModels":175,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],164:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("./Storage"),l=function(){function e(){var t=this;(0,a.default)(this,e),this.initState=this.initState.bind(this),this.syncLocalModel=this.syncLocalModel.bind(this),this.getLastLocations=this.getLastLocations.bind(this),this.syncCachedData=this.syncCachedData.bind(this),this.loadCachedData=this.loadCachedData.bind(this),this.initState(),Signals.connect("clear_local_data",this.initState),Signals.connect("load_cached_data",function(){t.loadCachedData()})}return(0,i.default)(e,[{key:"initState",value:function(){this.model_data=[]}}]),(0,i.default)(e,[{key:"syncLocalModel",value:function(e){this.model_data=e,this.syncCachedData()}},{key:"getLastLocations",value:function(){return this.model_data}},{key:"syncCachedData",value:function(){(0,o.$storage)("RemindersLocation").set(this.model_data)}},{key:"loadCachedData",value:function(){var e=(0,o.$storage)("RemindersLocation").get();this.model_data=e||[]}}]),e}(),s=new l;r.default=s},{"./Storage":169,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],165:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("../stores/store")),l=e("../reducers/sections"),s=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,[{key:"getByID",value:function(e){return o.default.getState().sections[e]}},{key:"add",value:function(e){return o.default.dispatch((0,l.sectionAdd)(e))}},{key:"remove",value:function(e){return o.default.dispatch((0,l.sectionRemove)(e))}},{key:"archive",value:function(e){return o.default.dispatch((0,l.sectionArchive)(e))}},{key:"unarchive",value:function(e){return o.default.dispatch((0,l.sectionUnarchive)(e))}},{key:"update",value:function(e){return o.default.dispatch((0,l.sectionUpdate)(e))}},{key:"move",value:function(e){return o.default.dispatch((0,l.sectionMove)(e))}},{key:"reorder",value:function(e,t){return o.default.dispatch((0,l.sectionReorder)(e,t))}},{key:"getByPID",value:function(e){return(0,l.sectionGetByPID)(e)(o.default.getState())}}]),e}(),u=new s;r.default=u},{"../reducers/sections":1032,"../stores/store":1048,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],166:[function(e,t,r){"use strict";function n(e,t){try{var r=e instanceof Array;e=r?e:[e];var n="/predict_date";b.default.smartScheduleDomain&&(n="https://".concat(b.default.smartScheduleDomain,"/v2/predict_date"));var i=$requestJSON(n,"POST"),o=e.map(u),d=new Map,f=!0,m=!1,h=void 0;try{for(var _,v=o.entries()[Symbol.iterator]();!(f=(_=v.next()).done);f=!0){var y=(0,p.default)(_.value,2),g=y[0],E=y[1];E.item_id||(E.item_id=-1*(g+1)),d.set(E.item_id,g)}}catch(e){m=!0,h=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw h}}var T=s(new Date),w={access_token:window.User.token,user_id:window.User.id,items:o,weekly_items:a(),user_time:T,user_lang:window.LANG,client_info:"web app"};i.addCallback(function(n){n.predictions.sort(function(e,t){return d.get(e.item_id)-d.get(t.item_id)});var a=n.predictions.map(function(e){return l(e.due_date)}),i=!0,o=!1,s=void 0;try{for(var u,f=e.entries()[Symbol.iterator]();!(i=(u=f.next()).done);i=!0){var m=(0,p.default)(u.value,2),h=m[0],_=m[1];if(_.due&&_.due.is_recurring&&_.due.isInFuture){var v=_.due.nextRecurrence(),b=(0,p.default)(v,1),y=b[0];a[h]=y.toDate()}}}catch(e){o=!0,s=e}finally{try{i||null==f.return||f.return()}finally{if(o)throw s}}c(e,a),r?t(a,null):t(a[0],null)}),i.addErrback(function(e){t(null,new Error(e))}),i.sendReq($serialize(w),!0,"application/json")}catch(e){t(null,e)}}function a(){return m.filter("7 days",y.default.getState()).map(function(e){return e.items}).reduce(function(e,t){return e.concat(t)},[]).map(u)}function i(e){return e<10?"0"+e:e}function o(e){return"".concat(e.getFullYear(),"-").concat(i(e.getMonth()+1),"-").concat(i(e.getDate()))}function l(e){var t=g.exec(e);if(!t)return new Date;try{var r=[parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3])],n=r[0],a=r[1],i=r[2];return new Date(n,a,i)}catch(e){return new Date}}function s(e){var t=e.getFullYear(),r=i(e.getMonth()+1),n=i(e.getDate()),a=i(e.getHours()),o=i(e.getMinutes()),l=i(e.getSeconds()),s=e.getTimezoneOffset(),u=i(Math.abs(Math.floor(s/60))),c=i(Math.abs(s%60)),d=s>0?"-":"+",f="".concat(d).concat(u,":").concat(c);return"".concat(t,"-").concat(r,"-").concat(n,"T").concat(a,":").concat(o,":").concat(l).concat(f)}function u(e){var t=null,r=null;e.due&&(t=e.due.with_time?s(e.due):o(e.due),r=e.due.string);var n=e.date_added?new Date(e.date_added):new Date,a=s(n),i=h.default.get(e.project_id),l=i&&i.name||_("Undefined"),u=e.labels.map(function(e){var t=v.default.getById(e);return t?t.name:null}).filter(function(e){return e});return{item_id:e.id?e.id:null,content:e.content,due_date:t,date_string:r,date_added:a,postpone_count:0,priority:e.priority,label_names:u,project_name:l}}function c(e,t){E.clear();var r=!0,n=!1,a=void 0;try{for(var i,o=e.entries()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=(0,p.default)(i.value,2),s=l[0],u=l[1];E.set(u.id,t[s])}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}var d=e("@babel/runtime/helpers/interopRequireWildcard"),f=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.predictItemDuedate=n,r.isoDateStr=o,r.isoDateStrToDate=l,r.default=void 0;var p=f(e("@babel/runtime/helpers/slicedToArray")),m=d(e("../filterist")),h=f(e("./ProjectsModel")),v=f(e("./LabelsModel")),b=f(e("../models/Config")),y=f(e("../stores/store")),g=/\s*(\d\d\d\d)-(\d\d)-(\d\d)\s*/i,E=new Map;Signals.connect("item_updated",function(e){try{if(!E.has(e.id))return;var t=E.get(e.id);if(!e.due||e.due.isSameDate(t))return void E.delete(e.id);var r=e.due.with_time?s(e.due):o(e.due),n={access_token:window.User.token,user_id:window.User.id,user_result:[{item_id:e.id,due_date:r}]};fetch("https://".concat(b.default.smartScheduleDomain,"/v2/predict_date/accuracy_log"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch(function(){})}catch(e){}});var T={predictItemDuedate:n,isoDateStr:o,isoDateStrToDate:l};r.default=T},{"../filterist":117,"../models/Config":152,"../stores/store":1048,"./LabelsModel":158,"./ProjectsModel":161,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199}],167:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o={waiting:1,reordering:2},l=function(){function e(){(0,a.default)(this,e),this.set=this.set.bind(this),this.get=this.get.bind(this),this.DragMode=o,this.model_data={drag_and_drop_mode:o.waiting}}return(0,i.default)(e,[{key:"set",value:function(e,t){this.model_data[e]=t}},{key:"get",value:function(e){return this.model_data[e]}}]),e}(),s=new l;r.default=s},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],168:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.attachChangePersister=void 0;var a=n(e("@babel/runtime/helpers/toConsumableArray")),i=n(e("@babel/runtime/helpers/defineProperty")),o=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),s=e("../utils"),u=e("../utils/fp"),c=e("../reducers/load"),d=n(e("../stores/store")),f=function(){function e(){var t;(0,o.default)(this,e),this.storages=(t={},(0,i.default)(t,"settings.theme",$storage("LocalSettings.theme")),(0,i.default)(t,"tooltip.scheduled",$storage("TooltipStore.scheduledTipList")),(0,i.default)(t,"tooltip.seen",$storage("TooltipStore.seenList")),(0,i.default)(t,"filters",$storage("Filters")),(0,i.default)(t,"labels",$storage("Labels")),(0,i.default)(t,"projects",$storage("Projects")),(0,i.default)(t,"sections",$storage("sections")),(0,i.default)(t,"stats",$storage("stats")),(0,i.default)(t,"user",$storage("User")),(0,i.default)(t,"moreNotes",$storage("moreNotes")),(0,i.default)(t,"collaborators",$storage("collaborators")),(0,i.default)(t,"completed",$storage("completed")),t),this.cellStorages={notes:new s.CellStorage("notes"),items:new s.CellStorage("items"),drafts:new s.CellStorage("drafts")}}return(0,l.default)(e,[{key:"inIDB",value:function(e){return this.cellStorages[e]&&this.cellStorages[e].usingIndexedDB}},{key:"load",value:function(){var e=(0,s.mapValues)(this.storages,function(e){return e.get()});return d.default.dispatch((0,c.loadLocalData)(e)),this.loadStatus=(0,s.mapValues)(this.cellStorages,function(e,t){return e.get().then(function(e){d.default.dispatch((0,c.loadLocalData)((0,i.default)({},t,e)))})}),this.attachStorePersister(),this.loadStatus}},{key:"attachStorePersister",value:function(){var e=this;[].concat((0,a.default)((0,s.keys)(this.storages)),(0,a.default)((0,s.keys)(this.cellStorages))).forEach(function(t){var r=e.storages[t]||e.cellStorages[t];p(d.default,(0,u.get)(t),r)})}}]),e}(),p=function(e,t,r){var n=t(e.getState());return e.subscribe(function(){var a=t(e.getState());n!==a&&(void 0===a||null===a?r.clear():r.set(a),n=a)})};r.attachChangePersister=p;var m=new f;r.default=m},{"../reducers/load":1014,"../stores/store":1048,"../utils":1094,"../utils/fp":1083,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],169:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.$storage=r.GlobalStorage=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=n(e("../logger/Logger")),s=function(){function e(){(0,i.default)(this,e),this.set_delayed=this.set_delayed.bind(this),this.get=this.get.bind(this),this.remove=this.remove.bind(this),this._clear_delayed_set=this._clear_delayed_set.bind(this),this.commitAllDelayed=this.commitAllDelayed.bind(this),this.commitAll=this.commitAll.bind(this),this._commit=this._commit.bind(this),this.clear_all_cached_and_delayed=this.clear_all_cached_and_delayed.bind(this),this.cache={},this.delayed_set={},this.manual_commit=!1}return(0,o.default)(e,[{key:"set_delayed",value:function(e,t){var r=this;if(void 0===t)return void this.remove(e);if(this.cache[e]=t,this._clear_delayed_set(e),!0!==this.manual_commit){var n=function(){r._commit(e,r.cache[e]),r.delayed_set[e]&&delete r.delayed_set[e]};this.delayed_set[e]=setTimeout(n,.5)}return t}},{key:"get",value:function(e){var t;if(void 0!==this.cache[e])return this.cache[e];var r=localStorage.getItem(e);if(null===r)return null;if("undefined"===r)return this.remove(e),null;try{t=window.JSON.parse(r)}catch(r){throw l&&l.captureError(new Error("$storage deserialize error"),{extra:{storage_key:e,value:t,error:r.message}}),r}return this.cache[e]=t,t}},{key:"remove",value:function(e){localStorage.removeItem(e),this.cache[e]&&delete this.cache[e],this._clear_delayed_set(e)}},{key:"_clear_delayed_set",value:function(e){this.delayed_set[e]&&(clearTimeout(this.delayed_set[e]),delete this.delayed_set[e])}},{key:"commitAllDelayed",value:function(){for(var e in this.cache){var t=this.cache[e];this.set_delayed(e,t)}}},{key:"commitAll",value:function(){for(var e in this.cache){var t=this.cache[e];this._commit(e,t)}}},{key:"_commit",value:function(e,t){var r=JSON.stringify(t);r!==localStorage.getItem(e)&&localStorage.setItem(e,r)}},{key:"clear_all_cached_and_delayed",value:function(e){for(e in this.cache)this._clear_delayed_set(e);this.cache={},this.delayed_set={}}}]),e}(),u=new s;r.GlobalStorage=u;var c=function(e){return{set:function(t){return u.set_delayed(e,t)},get:function(){return u.get(e)},clear:function(){u.remove(e)}}};r.$storage=c,window.$storage=c,window.GlobalStorage=u;var d={$storage:c,GlobalStorage:u};r.default=d},{"../logger/Logger":132,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],170:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=e("./Storage"),s=a(e("./LabelsModel")),u=e("./Reminders"),c=a(e("./RemindersLocationModel")),d=a(e("./NotificationsModel")),f=a(e("../stores/store")),p=a(e("../logger/Logger")),m=n(e("./SyncLogs")),h=e("../reducers/sync"),_=function(e){try{e()}catch(e){var t=p.default.captureError(e,{tags:{where:"SyncData"}});m.default.log(m.LOG_PIPE_ERR,{eventID:t,error:e.message})}},v=function(){function e(){var t=this;(0,i.default)(this,e),this.syncLocalData=this.syncLocalData.bind(this),Signals.connect("sync_local_data",function(e){t.syncLocalData(e)})}return(0,o.default)(e,[{key:"syncLocalData",value:function(e){try{l.GlobalStorage.manual_commit=!0,Signals.sendSignal("syncing_data",e),_(function(){e.full_sync?f.default.dispatch((0,h.receiveFullSyncUpdate)(e)):f.default.dispatch((0,h.receiveSyncUpdate)(e))}),e.day_orders_timestamp&&(0,l.$storage)("DayOrdersTimestamp").set(e.day_orders_timestamp),e.labels&&_(function(){return s.default.syncLocalModel(e.labels)}),e.reminders&&_(function(){return u.RemindersModel.syncLocalModel(e.reminders)}),e.locations&&_(function(){return c.default.syncLocalModel(e.locations)}),e.live_notifications&&_(function(){return d.default.syncLocalModel(e.live_notifications)}),void 0!==e.live_notifications_last_read_id&&_(function(){return d.default.syncLastRead(e.live_notifications_last_read_id)}),Signals.sendSignal("refresh_interface"),l.GlobalStorage.manual_commit=!1,l.GlobalStorage.commitAllDelayed()}catch(e){p.default.captureError(e,{tags:{critical:"sync"}})}}}]),e}(),b=new v;r.default=b},{"../logger/Logger":132,"../reducers/sync":1038,"../stores/store":1048,"./LabelsModel":158,"./NotificationsModel":160,"./Reminders":163,"./RemindersLocationModel":164,"./Storage":169,"./SyncLogs":172,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],171:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=e("../utils"),s=e("./Storage"),u=a(e("./TemporaryIds")),c=a(e("./VersionUpdater")),d=a(e("./SyncQueue")),f=a(e("./UtilModels")),p=a(e("../models/Config")),m=n(e("./SyncLogs")),h=a(e("../logger/Logger")),_=function(){function e(){var t=this;(0,i.default)(this,e),this.queueUpdate=this.queueUpdate.bind(this),this.scheduleSync=this.scheduleSync.bind(this),this.getSyncState=this.getSyncState.bind(this),this.getQueueAllLength=this.getQueueAllLength.bind(this),this.getQueueSuccessLength=this.getQueueSuccessLength.bind(this),this.getQueueErrorLength=this.getQueueErrorLength.bind(this),this.queueIncludesErrors=this.queueIncludesErrors.bind(this),this.sync=this.sync.bind(this),this._setSyncingState=this._setSyncingState.bind(this),this._setGlobalError=this._setGlobalError.bind(this),this._processSyncQueue=this._processSyncQueue.bind(this),this._queueWithoutErrorMeta=this._queueWithoutErrorMeta.bind(this),this.sync_queue=new d.default,this.number_of_errors=0,this.max_notes=5,this.sync_states={idle:1,syncing:2},this.sync_timeouts={mini:400,full:1500},this.last_synced=new Date,this.client_id=(0,l.GUID)(),this.sync_token=null,this.api_version="v8.6",this.sync_lock=new l.Lock,h.default.setTagsContext({api_version:this.api_version}),Signals.connect("clear_local_data",function(){(0,s.$storage)("TimestampS2").clear(),t.sync_token="*"})}return(0,o.default)(e,[{key:"isInitialSync",value:function(){if(void 0===this.sync_token)throw new Error("SyncEngine.isInitialSync() error: cached data should be loaded prior to the call");return"*"===this.sync_token}},{key:"loadCachedData",value:function(){var e=(0,s.$storage)("TimestampS2").get()
;this.sync_token=e||"*"}},{key:"updateSyncToken",value:function(e){e.sync_token&&(this.sync_token=e.sync_token,(0,s.$storage)("TimestampS2").set(this.sync_token))}},{key:"queueUpdate",value:function(e){this.sync_queue.add(e),this.scheduleSync()}},{key:"scheduleSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=window.MINI_VERSION?this.sync_timeouts.mini:this.sync_timeouts.full);var t=Date.now()+e;this.scheduled_sync_time&&this.scheduled_sync_time>t||(this.scheduled_sync_timeout&&clearTimeout(this.scheduled_sync_timeout),this.scheduled_sync_timeout=setTimeout(this.sync,e),this.scheduled_sync_time=t)}},{key:"getSyncState",value:function(){return this.sync_state}},{key:"getQueueAllLength",value:function(){return this.sync_queue.get().length}},{key:"getQueueSuccessLength",value:function(){var e=0,t=!0,r=!1,n=void 0;try{for(var a,i=this.sync_queue.get()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.last_error||e++}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}},{key:"getQueueErrorLength",value:function(){var e=0,t=!0,r=!1,n=void 0;try{for(var a,i=this.sync_queue.get()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.last_error&&e++}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}},{key:"queueIncludesErrors",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=this.sync_queue.get()[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){if(n.value.last_error)return!0}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}return!1}},{key:"lock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeout;this.sync_lock.lock({timeout:t})}},{key:"unlock",value:function(){this.sync_lock.unlock()}},{key:"sync",value:function(){var e,t,r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]);if(this.sync_timeout&&(clearTimeout(this.sync_timeout),this.sync_timeout=null),this.current_req)return void(this.sync_timeout=setTimeout($p(this.sync,n,!1),this.sync_timeouts.full));!0===a&&this._setSyncingState(this.sync_states.syncing);var i=this.sync_queue.get();i=i.slice(0,100),this.sync_queue.assignUnqiueIds(i);var o=$arrayCopy(i),l="/API/".concat(this.api_version,"/sync");this.current_req=e=$requestJSON(l,"POST",{headers:{"X-Todoist-Webapp-Version":p.default.version,"X-Todoist-Client-ID":this.client_id}});var s,d,m=new Promise(function(e,t){s=e,d=t}),h=function(e,t){if(r.current_req=null,r._setGlobalError(null),!f.default.checkIfAPIDeprecated(t)){var a=e.temp_id_mapping;a&&u.default.setRealIds(a);var i=e.user&&e.user.id;if(i&&window.User&&window.User.id&&i!==window.User.id)return f.default.checkIfErrorIsLogout("Not logged in");if(e.full_sync&&Signals.sendSignal("clear_local_data"),c.default.check(e),r._processSyncQueue(o,e),r._setSyncingState(r.sync_states.idle),r.number_of_errors=0,0===r.getQueueSuccessLength()?(Signals.sendSignal("sync_local_data",e),r.updateSyncToken(e),Signals.sendSignal("sync_engine_synced")):(Signals.sendSignal("sync_local_data",{temp_id_mapping:e.temp_id_mapping}),r.scheduleSync()),a){0===r.getQueueAllLength()-o.length&&u.default.clearOld()}n&&n.onSuccess&&n.onSuccess(e),0===r.getQueueErrorLength()&&(r.last_synced=new Date),s()}};e.addCallback(function(e,t){r.sync_lock.locked?r.sync_lock.onUnlock(function(){h(e,t)}):h(e,t)}),e.addErrback(function(e,t){if(r.current_req=null,!f.default.checkIfErrorIsLogout(e,t)&&!f.default.checkIfAPIDeprecated(t)){r._setGlobalError([e,t]),r._setSyncingState(r.sync_states.idle),r.number_of_errors++;var a=r.number_of_errors*(1e3+1e3*Math.floor(11*Math.random()));a>6e4&&(a=6e4),r.timeout=a,r.scheduleSync(a),n&&n.onError&&n.onError(e),d(e)}});var _=!0,v=!1,b=void 0;try{for(var y,g=o[Symbol.iterator]();!(_=(y=g.next()).done);_=!0){var E=y.value;this._setRealIds(E)}}catch(e){v=!0,b=e}finally{try{_||null==g.return||g.return()}finally{if(v)throw b}}return t="add.todoist.com"===window.location.host?["labels","projects","locations","user","collaborators","notification_settings"]:["all"],e.sendReq({resource_types:t,commands:this._queueWithoutErrorMeta(o),day_orders_timestamp:this._getDayOrdersTimestamp(),collaborators_timestamp:this._getCollaboratorsTimestamp(),sync_token:this.sync_token||"*",with_web_static_version:!0,limit_notes:1,max_notes:this.max_notes,with_dateist_version:1},void 0,"application/json"),m}},{key:"_setSyncingState",value:function(e){this.sync_state=e,Signals.sendSignal("sync_state_changed")}},{key:"_setGlobalError",value:function(e){this.global_error=e,Signals.sendSignal("sync_state_changed")}},{key:"_setRealIds",value:function(e){var t=u.default.getRealId;e.temp_id&&(e.temp_id=t(e.temp_id));for(var r in e.args)switch(r){case"id":e.args.id=t(e.args.id);break;case"ids":e.args.ids=e.args.ids.map(function(e){return t(e)});break;case"project_id":e.project_id=t(e.project_id)}}},{key:"_getDayOrdersTimestamp",value:function(){return(0,s.$storage)("DayOrdersTimestamp").get()||""}},{key:"_getCollaboratorsTimestamp",value:function(){return(0,s.$storage)("CollaboratorsTimestamp").get()||""}},{key:"_processSyncQueue",value:function(e,t){var r,n=[],a=t.sync_status;if(a){var i=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){r=u.value;var d=a[r.uuid];if(d&&d.error_tag){if("ALREADY_PROCESSED"===d.error_tag)continue;r.last_error||(r.last_error=d),r.retry_count?r.retry_count++:r.retry_count=1,r.retry_count<100&&n.push(r)}}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}}this.sync_queue.deleteItems(e);for(var f=0,p=n;f<p.length;f++)r=p[f],this.sync_queue.add(r);try{if(n.length>0){var h=(0,l.uniq)(n.map(function(e){return e.type}));m.default.log(m.LOG_CMD_ERR,{cmds:h})}}catch(e){}}},{key:"_queueWithoutErrorMeta",value:function(e){var t=[],r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,s=$update({},l);s.last_error&&delete s.last_error,t.push(s)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}}]),e}();window.SyncEngine=new _;var v=window.SyncEngine;r.default=v},{"../logger/Logger":132,"../models/Config":152,"../utils":1094,"./Storage":169,"./SyncLogs":172,"./SyncQueue":173,"./TemporaryIds":174,"./UtilModels":175,"./VersionUpdater":176,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],172:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.LOG_CMD_ERR=r.LOG_PIPE_DEFER=r.LOG_PIPE_ERR=r.LOG_RESP_ERR=void 0;var o,l=i(e("@babel/runtime/helpers/classCallCheck")),s=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/defineProperty")),c=e("../utils/fp");r.LOG_RESP_ERR="re";r.LOG_PIPE_ERR="pe";r.LOG_PIPE_DEFER="pd";r.LOG_CMD_ERR="ce";var d=(o={},(0,u.default)(o,"re","Error HTTP response received"),(0,u.default)(o,"pe","Data pipeline error"),(0,u.default)(o,"pd","Data pipeline process deferred due to unsync commands"),(0,u.default)(o,"ce","Commands error"),o),f=function(){function t(){var e=this;(0,l.default)(this,t),this.logs=[],Signals.connect("load_cached_data",function(){return e.loadCachedData()})}return(0,s.default)(t,[{key:"loadCachedData",value:function(){try{var e=$storage("synclogs/errors").get();if(!e)return;this.logs=e.map(function(e){var t={code:e.c,timestamp:e.t};return e.e&&(t.extra=e.e),t}),this.logs=this.logs.filter(function(e){return"pd"!==e.code}),this.logs=this.logs.filter(function(e){return"re"!==e.code}),this.logs=this.logs.map(function(e){return"re"===e.code&&(0,c.get)("extra.error",e)&&(e=a({},e),delete e.extra),e})}catch(e){}}},{key:"syncCachedData",value:function(){var e=this.logs.map(function(e){var t={c:e.code,t:e.timestamp};return e.extra&&(t.e=e.extra),t});$storage("synclogs/errors").set(e)}},{key:"log",value:function(e,t){var r=Date.now(),n={code:e,timestamp:r,extra:t};n.extra||delete n.extra,this.logs.push(n),this.logs=this.logs.slice(0,50),this.syncCachedData(),Signals.sendSignal("synclogs_updated",n)}},{key:"get",value:function(){return this.logs}},{key:"getReport",value:function(){var t=e("./SyncEngine").default,r=t.sync_queue.get(),n=r.filter(function(e){return e.last_error}),i=r.filter(function(e){return!e.last_error}).length,o=n.length,l=this.logs.map(function(e){return e=a({},e),e.msg=d[e.code],e.isoTime=new Date(e.timestamp).toISOString(),delete e.code,e}),s=t.last_synced;return{reportCreatedAt:(new Date).toISOString(),logs:l,queueLength:r.length,firstRunCmdCount:i,failedCmdCount:o,lastSyncAt:s,failedCmds:n}}},{key:"errorLogTest",value:function(){try{throw new Error("SyncLogs error log test")}catch(e){this.log("pe",{error:e})}}}]),t}(),p=new f;window.SyncLogs=p;var m=p;r.default=m},{"../utils/fp":1083,"./SyncEngine":171,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],173:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("./Storage"),l=function(){function e(){(0,a.default)(this,e),this.get=this.get.bind(this),this.add=this.add.bind(this),this.assignUnqiueIds=this.assignUnqiueIds.bind(this),this.save=this.save.bind(this),this.deleteItems=this.deleteItems.bind(this),this.clear=this.clear.bind(this),this.get()||this.clear()}return(0,i.default)(e,[{key:"get",value:function(){var e=(0,o.$storage)("Queue").get();return null===e&&(e=[],(0,o.$storage)("Queue").set(e)),e}},{key:"add",value:function(e){var t=this.get();e.uuid||(e.uuid=this.guid()),t.push(e),this.save(t)}},{key:"assignUnqiueIds",value:function(e){var t=!1,r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;l.uuid||(l.uuid=this.guid(),t=!0)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}t&&this.save(e)}},{key:"save",value:function(e){(0,o.$storage)("Queue").set(e)}},{key:"deleteItems",value:function(e){var t=this.get(),r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,s=function(e){return e.uuid===l.uuid};$arrayRemove(t,l,s)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}this.save(t)}},{key:"clear",value:function(){(0,o.$storage)("Queue").set([])}},{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}]),e}(),s=l;r.default=s},{"./Storage":169,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],174:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("./Storage"),l=function(){function e(){var t=this;(0,a.default)(this,e),this.generate=this.generate.bind(this),this.getRealId=this.getRealId.bind(this),this.getRealIds=this.getRealIds.bind(this),this.setRealIds=this.setRealIds.bind(this),this.clearOld=this.clearOld.bind(this),this.listenAll=this.listenAll.bind(this),this.waitToResolve=this.waitToResolve.bind(this),this.syncCachedData=this.syncCachedData.bind(this),this.loadCachedData=this.loadCachedData.bind(this),this.temp_counter=(new Date).getTime(),Signals.connect("load_cached_data",function(){t.loadCachedData()})}return(0,i.default)(e,null,[{key:"initClass",value:function(){this.prototype.listeners_all=[]}}]),(0,i.default)(e,[{key:"generate",value:function(e){var t="_".concat(this.temp_counter++);return this.cur_temp_ids[t]=e,this.syncCachedData(),t}},{key:"isTemporary",value:function(e){if($isString(e)){if(0===e.indexOf("_"))return!0;if(0===e.indexOf("$"))return!0}return!1}},{key:"getRealId",value:function(e){this.real_id_mapping||this.loadCachedData();var t=this.real_id_mapping[e];return t&&t||e}},{key:"getRealIds",value:function(e){this.real_id_mapping||this.loadCachedData();var t=[],r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;t.push(this.real_id_mapping[l]||l)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}},{key:"setRealIds",value:function(e){var t;if(0!==$keys(e).length){for(var r in e)t=e[r],this.real_id_mapping[r]=t,this.real_id_list.push(r);for(r in e){t=e[r];var n=this.cur_temp_ids[r];if(Signals.sendSignal("resolve_temp.".concat(n),r,t),this.listeners_all.length>0){var a=!0,i=!1,o=void 0;try{for(var l,s=this.listeners_all[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){(0,l.value)(r,t)}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}}}for(;this.real_id_list.length>250;){var u=this.real_id_list.shift();this.real_id_mapping[u]&&delete this.real_id_mapping[u]}this.syncCachedData()}}},{key:"clearOld",value:function(){this.cur_temp_ids={},this.syncCachedData()}},{key:"listenAll",value:function(e){this.listeners_all.push(e)}},{key:"waitToResolve",value:function(e,t){var r=this.getRealId(e);return this.isTemporary(r)?setTimeout($p(this.waitForResolve,e,t),500):t(r),!1}},{key:"syncCachedData",value:function(){(0,o.$storage)("RealIdMapping").set(this.real_id_mapping),(0,o.$storage)("RealIdList").set(this.real_id_list),(0,o.$storage)("CurTempIds").set(this.cur_temp_ids)}},{key:"sendBridgeUpdate",value:function(){Signals.sendSignal("bridge:model_update",{tempIds:this.real_id_mapping})}},{key:"loadCachedData",value:function(){var e=(0,o.$storage)("RealIdMapping").get();this.real_id_mapping=e||{};var t=(0,o.$storage)("RealIdList").get();this.real_id_list=t||[];var r=(0,o.$storage)("CurTempIds").get();this.cur_temp_ids=r||{},this.sendBridgeUpdate()}}]),e}();l.initClass(),window.TemporaryIds=new l;var s=window.TemporaryIds;r.default=s},{"./Storage":169,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],175:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("../utils/deps"),l=(0,o.defineDeps)("UtilModels",["SyncEngine"]),s=function(){function e(){(0,a.default)(this,e),this.daySort=this.daySort.bind(this),this.gSortByGeneric=this.gSortByGeneric.bind(this),this.checkIfAPIDeprecated=this.checkIfAPIDeprecated.bind(this),this.checkIfErrorIsLogout=this.checkIfErrorIsLogout.bind(this),this.normalizeIndent=this.normalizeIndent.bind(this),this.sortByDate=$p(this.gSortByGeneric,"time"),this.sortByPriority=$p(this.gSortByGeneric,"priority"),this.sortByResponsible=$p(this.gSortByGeneric,"assigned_by_uid")}return(0,i.default)(e,[{key:"getChildren",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];r&&n.push(t);var a=$index(t,e,function(e){return e.id===t.id});if(-1!==a){var i=e.slice(a+1,+e.length+1||void 0),o=!0,l=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;if(d.indent<=t.indent)break;n.push(d)}}catch(e){l=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw s}}}return n}},{key:"getParent",value:function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value;if(s.id===t.id)break;r.push(s)}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}r.reverse();for(var u=0,c=r;u<c.length;u++){var d=c[u];if(d.indent<t.indent)return d}return null}},{key:"daySort",value:function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:-1!==e.day_order&&-1!==t.day_order?this.gSortByGeneric("day_order",t,e):e.project_id!==t.project_id?this.gSortByGeneric("project_id",t,e):this.sortByItemOrder(e,t)}},{key:"sortByItemOrder",value:function(e,t){return e.item_order<t.item_order?-1:e.item_order===t.item_order?0:1}},{key:"gSortByGeneric",value:function(e,t,r){if(!t[e]||!r[e])return 1;var n=t[e],a=r[e];return n===a?this.sortByItemOrder(t,r):n>a?-1:1}},{key:"syncLocalModel",value:function(e,t){var r,n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u&&(r=t[u.id],r?$update(r,u):r=u,t[u.id]=r)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}var c=!0;if(l.SyncEngine.queueIncludesErrors()&&(c=!1),c){var d=!0,f=!1,p=void 0;try{for(var m,h=$keys(t)[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var _=m.value;r=t[_];var v=!1;_.indexOf&&-1!==_.indexOf("_")&&(v=!0),r.is_deleted&&(v=!0),v&&delete t[_]}}catch(e){f=!0,p=e}finally{try{d||null==h.return||h.return()}finally{if(f)throw p}}}}},{key:"checkIfAPIDeprecated",value:function(e){try{if(e&&410===e.status)return alert(_("You're using an old version of Todoist. To make sure the app keeps working, update to the latest version.")),!0;var t=e.getResponseHeader("warning");if(t){var r=t.match(/119.+([\d]{4}-[\d]{2}-[\d]{2})/),n=r?r[1]:(new Date).toLocaleString(),a=_("Just a reminder that you're using an old version of Todoist that will stop working on {date}. To continue using Todoist, update to the latest version.").replace("{date}",n);return alert(a),!0}}catch(e){}return!1}},{key:"checkIfErrorIsLogout",value:function(e,t){var r=!1;if(-1!==e.indexOf("Not logged in")&&(r=!0),-1!==e.indexOf("Token not correct")&&(r=!0),-1!==e.indexOf("403 Forbidden")&&(r=!0),t&&403===t.status&&(r=!0),r&&!window.ACCOUNT_DELETED)return alert(_("It seems like our session has expired. Please re-login."),function(){return Signals.sendSignal("logout")}),!0}},{key:"normalizeIndent",value:function(e,t){e.indent>=t&&(e.indent=t),e.indent<1&&(e.indent=1)}}]),e}();window.UtilModels=new s;var u=window.UtilModels;r.default=u},{"../utils/deps":1071,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],176:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.loadNewVersion=r.reloadIfVersionUpdated=r.check=void 0;var a=n(e("../models/Config")),i=n(e("../logger/Logger")),o=function(e){try{var t=a.default.version,r=a.default.isBeta?e.web_static_beta_version:e.web_static_version;if(t>=r)return;if(!window.applicationCache)return;if(applicationCache.status===applicationCache.UNCACHED)return Signals.sendSignal("new_version_available",r),void localStorage.setItem("LastVersionUpdate",r);if([applicationCache.CHECKING,applicationCache.DOWNLOADING].includes(applicationCache.status))return;if(applicationCache.status===applicationCache.UPDATEREADY)return Signals.sendSignal("new_version_available",r),void localStorage.setItem("LastVersionUpdate",r);var n=function e(){Signals.sendSignal("new_version_available",r),localStorage.setItem("LastVersionUpdate",r);try{applicationCache.swapCache()}catch(e){}applicationCache.removeEventListener(e)};applicationCache.addEventListener("updateready",n);try{applicationCache.update()}catch(e){}}catch(e){i.default.captureError(e)}};r.check=o;var l=function(){try{var e=localStorage.getItem("LastVersionUpdate");return!!e&&(localStorage.removeItem("LastVersionUpdate"),(e=JSON.parse(e))!==a.default.version&&(s(),!0))}catch(e){i.default.captureError(e)}};r.reloadIfVersionUpdated=l;var s=function(){localStorage.removeItem("LastVersionUpdate"),window.location.reload(!0)};r.loadNewVersion=s;var u={check:o,reloadIfVersionUpdated:l,loadNewVersion:s};r.default=u},{"../logger/Logger":132,"../models/Config":152,"@babel/runtime/helpers/interopRequireDefault":189}],177:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/defineProperty")),o=n(e("../stores/store")),l=n(e("../stores/subscribeSelected")),s=e("../utils/fp"),u=e("../utils"),c=n(e("../models/SyncEngine")),d=n(e("../logger/Logger")),f=function e(){var t=this;(0,a.default)(this,e),(0,i.default)(this,"connect",function(e){try{if(!e)throw new Error("WebSocketManager: cannot connect() with invalid url: ".concat(t.url));if(t.url===e&&t.socket&&(0===t.socket.readyState||1===t.socket.readyState))return;t.socket&&t.disconnectExisting(),t.url=e,t.socket=new WebSocket(t.url),t.socket.addEventListener("message",t.handleMessage),t.socket.addEventListener("close",t.handleClose),t.socket.addEventListener("error",t.handleError)}catch(e){d.default.captureError(e,{tags:{where:"websockert"}})}}),(0,i.default)(this,"disconnectExisting",function(){try{t.socket.removeEventListener("message",t.handleMessage),t.socket.removeEventListener("close",t.handleClose),t.socket.removeEventListener("error",t.handleError),t.socket.close(),t.socket=null}catch(e){}}),(0,i.default)(this,"handleMessage",function(e){var r=JSON.parse(e.data);switch(r.type){case"token_reset":t.debouncedSync();break;case"sync_needed":r.client_id!==c.default.client_id&&t.debouncedSync()}}),(0,i.default)(this,"scheduleReconnect",function(){t.url&&!t.reconnectTimeout&&(t.reconnectTimeout=setTimeout(function(){t.reconnectTimeout=null,t.connect(t.url)},5e3))}),(0,i.default)(this,"handleClose",function(){return t.scheduleReconnect()}),(0,i.default)(this,"handleError",function(){return t.scheduleReconnect()}),(0,i.default)(this,"healthCheck",function(){t.socket&&3!==t.socket.readyState||t.scheduleReconnect()}),(0,i.default)(this,"debouncedSync",(0,u.debounce)(function(){c.default.scheduleSync()},1e3)),(0,l.default)(o.default,(0,s.get)("user.websocket_url"),function(e){e&&t.connect(e)}),setInterval(this.healthCheck,3e5)},p=new f;r.default=p},{"../logger/Logger":132,"../models/SyncEngine":171,"../stores/store":1048,"../stores/subscribeSelected":1049,"../utils":1094,"../utils/fp":1083,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],178:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(){var e=s;(s=g.default.getState().user)&&s!=e&&(window.User=s,window.Settings={AMPM:1==s.time_format,US_DATES:1==s.date_format,START_PAGE:s.start_page,START_DAY:s.start_day?s.start_day:1,NEXT_WEEK:s.next_week?s.next_week:1},(0,d.isAsianLang)()&&(window.Settings.US_DATES=!0))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.printProjectTasks=void 0;var s,u=l(e("@babel/runtime/helpers/toConsumableArray")),c=l(e("@babel/runtime/helpers/defineProperty")),d=e("../components/misc/Misc.js"),f=l(e("../components/opener/WindowOpener.js")),p=o(e("../logger/Logger")),m=e("../reducers/tooltip"),h=e("../reducers/stats"),_=e("../reducers/user"),v=e("../reducers/selectors"),b=e("../reducers/items"),y=e("../utils/fp"),g=l(e("../stores/store"));g.default.subscribe(i),void 0===window.todoist&&(window.todoist={}),window.todoist.updateUser=function(e){g.default.dispatch((0,_.receivedUserUpdate)(e))},window.todoist.markTooltipUnseen=function(e){g.default.dispatch((0,m.markUnseen)(e))},window.todoist.openSettingWindow=function(e){f.default.showPrefs(e)},window.todoist.testSentry=function(){try{throw new Error("Sentry setup test")}catch(e){p.captureError(e)}},window.todoist.showTrialTooltip=function(){var e=a({},window.User,{is_premium:!1,free_trail_expires:void 0});g.default.dispatch((0,_.receivedUserUpdate)(e)),g.default.dispatch((0,m.scheduledUpdated)([].concat((0,u.default)(g.default.getState().tooltip.scheduled),[m.TOOLTIP_PREMIUM_TRIAL])))},window.todoist.showPremiumWillExpireTooltip=function(){g.default.dispatch((0,m.scheduledUpdated)([].concat((0,u.default)(g.default.getState().tooltip.scheduled),[m.TOOLTIP_PREMIUM_EXPIRING])))},window.todoist.showCompleteFirstTaskTooltip=function(){var e=new Date;e.setDate(e.getDate()-1),g.default.dispatch((0,_.receivedUserUpdate)({join_date:e})),g.default.dispatch((0,m.markUnseen)(m.TOOLTIP_COMPLETE_FIRST_TASK)),Signals.sendSignal("refresh_interface")},window.todoist.scheduleTooltip=function(e){g.default.dispatch((0,m.scheduledUpdated)([].concat((0,u.default)(g.default.getState().tooltip.scheduled),[e])))},window.todoist.resetTodayCompletedCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;g.default.dispatch((0,h.resetTodayCount)(e))},window.todoist.resetThisWeekCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;g.default.dispatch((0,h.resetThisWeekCount)(e))},window.todoist.markTooltipUnseen=function(e){g.default.dispatch((0,m.markUnseen)(e))},window.todoist.store=g.default,window.todoist.printProjectList=function(){var e=$values(g.default.getState().projects);e.sort(function(e,t){return e.item_order-t.item_order}),console.table(e,["id","name","item_order","indent","parent_id","child_order"])};var E=function(e){var t=(0,b.itemGetSectionGroups)(e,g.default.getState()),r=(0,y.compose)(y.flatten,(0,y.map)(function(e){return[].concat((0,u.default)(t[e]),[{}])}),function(e){return[null].concat((0,u.default)(e))},(0,y.map)(function(e){return e.id}),(0,y.sortBy)("child_order"),(0,y.filter)(function(t){return t.project_id===e}),(0,y.get)("sections"))(g.default.getState());console.table(r,["id","content","project_id","section_id","item_order","indent","parent_id","child_order"])};r.printProjectTasks=E,window.todoist.printProjectTasks=E,window.todoist.printInbox=function(){window.todoist.printProjectTasks(g.default.getState().user.inbox_project)},window.todoist.printSortedProjectList=function(){var e=(0,v.sortedProjects)(g.default.getState());console.table(e,["id","name","item_order","indent","parent_id","child_order"])}},{"../components/misc/Misc.js":46,"../components/opener/WindowOpener.js":53,"../logger/Logger":132,"../reducers/items":1005,"../reducers/selectors":1035,"../reducers/stats":1037,"../reducers/tooltip":1040,"../reducers/user":1042,"../stores/store":1048,"../utils/fp":1083,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/toConsumableArray":200}],179:[function(e,t,r){function n(e){if(Array.isArray(e))return e}t.exports=n},{}],180:[function(e,t,r){function n(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}t.exports=n},{}],181:[function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.exports=n},{}],182:[function(e,t,r){function n(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,i){function o(e){n(s,a,i,o,l,"next",e)}function l(e){n(s,a,i,o,l,"throw",e)}var s=e.apply(t,r);o(void 0)})}}t.exports=a},{}],183:[function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.exports=n},{}],184:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}t.exports=a},{}],185:[function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.exports=n},{}],186:[function(e,t,r){function n(){return t.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}t.exports=n},{}],187:[function(e,t,r){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},{}],188:[function(e,t,r){function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}var a=e("./setPrototypeOf");t.exports=n},{"./setPrototypeOf":198}],189:[function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}t.exports=n},{}],190:[function(e,t,r){function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function a(e){if(e&&e.__esModule)return e;var t=n();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}t.exports=a},{}],191:[function(e,t,r){function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}t.exports=n},{}],192:[function(e,t,r){function n(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}}t.exports=n},{}],193:[function(e,t,r){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=n},{}],194:[function(e,t,r){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=n},{}],195:[function(e,t,r){function n(e,t){if(null==e)return{};var r,n,i=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var a=e("./objectWithoutPropertiesLoose");t.exports=n},{"./objectWithoutPropertiesLoose":196}],196:[function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}t.exports=n},{}],197:[function(e,t,r){function n(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?i(e):t}
var a=e("../helpers/typeof"),i=e("./assertThisInitialized");t.exports=n},{"../helpers/typeof":201,"./assertThisInitialized":181}],198:[function(e,t,r){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,r)}t.exports=n},{}],199:[function(e,t,r){function n(e,t){return a(e)||i(e,t)||o()}var a=e("./arrayWithHoles"),i=e("./iterableToArrayLimit"),o=e("./nonIterableRest");t.exports=n},{"./arrayWithHoles":179,"./iterableToArrayLimit":192,"./nonIterableRest":193}],200:[function(e,t,r){function n(e){return a(e)||i(e)||o()}var a=e("./arrayWithoutHoles"),i=e("./iterableToArray"),o=e("./nonIterableSpread");t.exports=n},{"./arrayWithoutHoles":180,"./iterableToArray":191,"./nonIterableSpread":194}],201:[function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=a=function(e){return n(e)}:t.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},a(e)}t.exports=a},{}],202:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":457}],203:[function(e,t,r){!function(n,a){"object"==typeof r&&"object"==typeof t?t.exports=a(e("prop-types"),e("react"),e("classnames")):"function"==typeof define&&define.amd?define("reactist",["prop-types","react","classnames"],a):"object"==typeof r?r.reactist=a(e("prop-types"),e("react"),e("classnames")):n.reactist=a(n["prop-types"],n.React,n.classnames)}(window,function(e,t,r){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(n,a,function(t){return e[t]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t);var p=(r(7),r(1)),m=r.n(p),h=r(0),_=r.n(h),v=r(2),b=r.n(v),y=function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=e.height,l=e.width,s=t.height,u=t.width,c=r.height,d=r.width,f=n.x,p=n.y,m=g(n,r,t),h=E(n,r,t),_=m>=0&&m+u<=l,v=h>=0&&h+s<=o;return"top"===a?_&&p-s-i>=0:"right"===a?v&&f+d+u+i<=l:"left"===a?v&&f-u-i>=0:"bottom"===a&&(_&&p+c+s+i<=o)},g=function(e,t,r){return e.x+(t.width-r.width)/2},E=function(e,t,r){return e.y+(t.height-r.height)/2},T=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:g(t,e,r),y:t.y-r.height-n}},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:g(t,e,r),y:t.y+e.height+n}},R=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:t.x+e.width+n,y:E(t,e,r)}},P=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:t.x-r.width-n,y:E(t,e,r)}},D=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return"top"===e?T(t,r,n,a):"right"===e?R(t,r,n,a):"bottom"===e?w(t,r,n,a):"left"===e?P(t,r,n,a):r},O=function(e){function t(){var e,r;a(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=l(this,(e=s(t)).call.apply(e,[this].concat(i))),f(u(r),"_updatePopoverPosition",function(){for(var e=r.props,t=e.position,n=e.allowVaguePositioning,a=e.gapSize,i=r.wrapper.getBoundingClientRect(),o=r.popover.getBoundingClientRect(),l=document.documentElement,s=r.wrapper,u=!1;!u;){"absolute"!==getComputedStyle(s).getPropertyValue("position")&&s!==l&&s.parentElement?s=s.parentElement:u=!0}for(var c=s.getBoundingClientRect(),d={height:c.height,width:c.width},f={height:o.height,width:o.width},p={height:i.height,width:i.width},m={x:i.left-c.left,y:i.top-c.top},h={x:i.left,y:i.top},_="auto"===t?["top","right","bottom","left","top"]:"vertical"===t?["top","bottom"]:"horizontal"===t?["left","right"]:[t],v=0;v<_.length;v++){var b=_[v];if(y(d,f,p,m,b,a)||v===_.length-1){var g=D(b,p,h,f,a);r.popover.style.top="".concat(g.y,"px"),r.popover.style.left="".concat(g.x,"px"),n&&(g.x<0&&(r.popover.style.left="".concat(2*a,"px")),g.y+f.height>d.height&&(r.popover.style.top="".concat(d.height-f.height-2*a,"px"))),b!==t&&(r.popover.className=r._getClassNameForPosition(b));break}}}),f(u(r),"_getClassNameForPosition",function(e){var t=r.props,n=t.visible,a=t.withArrow,i=t.arrowClassName,o=b()("reactist popover",{visible:n});return n&&a?b()(o,i,{arrow_top:"bottom"===e,arrow_right:"left"===e,arrow_bottom:"auto"===e||"top"===e,arrow_left:"right"===e}):o}),f(u(r),"_updatePopoverRef",function(e){r.popover=e,"function"==typeof r.props.popoverRef&&r.props.popoverRef(e)}),f(u(r),"_updateWrapperRef",function(e){r.wrapper=e,"function"==typeof r.props.wrapperRef&&r.props.wrapperRef(e)}),r}return c(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.visible&&this._updatePopoverPosition()}},{key:"componentDidUpdate",value:function(e){if(this.wrapper&&this.props.visible){var t=e.position!==this.props.position,r=e.allowVaguePositioning!==this.props.allowVaguePositioning,n=e.visible!==this.props.visible,a=e.withArrow!==this.props.withArrow,i=e.gapSize!==this.props.gapSize,o=e.content!==this.props.content;(t||r||n||a||i||o)&&this._updatePopoverPosition()}}},{key:"render",value:function(){var e=this.props,t=e.position,r=e.wrapperClassName,n=e.popoverClassName,a=e.onMouseEnter,i=e.onMouseLeave,o=e.onClick,l=e.trigger,s=e.content,u=this._getClassNameForPosition(t),c=b()("reactist popover__content",n),d=b()("reactist popover__wrapper",r);return m.a.createElement("span",{className:d,onMouseEnter:a,onMouseLeave:i,onClick:o,ref:this._updateWrapperRef},l,m.a.createElement("span",{className:u,ref:this._updatePopoverRef},this.props.visible?m.a.createElement("span",{className:c},"function"==typeof s?s():s):null))}}]),t}(m.a.Component);O.displayName="Popover",O.defaultProps={position:"auto",gapSize:5},O.propTypes={position:_.a.oneOf(["auto","top","right","bottom","left","horizontal","vertical"]),allowVaguePositioning:_.a.bool,visible:_.a.bool.isRequired,content:_.a.oneOfType([_.a.string,_.a.arrayOf(_.a.node),_.a.func,_.a.node]).isRequired,trigger:_.a.oneOfType([_.a.string,_.a.arrayOf(_.a.node),_.a.node]),onClick:_.a.func,onMouseEnter:_.a.func,onMouseLeave:_.a.func,wrapperClassName:_.a.string,popoverClassName:_.a.string,arrowClassName:_.a.string,withArrow:_.a.bool,gapSize:_.a.number,wrapperRef:_.a.func,popoverRef:_.a.func};t.default=O},,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t);var p=(r(8),r(1)),m=r.n(p),h=r(0),_=r.n(h),v=r(2),b=r.n(v),y=r(4),g=function(e){function t(){var e,r;a(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=l(this,(e=s(t)).call.apply(e,[this].concat(i))),f(u(r),"state",{visible:!1}),f(u(r),"_show",function(){r._delayAction(function(){r.setState(function(){return{visible:!0}}),r.props.hideOnScroll&&r._initScrollListener()},r.props.delayShow)}),f(u(r),"_hide",function(){r._delayAction(function(){r._clearDelayTimeout(),r.setState(function(){return{visible:!1}}),r.props.hideOnScroll&&r._removeScrollListener()},r.props.delayHide)}),f(u(r),"_updateTooltipRef",function(e){r.tooltip=e}),f(u(r),"_updateWrapperRef",function(e){r.wrapper=e}),r}return c(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.visible!==t.visible||this.props.position!==e.position||this.props.text!==e.text||this.props.hideOnScroll!==e.hideOnScroll||this.props.delayShow!==e.delayShow||this.props.delayHide!==e.delayHide||this.props.gapSize!==e.gapSize||this.props.children!==e.children}},{key:"componentWillUnmount",value:function(){this._clearDelayTimeout(),this._removeScrollListener()}},{key:"_initScrollListener",value:function(){document.addEventListener("scroll",this._hide,!0)}},{key:"_removeScrollListener",value:function(){document.removeEventListener("scroll",this._hide,!0)}},{key:"_clearDelayTimeout",value:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)}},{key:"_delayAction",value:function(e,t){this._clearDelayTimeout(),this.delayTimeout=setTimeout(e,t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.position,n=t.allowVaguePositioning,a=t.wrapperClassName,i=t.tooltipClassName,o=t.text,l=t.children,s=t.gapSize,u=t.inverted,c=t.withArrow,d=b()("reactist tooltip__wrapper",a),f=b()("reactist tooltip__text",i,{inverted:u}),p=b()("reactist tooltip__arrow",{inverted:u});if(!o)return m.a.createElement("div",{className:d},l);var h=m.a.Children.map(l,function(t){return m.a.isValidElement(t)?m.a.cloneElement(t,{onClick:function(r){e._hide(),"function"==typeof t.props.onClick&&t.props.onClick(r)}}):t});return m.a.createElement(y.default,{position:r,visible:this.state.visible,trigger:h,content:o,popoverClassName:f,wrapperClassName:d,arrowClassName:p,onMouseEnter:this._show,onMouseLeave:this._hide,allowVaguePositioning:n,gapSize:s,popoverRef:this._updateTooltipRef,wrapperRef:this._updateWrapperRef,withArrow:c})}}]),t}(m.a.Component);g.displayName="Tooltip",g.defaultProps={position:"auto",hideOnScroll:!0,delayShow:500,delayHide:0,allowVaguePositioning:!1,inverted:!1,withArrow:!0,gapSize:5},g.propTypes={position:_.a.oneOf(["auto","top","right","bottom","left","horizontal","vertical"]),allowVaguePositioning:_.a.bool,text:_.a.oneOfType([_.a.string,_.a.arrayOf(_.a.node),_.a.func,_.a.node]).isRequired,hideOnScroll:_.a.bool,delayShow:_.a.number,delayHide:_.a.number,children:_.a.oneOfType([_.a.string,_.a.arrayOf(_.a.node),_.a.node]),wrapperClassName:_.a.string,tooltipClassName:_.a.string,inverted:_.a.bool,gapSize:_.a.number,withArrow:_.a.bool},t.default=g},function(e,t,r){},function(e,t,r){}])})},{classnames:"classnames","prop-types":"prop-types",react:"react"}],204:[function(e,t,r){(function(t,n){function a(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,o=Function.prototype.apply,l=Array.prototype.slice,s={},u=0;r.setTimeout=function(){return new a(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new a(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof t?t:function(e){var t=u++,n=!(arguments.length<2)&&l.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof n?n:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":456,timers:204}],205:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],206:[function(e,t,r){var n=e("./_wks")("unscopables"),a=Array.prototype;void 0==a[n]&&e("./_hide")(a,n,{}),t.exports=function(e){a[n][e]=!0}},{"./_hide":241,"./_wks":322}],207:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"./_string-at":299}],208:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],209:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":250}],210:[function(e,t,r){"use strict";var n=e("./_to-object"),a=e("./_to-absolute-index"),i=e("./_to-length");t.exports=[].copyWithin||function(e,t){var r=n(this),o=i(r.length),l=a(e,o),s=a(t,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:a(u,o))-s,o-l),d=1;for(s<l&&l<s+c&&(d=-1,s+=c-1,l+=c-1);c-- >0;)s in r?r[l]=r[s]:delete r[l],l+=d,s+=d;return r}},{"./_to-absolute-index":307,"./_to-length":311,"./_to-object":312}],211:[function(e,t,r){"use strict";var n=e("./_to-object"),a=e("./_to-absolute-index"),i=e("./_to-length");t.exports=function(e){for(var t=n(this),r=i(t.length),o=arguments.length,l=a(o>1?arguments[1]:void 0,r),s=o>2?arguments[2]:void 0,u=void 0===s?r:a(s,r);u>l;)t[l++]=e;return t}},{"./_to-absolute-index":307,"./_to-length":311,"./_to-object":312}],212:[function(e,t,r){var n=e("./_to-iobject"),a=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,r,o){var l,s=n(t),u=a(s.length),c=i(o,u);if(e&&r!=r){for(;u>c;)if((l=s[c++])!=l)return!0}else for(;u>c;c++)if((e||c in s)&&s[c]===r)return e||c||0;return!e&&-1}}},{"./_to-absolute-index":307,"./_to-iobject":310,"./_to-length":311}],213:[function(e,t,r){var n=e("./_ctx"),a=e("./_iobject"),i=e("./_to-object"),o=e("./_to-length"),l=e("./_array-species-create");t.exports=function(e,t){var r=1==e,s=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d,p=t||l;return function(t,l,m){for(var h,_,v=i(t),b=a(v),y=n(l,m,3),g=o(b.length),E=0,T=r?p(t,g):s?p(t,0):void 0;g>E;E++)if((f||E in b)&&(h=b[E],_=y(h,E,v),e))if(r)T[E]=_;else if(_)switch(e){case 3:return!0;case 5:return h;case 6:return E;case 2:T.push(h)}else if(c)return!1;return d?-1:u||c?c:T}}},{"./_array-species-create":215,"./_ctx":224,"./_iobject":246,"./_to-length":311,"./_to-object":312}],214:[function(e,t,r){var n=e("./_is-object"),a=e("./_is-array"),i=e("./_wks")("species");t.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":248,"./_is-object":250,"./_wks":322}],215:[function(e,t,r){var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":214}],216:[function(e,t,r){"use strict";var n=e("./_a-function"),a=e("./_is-object"),i=e("./_invoke"),o=[].slice,l={},s=function(e,t,r){if(!(t in l)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";l[t]=Function("F,a","return new F("+n.join(",")+")")}return l[t](e,r)};t.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),l=function(){var n=r.concat(o.call(arguments));return this instanceof l?s(t,n.length,n):i(t,n,e)};return a(t.prototype)&&(l.prototype=t.prototype),l}},{"./_a-function":205,"./_invoke":245,"./_is-object":250}],217:[function(e,t,r){var n=e("./_cof"),a=e("./_wks")("toStringTag"),i="Arguments"==n(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,r,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=o(t=Object(e),a))?r:i?n(t):"Object"==(l=n(t))&&"function"==typeof t.callee?"Arguments":l}},{"./_cof":218,"./_wks":322}],218:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],219:[function(e,t,r){"use strict";var n=e("./_object-dp").f,a=e("./_object-create"),i=e("./_redefine-all"),o=e("./_ctx"),l=e("./_an-instance"),s=e("./_for-of"),u=e("./_iter-define"),c=e("./_iter-step"),d=e("./_set-species"),f=e("./_descriptors"),p=e("./_meta").fastKey,m=e("./_validate-collection"),h=f?"_s":"size",_=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,t,r,u){var c=e(function(e,n){l(e,c,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=n&&s(n,r,e[u],e)});return i(c.prototype,{clear:function(){for(var e=m(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var r=m(this,t),n=_(r,e);if(n){var a=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=a),a&&(a.p=i),r._f==n&&(r._f=a),r._l==n&&(r._l=i),r[h]--}return!!n},forEach:function(e){m(this,t);for(var r,n=o(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!_(m(this,t),e)}}),f&&n(c.prototype,"size",{get:function(){return m(this,t)[h]}}),c},def:function(e,t,r){var n,a,i=_(e,t);return i?i.v=r:(e._l=i={i:a=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[h]++,"F"!==a&&(e._i[a]=i)),e},getEntry:_,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=m(e,t),this._k=r,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?c(0,r.k):"values"==t?c(0,r.v):c(0,[r.k,r.v]):(e._t=void 0,c(1))},r?"entries":"values",!r,!0),d(t)}}},{"./_an-instance":208,"./_ctx":224,"./_descriptors":227,"./_for-of":237,"./_iter-define":254,"./_iter-step":256,"./_meta":263,"./_object-create":267,"./_object-dp":268,"./_redefine-all":287,"./_set-species":293,"./_validate-collection":319}],220:[function(e,t,r){"use strict";var n=e("./_redefine-all"),a=e("./_meta").getWeak,i=e("./_an-object"),o=e("./_is-object"),l=e("./_an-instance"),s=e("./_for-of"),u=e("./_array-methods"),c=e("./_has"),d=e("./_validate-collection"),f=u(5),p=u(6),m=0,h=function(e){return e._l||(e._l=new _)},_=function(){this.a=[]},v=function(e,t){return f(e.a,function(e){return e[0]===t})};_.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var r=v(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,r,i){var u=e(function(e,n){l(e,u,t,"_i"),e._t=t,e._i=m++,e._l=void 0,void 0!=n&&s(n,r,e[i],e)});return n(u.prototype,{delete:function(e){if(!o(e))return!1;var r=a(e);return!0===r?h(d(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function(e){if(!o(e))return!1;var r=a(e);return!0===r?h(d(this,t)).has(e):r&&c(r,this._i)}}),u},def:function(e,t,r){var n=a(i(t),!0);return!0===n?h(e).set(t,r):n[e._i]=r,e},ufstore:h}},{"./_an-instance":208,"./_an-object":209,"./_array-methods":213,"./_for-of":237,"./_has":240,"./_is-object":250,"./_meta":263,"./_redefine-all":287,"./_validate-collection":319}],221:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_export"),i=e("./_redefine"),o=e("./_redefine-all"),l=e("./_meta"),s=e("./_for-of"),u=e("./_an-instance"),c=e("./_is-object"),d=e("./_fails"),f=e("./_iter-detect"),p=e("./_set-to-string-tag"),m=e("./_inherit-if-required");t.exports=function(e,t,r,h,_,v){var b=n[e],y=b,g=_?"set":"add",E=y&&y.prototype,T={},w=function(e){var t=E[e];i(E,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof y&&(v||E.forEach&&!d(function(){(new y).entries().next()}))){var R=new y,P=R[g](v?{}:-0,1)!=R,D=d(function(){R.has(1)}),O=f(function(e){new y(e)}),C=!v&&d(function(){for(var e=new y,t=5;t--;)e[g](t,t);return!e.has(-0)});O||(y=t(function(t,r){u(t,y,e);var n=m(new b,t,y);return void 0!=r&&s(r,_,n[g],n),n}),y.prototype=E,E.constructor=y),(D||C)&&(w("delete"),w("has"),_&&w("get")),(C||P)&&w(g),v&&E.clear&&delete E.clear}else y=h.getConstructor(t,e,_,g),o(y.prototype,r),l.NEED=!0;return p(y,e),T[e]=y,a(a.G+a.W+a.F*(y!=b),T),v||h.setStrong(y,e,_),y}},{"./_an-instance":208,"./_export":231,"./_fails":233,"./_for-of":237,"./_global":239,"./_inherit-if-required":244,"./_is-object":250,"./_iter-detect":255,"./_meta":263,"./_redefine":288,"./_redefine-all":287,"./_set-to-string-tag":294}],222:[function(e,t,r){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},{}],223:[function(e,t,r){"use strict";var n=e("./_object-dp"),a=e("./_property-desc");t.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},{"./_object-dp":268,"./_property-desc":286}],224:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":205}],225:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_to-primitive");t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return a(n(this),"number"!=e)}},{"./_an-object":209,"./_to-primitive":313}],226:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],227:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":233}],228:[function(e,t,r){var n=e("./_is-object"),a=e("./_global").document,i=n(a)&&n(a.createElement);t.exports=function(e){return i?a.createElement(e):{}}},{"./_global":239,"./_is-object":250}],229:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],230:[function(e,t,r){var n=e("./_object-keys"),a=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=a.f;if(r)for(var o,l=r(e),s=i.f,u=0;l.length>u;)s.call(e,o=l[u++])&&t.push(o);return t}},{"./_object-gops":274,"./_object-keys":277,"./_object-pie":278}],231:[function(e,t,r){var n=e("./_global"),a=e("./_core"),i=e("./_hide"),o=e("./_redefine"),l=e("./_ctx"),s=function(e,t,r){var u,c,d,f,p=e&s.F,m=e&s.G,h=e&s.S,_=e&s.P,v=e&s.B,b=m?n:h?n[t]||(n[t]={}):(n[t]||{}).prototype,y=m?a:a[t]||(a[t]={}),g=y.prototype||(y.prototype={});m&&(r=t);for(u in r)c=!p&&b&&void 0!==b[u],d=(c?b:r)[u],f=v&&c?l(d,n):_&&"function"==typeof d?l(Function.call,d):d,b&&o(b,u,d,e&s.U),y[u]!=d&&i(y,u,f),_&&g[u]!=d&&(g[u]=d)};n.core=a,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},{"./_core":222,"./_ctx":224,"./_global":239,"./_hide":241,"./_redefine":288}],232:[function(e,t,r){var n=e("./_wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},{"./_wks":322}],233:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],234:[function(e,t,r){"use strict";e("./es6.regexp.exec");var n=e("./_redefine"),a=e("./_hide"),i=e("./_fails"),o=e("./_defined"),l=e("./_wks"),s=e("./_regexp-exec"),u=l("species"),c=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(e,t,r){var f=l(e),p=!i(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),m=p?!i(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[u]=function(){return r}),r[f](""),!t}):void 0;if(!p||!m||"replace"===e&&!c||"split"===e&&!d){var h=/./[f],_=r(o,f,""[e],function(e,t,r,n,a){return t.exec===s?p&&!a?{done:!0,value:h.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),v=_[0],b=_[1];n(String.prototype,e,v),a(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},{"./_defined":226,"./_fails":233,"./_hide":241,"./_redefine":288,"./_regexp-exec":290,"./_wks":322,"./es6.regexp.exec":394}],235:[function(e,t,r){"use strict";var n=e("./_an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":209}],236:[function(e,t,r){"use strict";function n(e,t,r,u,c,d,f,p){for(var m,h,_=c,v=0,b=!!f&&l(f,p,3);v<u;){if(v in r){if(m=b?b(r[v],v,t):r[v],h=!1,i(m)&&(h=m[s],h=void 0!==h?!!h:a(m)),h&&d>0)_=n(e,t,m,o(m.length),_,d-1)-1;else{if(_>=9007199254740991)throw TypeError();e[_]=m}_++}v++}return _}var a=e("./_is-array"),i=e("./_is-object"),o=e("./_to-length"),l=e("./_ctx"),s=e("./_wks")("isConcatSpreadable");t.exports=n},{"./_ctx":224,"./_is-array":248,"./_is-object":250,"./_to-length":311,"./_wks":322}],237:[function(e,t,r){var n=e("./_ctx"),a=e("./_iter-call"),i=e("./_is-array-iter"),o=e("./_an-object"),l=e("./_to-length"),s=e("./core.get-iterator-method"),u={},c={},r=t.exports=function(e,t,r,d,f){var p,m,h,_,v=f?function(){return e}:s(e),b=n(r,d,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(p=l(e.length);p>y;y++)if((_=t?b(o(m=e[y])[0],m[1]):b(e[y]))===u||_===c)return _}else for(h=v.call(e);!(m=h.next()).done;)if((_=a(h,b,m.value,t))===u||_===c)return _};r.BREAK=u,r.RETURN=c},{"./_an-object":209,"./_ctx":224,"./_is-array-iter":247,"./_iter-call":252,"./_to-length":311,"./core.get-iterator-method":323}],238:[function(e,t,r){t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":296}],239:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],240:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],241:[function(e,t,r){var n=e("./_object-dp"),a=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":227,"./_object-dp":268,"./_property-desc":286}],242:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":239}],243:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":227,"./_dom-create":228,"./_fails":233}],244:[function(e,t,r){var n=e("./_is-object"),a=e("./_set-proto").set;t.exports=function(e,t,r){var i,o=t.constructor;return o!==r&&"function"==typeof o&&(i=o.prototype)!==r.prototype&&n(i)&&a&&a(e,i),e}},{"./_is-object":250,"./_set-proto":292}],245:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],246:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":218}],247:[function(e,t,r){var n=e("./_iterators"),a=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},{"./_iterators":257,"./_wks":322}],248:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":218}],249:[function(e,t,r){var n=e("./_is-object"),a=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&a(e)===e}},{"./_is-object":250}],250:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],251:[function(e,t,r){var n=e("./_is-object"),a=e("./_cof"),i=e("./_wks")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},{"./_cof":218,"./_is-object":250,"./_wks":322}],252:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},{"./_an-object":209}],253:[function(e,t,r){"use strict";var n=e("./_object-create"),a=e("./_property-desc"),i=e("./_set-to-string-tag"),o={};e("./_hide")(o,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},{"./_hide":241,"./_object-create":267,"./_property-desc":286,"./_set-to-string-tag":294,"./_wks":322}],254:[function(e,t,r){"use strict";var n=e("./_library"),a=e("./_export"),i=e("./_redefine"),o=e("./_hide"),l=e("./_iterators"),s=e("./_iter-create"),u=e("./_set-to-string-tag"),c=e("./_object-gpo"),d=e("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,r,m,h,_,v){s(r,t,m);var b,y,g,E=function(e){if(!f&&e in P)return P[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},T=t+" Iterator",w="values"==h,R=!1,P=e.prototype,D=P[d]||P["@@iterator"]||h&&P[h],O=D||E(h),C=h?w?E("entries"):O:void 0,I="Array"==t?P.entries||D:D;if(I&&(g=c(I.call(new e)))!==Object.prototype&&g.next&&(u(g,T,!0),n||"function"==typeof g[d]||o(g,d,p)),w&&D&&"values"!==D.name&&(R=!0,O=function(){return D.call(this)}),n&&!v||!f&&!R&&P[d]||o(P,d,O),l[t]=O,
l[T]=p,h)if(b={values:w?O:E("values"),keys:_?O:E("keys"),entries:C},v)for(y in b)y in P||i(P,y,b[y]);else a(a.P+a.F*(f||R),t,b);return b}},{"./_export":231,"./_hide":241,"./_iter-create":253,"./_iterators":257,"./_library":258,"./_object-gpo":275,"./_redefine":288,"./_set-to-string-tag":294,"./_wks":322}],255:[function(e,t,r){var n=e("./_wks")("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:r=!0}},i[n]=function(){return o},e(i)}catch(e){}return r}},{"./_wks":322}],256:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],257:[function(e,t,r){t.exports={}},{}],258:[function(e,t,r){t.exports=!1},{}],259:[function(e,t,r){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},{}],260:[function(e,t,r){var n=e("./_math-sign"),a=Math.pow,i=a(2,-52),o=a(2,-23),l=a(2,127)*(2-o),s=a(2,-126),u=function(e){return e+1/i-1/i};t.exports=Math.fround||function(e){var t,r,a=Math.abs(e),c=n(e);return a<s?c*u(a/s/o)*s*o:(t=(1+o/i)*a,r=t-(t-a),r>l||r!=r?c*(1/0):c*r)}},{"./_math-sign":262}],261:[function(e,t,r){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],262:[function(e,t,r){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],263:[function(e,t,r){var n=e("./_uid")("meta"),a=e("./_is-object"),i=e("./_has"),o=e("./_object-dp").f,l=0,s=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return s(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++l,w:{}}})},d=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!s(e))return"F";if(!t)return"E";c(e)}return e[n].i},f=function(e,t){if(!i(e,n)){if(!s(e))return!0;if(!t)return!1;c(e)}return e[n].w},p=function(e){return u&&m.NEED&&s(e)&&!i(e,n)&&c(e),e},m=t.exports={KEY:n,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},{"./_fails":233,"./_has":240,"./_is-object":250,"./_object-dp":268,"./_uid":317}],264:[function(e,t,r){var n=e("./_global"),a=e("./_task").set,i=n.MutationObserver||n.WebKitMutationObserver,o=n.process,l=n.Promise,s="process"==e("./_cof")(o);t.exports=function(){var e,t,r,u=function(){var n,a;for(s&&(n=o.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(s)r=function(){o.nextTick(u)};else if(!i||n.navigator&&n.navigator.standalone)if(l&&l.resolve){var c=l.resolve(void 0);r=function(){c.then(u)}}else r=function(){a.call(n,u)};else{var d=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),r=function(){f.data=d=!d}}return function(n){var a={fn:n,next:void 0};t&&(t.next=a),e||(e=a,r()),t=a}}},{"./_cof":218,"./_global":239,"./_task":306}],265:[function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=a(t),this.reject=a(r)}var a=e("./_a-function");t.exports.f=function(e){return new n(e)}},{"./_a-function":205}],266:[function(e,t,r){"use strict";var n=e("./_descriptors"),a=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie"),l=e("./_to-object"),s=e("./_iobject"),u=Object.assign;t.exports=!u||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=l(e),u=arguments.length,c=1,d=i.f,f=o.f;u>c;)for(var p,m=s(arguments[c++]),h=d?a(m).concat(d(m)):a(m),_=h.length,v=0;_>v;)p=h[v++],n&&!f.call(m,p)||(r[p]=m[p]);return r}:u},{"./_descriptors":227,"./_fails":233,"./_iobject":246,"./_object-gops":274,"./_object-keys":277,"./_object-pie":278,"./_to-object":312}],267:[function(e,t,r){var n=e("./_an-object"),a=e("./_object-dps"),i=e("./_enum-bug-keys"),o=e("./_shared-key")("IE_PROTO"),l=function(){},s=function(){var t,r=e("./_dom-create")("iframe"),n=i.length;for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",t=r.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;n--;)delete s.prototype[i[n]];return s()};t.exports=Object.create||function(e,t){var r;return null!==e?(l.prototype=n(e),r=new l,l.prototype=null,r[o]=e):r=s(),void 0===t?r:a(r,t)}},{"./_an-object":209,"./_dom-create":228,"./_enum-bug-keys":229,"./_html":242,"./_object-dps":269,"./_shared-key":295}],268:[function(e,t,r){var n=e("./_an-object"),a=e("./_ie8-dom-define"),i=e("./_to-primitive"),o=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":209,"./_descriptors":227,"./_ie8-dom-define":243,"./_to-primitive":313}],269:[function(e,t,r){var n=e("./_object-dp"),a=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){a(e);for(var r,o=i(t),l=o.length,s=0;l>s;)n.f(e,r=o[s++],t[r]);return e}},{"./_an-object":209,"./_descriptors":227,"./_object-dp":268,"./_object-keys":277}],270:[function(e,t,r){"use strict";t.exports=e("./_library")||!e("./_fails")(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e("./_global")[t]})},{"./_fails":233,"./_global":239,"./_library":258}],271:[function(e,t,r){var n=e("./_object-pie"),a=e("./_property-desc"),i=e("./_to-iobject"),o=e("./_to-primitive"),l=e("./_has"),s=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?u:function(e,t){if(e=i(e),t=o(t,!0),s)try{return u(e,t)}catch(e){}if(l(e,t))return a(!n.f.call(e,t),e[t])}},{"./_descriptors":227,"./_has":240,"./_ie8-dom-define":243,"./_object-pie":278,"./_property-desc":286,"./_to-iobject":310,"./_to-primitive":313}],272:[function(e,t,r){var n=e("./_to-iobject"),a=e("./_object-gopn").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return a(e)}catch(e){return o.slice()}};t.exports.f=function(e){return o&&"[object Window]"==i.call(e)?l(e):a(n(e))}},{"./_object-gopn":273,"./_to-iobject":310}],273:[function(e,t,r){var n=e("./_object-keys-internal"),a=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},{"./_enum-bug-keys":229,"./_object-keys-internal":276}],274:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],275:[function(e,t,r){var n=e("./_has"),a=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{"./_has":240,"./_shared-key":295,"./_to-object":312}],276:[function(e,t,r){var n=e("./_has"),a=e("./_to-iobject"),i=e("./_array-includes")(!1),o=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,l=a(e),s=0,u=[];for(r in l)r!=o&&n(l,r)&&u.push(r);for(;t.length>s;)n(l,r=t[s++])&&(~i(u,r)||u.push(r));return u}},{"./_array-includes":212,"./_has":240,"./_shared-key":295,"./_to-iobject":310}],277:[function(e,t,r){var n=e("./_object-keys-internal"),a=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,a)}},{"./_enum-bug-keys":229,"./_object-keys-internal":276}],278:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],279:[function(e,t,r){var n=e("./_export"),a=e("./_core"),i=e("./_fails");t.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",o)}},{"./_core":222,"./_export":231,"./_fails":233}],280:[function(e,t,r){var n=e("./_descriptors"),a=e("./_object-keys"),i=e("./_to-iobject"),o=e("./_object-pie").f;t.exports=function(e){return function(t){for(var r,l=i(t),s=a(l),u=s.length,c=0,d=[];u>c;)r=s[c++],n&&!o.call(l,r)||d.push(e?[r,l[r]]:l[r]);return d}}},{"./_descriptors":227,"./_object-keys":277,"./_object-pie":278,"./_to-iobject":310}],281:[function(e,t,r){var n=e("./_object-gopn"),a=e("./_object-gops"),i=e("./_an-object"),o=e("./_global").Reflect;t.exports=o&&o.ownKeys||function(e){var t=n.f(i(e)),r=a.f;return r?t.concat(r(e)):t}},{"./_an-object":209,"./_global":239,"./_object-gopn":273,"./_object-gops":274}],282:[function(e,t,r){var n=e("./_global").parseFloat,a=e("./_string-trim").trim;t.exports=1/n(e("./_string-ws")+"-0")!=-1/0?function(e){var t=a(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},{"./_global":239,"./_string-trim":304,"./_string-ws":305}],283:[function(e,t,r){var n=e("./_global").parseInt,a=e("./_string-trim").trim,i=e("./_string-ws"),o=/^[-+]?0[xX]/;t.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var r=a(String(e),3);return n(r,t>>>0||(o.test(r)?16:10))}:n},{"./_global":239,"./_string-trim":304,"./_string-ws":305}],284:[function(e,t,r){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],285:[function(e,t,r){var n=e("./_an-object"),a=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},{"./_an-object":209,"./_is-object":250,"./_new-promise-capability":265}],286:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],287:[function(e,t,r){var n=e("./_redefine");t.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},{"./_redefine":288}],288:[function(e,t,r){var n=e("./_global"),a=e("./_hide"),i=e("./_has"),o=e("./_uid")("src"),l=e("./_function-to-string"),s=(""+l).split("toString");e("./_core").inspectSource=function(e){return l.call(e)},(t.exports=function(e,t,r,l){var u="function"==typeof r;u&&(i(r,"name")||a(r,"name",t)),e[t]!==r&&(u&&(i(r,o)||a(r,o,e[t]?""+e[t]:s.join(String(t)))),e===n?e[t]=r:l?e[t]?e[t]=r:a(e,t,r):(delete e[t],a(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||l.call(this)})},{"./_core":222,"./_function-to-string":238,"./_global":239,"./_has":240,"./_hide":241,"./_uid":317}],289:[function(e,t,r){"use strict";var n=e("./_classof"),a=RegExp.prototype.exec;t.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},{"./_classof":217}],290:[function(e,t,r){"use strict";var n=e("./_flags"),a=RegExp.prototype.exec,i=String.prototype.replace,o=a,l=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),s=void 0!==/()??/.exec("")[1];(l||s)&&(o=function(e){var t,r,o,u,c=this;return s&&(r=new RegExp("^"+c.source+"$(?!\\s)",n.call(c))),l&&(t=c.lastIndex),o=a.call(c,e),l&&o&&(c.lastIndex=c.global?o.index+o[0].length:t),s&&o&&o.length>1&&i.call(o[0],r,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),o}),t.exports=o},{"./_flags":235}],291:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],292:[function(e,t,r){var n=e("./_is-object"),a=e("./_an-object"),i=function(e,t){if(a(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,n){try{n=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),n(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return i(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":209,"./_ctx":224,"./_is-object":250,"./_object-gopd":271}],293:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_object-dp"),i=e("./_descriptors"),o=e("./_wks")("species");t.exports=function(e){var t=n[e];i&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function(){return this}})}},{"./_descriptors":227,"./_global":239,"./_object-dp":268,"./_wks":322}],294:[function(e,t,r){var n=e("./_object-dp").f,a=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":240,"./_object-dp":268,"./_wks":322}],295:[function(e,t,r){var n=e("./_shared")("keys"),a=e("./_uid");t.exports=function(e){return n[e]||(n[e]=a(e))}},{"./_shared":296,"./_uid":317}],296:[function(e,t,r){var n=e("./_core"),a=e("./_global"),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:e("./_library")?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":222,"./_global":239,"./_library":258}],297:[function(e,t,r){var n=e("./_an-object"),a=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||void 0==(r=n(o)[i])?t:a(r)}},{"./_a-function":205,"./_an-object":209,"./_wks":322}],298:[function(e,t,r){"use strict";var n=e("./_fails");t.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":233}],299:[function(e,t,r){var n=e("./_to-integer"),a=e("./_defined");t.exports=function(e){return function(t,r){var i,o,l=String(a(t)),s=n(r),u=l.length;return s<0||s>=u?e?"":void 0:(i=l.charCodeAt(s),i<55296||i>56319||s+1===u||(o=l.charCodeAt(s+1))<56320||o>57343?e?l.charAt(s):i:e?l.slice(s,s+2):o-56320+(i-55296<<10)+65536)}}},{"./_defined":226,"./_to-integer":309}],300:[function(e,t,r){var n=e("./_is-regexp"),a=e("./_defined");t.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(a(e))}},{"./_defined":226,"./_is-regexp":251}],301:[function(e,t,r){var n=e("./_export"),a=e("./_fails"),i=e("./_defined"),o=/"/g,l=function(e,t,r,n){var a=String(i(e)),l="<"+t;return""!==r&&(l+=" "+r+'="'+String(n).replace(o,"&quot;")+'"'),l+">"+a+"</"+t+">"};t.exports=function(e,t){var r={};r[e]=t(l),n(n.P+n.F*a(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},{"./_defined":226,"./_export":231,"./_fails":233}],302:[function(e,t,r){var n=e("./_to-length"),a=e("./_string-repeat"),i=e("./_defined");t.exports=function(e,t,r,o){var l=String(i(e)),s=l.length,u=void 0===r?" ":String(r),c=n(t);if(c<=s||""==u)return l;var d=c-s,f=a.call(u,Math.ceil(d/u.length));return f.length>d&&(f=f.slice(0,d)),o?f+l:l+f}},{"./_defined":226,"./_string-repeat":303,"./_to-length":311}],303:[function(e,t,r){"use strict";var n=e("./_to-integer"),a=e("./_defined");t.exports=function(e){var t=String(a(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},{"./_defined":226,"./_to-integer":309}],304:[function(e,t,r){var n=e("./_export"),a=e("./_defined"),i=e("./_fails"),o=e("./_string-ws"),l="["+o+"]",s="\u200b\x85",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(e,t,r){var a={},l=i(function(){return!!o[e]()||s[e]()!=s}),u=a[e]=l?t(f):o[e];r&&(a[r]=u),n(n.P+n.F*l,"String",a)},f=d.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};t.exports=d},{"./_defined":226,"./_export":231,"./_fails":233,"./_string-ws":305}],305:[function(e,t,r){t.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],306:[function(e,t,r){var n,a,i,o=e("./_ctx"),l=e("./_invoke"),s=e("./_html"),u=e("./_dom-create"),c=e("./_global"),d=c.process,f=c.setImmediate,p=c.clearImmediate,m=c.MessageChannel,h=c.Dispatch,_=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++_]=function(){l("function"==typeof e?e:Function(e),t)},n(_),_},p=function(e){delete v[e]},"process"==e("./_cof")(d)?n=function(e){d.nextTick(o(b,e,1))}:h&&h.now?n=function(e){h.now(o(b,e,1))}:m?(a=new m,i=a.port2,a.port1.onmessage=y,n=o(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):n="onreadystatechange"in u("script")?function(e){s.appendChild(u("script")).onreadystatechange=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),t.exports={set:f,clear:p}},{"./_cof":218,"./_ctx":224,"./_dom-create":228,"./_global":239,"./_html":242,"./_invoke":245}],307:[function(e,t,r){var n=e("./_to-integer"),a=Math.max,i=Math.min;t.exports=function(e,t){return e=n(e),e<0?a(e+t,0):i(e,t)}},{"./_to-integer":309}],308:[function(e,t,r){var n=e("./_to-integer"),a=e("./_to-length");t.exports=function(e){if(void 0===e)return 0;var t=n(e),r=a(t);if(t!==r)throw RangeError("Wrong length!");return r}},{"./_to-integer":309,"./_to-length":311}],309:[function(e,t,r){var n=Math.ceil,a=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},{}],310:[function(e,t,r){var n=e("./_iobject"),a=e("./_defined");t.exports=function(e){return n(a(e))}},{"./_defined":226,"./_iobject":246}],311:[function(e,t,r){var n=e("./_to-integer"),a=Math.min;t.exports=function(e){return e>0?a(n(e),9007199254740991):0}},{"./_to-integer":309}],312:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":226}],313:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":250}],314:[function(e,t,r){"use strict";if(e("./_descriptors")){var n=e("./_library"),a=e("./_global"),i=e("./_fails"),o=e("./_export"),l=e("./_typed"),s=e("./_typed-buffer"),u=e("./_ctx"),c=e("./_an-instance"),d=e("./_property-desc"),f=e("./_hide"),p=e("./_redefine-all"),m=e("./_to-integer"),h=e("./_to-length"),_=e("./_to-index"),v=e("./_to-absolute-index"),b=e("./_to-primitive"),y=e("./_has"),g=e("./_classof"),E=e("./_is-object"),T=e("./_to-object"),w=e("./_is-array-iter"),R=e("./_object-create"),P=e("./_object-gpo"),D=e("./_object-gopn").f,O=e("./core.get-iterator-method"),C=e("./_uid"),I=e("./_wks"),A=e("./_array-methods"),S=e("./_array-includes"),k=e("./_species-constructor"),M=e("./es6.array.iterator"),j=e("./_iterators"),N=e("./_iter-detect"),x=e("./_set-species"),L=e("./_array-fill"),q=e("./_array-copy-within"),U=e("./_object-dp"),$=e("./_object-gopd"),F=U.f,z=$.f,B=a.RangeError,H=a.TypeError,V=a.Uint8Array,W=Array.prototype,G=s.ArrayBuffer,Y=s.DataView,K=A(0),X=A(2),J=A(3),Q=A(4),Z=A(5),ee=A(6),te=S(!0),re=S(!1),ne=M.values,ae=M.keys,ie=M.entries,oe=W.lastIndexOf,le=W.reduce,se=W.reduceRight,ue=W.join,ce=W.sort,de=W.slice,fe=W.toString,pe=W.toLocaleString,me=I("iterator"),he=I("toStringTag"),_e=C("typed_constructor"),ve=C("def_constructor"),be=l.CONSTR,ye=l.TYPED,ge=l.VIEW,Ee=A(1,function(e,t){return De(k(e,e[ve]),t)}),Te=i(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),we=!!V&&!!V.prototype.set&&i(function(){new V(1).set({})}),Re=function(e,t){var r=m(e);if(r<0||r%t)throw B("Wrong offset!");return r},Pe=function(e){if(E(e)&&ye in e)return e;throw H(e+" is not a typed array!")},De=function(e,t){if(!(E(e)&&_e in e))throw H("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Ce(k(e,e[ve]),t)},Ce=function(e,t){for(var r=0,n=t.length,a=De(e,n);n>r;)a[r]=t[r++];return a},Ie=function(e,t,r){F(e,t,{get:function(){return this._d[r]}})},Ae=function(e){var t,r,n,a,i,o,l=T(e),s=arguments.length,c=s>1?arguments[1]:void 0,d=void 0!==c,f=O(l);if(void 0!=f&&!w(f)){for(o=f.call(l),n=[],t=0;!(i=o.next()).done;t++)n.push(i.value);l=n}for(d&&s>2&&(c=u(c,arguments[2],2)),t=0,r=h(l.length),a=De(this,r);r>t;t++)a[t]=d?c(l[t],t):l[t];return a},Se=function(){for(var e=0,t=arguments.length,r=De(this,t);t>e;)r[e]=arguments[e++];return r},ke=!!V&&i(function(){pe.call(new V(1))}),Me=function(){return pe.apply(ke?de.call(Pe(this)):Pe(this),arguments)},je={copyWithin:function(e,t){return q.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Pe(this),arguments)},filter:function(e){return Oe(this,X(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Pe(this),arguments)},lastIndexOf:function(e){return oe.apply(Pe(this),arguments)},map:function(e){return Ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return le.apply(Pe(this),arguments)},reduceRight:function(e){return se.apply(Pe(this),arguments)},reverse:function(){for(var e,t=this,r=Pe(t).length,n=Math.floor(r/2),a=0;a<n;)e=t[a],t[a++]=t[--r],t[r]=e;return t},some:function(e){return J(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Pe(this),e)},subarray:function(e,t){var r=Pe(this),n=r.length,a=v(e,n);return new(k(r,r[ve]))(r.buffer,r.byteOffset+a*r.BYTES_PER_ELEMENT,h((void 0===t?n:v(t,n))-a))}},Ne=function(e,t){return Oe(this,de.call(Pe(this),e,t))},xe=function(e){Pe(this);var t=Re(arguments[1],1),r=this.length,n=T(e),a=h(n.length),i=0;if(a+t>r)throw B("Wrong length!");for(;i<a;)this[t+i]=n[i++]},Le={entries:function(){return ie.call(Pe(this))},keys:function(){return ae.call(Pe(this))},values:function(){return ne.call(Pe(this))}},qe=function(e,t){return E(e)&&e[ye]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return qe(e,t=b(t,!0))?d(2,e[t]):z(e,t)},$e=function(e,t,r){return!(qe(e,t=b(t,!0))&&E(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?F(e,t,r):(e[t]=r.value,e)};be||($.f=Ue,U.f=$e),o(o.S+o.F*!be,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:$e}),i(function(){fe.call({})})&&(fe=pe=function(){return ue.call(this)});var Fe=p({},je);p(Fe,Le),f(Fe,me,Le.values),p(Fe,{slice:Ne,set:xe,constructor:function(){},toString:fe,toLocaleString:Me}),Ie(Fe,"buffer","b"),Ie(Fe,"byteOffset","o"),Ie(Fe,"byteLength","l"),Ie(Fe,"length","e"),F(Fe,he,{get:function(){return this[ye]}}),t.exports=function(e,t,r,s){s=!!s;var u=e+(s?"Clamped":"")+"Array",d="get"+e,p="set"+e,m=a[u],v=m||{},b=m&&P(m),y=!m||!l.ABV,T={},w=m&&m.prototype,O=function(e,r){var n=e._d;return n.v[d](r*t+n.o,Te)},C=function(e,r,n){var a=e._d;s&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),a.v[p](r*t+a.o,n,Te)},I=function(e,t){F(e,t,{get:function(){return O(this,t)},set:function(e){return C(this,t,e)},enumerable:!0})};y?(m=r(function(e,r,n,a){c(e,m,u,"_d");var i,o,l,s,d=0,p=0;if(E(r)){if(!(r instanceof G||"ArrayBuffer"==(s=g(r))||"SharedArrayBuffer"==s))return ye in r?Ce(m,r):Ae.call(m,r);i=r,p=Re(n,t);var v=r.byteLength;if(void 0===a){if(v%t)throw B("Wrong length!");if((o=v-p)<0)throw B("Wrong length!")}else if((o=h(a)*t)+p>v)throw B("Wrong length!");l=o/t}else l=_(r),o=l*t,i=new G(o);for(f(e,"_d",{b:i,o:p,l:o,e:l,v:new Y(i)});d<l;)I(e,d++)}),w=m.prototype=R(Fe),f(w,"constructor",m)):i(function(){m(1)})&&i(function(){new m(-1)})&&N(function(e){new m,new m(null),new m(1.5),new m(e)},!0)||(m=r(function(e,r,n,a){c(e,m,u);var i;return E(r)?r instanceof G||"ArrayBuffer"==(i=g(r))||"SharedArrayBuffer"==i?void 0!==a?new v(r,Re(n,t),a):void 0!==n?new v(r,Re(n,t)):new v(r):ye in r?Ce(m,r):Ae.call(m,r):new v(_(r))}),K(b!==Function.prototype?D(v).concat(D(b)):D(v),function(e){e in m||f(m,e,v[e])}),m.prototype=w,n||(w.constructor=m));var A=w[me],S=!!A&&("values"==A.name||void 0==A.name),k=Le.values;f(m,_e,!0),f(w,ye,u),f(w,ge,!0),f(w,ve,m),(s?new m(1)[he]==u:he in w)||F(w,he,{get:function(){return u}}),T[u]=m,o(o.G+o.W+o.F*(m!=v),T),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*i(function(){v.of.call(m,1)}),u,{from:Ae,of:Se}),"BYTES_PER_ELEMENT"in w||f(w,"BYTES_PER_ELEMENT",t),o(o.P,u,je),x(u),o(o.P+o.F*we,u,{set:xe}),o(o.P+o.F*!S,u,Le),n||w.toString==fe||(w.toString=fe),o(o.P+o.F*i(function(){new m(1).slice()}),u,{slice:Ne}),o(o.P+o.F*(i(function(){return[1,2].toLocaleString()!=new m([1,2]).toLocaleString()})||!i(function(){w.toLocaleString.call([1,2])})),u,{toLocaleString:Me}),j[u]=S?A:k,n||S||f(w,me,k)}}else t.exports=function(){}},{"./_an-instance":208,"./_array-copy-within":210,"./_array-fill":211,"./_array-includes":212,"./_array-methods":213,"./_classof":217,"./_ctx":224,"./_descriptors":227,"./_export":231,"./_fails":233,"./_global":239,"./_has":240,"./_hide":241,"./_is-array-iter":247,"./_is-object":250,"./_iter-detect":255,"./_iterators":257,"./_library":258,"./_object-create":267,"./_object-dp":268,"./_object-gopd":271,"./_object-gopn":273,"./_object-gpo":275,"./_property-desc":286,"./_redefine-all":287,"./_set-species":293,"./_species-constructor":297,"./_to-absolute-index":307,"./_to-index":308,"./_to-integer":309,"./_to-length":311,"./_to-object":312,"./_to-primitive":313,"./_typed":316,"./_typed-buffer":315,"./_uid":317,"./_wks":322,"./core.get-iterator-method":323,"./es6.array.iterator":329}],315:[function(e,t,r){"use strict";function n(e,t,r){var n,a,i,o=new Array(r),l=8*r-t-1,s=(1<<l)-1,u=s>>1,c=23===t?q(2,-24)-q(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for(e=L(e),e!=e||e===N?(a=e!=e?1:0,n=s):(n=U($(e)/F),e*(i=q(2,-n))<1&&(n--,i*=2),e+=n+u>=1?c/i:c*q(2,1-u),e*i>=2&&(n++,i/=2),n+u>=s?(a=0,n=s):n+u>=1?(a=(e*i-1)*q(2,t),n+=u):(a=e*q(2,u-1)*q(2,t),n=0));t>=8;o[d++]=255&a,a/=256,t-=8);for(n=n<<t|a,l+=t;l>0;o[d++]=255&n,n/=256,l-=8);return o[--d]|=128*f,o}function a(e,t,r){var n,a=8*r-t-1,i=(1<<a)-1,o=i>>1,l=a-7,s=r-1,u=e[s--],c=127&u;for(u>>=7;l>0;c=256*c+e[s],s--,l-=8);for(n=c&(1<<-l)-1,c>>=-l,l+=t;l>0;n=256*n+e[s],s--,l-=8);if(0===c)c=1-o;else{if(c===i)return n?NaN:u?-N:N;n+=q(2,t),c-=o}return(u?-1:1)*n*q(2,c-t)}function i(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function l(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function u(e){return n(e,52,8)}function c(e){return n(e,23,4)}function d(e,t,r){D(e[I],t,{get:function(){return this[r]}})}function f(e,t,r,n){var a=+r,i=R(a);if(i+t>e[B])throw j(A);var o=e[z]._b,l=i+e[H],s=o.slice(l,l+t);return n?s:s.reverse()}function p(e,t,r,n,a,i){var o=+r,l=R(o);if(l+t>e[B])throw j(A);for(var s=e[z]._b,u=l+e[H],c=n(+a),d=0;d<t;d++)s[u+d]=c[i?d:t-d-1]}var m=e("./_global"),h=e("./_descriptors"),_=e("./_library"),v=e("./_typed"),b=e("./_hide"),y=e("./_redefine-all"),g=e("./_fails"),E=e("./_an-instance"),T=e("./_to-integer"),w=e("./_to-length"),R=e("./_to-index"),P=e("./_object-gopn").f,D=e("./_object-dp").f,O=e("./_array-fill"),C=e("./_set-to-string-tag"),I="prototype",A="Wrong index!",S=m.ArrayBuffer,k=m.DataView,M=m.Math,j=m.RangeError,N=m.Infinity,x=S,L=M.abs,q=M.pow,U=M.floor,$=M.log,F=M.LN2,z=h?"_b":"buffer",B=h?"_l":"byteLength",H=h?"_o":"byteOffset";if(v.ABV){if(!g(function(){S(1)})||!g(function(){new S(-1)})||g(function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name})){S=function(e){return E(this,S),new x(R(e))};for(var V,W=S[I]=x[I],G=P(x),Y=0;G.length>Y;)(V=G[Y++])in S||b(S,V,x[V]);_||(W.constructor=S)}var K=new k(new S(2)),X=k[I].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||y(k[I],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else S=function(e){E(this,S,"ArrayBuffer");var t=R(e);this._b=O.call(new Array(t),0),this[B]=t},k=function(e,t,r){E(this,k,"DataView"),E(e,S,"DataView");var n=e[B],a=T(t);if(a<0||a>n)throw j("Wrong offset!");if(r=void 0===r?n-a:w(r),a+r>n)throw j("Wrong length!");this[z]=e,this[H]=a,this[B]=r},h&&(d(S,"byteLength","_l"),d(k,"buffer","_b"),d(k,"byteLength","_l"),d(k,"byteOffset","_o")),y(k[I],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return i(f(this,4,e,arguments[1]))},getUint32:function(e){return i(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return a(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return a(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,o,t)},setUint8:function(e,t){p(this,1,e,o,t)},setInt16:function(e,t){p(this,2,e,l,t,arguments[2])},setUint16:function(e,t){p(this,2,e,l,t,arguments[2])},setInt32:function(e,t){p(this,4,e,s,t,arguments[2])},setUint32:function(e,t){p(this,4,e,s,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,u,t,arguments[2])}});C(S,"ArrayBuffer"),C(k,"DataView"),b(k[I],v.VIEW,!0),r.ArrayBuffer=S,r.DataView=k},{"./_an-instance":208,"./_array-fill":211,"./_descriptors":227,"./_fails":233,"./_global":239,"./_hide":241,"./_library":258,"./_object-dp":268,"./_object-gopn":273,"./_redefine-all":287,"./_set-to-string-tag":294,"./_to-index":308,"./_to-integer":309,"./_to-length":311,"./_typed":316}],316:[function(e,t,r){for(var n,a=e("./_global"),i=e("./_hide"),o=e("./_uid"),l=o("typed_array"),s=o("view"),u=!(!a.ArrayBuffer||!a.DataView),c=u,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=a[f[d++]])?(i(n.prototype,l,!0),i(n.prototype,s,!0)):c=!1;t.exports={ABV:u,CONSTR:c,TYPED:l,VIEW:s}},{"./_global":239,"./_hide":241,"./_uid":317}],317:[function(e,t,r){var n=0,a=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},{}],318:[function(e,t,r){var n=e("./_global"),a=n.navigator;t.exports=a&&a.userAgent||""},{"./_global":239}],319:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":250}],320:[function(e,t,r){var n=e("./_global"),a=e("./_core"),i=e("./_library"),o=e("./_wks-ext"),l=e("./_object-dp").f;t.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:o.f(e)})}},{"./_core":222,"./_global":239,"./_library":258,"./_object-dp":268,"./_wks-ext":321}],321:[function(e,t,r){r.f=e("./_wks")},{"./_wks":322}],322:[function(e,t,r){var n=e("./_shared")("wks"),a=e("./_uid"),i=e("./_global").Symbol,o="function"==typeof i;(t.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},{"./_global":239,"./_shared":296,"./_uid":317}],323:[function(e,t,r){var n=e("./_classof"),a=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[n(e)]}},{"./_classof":217,"./_core":222,"./_iterators":257,"./_wks":322}],324:[function(e,t,r){var n=e("./_export");n(n.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":206,"./_array-copy-within":210,"./_export":231}],325:[function(e,t,r){var n=e("./_export");n(n.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":206,"./_array-fill":211,"./_export":231}],326:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(6),i="findIndex",o=!0;i in[]&&Array(1)[i](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(e){
return a(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":206,"./_array-methods":213,"./_export":231}],327:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("find")},{"./_add-to-unscopables":206,"./_array-methods":213,"./_export":231}],328:[function(e,t,r){"use strict";var n=e("./_ctx"),a=e("./_export"),i=e("./_to-object"),o=e("./_iter-call"),l=e("./_is-array-iter"),s=e("./_to-length"),u=e("./_create-property"),c=e("./core.get-iterator-method");a(a.S+a.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,a,d,f=i(e),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,_=void 0!==h,v=0,b=c(f);if(_&&(h=n(h,m>2?arguments[2]:void 0,2)),void 0==b||p==Array&&l(b))for(t=s(f.length),r=new p(t);t>v;v++)u(r,v,_?h(f[v],v):f[v]);else for(d=b.call(f),r=new p;!(a=d.next()).done;v++)u(r,v,_?o(d,h,[a.value,v],!0):a.value);return r.length=v,r}})},{"./_create-property":223,"./_ctx":224,"./_export":231,"./_is-array-iter":247,"./_iter-call":252,"./_iter-detect":255,"./_to-length":311,"./_to-object":312,"./core.get-iterator-method":323}],329:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),a=e("./_iter-step"),i=e("./_iterators"),o=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):"keys"==t?a(0,r):"values"==t?a(0,e[r]):a(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":206,"./_iter-define":254,"./_iter-step":256,"./_iterators":257,"./_to-iobject":310}],330:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_create-property");n(n.S+n.F*e("./_fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)a(r,e,arguments[e++]);return r.length=t,r}})},{"./_create-property":223,"./_export":231,"./_fails":233}],331:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_a-function"),i=e("./_to-object"),o=e("./_fails"),l=[].sort,s=[1,2,3];n(n.P+n.F*(o(function(){s.sort(void 0)})||!o(function(){s.sort(null)})||!e("./_strict-method")(l)),"Array",{sort:function(e){return void 0===e?l.call(i(this)):l.call(i(this),a(e))}})},{"./_a-function":205,"./_export":231,"./_fails":233,"./_strict-method":298,"./_to-object":312}],332:[function(e,t,r){e("./_set-species")("Array")},{"./_set-species":293}],333:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_to-primitive");n(n.P+n.F*e("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=a(this),r=i(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},{"./_export":231,"./_fails":233,"./_to-object":312,"./_to-primitive":313}],334:[function(e,t,r){var n=e("./_wks")("toPrimitive"),a=Date.prototype;n in a||e("./_hide")(a,n,e("./_date-to-primitive"))},{"./_date-to-primitive":225,"./_hide":241,"./_wks":322}],335:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_object-gpo"),i=e("./_wks")("hasInstance"),o=Function.prototype;i in o||e("./_object-dp").f(o,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":250,"./_object-dp":268,"./_object-gpo":275,"./_wks":322}],336:[function(e,t,r){var n=e("./_object-dp").f,a=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in a||e("./_descriptors")&&n(a,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},{"./_descriptors":227,"./_object-dp":268}],337:[function(e,t,r){"use strict";var n=e("./_collection-strong"),a=e("./_validate-collection");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(a(this,"Map"),0===e?0:e,t)}},n,!0)},{"./_collection":221,"./_collection-strong":219,"./_validate-collection":319}],338:[function(e,t,r){var n=e("./_export"),a=e("./_math-log1p"),i=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:a(e-1+i(e-1)*i(e+1))}})},{"./_export":231,"./_math-log1p":261}],339:[function(e,t,r){function n(e){return isFinite(e=+e)&&0!=e?e<0?-n(-e):Math.log(e+Math.sqrt(e*e+1)):e}var a=e("./_export"),i=Math.asinh;a(a.S+a.F*!(i&&1/i(0)>0),"Math",{asinh:n})},{"./_export":231}],340:[function(e,t,r){var n=e("./_export"),a=Math.atanh;n(n.S+n.F*!(a&&1/a(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./_export":231}],341:[function(e,t,r){var n=e("./_export"),a=e("./_math-sign");n(n.S,"Math",{cbrt:function(e){return a(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./_export":231,"./_math-sign":262}],342:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./_export":231}],343:[function(e,t,r){var n=e("./_export"),a=Math.exp;n(n.S,"Math",{cosh:function(e){return(a(e=+e)+a(-e))/2}})},{"./_export":231}],344:[function(e,t,r){var n=e("./_export"),a=e("./_math-expm1");n(n.S+n.F*(a!=Math.expm1),"Math",{expm1:a})},{"./_export":231,"./_math-expm1":259}],345:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{fround:e("./_math-fround")})},{"./_export":231,"./_math-fround":260}],346:[function(e,t,r){var n=e("./_export"),a=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,i=0,o=0,l=arguments.length,s=0;o<l;)r=a(arguments[o++]),s<r?(n=s/r,i=i*n*n+1,s=r):r>0?(n=r/s,i+=n*n):i+=r;return s===1/0?1/0:s*Math.sqrt(i)}})},{"./_export":231}],347:[function(e,t,r){var n=e("./_export"),a=Math.imul;n(n.S+n.F*e("./_fails")(function(){return-5!=a(4294967295,5)||2!=a.length}),"Math",{imul:function(e,t){var r=+e,n=+t,a=65535&r,i=65535&n;return 0|a*i+((65535&r>>>16)*i+a*(65535&n>>>16)<<16>>>0)}})},{"./_export":231,"./_fails":233}],348:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{"./_export":231}],349:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log1p:e("./_math-log1p")})},{"./_export":231,"./_math-log1p":261}],350:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./_export":231}],351:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{sign:e("./_math-sign")})},{"./_export":231,"./_math-sign":262}],352:[function(e,t,r){var n=e("./_export"),a=e("./_math-expm1"),i=Math.exp;n(n.S+n.F*e("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(a(e)-a(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},{"./_export":231,"./_fails":233,"./_math-expm1":259}],353:[function(e,t,r){var n=e("./_export"),a=e("./_math-expm1"),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=a(e=+e),r=a(-e);return t==1/0?1:r==1/0?-1:(t-r)/(i(e)+i(-e))}})},{"./_export":231,"./_math-expm1":259}],354:[function(e,t,r){var n=e("./_export");n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./_export":231}],355:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_has"),i=e("./_cof"),o=e("./_inherit-if-required"),l=e("./_to-primitive"),s=e("./_fails"),u=e("./_object-gopn").f,c=e("./_object-gopd").f,d=e("./_object-dp").f,f=e("./_string-trim").trim,p=n.Number,m=p,h=p.prototype,_="Number"==i(e("./_object-create")(h)),v="trim"in String.prototype,b=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():f(t,3);var r,n,a,i=t.charCodeAt(0);if(43===i||45===i){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+t}for(var o,s=t.slice(2),u=0,c=s.length;u<c;u++)if((o=s.charCodeAt(u))<48||o>a)return NaN;return parseInt(s,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(_?s(function(){h.valueOf.call(r)}):"Number"!=i(r))?o(new m(b(t)),r,p):b(t)};for(var y,g=e("./_descriptors")?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;g.length>E;E++)a(m,y=g[E])&&!a(p,y)&&d(p,y,c(m,y));p.prototype=h,h.constructor=p,e("./_redefine")(n,"Number",p)}},{"./_cof":218,"./_descriptors":227,"./_fails":233,"./_global":239,"./_has":240,"./_inherit-if-required":244,"./_object-create":267,"./_object-dp":268,"./_object-gopd":271,"./_object-gopn":273,"./_redefine":288,"./_string-trim":304,"./_to-primitive":313}],356:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":231}],357:[function(e,t,r){var n=e("./_export"),a=e("./_global").isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},{"./_export":231,"./_global":239}],358:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":231,"./_is-integer":249}],359:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isNaN:function(e){return e!=e}})},{"./_export":231}],360:[function(e,t,r){var n=e("./_export"),a=e("./_is-integer"),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return a(e)&&i(e)<=9007199254740991}})},{"./_export":231,"./_is-integer":249}],361:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":231}],362:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":231}],363:[function(e,t,r){var n=e("./_export"),a=e("./_parse-float");n(n.S+n.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},{"./_export":231,"./_parse-float":282}],364:[function(e,t,r){var n=e("./_export"),a=e("./_parse-int");n(n.S+n.F*(Number.parseInt!=a),"Number",{parseInt:a})},{"./_export":231,"./_parse-int":283}],365:[function(e,t,r){var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":231,"./_object-assign":266}],366:[function(e,t,r){var n=e("./_is-object"),a=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(e){return function(t){return e&&n(t)?e(a(t)):t}})},{"./_is-object":250,"./_meta":263,"./_object-sap":279}],367:[function(e,t,r){var n=e("./_to-iobject"),a=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return a(n(e),t)}})},{"./_object-gopd":271,"./_object-sap":279,"./_to-iobject":310}],368:[function(e,t,r){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":272,"./_object-sap":279}],369:[function(e,t,r){var n=e("./_to-object"),a=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return a(n(e))}})},{"./_object-gpo":275,"./_object-sap":279,"./_to-object":312}],370:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},{"./_is-object":250,"./_object-sap":279}],371:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{"./_is-object":250,"./_object-sap":279}],372:[function(e,t,r){var n=e("./_is-object");e("./_object-sap")("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{"./_is-object":250,"./_object-sap":279}],373:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{is:e("./_same-value")})},{"./_export":231,"./_same-value":291}],374:[function(e,t,r){var n=e("./_to-object"),a=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return a(n(e))}})},{"./_object-keys":277,"./_object-sap":279,"./_to-object":312}],375:[function(e,t,r){var n=e("./_is-object"),a=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",function(e){return function(t){return e&&n(t)?e(a(t)):t}})},{"./_is-object":250,"./_meta":263,"./_object-sap":279}],376:[function(e,t,r){var n=e("./_is-object"),a=e("./_meta").onFreeze;e("./_object-sap")("seal",function(e){return function(t){return e&&n(t)?e(a(t)):t}})},{"./_is-object":250,"./_meta":263,"./_object-sap":279}],377:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":231,"./_set-proto":292}],378:[function(e,t,r){"use strict";var n=e("./_classof"),a={};a[e("./_wks")("toStringTag")]="z",a+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{"./_classof":217,"./_redefine":288,"./_wks":322}],379:[function(e,t,r){"use strict";var n,a,i,o,l=e("./_library"),s=e("./_global"),u=e("./_ctx"),c=e("./_classof"),d=e("./_export"),f=e("./_is-object"),p=e("./_a-function"),m=e("./_an-instance"),h=e("./_for-of"),_=e("./_species-constructor"),v=e("./_task").set,b=e("./_microtask")(),y=e("./_new-promise-capability"),g=e("./_perform"),E=e("./_user-agent"),T=e("./_promise-resolve"),w=s.TypeError,R=s.process,P=R&&R.versions,D=P&&P.v8||"",O=s.Promise,C="process"==c(R),I=function(){},A=a=y.f,S=!!function(){try{var t=O.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(I,I)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof r&&0!==D.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),k=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var r=e._c;b(function(){for(var n=e._v,a=1==e._s,i=0;r.length>i;)!function(t){var r,i,o,l=a?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{l?(a||(2==e._h&&x(e),e._h=1),!0===l?r=n:(c&&c.enter(),r=l(n),c&&(c.exit(),o=!0)),r===t.promise?u(w("Promise-chain cycle")):(i=k(r))?i.call(r,s,u):s(r)):u(n)}catch(e){c&&!o&&c.exit(),u(e)}}(r[i++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){v.call(s,function(){var t,r,n,a=e._v,i=N(e);if(i&&(t=g(function(){C?R.emit("unhandledRejection",a,e):(r=s.onunhandledrejection)?r({promise:e,reason:a}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",a)}),e._h=C||N(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},x=function(e){v.call(s,function(){var t;C?R.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},q=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw w("Promise can't be resolved itself");(t=k(e))?b(function(){var n={_w:r,_d:!1};try{t.call(e,u(q,n,1),u(L,n,1))}catch(e){L.call(n,e)}}):(r._v=e,r._s=1,M(r,!1))}catch(e){L.call({_w:r,_d:!1},e)}}};S||(O=function(e){m(this,O,"Promise","_h"),p(e),n.call(this);try{e(u(q,this,1),u(L,this,1))}catch(e){L.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=e("./_redefine-all")(O.prototype,{then:function(e,t){var r=A(_(this,O));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=C?R.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=u(q,e,1),this.reject=u(L,e,1)},y.f=A=function(e){return e===O||e===o?new i(e):a(e)}),d(d.G+d.W+d.F*!S,{Promise:O}),e("./_set-to-string-tag")(O,"Promise"),e("./_set-species")("Promise"),o=e("./_core").Promise,d(d.S+d.F*!S,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(l||!S),"Promise",{resolve:function(e){return T(l&&this===o?O:this,e)}}),d(d.S+d.F*!(S&&e("./_iter-detect")(function(e){O.all(e).catch(I)})),"Promise",{all:function(e){var t=this,r=A(t),n=r.resolve,a=r.reject,i=g(function(){var r=[],i=0,o=1;h(e,!1,function(e){var l=i++,s=!1;r.push(void 0),o++,t.resolve(e).then(function(e){s||(s=!0,r[l]=e,--o||n(r))},a)}),--o||n(r)});return i.e&&a(i.v),r.promise},race:function(e){var t=this,r=A(t),n=r.reject,a=g(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return a.e&&n(a.v),r.promise}})},{"./_a-function":205,"./_an-instance":208,"./_classof":217,"./_core":222,"./_ctx":224,"./_export":231,"./_for-of":237,"./_global":239,"./_is-object":250,"./_iter-detect":255,"./_library":258,"./_microtask":264,"./_new-promise-capability":265,"./_perform":284,"./_promise-resolve":285,"./_redefine-all":287,"./_set-species":293,"./_set-to-string-tag":294,"./_species-constructor":297,"./_task":306,"./_user-agent":318,"./_wks":322}],380:[function(e,t,r){var n=e("./_export"),a=e("./_a-function"),i=e("./_an-object"),o=(e("./_global").Reflect||{}).apply,l=Function.apply;n(n.S+n.F*!e("./_fails")(function(){o(function(){})}),"Reflect",{apply:function(e,t,r){var n=a(e),s=i(r);return o?o(n,t,s):l.call(n,t,s)}})},{"./_a-function":205,"./_an-object":209,"./_export":231,"./_fails":233,"./_global":239}],381:[function(e,t,r){var n=e("./_export"),a=e("./_object-create"),i=e("./_a-function"),o=e("./_an-object"),l=e("./_is-object"),s=e("./_fails"),u=e("./_bind"),c=(e("./_global").Reflect||{}).construct,d=s(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!s(function(){c(function(){})});n(n.S+n.F*(d||f),"Reflect",{construct:function(e,t){i(e),o(t);var r=arguments.length<3?e:i(arguments[2]);if(f&&!d)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var s=r.prototype,p=a(l(s)?s:Object.prototype),m=Function.apply.call(e,p,t);return l(m)?m:p}})},{"./_a-function":205,"./_an-object":209,"./_bind":216,"./_export":231,"./_fails":233,"./_global":239,"./_is-object":250,"./_object-create":267}],382:[function(e,t,r){var n=e("./_object-dp"),a=e("./_export"),i=e("./_an-object"),o=e("./_to-primitive");a(a.S+a.F*e("./_fails")(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){i(e),t=o(t,!0),i(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},{"./_an-object":209,"./_export":231,"./_fails":233,"./_object-dp":268,"./_to-primitive":313}],383:[function(e,t,r){var n=e("./_export"),a=e("./_object-gopd").f,i=e("./_an-object");n(n.S,"Reflect",{deleteProperty:function(e,t){var r=a(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},{"./_an-object":209,"./_export":231,"./_object-gopd":271}],384:[function(e,t,r){var n=e("./_object-gopd"),a=e("./_export"),i=e("./_an-object");a(a.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(i(e),t)}})},{"./_an-object":209,"./_export":231,"./_object-gopd":271}],385:[function(e,t,r){var n=e("./_export"),a=e("./_object-gpo"),i=e("./_an-object");n(n.S,"Reflect",{getPrototypeOf:function(e){return a(i(e))}})},{"./_an-object":209,"./_export":231,"./_object-gpo":275}],386:[function(e,t,r){function n(e,t){var r,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[t]:(r=a.f(e,t))?o(r,"value")?r.value:void 0!==r.get?r.get.call(c):void 0:s(l=i(e))?n(l,t,c):void 0}var a=e("./_object-gopd"),i=e("./_object-gpo"),o=e("./_has"),l=e("./_export"),s=e("./_is-object"),u=e("./_an-object");l(l.S,"Reflect",{get:n})},{"./_an-object":209,"./_export":231,"./_has":240,"./_is-object":250,"./_object-gopd":271,"./_object-gpo":275}],387:[function(e,t,r){var n=e("./_export");n(n.S,"Reflect",{has:function(e,t){return t in e}})},{"./_export":231}],388:[function(e,t,r){var n=e("./_export"),a=e("./_an-object"),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return a(e),!i||i(e)}})},{"./_an-object":209,"./_export":231}],389:[function(e,t,r){var n=e("./_export");n(n.S,"Reflect",{ownKeys:e("./_own-keys")})},{"./_export":231,"./_own-keys":281}],390:[function(e,t,r){var n=e("./_export"),a=e("./_an-object"),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){a(e);try{return i&&i(e),!0}catch(e){return!1}}})},{"./_an-object":209,"./_export":231}],391:[function(e,t,r){var n=e("./_export"),a=e("./_set-proto");a&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){a.check(e,t);try{return a.set(e,t),!0}catch(e){return!1}}})},{"./_export":231,"./_set-proto":292}],392:[function(e,t,r){function n(e,t,r){var s,f,p=arguments.length<4?e:arguments[3],m=i.f(c(e),t);if(!m){if(d(f=o(e)))return n(f,t,r,p);m=u(0)}if(l(m,"value")){if(!1===m.writable||!d(p))return!1;if(s=i.f(p,t)){if(s.get||s.set||!1===s.writable)return!1;s.value=r,a.f(p,t,s)}else a.f(p,t,u(0,r));return!0}return void 0!==m.set&&(m.set.call(p,r),!0)}var a=e("./_object-dp"),i=e("./_object-gopd"),o=e("./_object-gpo"),l=e("./_has"),s=e("./_export"),u=e("./_property-desc"),c=e("./_an-object"),d=e("./_is-object");s(s.S,"Reflect",{set:n})},{"./_an-object":209,"./_export":231,"./_has":240,"./_is-object":250,"./_object-dp":268,"./_object-gopd":271,"./_object-gpo":275,"./_property-desc":286}],393:[function(e,t,r){var n=e("./_global"),a=e("./_inherit-if-required"),i=e("./_object-dp").f,o=e("./_object-gopn").f,l=e("./_is-regexp"),s=e("./_flags"),u=n.RegExp,c=u,d=u.prototype,f=/a/g,p=/a/g,m=new u(f)!==f;if(e("./_descriptors")&&(!m||e("./_fails")(function(){return p[e("./_wks")("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function(e,t){var r=this instanceof u,n=l(e),i=void 0===t;return!r&&n&&e.constructor===u&&i?e:a(m?new c(n&&!i?e.source:e,t):c((n=e instanceof u)?e.source:e,n&&i?s.call(e):t),r?this:d,u)};for(var h=o(c),_=0;h.length>_;)!function(e){e in u||i(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(h[_++]);d.constructor=u,u.prototype=d,e("./_redefine")(n,"RegExp",u)}e("./_set-species")("RegExp")},{"./_descriptors":227,"./_fails":233,"./_flags":235,"./_global":239,"./_inherit-if-required":244,"./_is-regexp":251,"./_object-dp":268,"./_object-gopn":273,"./_redefine":288,"./_set-species":293,"./_wks":322}],394:[function(e,t,r){"use strict";var n=e("./_regexp-exec");e("./_export")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},{"./_export":231,"./_regexp-exec":290}],395:[function(e,t,r){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":227,"./_flags":235,"./_object-dp":268}],396:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_to-length"),i=e("./_advance-string-index"),o=e("./_regexp-exec-abstract");e("./_fix-re-wks")("match",1,function(e,t,r,l){return[function(r){var n=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=l(r,e,this);if(t.done)return t.value;var s=n(e),u=String(this);if(!s.global)return o(s,u);var c=s.unicode;s.lastIndex=0;for(var d,f=[],p=0;null!==(d=o(s,u));){var m=String(d[0]);f[p]=m,""===m&&(s.lastIndex=i(u,a(s.lastIndex),c)),p++}return 0===p?null:f}]})},{"./_advance-string-index":207,"./_an-object":209,"./_fix-re-wks":234,"./_regexp-exec-abstract":289,"./_to-length":311}],397:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_to-object"),i=e("./_to-length"),o=e("./_to-integer"),l=e("./_advance-string-index"),s=e("./_regexp-exec-abstract"),u=Math.max,c=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};e("./_fix-re-wks")("replace",2,function(e,t,r,h){function _(e,t,n,i,o,l){var s=n+e.length,u=i.length,c=p;return void 0!==o&&(o=a(o),c=f),r.call(l,c,function(r,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":l=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return r;if(c>u){var f=d(c/10);return 0===f?r:f<=u?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):r}l=i[c-1]}return void 0===l?"":l})}return[function(n,a){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,a):r.call(String(i),n,a)},function(e,t){var a=h(r,e,this,t);if(a.done)return a.value;var d=n(e),f=String(this),p="function"==typeof t;p||(t=String(t));var v=d.global;if(v){var b=d.unicode;d.lastIndex=0}for(var y=[];;){var g=s(d,f);if(null===g)break;if(y.push(g),!v)break;""===String(g[0])&&(d.lastIndex=l(f,i(d.lastIndex),b))}for(var E="",T=0,w=0;w<y.length;w++){g=y[w];for(var R=String(g[0]),P=u(c(o(g.index),f.length),0),D=[],O=1;O<g.length;O++)D.push(m(g[O]));var C=g.groups;if(p){var I=[R].concat(D,P,f);void 0!==C&&I.push(C);var A=String(t.apply(void 0,I))}else A=_(R,f,P,D,C,t);P>=T&&(E+=f.slice(T,P)+A,T=P+R.length)}return E+f.slice(T)}]})},{"./_advance-string-index":207,"./_an-object":209,"./_fix-re-wks":234,"./_regexp-exec-abstract":289,"./_to-integer":309,"./_to-length":311,"./_to-object":312}],398:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_same-value"),i=e("./_regexp-exec-abstract");e("./_fix-re-wks")("search",1,function(e,t,r,o){return[function(r){var n=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=o(r,e,this);if(t.done)return t.value;var l=n(e),s=String(this),u=l.lastIndex;a(u,0)||(l.lastIndex=0);var c=i(l,s);return a(l.lastIndex,u)||(l.lastIndex=u),null===c?-1:c.index}]})},{"./_an-object":209,"./_fix-re-wks":234,"./_regexp-exec-abstract":289,"./_same-value":291}],399:[function(e,t,r){"use strict";var n=e("./_is-regexp"),a=e("./_an-object"),i=e("./_species-constructor"),o=e("./_advance-string-index"),l=e("./_to-length"),s=e("./_regexp-exec-abstract"),u=e("./_regexp-exec"),c=e("./_fails"),d=Math.min,f=[].push,p="length",m=!c(function(){RegExp(4294967295,"y")});e("./_fix-re-wks")("split",2,function(e,t,r,c){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(a,e,t);for(var i,o,l,s=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,c+"g");(i=u.call(h,a))&&!((o=h.lastIndex)>d&&(s.push(a.slice(d,i.index)),i[p]>1&&i.index<a[p]&&f.apply(s,i.slice(1)),l=i[0][p],d=o,s[p]>=m));)h.lastIndex===i.index&&h.lastIndex++;return d===a[p]?!l&&h.test("")||s.push(""):s.push(a.slice(d)),s[p]>m?s.slice(0,m):s}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var a=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,a,n):h.call(String(a),r,n)},function(e,t){var n=c(h,e,this,t,h!==r);if(n.done)return n.value;var u=a(e),f=String(this),p=i(u,RegExp),_=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"y":"g"),b=new p(m?u:"^(?:"+u.source+")",v),y=void 0===t?4294967295:t>>>0;if(0===y)return[];if(0===f.length)return null===s(b,f)?[f]:[];for(var g=0,E=0,T=[];E<f.length;){b.lastIndex=m?E:0;var w,R=s(b,m?f:f.slice(E));if(null===R||(w=d(l(b.lastIndex+(m?0:E)),f.length))===g)E=o(f,E,_);else{if(T.push(f.slice(g,E)),T.length===y)return T;for(var P=1;P<=R.length-1;P++)if(T.push(R[P]),T.length===y)return T;E=g=w}}return T.push(f.slice(g)),T}]})},{"./_advance-string-index":207,"./_an-object":209,"./_fails":233,"./_fix-re-wks":234,"./_is-regexp":251,"./_regexp-exec":290,"./_regexp-exec-abstract":289,"./_species-constructor":297,"./_to-length":311}],400:[function(e,t,r){"use strict";e("./es6.regexp.flags");var n=e("./_an-object"),a=e("./_flags"),i=e("./_descriptors"),o=/./.toString,l=function(t){e("./_redefine")(RegExp.prototype,"toString",t,!0)};e("./_fails")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?l(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)}):"toString"!=o.name&&l(function(){return o.call(this)})},{"./_an-object":209,"./_descriptors":227,"./_fails":233,"./_flags":235,"./_redefine":288,"./es6.regexp.flags":395}],401:[function(e,t,r){"use strict";var n=e("./_collection-strong"),a=e("./_validate-collection");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(a(this,"Set"),e=0===e?0:e,e)}},n)},{"./_collection":221,"./_collection-strong":219,"./_validate-collection":319}],402:[function(e,t,r){"use strict";e("./_string-html")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{"./_string-html":301}],403:[function(e,t,r){"use strict";e("./_string-html")("big",function(e){return function(){return e(this,"big","","")}})},{"./_string-html":301}],404:[function(e,t,r){"use strict";e("./_string-html")("blink",function(e){return function(){return e(this,"blink","","")}})},{"./_string-html":301}],405:[function(e,t,r){"use strict";e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})},{"./_string-html":301}],406:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-at")(!1);n(n.P,"String",{codePointAt:function(e){return a(this,e)}})},{"./_export":231,"./_string-at":299}],407:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-length"),i=e("./_string-context"),o="".endsWith;n(n.P+n.F*e("./_fails-is-regexp")("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=a(t.length),l=void 0===r?n:Math.min(a(r),n),s=String(e);return o?o.call(t,s,l):t.slice(l-s.length,l)===s}})},{"./_export":231,"./_fails-is-regexp":232,"./_string-context":300,"./_to-length":311}],408:[function(e,t,r){"use strict";e("./_string-html")("fixed",function(e){return function(){return e(this,"tt","","")}})},{"./_string-html":301}],409:[function(e,t,r){"use strict";e("./_string-html")("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{"./_string-html":301}],410:[function(e,t,r){"use strict";e("./_string-html")("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{"./_string-html":301}],411:[function(e,t,r){var n=e("./_export"),a=e("./_to-absolute-index"),i=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},{"./_export":231,"./_to-absolute-index":307}],412:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-context");n(n.P+n.F*e("./_fails-is-regexp")("includes"),"String",{includes:function(e){return!!~a(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./_export":231,"./_fails-is-regexp":232,"./_string-context":300}],413:[function(e,t,r){"use strict";e("./_string-html")("italics",function(e){return function(){return e(this,"i","","")}})},{"./_string-html":301}],414:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":254,"./_string-at":299}],415:[function(e,t,r){"use strict";e("./_string-html")("link",function(e){return function(t){return e(this,"a","href",t)}})},{"./_string-html":301}],416:[function(e,t,r){var n=e("./_export"),a=e("./_to-iobject"),i=e("./_to-length");n(n.S,"String",{raw:function(e){for(var t=a(e.raw),r=i(t.length),n=arguments.length,o=[],l=0;r>l;)o.push(String(t[l++])),l<n&&o.push(String(arguments[l]));return o.join("")}})},{"./_export":231,"./_to-iobject":310,"./_to-length":311}],417:[function(e,t,r){var n=e("./_export");n(n.P,"String",{repeat:e("./_string-repeat")})},{"./_export":231,
"./_string-repeat":303}],418:[function(e,t,r){"use strict";e("./_string-html")("small",function(e){return function(){return e(this,"small","","")}})},{"./_string-html":301}],419:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-length"),i=e("./_string-context"),o="".startsWith;n(n.P+n.F*e("./_fails-is-regexp")("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),r=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,r):t.slice(r,r+n.length)===n}})},{"./_export":231,"./_fails-is-regexp":232,"./_string-context":300,"./_to-length":311}],420:[function(e,t,r){"use strict";e("./_string-html")("strike",function(e){return function(){return e(this,"strike","","")}})},{"./_string-html":301}],421:[function(e,t,r){"use strict";e("./_string-html")("sub",function(e){return function(){return e(this,"sub","","")}})},{"./_string-html":301}],422:[function(e,t,r){"use strict";e("./_string-html")("sup",function(e){return function(){return e(this,"sup","","")}})},{"./_string-html":301}],423:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_has"),i=e("./_descriptors"),o=e("./_export"),l=e("./_redefine"),s=e("./_meta").KEY,u=e("./_fails"),c=e("./_shared"),d=e("./_set-to-string-tag"),f=e("./_uid"),p=e("./_wks"),m=e("./_wks-ext"),h=e("./_wks-define"),_=e("./_enum-keys"),v=e("./_is-array"),b=e("./_an-object"),y=e("./_is-object"),g=e("./_to-object"),E=e("./_to-iobject"),T=e("./_to-primitive"),w=e("./_property-desc"),R=e("./_object-create"),P=e("./_object-gopn-ext"),D=e("./_object-gopd"),O=e("./_object-gops"),C=e("./_object-dp"),I=e("./_object-keys"),A=D.f,S=C.f,k=P.f,M=n.Symbol,j=n.JSON,N=j&&j.stringify,x=p("_hidden"),L=p("toPrimitive"),q={}.propertyIsEnumerable,U=c("symbol-registry"),$=c("symbols"),F=c("op-symbols"),z=Object.prototype,B="function"==typeof M&&!!O.f,H=n.QObject,V=!H||!H.prototype||!H.prototype.findChild,W=i&&u(function(){return 7!=R(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=A(z,t);n&&delete z[t],S(e,t,r),n&&e!==z&&S(z,t,n)}:S,G=function(e){var t=$[e]=R(M.prototype);return t._k=e,t},Y=B&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},K=function(e,t,r){return e===z&&K(F,t,r),b(e),t=T(t,!0),b(r),a($,t)?(r.enumerable?(a(e,x)&&e[x][t]&&(e[x][t]=!1),r=R(r,{enumerable:w(0,!1)})):(a(e,x)||S(e,x,w(1,{})),e[x][t]=!0),W(e,t,r)):S(e,t,r)},X=function(e,t){b(e);for(var r,n=_(t=E(t)),a=0,i=n.length;i>a;)K(e,r=n[a++],t[r]);return e},J=function(e,t){return void 0===t?R(e):X(R(e),t)},Q=function(e){var t=q.call(this,e=T(e,!0));return!(this===z&&a($,e)&&!a(F,e))&&(!(t||!a(this,e)||!a($,e)||a(this,x)&&this[x][e])||t)},Z=function(e,t){if(e=E(e),t=T(t,!0),e!==z||!a($,t)||a(F,t)){var r=A(e,t);return!r||!a($,t)||a(e,x)&&e[x][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=k(E(e)),n=[],i=0;r.length>i;)a($,t=r[i++])||t==x||t==s||n.push(t);return n},te=function(e){for(var t,r=e===z,n=k(r?F:E(e)),i=[],o=0;n.length>o;)!a($,t=n[o++])||r&&!a(z,t)||i.push($[t]);return i};B||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call(F,r),a(this,x)&&a(this[x],e)&&(this[x][e]=!1),W(this,e,w(1,r))};return i&&V&&W(z,e,{configurable:!0,set:t}),G(e)},l(M.prototype,"toString",function(){return this._k}),D.f=Z,C.f=K,e("./_object-gopn").f=P.f=ee,e("./_object-pie").f=Q,O.f=te,i&&!e("./_library")&&l(z,"propertyIsEnumerable",Q,!0),m.f=function(e){return G(p(e))}),o(o.G+o.W+o.F*!B,{Symbol:M});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)p(re[ne++]);for(var ae=I(p.store),ie=0;ae.length>ie;)h(ae[ie++]);o(o.S+o.F*!B,"Symbol",{for:function(e){return a(U,e+="")?U[e]:U[e]=M(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!B,"Object",{create:J,defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var oe=u(function(){O.f(1)});o(o.S+o.F*oe,"Object",{getOwnPropertySymbols:function(e){return O.f(g(e))}}),j&&o(o.S+o.F*(!B||u(function(){var e=M();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(y(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Y(t))return t}),n[1]=t,N.apply(j,n)}}),M.prototype[L]||e("./_hide")(M.prototype,L,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},{"./_an-object":209,"./_descriptors":227,"./_enum-keys":230,"./_export":231,"./_fails":233,"./_global":239,"./_has":240,"./_hide":241,"./_is-array":248,"./_is-object":250,"./_library":258,"./_meta":263,"./_object-create":267,"./_object-dp":268,"./_object-gopd":271,"./_object-gopn":273,"./_object-gopn-ext":272,"./_object-gops":274,"./_object-keys":277,"./_object-pie":278,"./_property-desc":286,"./_redefine":288,"./_set-to-string-tag":294,"./_shared":296,"./_to-iobject":310,"./_to-object":312,"./_to-primitive":313,"./_uid":317,"./_wks":322,"./_wks-define":320,"./_wks-ext":321}],424:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_typed"),i=e("./_typed-buffer"),o=e("./_an-object"),l=e("./_to-absolute-index"),s=e("./_to-length"),u=e("./_is-object"),c=e("./_global").ArrayBuffer,d=e("./_species-constructor"),f=i.ArrayBuffer,p=i.DataView,m=a.ABV&&c.isView,h=f.prototype.slice,_=a.VIEW;n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f}),n(n.S+n.F*!a.CONSTR,"ArrayBuffer",{isView:function(e){return m&&m(e)||u(e)&&_ in e}}),n(n.P+n.U+n.F*e("./_fails")(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(o(this),e);for(var r=o(this).byteLength,n=l(e,r),a=l(void 0===t?r:t,r),i=new(d(this,f))(s(a-n)),u=new p(this),c=new p(i),m=0;n<a;)c.setUint8(m++,u.getUint8(n++));return i}}),e("./_set-species")("ArrayBuffer")},{"./_an-object":209,"./_export":231,"./_fails":233,"./_global":239,"./_is-object":250,"./_set-species":293,"./_species-constructor":297,"./_to-absolute-index":307,"./_to-length":311,"./_typed":316,"./_typed-buffer":315}],425:[function(e,t,r){e("./_typed-array")("Float32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":314}],426:[function(e,t,r){e("./_typed-array")("Float64",8,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":314}],427:[function(e,t,r){e("./_typed-array")("Int16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":314}],428:[function(e,t,r){e("./_typed-array")("Int32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":314}],429:[function(e,t,r){e("./_typed-array")("Int8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":314}],430:[function(e,t,r){e("./_typed-array")("Uint16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":314}],431:[function(e,t,r){e("./_typed-array")("Uint32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":314}],432:[function(e,t,r){e("./_typed-array")("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},{"./_typed-array":314}],433:[function(e,t,r){e("./_typed-array")("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},{"./_typed-array":314}],434:[function(e,t,r){"use strict";var n,a=e("./_global"),i=e("./_array-methods")(0),o=e("./_redefine"),l=e("./_meta"),s=e("./_object-assign"),u=e("./_collection-weak"),c=e("./_is-object"),d=e("./_validate-collection"),f=e("./_validate-collection"),p=!a.ActiveXObject&&"ActiveXObject"in a,m=l.getWeak,h=Object.isExtensible,_=u.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(c(e)){var t=m(e);return!0===t?_(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(d(this,"WeakMap"),e,t)}},y=t.exports=e("./_collection")("WeakMap",v,b,u,!0,!0);f&&p&&(n=u.getConstructor(v,"WeakMap"),s(n.prototype,b),l.NEED=!0,i(["delete","has","get","set"],function(e){var t=y.prototype,r=t[e];o(t,e,function(t,a){if(c(t)&&!h(t)){this._f||(this._f=new n);var i=this._f[e](t,a);return"set"==e?this:i}return r.call(this,t,a)})}))},{"./_array-methods":213,"./_collection":221,"./_collection-weak":220,"./_global":239,"./_is-object":250,"./_meta":263,"./_object-assign":266,"./_redefine":288,"./_validate-collection":319}],435:[function(e,t,r){"use strict";var n=e("./_collection-weak"),a=e("./_validate-collection");e("./_collection")("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(a(this,"WeakSet"),e,!0)}},n,!1,!0)},{"./_collection":221,"./_collection-weak":220,"./_validate-collection":319}],436:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_flatten-into-array"),i=e("./_to-object"),o=e("./_to-length"),l=e("./_a-function"),s=e("./_array-species-create");n(n.P,"Array",{flatMap:function(e){var t,r,n=i(this);return l(e),t=o(n.length),r=s(n,0),a(r,n,n,t,0,1,e,arguments[1]),r}}),e("./_add-to-unscopables")("flatMap")},{"./_a-function":205,"./_add-to-unscopables":206,"./_array-species-create":215,"./_export":231,"./_flatten-into-array":236,"./_to-length":311,"./_to-object":312}],437:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-includes")(!0);n(n.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":206,"./_array-includes":212,"./_export":231}],438:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_a-function"),o=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineGetter__:function(e,t){o.f(a(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":205,"./_descriptors":227,"./_export":231,"./_object-dp":268,"./_object-forced-pam":270,"./_to-object":312}],439:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_a-function"),o=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineSetter__:function(e,t){o.f(a(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":205,"./_descriptors":227,"./_export":231,"./_object-dp":268,"./_object-forced-pam":270,"./_to-object":312}],440:[function(e,t,r){var n=e("./_export"),a=e("./_object-to-array")(!0);n(n.S,"Object",{entries:function(e){return a(e)}})},{"./_export":231,"./_object-to-array":280}],441:[function(e,t,r){var n=e("./_export"),a=e("./_own-keys"),i=e("./_to-iobject"),o=e("./_object-gopd"),l=e("./_create-property");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=i(e),s=o.f,u=a(n),c={},d=0;u.length>d;)void 0!==(r=s(n,t=u[d++]))&&l(c,t,r);return c}})},{"./_create-property":223,"./_export":231,"./_object-gopd":271,"./_own-keys":281,"./_to-iobject":310}],442:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_to-primitive"),o=e("./_object-gpo"),l=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,r=a(this),n=i(e,!0);do{if(t=l(r,n))return t.get}while(r=o(r))}})},{"./_descriptors":227,"./_export":231,"./_object-forced-pam":270,"./_object-gopd":271,"./_object-gpo":275,"./_to-object":312,"./_to-primitive":313}],443:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_to-primitive"),o=e("./_object-gpo"),l=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,r=a(this),n=i(e,!0);do{if(t=l(r,n))return t.set}while(r=o(r))}})},{"./_descriptors":227,"./_export":231,"./_object-forced-pam":270,"./_object-gopd":271,"./_object-gpo":275,"./_to-object":312,"./_to-primitive":313}],444:[function(e,t,r){var n=e("./_export"),a=e("./_object-to-array")(!1);n(n.S,"Object",{values:function(e){return a(e)}})},{"./_export":231,"./_object-to-array":280}],445:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_core"),i=e("./_global"),o=e("./_species-constructor"),l=e("./_promise-resolve");n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then(function(){return r})}:e,r?function(r){return l(t,e()).then(function(){throw r})}:e)}})},{"./_core":222,"./_export":231,"./_global":239,"./_promise-resolve":285,"./_species-constructor":297}],446:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-pad"),i=e("./_user-agent"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*o,"String",{padEnd:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":231,"./_string-pad":302,"./_user-agent":318}],447:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-pad"),i=e("./_user-agent"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*o,"String",{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":231,"./_string-pad":302,"./_user-agent":318}],448:[function(e,t,r){"use strict";e("./_string-trim")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{"./_string-trim":304}],449:[function(e,t,r){"use strict";e("./_string-trim")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{"./_string-trim":304}],450:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":320}],451:[function(e,t,r){for(var n=e("./es6.array.iterator"),a=e("./_object-keys"),i=e("./_redefine"),o=e("./_global"),l=e("./_hide"),s=e("./_iterators"),u=e("./_wks"),c=u("iterator"),d=u("toStringTag"),f=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=a(p),h=0;h<m.length;h++){var _,v=m[h],b=p[v],y=o[v],g=y&&y.prototype;if(g&&(g[c]||l(g,c,f),g[d]||l(g,d,v),s[v]=f,b))for(_ in n)g[_]||i(g,_,n[_],!0)}},{"./_global":239,"./_hide":241,"./_iterators":257,"./_object-keys":277,"./_redefine":288,"./_wks":322,"./es6.array.iterator":329}],452:[function(e,t,r){var n=e("./_export"),a=e("./_task");n(n.G+n.B,{setImmediate:a.set,clearImmediate:a.clear})},{"./_export":231,"./_task":306}],453:[function(e,t,r){var n=e("./_global"),a=e("./_export"),i=e("./_user-agent"),o=[].slice,l=/MSIE .\./.test(i),s=function(e){return function(t,r){var n=arguments.length>2,a=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,r)}};a(a.G+a.B+a.F*l,{setTimeout:s(n.setTimeout),setInterval:s(n.setInterval)})},{"./_export":231,"./_global":239,"./_user-agent":318}],454:[function(e,t,r){window.DateistRulesEN=[{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"helper",HANDLER:"$AMPM",PATTERN1:"<am|pm>",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"pm",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$TIME",PATTERN1:"<@|at>_\\d{1,2}h?<[:\\s]\\d{1,2}m?>?_$AMPM?",PATTERN2:"<@|at>?_\\d{1,2}h?<[.:]\\d{1,2}m?>?_$AMPM",PATTERN3:"<@|at>?_\\d{1,2}h?[:]\\d{1,2}m?_$AMPM?",EXAMPLE1:"at 3pm",EXAMPLE2:'"3:30 AM"',COMMENT:""},{TYPE:"helper",HANDLER:"$AT",PATTERN1:"<at|@>_",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"at",EXAMPLE2:"@",COMMENT:""},{TYPE:"helper",HANDLER:"$XTIME",PATTERN1:"(\\d{1,2})h?([:\\.\\s.](\\d{1,2})m?)?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"2"',EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"helper",HANDLER:"$SMONTH",PATTERN1:"<january|february|march|april|may|june|july|august|september|october|november|december>",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"january",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$MONTH",PATTERN1:"<january|february|march|april|may|june|july|august|september|october|november|december>",PATTERN2:"<jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec>\\.?",PATTERN3:"-",EXAMPLE1:"january",EXAMPLE2:"feb",COMMENT:""},{TYPE:"helper",HANDLER:"$WEEKDAY",PATTERN1:"<monday|tuesday|wednesday|thursday|friday|saturday|sunday>'?s?",PATTERN2:"<mon|tue|wed|thur?|fri|sat|sun>\\.?'?s?",PATTERN3:"-",EXAMPLE1:"monday",EXAMPLE2:"wed",COMMENT:""},{TYPE:"helper",HANDLER:"$YEAR",PATTERN1:"[0-9][0-9][0-9][0-9]",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"2004"',EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$EV",PATTERN1:"<ev|every|after|each|repeats?|daily|weekly|monthly|yearly|annually|bi>!?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every",EXAMPLE2:"each",COMMENT:""},{TYPE:"helper",HANDLER:"$RS",PATTERN1:"<st|nd|rd|th>",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"nd",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$N",PATTERN1:"<[0-9]{1,4}|one|two|three|four|five|six|seven|eight|nine|ten>",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"nine",EXAMPLE2:'"23"',COMMENT:""},{TYPE:"helper",HANDLER:"$RN",PATTERN1:"[0-9]?[0-9]",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"2"',EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$SSEP",PATTERN1:"[-/]+",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"helper",HANDLER:"$SEP",PATTERN1:"[-/.\\s]+",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"helper",HANDLER:"$UNIT",PATTERN1:"<min<ute>?s?|hours?|days?|weeks?|months?|years?>",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"hours",EXAMPLE2:"year",COMMENT:""},{TYPE:"helper",HANDLER:"$AND",PATTERN1:"<,|and>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"and",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$START",PATTERN1:"<start|starting|start(..) on>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"starting",EXAMPLE2:"start",COMMENT:""},{TYPE:"helper",HANDLER:"$ENDING",PATTERN1:"<ending|end|end(..) on>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"ending",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$BEFORE",PATTERN1:"before",PATTERN2:"",PATTERN3:"",EXAMPLE1:"before",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$AFTER",PATTERN1:"<after|from>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"after",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"helper",HANDLER:"$U-YEARS",PATTERN1:"<years?|yearly>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"yearly",EXAMPLE2:"year",COMMENT:""},{TYPE:"helper",HANDLER:"$U-MONTHS",PATTERN1:"<months?|monthly>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"monthly",EXAMPLE2:"month",COMMENT:""},{TYPE:"helper",HANDLER:"$U-WEEKS",PATTERN1:"<weeks?|weekly>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"weekly",EXAMPLE2:"week",COMMENT:""},{TYPE:"helper",HANDLER:"$U-DAYS",PATTERN1:"<days?|daily>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"daily",EXAMPLE2:"day",COMMENT:""},{TYPE:"helper",HANDLER:"$U-HOURS",PATTERN1:"<hours?|hourly>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"hourly",EXAMPLE2:"hour",COMMENT:""},{TYPE:"helper",HANDLER:"$U-NEXT",PATTERN1:"<next|following|other>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"next",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$U-OTHER",PATTERN1:"other",PATTERN2:"",PATTERN3:"",EXAMPLE1:"other",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$U-OF",PATTERN1:"<of|in>?",PATTERN2:"",PATTERN3:"",EXAMPLE1:"of",EXAMPLE2:"in",COMMENT:""},{TYPE:"helper",HANDLER:"$U-IN",PATTERN1:"<of|in>?",PATTERN2:"",PATTERN3:"",EXAMPLE1:"of",EXAMPLE2:"in",COMMENT:""},{TYPE:"helper",HANDLER:"$U-FOR",PATTERN1:"<for\\s>",PATTERN2:"-",PATTERN3:"",EXAMPLE1:"for ",EXAMPLE2:"-",COMMENT:"every day <for> 6 months"},{TYPE:"helper",HANDLER:"$R-OF",PATTERN1:"<of|in>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"in",EXAMPLE2:"of",COMMENT:""},{TYPE:"helper",HANDLER:"$U-LAST",PATTERN1:"<last|end>",PATTERN2:"",PATTERN3:"",EXAMPLE1:"last",EXAMPLE2:"-",COMMENT:""},{TYPE:"helper",HANDLER:"$U-WORKDAYS",PATTERN1:"work_days?",PATTERN2:"",PATTERN3:"",EXAMPLE1:"workday",EXAMPLE2:"work day",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"composite",HANDLER:'{"type": "start_end", "date": "$1", "start_date": "$2", "end_date": "$3"}',PATTERN1:"(.+)$AND? $START (.+)_$AND?_$ENDING (.+)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every day starting tomorrow and ending in 6 months",EXAMPLE2:"every day starting on monday and ending in 6 months",COMMENT:""},{TYPE:"composite",HANDLER:'{"type": "start_end", "date": "$1", "start_date": "$3", "end_date": "$2"}',PATTERN1:"(.+)$AND? $ENDING_$U-IN_(.+)_$AND?_$START (.+)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every day ending in 6 months and starting tomorrow",EXAMPLE2:"-",COMMENT:""},{TYPE:"composite",HANDLER:'{"type": "starting", "date": "$1", "start_date": "$2"}',PATTERN1:"(.+)_$AND?_$START (.+)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every day start tomorrow",EXAMPLE2:"-",COMMENT:""},{TYPE:"composite",HANDLER:'{"type": "ending", "date": "$1", "end_date": "$2"}',PATTERN1:"(.+) $AND?_$ENDING (.+)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every day end in 6 months",EXAMPLE2:"-",COMMENT:""},{TYPE:"composite",HANDLER:'{"type": "ending", "date": "$1", "end_date": "$2"}',PATTERN1:"(.+)_$AND?_$U-FOR_(.+)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every day for 6 months",EXAMPLE2:"-",COMMENT:""},{TYPE:"composite",HANDLER:'{"type": "before_after", "number": "$1", "unit": "$2", "mod": "before", "rel_date": "$3"}',PATTERN1:"<\\+|$U-OF>_($N)_($UNIT)_$BEFORE_(.+)?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"in 3 days before march 3rd",EXAMPLE2:"-",COMMENT:""},{TYPE:"composite",HANDLER:'{"type": "before_after", "number": "$1", "unit": "$2", "mod": "after", "rel_date": "$3"}',PATTERN1:"<\\+|$U-OF>_($N)_($UNIT)_$AFTER_(.+)?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"in 5 days after april 2nd",EXAMPLE2:"-",COMMENT:""},{TYPE:"composite",HANDLER:'{"type": "starting", "date": "$1", "start_date": "$2"}',PATTERN1:"($EV $WEEKDAY)_$U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every monday in may",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_comma", "patterns": "$1", "time": "$2"}',PATTERN1:"$EV ([^,]+,.+)_($TIME)?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 5,6 at 3pm",EXAMPLE2:"every mon,tue",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_year", "number": "$1"}',PATTERN1:"$EV ($N)?_$U-YEARS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3 years",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_year", "number": ""}',PATTERN1:"yearly",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"yearly",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_month", "number": "$1"}',PATTERN1:"$EV ($N)?_$RS?_$U-MONTHS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 2 months",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_month", "number": "2"}',PATTERN1:"$EV $U-OTHER $U-MONTHS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every other month",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_month", "number": "$1", "month": "$2"}',PATTERN1:"$EV ($N)_$RS? ($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 2nd april",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_month", "number": "$2", "month": "$1"}',PATTERN1:"$EV ($MONTH)_($N)_$RS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every april 3rd",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_last_day", "month": "$1"}',PATTERN1:"$EV $U-LAST_$U-DAYS_$U-OF_($MONTH)?_$U-MONTHS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every last day of april",EXAMPLE2:"every last day of month",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_last_day", "month": "$1"}',PATTERN1:"$U-LAST_$U-DAYS_$U-OF_$EV_($MONTH)?_$U-MONTHS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"last day of every april",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_last_day", "month": "$1"}',PATTERN1:"<$EV>?_$U-LAST_$U-OF_$EV_($MONTH)?_$U-MONTHS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"last of every april",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_last_work_day", "month": "$1"}',PATTERN1:"$EV $U-LAST_$U-WORKDAYS_$U-OF_($MONTH)?_$U-MONTHS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every last work days of may",EXAMPLE2:"every last work days may",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_work_day", "number": "$1"}',PATTERN1:"$EV ($N)_$RS_$U-WORKDAYS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3rd workday",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_week_day", "number": "$1"}',PATTERN1:"$EV ($N)?_$RS?_$U-WORKDAYS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3 workdays",EXAMPLE2:"every workday",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_week_day", "number": "1"}',PATTERN1:"$U-WORKDAYS_$U-OF_$EV $U-MONTHS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"workdays of every month",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_last_work_day", "month": "$1"}',PATTERN1:"$U-LAST_$U-WORKDAYS_$U-OF_$EV ($MONTH)?_$U-MONTHS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"last work days of every may",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_week", "number": "$1"}',PATTERN1:"$EV ($N)?_$RS?_$U-WEEKS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3rd week",EXAMPLE2:"every week",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_day_month", "number1": "$1", "number2": "$2"}',PATTERN1:"$EV ($N)$SEP($N)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 15/3",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_other_week_day"}',PATTERN1:"$EV $U-OTHER $U-WORKDAYS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every other workday",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_other_day"}',PATTERN1:"$EV $U-OTHER_$U-DAYS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every other day",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_next_weekday", "weekday": "$1"}',PATTERN1:"$EV $U-NEXT ($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every next monday",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_day", "number": "$1"}',PATTERN1:"($N)_$RS?_$U-OF $EV $U-MONTHS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"5th of every month",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_weekday_month", "number": "$1", "weekday": "$2", "month": "$3"}',PATTERN1:"$EV ($N)_$RS?_($WEEKDAY)_$U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3rd monday in may",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_weekday_month", "number": "$2", "weekday": "$1", "month": "$3"}',PATTERN1:"$EV ($WEEKDAY)_($N)_$RS?_$U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every monday 3rd in may",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_reg_weekday", "weekday": "$1"}',PATTERN1:"$EV ($WEEKDAY) ($TIME)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every mon 12pm",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_weekday", "number": "$2", "weekday": "$1"}',PATTERN1:"$EV ($WEEKDAY)_($N)_$RS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every monday 3rd",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_reg_weekday", "weekday": "$1"}',PATTERN1:"$EV ($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every mon",EXAMPLE2:"every tuesday",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_weekday_month", "number": "5", "weekday": "$1", "month": "$2"}',PATTERN1:"$EV $U-LAST_($WEEKDAY)_$U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every last monday in may",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_weekday", "number": "$1", "weekday": "$2"}',PATTERN1:"$EV ($N)_$RS?_($WEEKDAY)_$U-OF_$U-MONTHS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3rd monday",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_weekday", "number": "5", "weekday": "$1"}',PATTERN1:"$EV $U-LAST_($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every last monday",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_hour", "number": "$1"}',PATTERN1:"$EV ($N)? $U-HOURS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3 hours",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_day", "number": "$1"}',PATTERN1:"$EV ($N)?_$U-DAYS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3 days",EXAMPLE2:"-",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_spec_day", "number": "$1"}',PATTERN1:"$EV ($N)_$RS?_<days?>?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 3rd",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"recurring",HANDLER:'{"type": "every_day", "number": ""}',PATTERN1:"$EV <$TIME>",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"every 22pm",EXAMPLE2:"",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "today"}',PATTERN1:"today",PATTERN2:"tod",PATTERN3:"-",EXAMPLE1:"today",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "tomorrow"}',PATTERN1:"tomorrow",PATTERN2:"tom",PATTERN3:"-",EXAMPLE1:"tomorrow",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "yesterday"}',PATTERN1:"yesterday",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"yesterday",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "next_week"}',PATTERN1:"next_week",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"next week",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "no_date"}',PATTERN1:"no date",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"-",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "last_day", "month": "$1"}',PATTERN1:"$U-LAST $U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"last of may",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "last_day", "month": "$1"}',PATTERN1:"$U-LAST $U-DAYS_$U-OF_($MONTH)?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"last day of may",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "last_work_day", "month": "$1"}',PATTERN1:"$U-LAST $U-WORKDAYS_$U-OF_($MONTH)?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"last workday of may",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "other_work_day"}',PATTERN1:"$U-OTHER $U-WORKDAYS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"other work day",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "work_day"}',PATTERN1:"$U-WORKDAYS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"work day",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "spec_work_day", "number": "$1"}',PATTERN1:"($N)_$RS $U-WORKDAYS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"3rd workday",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",
HANDLER:'{"type": "next_weekday", "weekday": "$1"}',PATTERN1:"$U-NEXT ($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"next monday",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "spec_weekday_month", "number": "$1", "weekday": "$2", "month": "$3"}',PATTERN1:"($N)_$RS?_($WEEKDAY)_$U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"3rd monday in may",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "spec_weekday_month", "number": "$2", "weekday": "$1", "month": "$3"}',PATTERN1:"($WEEKDAY)_($N)_$RS?_$U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"monday 3rd in may",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "spec_weekday_month", "number": "5", "weekday": "$1", "month": "$2"}',PATTERN1:"$U-LAST_($WEEKDAY)_$U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"last monday in may",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "regular_weekday", "weekday": "$1"}',PATTERN1:"($WEEKDAY) <$TIME>",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"monday 3pm",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "regular_weekday", "weekday": "$1"}',PATTERN1:"<$TIME> ($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"3pm monday",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "spec_weekday", "number": "$1", "weekday": "$2"}',PATTERN1:"($N)_$RS ($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"3rd monday",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "spec_weekday", "number": "$2", "weekday": "$1"}',PATTERN1:"($WEEKDAY) ($N)_$RS",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"monday 3rd",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "spec_weekday", "number": "5", "weekday": "$1"}',PATTERN1:"$U-LAST_($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"last monday",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date_x_forced", "year": "$1", "number1": "$2", "number2": "$3"}',PATTERN1:"($YEAR)$SEP($RN)$SEP($RN)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"2014/5/5"',EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date", "year": "$1", "number": "$2", "month": "$3"}',PATTERN1:"($YEAR)_($N)_$RS? ($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"2014 3rd may",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date", "year": "$1", "number": "$3", "month": "$2"}',PATTERN1:"($YEAR)_($MONTH)_($N)_$RS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"2014 may 3rd",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date", "year": "$3", "number": "$1", "month": "$2"}',PATTERN1:"($N)_$RS?_$U-OF_($MONTH)_$U-OF_($YEAR)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"3rd may 2014",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date", "year": "", "number": "$1", "month": "$2"}',PATTERN1:"($N)_$RS?_$U-OF_($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"3rd may",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date", "year": "$3", "number": "$2", "month": "$1"}',PATTERN1:"($MONTH)_($N)_$RS?_$U-OF_($YEAR)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"may 3rd 2014",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date", "year": "", "number": "$2", "month": "$1"}',PATTERN1:"($MONTH) ($N)_$RS?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"may 3rd",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date_x", "year": "$3", "number1": "$1", "number2": "$2"}',PATTERN1:"($RN)$SSEP($RN)<$SEP($YEAR)?>?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"5/5"',EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date_x", "year": "$3", "number1": "$1", "number2": "$2"}',PATTERN1:"($RN)$SEP($RN)<$SEP($YEAR)>",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"5/5/2014"',EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date_month", "month": "$1"}',PATTERN1:"($SMONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"january",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "date_month", "month": "$1"}',PATTERN1:"$U-OF ($MONTH)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"in january",EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "plus", "number": "$1", "unit": "$2"}',PATTERN1:"\\+_(\\d+)_($UNIT)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"+2 months"',EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "plus", "number": "$1", "unit": "$2"}',PATTERN1:"<$R-OF >_\\+?_($N)_($UNIT)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"in 2 months",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "minus", "number": "$1", "unit": "$2"}',PATTERN1:"(\\-$N)_($UNIT)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"-2 days",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "regular_weekday", "weekday": "$1"}',PATTERN1:"($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"monday",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "spec_day", "number": "$1"}',PATTERN1:"($N)_$RS_<$U-MONTHS>?_<$UNIT>?",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:"3rd",EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "plus", "number": "$1", "unit": "$2"}',PATTERN1:"\\+_(\\d+)_($UNIT)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"+2 months"',EXAMPLE2:"-",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "plus", "number": "$1", "unit": "$2"}',PATTERN1:"in_(\\d+)_($UNIT)",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"in 200 days"',EXAMPLE2:"-",COMMENT:""},{TYPE:"",HANDLER:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",EXAMPLE1:"",EXAMPLE2:"",COMMENT:""},{TYPE:"date",HANDLER:'{"type": "time"}',PATTERN1:"<$TIME>$",PATTERN2:"-",PATTERN3:"-",EXAMPLE1:'"2pm"',EXAMPLE2:"-",COMMENT:""}],window.DateistNormalizationEN=[{TYPE:"helper",REWRITE:"$MONTH",PATTERN1:"<january|february|march|april|may|june|july|august|september|october|november|december>",PATTERN2:"<jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec>\\.?",PATTERN3:"-",ORIGIN:"january",REWRITE_TO:"january",COMMENT:'Example "january"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$WEEKDAY",PATTERN1:"<monday|tuesday|wednesday|thursday|friday|saturday|sunday>'?s?",PATTERN2:"<mon|tue|wed|thur?|fri|sat|sun>'?s?",PATTERN3:"-",ORIGIN:"monday",REWRITE_TO:"monday",COMMENT:'Example "monday"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$SWEEKDAY",PATTERN1:"<monday|tuesday|wednesday|thursday|friday|saturday|sunday>'?s?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"monday",REWRITE_TO:"monday",COMMENT:'Example "monday"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$EV",PATTERN1:"<ev(..)|af(..)>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every",REWRITE_TO:"every",COMMENT:'Example "every" or "after"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$UNIT",PATTERN1:"<min<ute>?s?|hours?|days?|weeks?|months?|years?>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"hours",REWRITE_TO:"hours",COMMENT:'Example "days"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$RS",PATTERN1:"<st|nd|rd|th>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"1st",REWRITE_TO:"1st",COMMENT:'Example "1st", "2nd"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$TIME",PATTERN1:"<@|at>\\s\\d{1,2}<[:\\.\\s]\\d{1,2}>?_<am|pm>?",PATTERN2:"<@|at>?_\\d{1,2}<:\\d{1,2}>?_<am|pm>",PATTERN3:"<@|at>?_\\d{1,2}<[:\\.]\\d{1,2}>?_<am|pm>?",ORIGIN:"at 2pm",REWRITE_TO:"at 2pm",COMMENT:'Example "at 2pm". Translate "at"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$STIME",PATTERN1:"<@|at>\\s\\d{1,2}<[:\\.\\s]\\d{1,2}>?_<am|pm>?",PATTERN2:"<@|at>?_\\d{1,2}<:\\d{1,2}>?_<am|pm>",PATTERN3:"<@|at>?_\\d{1,2}[:\\.]\\d{1,2}_<am|pm>?",ORIGIN:"at 2",REWRITE_TO:"at 2",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$SEP",PATTERN1:"<^|$|[-/\\s,]>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"/",REWRITE_TO:"/",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$YEAR",PATTERN1:"[0-9][0-9][0-9][0-9]",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"2014"',REWRITE_TO:'"2014"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$RN",PATTERN1:"[0-9]?[0-9]",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"12"',REWRITE_TO:'"12"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$N",PATTERN1:"<[0-9]+|an|one|two|three|four|five|last>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"two",REWRITE_TO:"two",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$RDATE",PATTERN1:"<$N>_$RS? <$MONTH>_<$YEAR>?",PATTERN2:"<$MONTH> <$N>_$RS?_<$YEAR>?",PATTERN3:"<$YEAR>$SEP<$RN>$SEP<$RN>|<$RN>$SEP<$RN><$SEP<$YEAR>?>?",ORIGIN:"3rd may",REWRITE_TO:"3rd may",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"helper",REWRITE:"$N",PATTERN1:"[0-9]+",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"5"',REWRITE_TO:'"5"',COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"resolve_day",REWRITE:'"1"',PATTERN1:"mon(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"mon",REWRITE_TO:"1",COMMENT:'Example "mon" for "monday"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_day",REWRITE:'"2"',PATTERN1:"tue(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"tue",REWRITE_TO:"2",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_day",REWRITE:'"3"',PATTERN1:"wed(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"wed",REWRITE_TO:"3",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_day",REWRITE:'"4"',PATTERN1:"thu(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"thu",REWRITE_TO:"4",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_day",REWRITE:'"5"',PATTERN1:"fri(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"fri",REWRITE_TO:"5",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_day",REWRITE:'"6"',PATTERN1:"sat(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"sat",REWRITE_TO:"6",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_day",REWRITE:'"7"',PATTERN1:"sun(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"sun",REWRITE_TO:"7",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"1"',PATTERN1:"jan(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Jan",REWRITE_TO:"1",COMMENT:'Example "jan" for "january"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"2"',PATTERN1:"feb(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Feb",REWRITE_TO:"2",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"3"',PATTERN1:"mar(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Mar",REWRITE_TO:"3",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"4"',PATTERN1:"apr(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Apr",REWRITE_TO:"4",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"5"',PATTERN1:"may(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"May",REWRITE_TO:"5",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"6"',PATTERN1:"jun(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Jun",REWRITE_TO:"6",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"7"',PATTERN1:"jul(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Jul",REWRITE_TO:"7",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"8"',PATTERN1:"aug(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Aug",REWRITE_TO:"8",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"9"',PATTERN1:"sep(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Sep",REWRITE_TO:"9",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"10"',PATTERN1:"oct(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Oct",REWRITE_TO:"10",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"11"',PATTERN1:"nov(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Nov",REWRITE_TO:"11",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_month",REWRITE:'"12"',PATTERN1:"dec(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Dec",REWRITE_TO:"12",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:"minute",PATTERN1:"min(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"mins",REWRITE_TO:"minute",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:"hour",PATTERN1:"hour(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"hours",REWRITE_TO:"hour",COMMENT:'Example "hour(..)" for "hours"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:"week",PATTERN1:"week(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"weeks",REWRITE_TO:"week",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:"month",PATTERN1:"month(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"months",REWRITE_TO:"month",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:"year",PATTERN1:"year(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"years",REWRITE_TO:"year",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:"day",PATTERN1:"day(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"days",REWRITE_TO:"day",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"1"',PATTERN1:"one",PATTERN2:"an",PATTERN3:"-",ORIGIN:"one",REWRITE_TO:"1",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"2"',PATTERN1:"two",PATTERN2:"-",PATTERN3:"-",ORIGIN:"two",REWRITE_TO:"2",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"3"',PATTERN1:"three",PATTERN2:"-",PATTERN3:"-",ORIGIN:"three",REWRITE_TO:"3",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"4"',PATTERN1:"four",PATTERN2:"-",PATTERN3:"-",ORIGIN:"four",REWRITE_TO:"4",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"5"',PATTERN1:"five",PATTERN2:"-",PATTERN3:"-",ORIGIN:"five",REWRITE_TO:"5",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"6"',PATTERN1:"six",PATTERN2:"-",PATTERN3:"-",ORIGIN:"six",REWRITE_TO:"6",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"7"',PATTERN1:"seven",PATTERN2:"-",PATTERN3:"-",ORIGIN:"seven",REWRITE_TO:"7",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"8"',PATTERN1:"eight",PATTERN2:"-",PATTERN3:"-",ORIGIN:"eight",REWRITE_TO:"8",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"9"',PATTERN1:"nine",PATTERN2:"-",PATTERN3:"-",ORIGIN:"nine",REWRITE_TO:"9",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"10"',PATTERN1:"ten",PATTERN2:"-",PATTERN3:"-",ORIGIN:"ten",REWRITE_TO:"10",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"11"',PATTERN1:"eleven",PATTERN2:"-",PATTERN3:"-",ORIGIN:"eleven",REWRITE_TO:"11",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"12"',PATTERN1:"twelve",PATTERN2:"-",PATTERN3:"-",ORIGIN:"twelve",REWRITE_TO:"12",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_unit",REWRITE:'"5"',PATTERN1:"last",PATTERN2:"-",PATTERN3:"-",ORIGIN:"last",REWRITE_TO:"5",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"resolve_misc",REWRITE:"ending",PATTERN1:"end(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"end",REWRITE_TO:"ending",COMMENT:'Example: "ending in 6 months"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"resolve_misc",REWRITE:"every",PATTERN1:"every(..)|af(..)|ev",PATTERN2:"-",PATTERN3:"-",ORIGIN:"ev",REWRITE_TO:"every",COMMENT:'Example: "every 3 days"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:",",PATTERN1:";",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"repeat ($EV)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"repeat every",REWRITE_TO:"every",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every workday",PATTERN1:"repeat workdays?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"repeat workday",REWRITE_TO:"every workday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every $1",PATTERN1:"each\\s+([a-z]+)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"each monday",REWRITE_TO:"every monday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every $1 $2",PATTERN1:"each\\s+(\\d+)\\s+($UNIT)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"each 2 days",REWRITE_TO:"every 2 days",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every $1",PATTERN1:"repeat\\s+(.+)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"repeat day",REWRITE_TO:"every day",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"oct 31"',PATTERN1:"halloween",PATTERN2:"-",PATTERN3:"-",ORIGIN:"halloween",REWRITE_TO:'"oct 31"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"feb 14"',PATTERN1:"valentine'?s? day",PATTERN2:"valentine'?s?",PATTERN3:"-",ORIGIN:"valentine's day",REWRITE_TO:'"feb 14"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"dec 31"',PATTERN1:"new year'?s? eve",PATTERN2:"new year'?s? night",PATTERN3:"-",ORIGIN:"new year eve",REWRITE_TO:'"dec 31"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"jan 1"',PATTERN1:"new year'?s? day",PATTERN2:"-",PATTERN3:"-",ORIGIN:"new year day",REWRITE_TO:'"jan 1"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"last monday of may"',PATTERN1:"memorial_day",PATTERN2:"-",PATTERN3:"-",ORIGIN:"memorial day",REWRITE_TO:'"last monday of may"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:'"second sunday of may"',PATTERN1:"mother'?s?_day",PATTERN2:"mom<'?s>?_day",PATTERN3:"-",ORIGIN:"mother's day",REWRITE_TO:'"second sunday of may"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:'"third sunday of june"',PATTERN1:"father'?s?_day",PATTERN2:"dad<'?s>?_day",PATTERN3:"-",ORIGIN:"father's day",REWRITE_TO:"third sunday of june",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every day $1",PATTERN1:"every morning ($TIME)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every morning at 2pm",REWRITE_TO:"every day at 2pm",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every day $1",PATTERN1:"every night ($TIME)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every night at 2pm",REWRITE_TO:"every day at 2pm",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every day $1",PATTERN1:"every evening ($TIME)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every evening at 2pm",REWRITE_TO:"every day at 2pm",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every $1",PATTERN1:"(.+) recurring",PATTERN2:"-",PATTERN3:"-",ORIGIN:"dec 5 recurring",REWRITE_TO:"every dec 5",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"2 weeks",PATTERN1:"fornight",PATTERN2:"-",PATTERN3:"-",ORIGIN:"fornight",REWRITE_TO:"2 weeks",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"",PATTERN1:"^<morning|afternoon|evening|night|noon|midday|early>$",PATTERN2:"",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 9am",PATTERN1:"$SEP<at|in> <the>?_morning",PATTERN2:"morning",PATTERN3:"-",ORIGIN:"in the morning",REWRITE_TO:" 9am",COMMENT:"",US_DATES:"-1",AM_PM:"1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 12pm",PATTERN1:"$SEP<at|in> <the>?_afternoon",PATTERN2:"afternoon",PATTERN3:"-",ORIGIN:"in the afternoon",REWRITE_TO:" 12pm",COMMENT:"",US_DATES:"-1",AM_PM:"1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"@label",PATTERN1:"@<evening|night|noon|morning|afternoon>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 7pm",PATTERN1:"$SEP<at|in> <the>?_evening",PATTERN2:"evening",PATTERN3:"-",ORIGIN:"in the evening",REWRITE_TO:" 7pm",COMMENT:"",US_DATES:"-1",AM_PM:"1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 22pm",PATTERN1:"$SEP<at|in> <the>?_night",PATTERN2:"night",PATTERN3:"-",ORIGIN:"in the night",REWRITE_TO:" 22pm",COMMENT:"",US_DATES:"-1",AM_PM:"1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"at 12pm",PATTERN1:"<at|in> 12_noon",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 12pm",PATTERN1:"$SEP<at|in> <the>?_noon",PATTERN2:"noon",PATTERN3:"midday",ORIGIN:"in the noon",REWRITE_TO:" 12pm",COMMENT:"",US_DATES:"-1",AM_PM:"1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 09:00",PATTERN1:"$SEP<at|in> <the>?_morning",PATTERN2:"morning",PATTERN3:"-",ORIGIN:"in the morning",REWRITE_TO:'" 09:00"',COMMENT:"",US_DATES:"-1",AM_PM:"0",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 12:00",PATTERN1:"$SEP<at|in> <the>?_afternoon",PATTERN2:"afternoon",PATTERN3:"-",ORIGIN:"in the afternoon",REWRITE_TO:'" 12:00"',COMMENT:"",US_DATES:"-1",AM_PM:"0",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 19:00",PATTERN1:"$SEP<at|in> <the>?_evening",PATTERN2:"evening",PATTERN3:"-",ORIGIN:"in the evening",REWRITE_TO:'" 19:00"',COMMENT:"",US_DATES:"-1",AM_PM:"0",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 22:00",PATTERN1:"$SEP<at|in> <the>?_night",PATTERN2:"night",PATTERN3:"-",ORIGIN:"in the night",REWRITE_TO:'" 22:00"',COMMENT:"",US_DATES:"-1",AM_PM:"0",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" 12:00",PATTERN1:"$SEP<at|in> <the>?_noon",PATTERN2:"noon",PATTERN3:"midday",ORIGIN:"at noon",REWRITE_TO:'" 12:00"',COMMENT:"",US_DATES:"-1",AM_PM:"0",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$19am "',PATTERN1:"($SEP)early\\s",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"early "',REWRITE_TO:'"9am "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"at 23:59",PATTERN1:"at 24:00",PATTERN2:"-",PATTERN3:"-",ORIGIN:"at 24:00",REWRITE_TO:"at 23:59",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"today$1",PATTERN1:"now($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"now "',REWRITE_TO:'"today "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every saturday, sunday",PATTERN1:"all weekend",PATTERN2:"-",PATTERN3:"-",ORIGIN:"all weekend",REWRITE_TO:"every saturday, sunday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"all($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"all "',REWRITE_TO:'" "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"tomorrow",PATTERN1:"^other day",PATTERN2:"-",PATTERN3:"-",ORIGIN:"other day",REWRITE_TO:"tomorrow",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"this ($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"this monday",REWRITE_TO:"monday",COMMENT:'Example: "this monday"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" ending",PATTERN1:" <until|stops?>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every until",REWRITE_TO:"every ending",COMMENT:'Example "every day until 3 may"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 2 months",PATTERN1:"bi_monthly",PATTERN2:"-",PATTERN3:"-",ORIGIN:"bimonthly",REWRITE_TO:"every 2 months",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 2 weeks",PATTERN1:"bi_weekly",PATTERN2:"-",PATTERN3:"-",ORIGIN:"biweekly",REWRITE_TO:"every 2 weeks",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 2 days",PATTERN1:"bi_daily",PATTERN2:"-",PATTERN3:"-",ORIGIN:"bidaily",REWRITE_TO:"every 2 days",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every day",PATTERN1:"daily",PATTERN2:"-",PATTERN3:"-",ORIGIN:"daily",REWRITE_TO:"every day",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every week",PATTERN1:"weekly",PATTERN2:"-",PATTERN3:"-",ORIGIN:"weekly",REWRITE_TO:"every week",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every month",PATTERN1:"monthly",PATTERN2:"-",PATTERN3:"-",ORIGIN:"monthly",REWRITE_TO:"every month",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"workday",PATTERN1:"week_day",PATTERN2:"-",PATTERN3:"-",ORIGIN:"week day",REWRITE_TO:"workday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"+3 months"',PATTERN1:"next quarter",PATTERN2:"-",PATTERN3:"-",ORIGIN:"next quarter",REWRITE_TO:'"+3 months"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"1 jan"',PATTERN1:"first quarter",PATTERN2:"1<st>? quarter",PATTERN3:"-",ORIGIN:"1st quarter",REWRITE_TO:'"1 jan"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"1 april"',PATTERN1:"second quarter",PATTERN2:"2<nd>? quarter",PATTERN3:"-",ORIGIN:"2nd quarter",REWRITE_TO:'"1 april"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"1 july"',PATTERN1:"third quarter",PATTERN2:"3<rd>? quarter",PATTERN3:"-",ORIGIN:"3rd quarter",REWRITE_TO:'"1 july"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"1 october"',PATTERN1:"fourth quarter",PATTERN2:"4<th>? quarter",PATTERN3:"-",ORIGIN:"4th quarter",REWRITE_TO:'"1 october"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 3 months",PATTERN1:"quarterly",PATTERN2:"-",PATTERN3:"-",ORIGIN:"quarterly",REWRITE_TO:"every 3 months",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"3 months",PATTERN1:"quarter",PATTERN2:"-",PATTERN3:"-",ORIGIN:"quarter",REWRITE_TO:"3 months",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"+2 months"',PATTERN1:"some_day",PATTERN2:"-",PATTERN3:"-",ORIGIN:"someday",REWRITE_TO:'"+2 months"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every day",PATTERN1:"everydays?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"everyday",REWRITE_TO:"every day",COMMENT:'Example "everyday"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"-",PATTERN1:"^(first|second|third|fourth|fifth|sixth|seventh|eighth|ninth|tenth|eleven|twelfth|thirteenth|fourteenth|fifteenth)$",PATTERN2:"-",PATTERN3:"-",ORIGIN:"first",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"20th",PATTERN1:"twentieth",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"21st",PATTERN1:"twenty <first|one>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"22nd",PATTERN1:"twenty <second|two>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"23rd",PATTERN1:"twenty <third|three>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"24th",PATTERN1:"twenty <fourth|four>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"25th",PATTERN1:"twenty <fifth|five>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"26th",PATTERN1:"twnety sixt?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"27th",PATTERN1:"twenty seven<th>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"28th",PATTERN1:"twenty <eight|eighth>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"29th",PATTERN1:"twenty <nine|ninth>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"31th",PATTERN1:"<thirtieth|thirty> first",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"30th",PATTERN1:"<thirtieth|thirty>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"1st ",PATTERN1:"first",PATTERN2:"-",PATTERN3:"-",ORIGIN:"first jan",REWRITE_TO:"1st jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"2nd ",PATTERN1:"second",PATTERN2:"-",PATTERN3:"-",ORIGIN:"second jan",REWRITE_TO:"2nd jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"3rd ",PATTERN1:"third",PATTERN2:"-",PATTERN3:"-",ORIGIN:"third jan",REWRITE_TO:"3rd jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"4th ",PATTERN1:"fourth",PATTERN2:"-",PATTERN3:"-",ORIGIN:"fourth jan",REWRITE_TO:"4th jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"5th ",PATTERN1:"fifth",PATTERN2:"-",PATTERN3:"-",ORIGIN:"fifth jan",REWRITE_TO:"5th jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"6th ",PATTERN1:"sixth",PATTERN2:"-",PATTERN3:"-",ORIGIN:"sixth jan",REWRITE_TO:"6th jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",
REWRITE:"7th ",PATTERN1:"seventh",PATTERN2:"-",PATTERN3:"-",ORIGIN:"seventh jan",REWRITE_TO:"7th jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"8th ",PATTERN1:"eighth",PATTERN2:"-",PATTERN3:"-",ORIGIN:"eighth jan",REWRITE_TO:"8th jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"9th ",PATTERN1:"ninth",PATTERN2:"-",PATTERN3:"-",ORIGIN:"ninth jan",REWRITE_TO:"9th jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"10th ",PATTERN1:"tenth",PATTERN2:"-",PATTERN3:"-",ORIGIN:"tenth jan",REWRITE_TO:"10th jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"11th ",PATTERN1:"<eleven|eleventh>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"12th ",PATTERN1:"<twelfth|twelve>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"13th ",PATTERN1:"thirteen<th>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"14th ",PATTERN1:"fourteen<th>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"15th ",PATTERN1:"<fifteenth|fifteen>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"16th ",PATTERN1:"sixteen<th>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"17th",PATTERN1:"seventeen<th>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"18th",PATTERN1:"eighteen<th>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"19th",PATTERN1:"nineteen<th>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"at $1",PATTERN1:"<at|@> (\\d+)_<th|rd|nd)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"at 11th",REWRITE_TO:"at 11",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$11$2"',PATTERN1:"($SEP)one($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" one "',REWRITE_TO:'" 1 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$12$2"',PATTERN1:"($SEP)two($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" two "',REWRITE_TO:'" 2 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$13$2"',PATTERN1:"($SEP)three($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" three "',REWRITE_TO:'" 3 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$14$2"',PATTERN1:"($SEP)four($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" four "',REWRITE_TO:'" 4 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$15$2"',PATTERN1:"($SEP)five($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" five "',REWRITE_TO:'" 5 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$16$2"',PATTERN1:"($SEP)six($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" six "',REWRITE_TO:'" 6 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$17$2"',PATTERN1:"($SEP)seven($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" seven "',REWRITE_TO:'" 7 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$18$2"',PATTERN1:"($SEP)eight($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" eight "',REWRITE_TO:'" 8 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$19$2"',PATTERN1:"($SEP)nine($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" nine "',REWRITE_TO:'" 9 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$110$2"',PATTERN1:"($SEP)ten($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" ten "',REWRITE_TO:'" 10 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$111$2"',PATTERN1:"($SEP)eleven($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" eleven "',REWRITE_TO:'" 11 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$112$2"',PATTERN1:"($SEP)twelve($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" twelve "',REWRITE_TO:'" 12 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"the ($N)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"the 9",REWRITE_TO:'"9"',COMMENT:'Example "the 8th" => "8th"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"",PATTERN1:"due_<by>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"due by",REWRITE_TO:"",COMMENT:'Example "due by nov. 5"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"in $1 from today",PATTERN1:"($N $UNIT) from <today|now>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"1 week from today",REWRITE_TO:"in 1 week from today",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"ending in $1",PATTERN1:"during ($N $UNIT)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"during 1 week",REWRITE_TO:"ending in 1 week",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every day starting $1 and ending $2",PATTERN1:"^<from>?_($RDATE) <to|until> ($RDATE)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"from 15 jul to 16 jul",REWRITE_TO:"every day starting 15 jul and ending 16 jul",COMMENT:"-",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" ",PATTERN1:"from tod(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"from today",REWRITE_TO:'" "',COMMENT:'Example "from today"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"at $1",PATTERN1:"from ($STIME)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"from 2pm",REWRITE_TO:"at 2pm",COMMENT:'Example "from 3pm"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"starting",PATTERN1:"starting from",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"starting $1",PATTERN1:"<from|begin(..)>\\s+(.+)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"from march",REWRITE_TO:"starting march",COMMENT:'Example "from 3rd april". Transalte from begin',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" $1",PATTERN1:",_($YEAR)",PATTERN2:"-",PATTERN3:"-",ORIGIN:", 2014",REWRITE_TO:'" 2014"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"pm",PATTERN1:"p[.-]?m[.-]?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"p.m.",REWRITE_TO:"pm",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"am",PATTERN1:"a[.-]?m[.-]?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"a.m.",REWRITE_TO:"am",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"sharp($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"sharp "',REWRITE_TO:'" "',COMMENT:'Example "today at 2pm sharp"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1:$2$3",PATTERN1:"($N)[-.]_($N)(am|pm)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"3-30pm",REWRITE_TO:'"3:30pm"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"",PATTERN1:"o'?clock",PATTERN2:"-",PATTERN3:"-",ORIGIN:"o'clock",REWRITE_TO:"",COMMENT:"English only probably",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 day $2",PATTERN1:"($EV) ($STIME)_$",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every 2pm",REWRITE_TO:"every day 2pm",COMMENT:'Example "every 2pm" => "every day 2pm"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"15th $1",PATTERN1:"mid_($MONTH)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"mid may",REWRITE_TO:"15th may",COMMENT:'Example "mid may"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2 starting 1 $3 ending last day of $3",PATTERN1:"($EV) ($WEEKDAY) of ($MONTH)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every monday of may",REWRITE_TO:"every monday starting 1 may ending last day of may",COMMENT:'Example "every monday of may"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$2 $3 starting $1",PATTERN1:"($RDATE)[-\\s,\\.]*($EV)_(.+)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"5 may, every day",REWRITE_TO:"every day starting 5 may",COMMENT:"Example: 5 may, every day",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$2 $1",PATTERN1:"month_(<at>?_[^\\s]+)_on_<the>? ($N_$RS?_$WEEKDAY)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every month at 14 on the 4th monday",REWRITE_TO:"every 4th monday at 14",COMMENT:'Example "every month at 14 on the 4th monday" => "every 4th monday at 14"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every",PATTERN1:"every year on< the>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every year on the",REWRITE_TO:"every",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 ",PATTERN1:"($EV) months? on_<the>?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every month on the 2nd Sunday",REWRITE_TO:"every 2nd Sunday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every workday",PATTERN1:"on weekdays?",PATTERN2:"on workdays?",PATTERN3:"-",ORIGIN:"on weekdays",REWRITE_TO:"every workday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2",PATTERN1:"($SEP)on <the>?(.+)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'" on the 5th"',REWRITE_TO:'" 5th"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every last day",PATTERN1:"last of every month",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"last of every month"',REWRITE_TO:'"every last day"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"($STIME) at",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"9am at"',REWRITE_TO:'"9am"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 @ $2",PATTERN1:"(.)@(.)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"Apr 11@12:30"',REWRITE_TO:'"Apr 11 @ 12:30"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2",PATTERN1:"($N)$SEP($MONTH)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"5/may"',REWRITE_TO:'"5 may"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2",PATTERN1:"($MONTH)$SEP($N)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"may/5"',REWRITE_TO:'"may 5"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$2 $1",PATTERN1:"($N_$RS) ($EV)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"3rd every",REWRITE_TO:"every 3rd",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"in 3 hours"',PATTERN1:"in a?_few hours",PATTERN2:"-",PATTERN3:"-",ORIGIN:"in a few hours",REWRITE_TO:"in 3 hours",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" $1",PATTERN1:"_,_($STIME)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'", 3pm"',REWRITE_TO:'" 3pm"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 ",PATTERN1:"($STIME)_,_",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"3pm, "',REWRITE_TO:'"3pm "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"workday",PATTERN1:"m-f",PATTERN2:"mon-fri",PATTERN3:"-",ORIGIN:"m-f",REWRITE_TO:"workday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 ",PATTERN1:"($MONTH) the",PATTERN2:"-",PATTERN3:"-",ORIGIN:"may the",REWRITE_TO:'"may "',COMMENT:'Example "march the 23rd"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"saturday",PATTERN1:"this weekend",PATTERN2:"on weekend",PATTERN3:"-",ORIGIN:"this weekend",REWRITE_TO:"saturday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"next saturday",PATTERN1:"next weekend",PATTERN2:"on next weekend",PATTERN3:"-",ORIGIN:"next weekend",REWRITE_TO:"next saturday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"1st jan",PATTERN1:"next year",PATTERN2:"-",PATTERN3:"-",ORIGIN:"next year",REWRITE_TO:"1st jan",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"starting 1 january",PATTERN1:"of the year",PATTERN2:"-",PATTERN3:"-",ORIGIN:"of the year",REWRITE_TO:"starting 1 january",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"monday",PATTERN1:"coming week",PATTERN2:"-",PATTERN3:"-",ORIGIN:"coming week",REWRITE_TO:"monday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" ",PATTERN1:"of this week",PATTERN2:"this week",PATTERN3:"-",ORIGIN:"of this week",REWRITE_TO:'" "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"next $1",PATTERN1:"($WEEKDAY) <of>?_next_week",PATTERN2:"-",PATTERN3:"-",ORIGIN:"monday of next week",REWRITE_TO:"next monday",COMMENT:'Example "monday of next week"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"1st",PATTERN1:"next months?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"next month",REWRITE_TO:"1st",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every saturday",PATTERN1:"every weekends?",PATTERN2:"^weekends",PATTERN3:"-",ORIGIN:"every weekends",REWRITE_TO:"every saturday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"1st $1",PATTERN1:"^<at the>?_<begin(..)|start(..)>_<of>? ($MONTH)$",PATTERN2:"-",PATTERN3:"-",ORIGIN:"at the beginning of may",REWRITE_TO:'"1st may"',COMMENT:'Example "at the beginning of may"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"last day of $1",PATTERN1:"^<at the>?_end(..)_<of>? ($MONTH)$",PATTERN2:"-",PATTERN3:"-",ORIGIN:"at the end of may",REWRITE_TO:'"last day of may"',COMMENT:'Example "at the end of may"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"2 weeks",PATTERN1:"other week",PATTERN2:"-",PATTERN3:"-",ORIGIN:"other week",REWRITE_TO:"2 weeks",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every",PATTERN1:"annually_<on|star(..)|begin(..)>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"annually starting",REWRITE_TO:"every",COMMENT:'Example "anually beginning", "anually on"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every",PATTERN1:"every annually",PATTERN2:"repeat annually_<star(..>)?",PATTERN3:"-",ORIGIN:"every annually",REWRITE_TO:"every",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every $1",PATTERN1:"(.+)_annually",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"may annually"',REWRITE_TO:'"every may "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every",PATTERN1:"annually",PATTERN2:"-",PATTERN3:"-",ORIGIN:"annually",REWRITE_TO:"every",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"by ($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"by monday",REWRITE_TO:"monday",COMMENT:'Example "by monday"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"by ($RDATE)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"by 3rd may",REWRITE_TO:"3rd may",COMMENT:'Example "by 3rd may"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"next",PATTERN1:"by nex(..)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"by next",REWRITE_TO:"next",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 at $2",PATTERN1:"($SEP)by($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"today by 3pm",REWRITE_TO:"today at 3pm",COMMENT:'Example "every monday by 2pm"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"the (month|week|day)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"last day",PATTERN1:"end_of month",PATTERN2:"-",PATTERN3:"-",ORIGIN:"end of month",REWRITE_TO:"last day",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$2",PATTERN1:"($WEEKDAY) ($RDATE)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"in 3 days",PATTERN1:"in_a?_few days",PATTERN2:"few days",PATTERN3:"-",ORIGIN:"in a few days",REWRITE_TO:"in 3 days",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"weeks",PATTERN1:"wks",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"Common bad spellings (can omit) ",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"friday",PATTERN1:"firday",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"today",PATTERN1:"toady",PATTERN2:"toay",PATTERN3:"tdoay",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"tomorrow",PATTERN1:"tmrw|tmr",PATTERN2:"toay",PATTERN3:"tdoay",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"monday",PATTERN1:"moday",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every",PATTERN1:"evr",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every workday",PATTERN1:"everyweekday",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 1st day",PATTERN1:"first_<of>?_ev(..) month",PATTERN2:"1st_<of>?_ev(..) month",PATTERN3:"-",ORIGIN:"1st of every month",REWRITE_TO:"every 1st day",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 months ",PATTERN1:"($N)_mo\\s",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"3mo "',REWRITE_TO:'"3 months "',COMMENT:'Example "3 mo"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"-$1 $2"',PATTERN1:"^($N) ($UNIT) ago",PATTERN2:"-",PATTERN3:"-",ORIGIN:"3 days ago",REWRITE_TO:"-3 days",COMMENT:'Example "3 days" => "in 3 days"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every month",PATTERN1:"once<_a_>?month",PATTERN2:"-",PATTERN3:"-",ORIGIN:"once a month",REWRITE_TO:"every month",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 15 days",PATTERN1:"twice<_a_>?month",PATTERN2:"-",PATTERN3:"-",ORIGIN:"twice a month",REWRITE_TO:"every 15 days",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:", ",PATTERN1:"\\s+and\\s+",PATTERN2:",_and\\s+",PATTERN3:"-",ORIGIN:"mon and tue",REWRITE_TO:"mon, tue",COMMENT:'Example " and " => ", "',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"ending in +$1 $2",PATTERN1:"for the next ($N) ($UNIT)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"for the next 3 weeks",REWRITE_TO:"ending in +3 weeks",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"ending in +$1 $2",PATTERN1:"for ($N) ($UNIT)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"for 3 days",REWRITE_TO:"ending in +3 days",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every day ending in +$1 $2",PATTERN1:"^ending in ($N) ($UNIT)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"ending in 3 months",REWRITE_TO:"every day ending in +3 months",COMMENT:'Example "ending in 3 weeks" => "every day ending in 3 week"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2 $4, $3 $4",PATTERN1:"($EV) ($N_<$RS>?), ($N_<$RS>?) ($WEEKDAY)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every 2nd, 3rd monday",REWRITE_TO:"every 2nd monday, 3rd monday",COMMENT:'Example "every 2nd, 3rd monday" => "every 2nd monday, 3rd monday"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every",PATTERN1:"every every",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every every",REWRITE_TO:"every",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every!$1",PATTERN1:"^after($SEP)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"after",REWRITE_TO:"every!",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"+1 week"',PATTERN1:"a week",PATTERN2:"-",PATTERN3:"-",ORIGIN:"a week",REWRITE_TO:'"+1 week"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"+1 year"',PATTERN1:"a year",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"+1 month"',PATTERN1:"a month",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$2 $1",PATTERN1:"($N_$RS $WEEKDAY)_<of>?_($EV)_months?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"2nd monday every month",REWRITE_TO:"every 2nd monday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"workday",PATTERN1:"business_day|biz_day",PATTERN2:"-",PATTERN3:"-",ORIGIN:"business day",REWRITE_TO:"workday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"",PATTERN1:"of the month",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every 4th Monday of the month at 14",REWRITE_TO:"every 4th Monday at 14",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 starting $2",PATTERN1:"($WEEKDAY) in ($N $UNIT)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"monday in 7 weeks",REWRITE_TO:"monday starting 7 weeks",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2:$3",PATTERN1:"($SEP_at|@)_(\\d\\d)(\\d\\d)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"at 2300",REWRITE_TO:"at 23:00",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 2 weeks",PATTERN1:"every fortnight",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$2 $1",PATTERN1:"^($STIME) (.+)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"12:30 pm every thursday",REWRITE_TO:"every thursday 12:30 pm",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:'"$1 $2"',PATTERN1:"($EV)! ($WEEKDAY)$",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every! tue",REWRITE_TO:"every tue",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1:$2",PATTERN1:"(\\d+)_:_(\\d+)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"11 : 30"',REWRITE_TO:'"11:30"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$2 $1",PATTERN1:"^(am|pm) ($STIME)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1h $2",PATTERN1:"(\\d)h(\\d)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"7h30"',REWRITE_TO:'"7h 30"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:" $1/$2/20$3 ",PATTERN1:"$SEP(\\d?\\d)/(\\d?\\d)/(\\d\\d)$SEP",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"05/01/15 "',REWRITE_TO:'" 05/01/2015 "',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"",REWRITE:"$1 days ",PATTERN1:"(\\d+)d$SEP",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"1d"',REWRITE_TO:'"1 days"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:"0"},{TYPE:"",REWRITE:"$1 months ",PATTERN1:"(\\d+)m$SEP",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:"0"},{TYPE:"",REWRITE:"$1 weeks ",PATTERN1:"(\\d+)w$SEP",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:"0"},{TYPE:"",REWRITE:"$1 years ",PATTERN1:"(\\d+)y$SEP",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:"0"},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"",REWRITE:"$1 years ",PATTERN1:"(\\d+)y$SEP",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2",PATTERN1:"^(\\d\\d)\\.(\\d\\d)$",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"27.05"',REWRITE_TO:'"27 05"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2 $3",PATTERN1:"(\\d+),? ($MONTH),?($| \\d\\d\\d\\d)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"27, May 2007"',REWRITE_TO:'"27 May 2007"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2 $3",PATTERN1:"($MONTH),? (\\d+),?($| \\d\\d\\d\\d)",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"May, 27 2007"',REWRITE_TO:'"May 27 2007"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 $2/$3",PATTERN1:"($EV) (\\d+)\\._(\\d+)\\.?$",PATTERN2:"-",PATTERN3:"-",ORIGIN:'"every 6.6."',REWRITE_TO:'"every 6/6"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"",PATTERN1:"^[\\.,;,]+",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1",PATTERN1:"([a-zA-z]+)_[\\.,;-]+$",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",
REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"one $1",PATTERN1:"<a|an> ($UNIT)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1m",PATTERN1:"([ap])\\. ?m\\.?",PATTERN2:"-",PATTERN3:"-",ORIGIN:"a. m.",REWRITE_TO:"am",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"\u26c4\ufe0f",PATTERN1:"Tod$SEP",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Tod",REWRITE_TO:"\u26c4\ufe0f",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:"0"},{TYPE:"normalize",REWRITE:"\u26c4\ufe0f",PATTERN1:"Tom$SEP",PATTERN2:"-",PATTERN3:"-",ORIGIN:"Tom",REWRITE_TO:"\u26c4\ufe0f",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:"0"},{TYPE:"normalize",REWRITE:"\u26c4\ufe0f",PATTERN1:"<thus|^\\d:\\d$>",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:"0"},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:":00",PATTERN1:"\\.00",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:":15",PATTERN1:"\\.15",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:":30",PATTERN1:"\\.30",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:":45",PATTERN1:"\\.45",PATTERN2:"-",PATTERN3:"-",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"",PATTERN1:"^@_.+",PATTERN2:"-",PATTERN3:"-",ORIGIN:"@home",REWRITE_TO:"",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every day",PATTERN1:"every day, every hour",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"days",PATTERN1:"day of month",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 1 hour",PATTERN1:"^every hour$",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every 1 hour",PATTERN1:"^every hour$",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1:15",PATTERN1:"($N) fifteen",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1:30",PATTERN1:"($N) thirty",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1:45",PATTERN1:"($N) forty$SEP?five",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1:30",PATTERN1:"half ($N)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"30th",PATTERN1:"thirty",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"31st",PATTERN1:"thirty first",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"1 $1",PATTERN1:"a (week|day|month)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"-",REWRITE_TO:"-",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 pm$2",PATTERN1:"($N)_p(\\s|$)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"3p",REWRITE_TO:'"3 pm"',COMMENT:'Example "2p" => "2pm"',US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"$1 am$2",PATTERN1:"($N)_a(\\s|$)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"3a",REWRITE_TO:'"3 am"',COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"other workday",PATTERN1:"next <week|work>_day",PATTERN2:"-",PATTERN3:"-",ORIGIN:"next workday",REWRITE_TO:"other workday",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"ev mon,tue,wed,thu,fri,$1",PATTERN1:"$EV <week|work>_day<,_every>? (sat<urday>?,?_<sun<day>?>?)",PATTERN2:"-",PATTERN3:"-",ORIGIN:"every weekday, every sat",REWRITE_TO:"ev mon,tue,wed,thu,fri,sat",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""},{TYPE:"",REWRITE:"",PATTERN1:"",PATTERN2:"",PATTERN3:"",ORIGIN:"",REWRITE_TO:"",COMMENT:"",US_DATES:"",AM_PM:"",IGNORE_CASE:""},{TYPE:"normalize",REWRITE:"every!",PATTERN1:"ev!",PATTERN2:"-",PATTERN3:"-",ORIGIN:"ev! 3 days",REWRITE_TO:"every! 3 days",COMMENT:"",US_DATES:"-1",AM_PM:"-1",IGNORE_CASE:""}]},{}],455:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function l(e,t){return s(e)||u(e,t)||c()}function s(e){if(Array.isArray(e))return e}function u(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(r,"__esModule",{value:!0});var d={NUMBER_OF_PATTERNS:3,MATCH_KEYS:{$1:1,$2:2,$3:3,$4:4},VALID_LANGS:{da:!0,de:!0,en:!0,es:!0,fi:!0,fr:!0,it:!0,ja:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,ru:!0,sv:!0,zh:!0},TESTABLE_LANGUAGES:["da","de","en","it","ja","nb","nl","pl","pt","ru","sv","zh"],SUFFIX_RECURRING:["ja","ko","fi","zh"]},f=function(){function e(){a(this,e),this.cache={}}return o(e,[{key:"trim",value:function(e){return e.replace(/^\s+|\s+$/g,"")}},{key:"clone",value:function(e){if(null===e||"object"!==n(e))return e;if(e instanceof Date)return new Date(e.getTime());var t=new e.constructor;for(var r in e)t[r]=this.clone(e[r]);return t}},{key:"is_spaceless_lang",value:function(e){return"zh"===e||"ja"===e}},{key:"re_compile",value:function(e,t,r){if(e instanceof RegExp)return e;var n="".concat(t,"-").concat(e,"-").concat(r);return this.cache[n]?this.cache[n]:(e=e.replace(/\(\.\.\)/g,"[^\\s]*"),e=e.replace(/\s\s+/g," "),this.is_spaceless_lang(t)?(e=e.replace(/\s/g,"").replace(/_/g,""),e=e.replace(/\\s\+/g,"").replace(/\\s\*/g,"")):e=e.replace(/\s/g,"\\s+").replace(/_/g,"\\s*"),e=e.replace(/</g,"(?:").replace(/>/g,")"),this.cache[n]=new RegExp(e,r))}},{key:"re_match",value:function(e,t,r){return e=this.re_compile(e,r,"i"),t.match(e)}},{key:"re_has_match",value:function(e,t,r){return null!==this.re_match(e,t,r)}},{key:"re_split",value:function(e,t,r){return t.split(this.re_compile(e,r,"gi"))}},{key:"re_sub",value:function(e,t,r,n){return r.replace(this.re_compile(e,n,"gi"),t)}},{key:"re_sub_once",value:function(e,t,r,n){return r.replace(this.re_compile(e,n,"i"),t)}},{key:"generate_txt_pattern",value:function(e){for(var t=[],r=1,n=d.NUMBER_OF_PATTERNS+1,a=1<=n;a?r<=n:r>=n;a?r++:r--){var i=e["PATTERN".concat(r)];"-"!==i&&i&&i.length>0&&t.push("(?:".concat(i,")"))}return t.join("|")}},{key:"resolve_helpers",value:function(e,t){for(var r in t){var n=t[r];-1!==e.indexOf(r)&&(e=e.replace(new RegExp(r.replace(/\$/,"\\$"),"gi"),n))}return e}},{key:"load_def",value:function(e){if(!window[e])throw new Error("Definion not found: ".concat(e,". Language definition file should be loaded before using Dateist"));return window[e]}}]),e}(),p=new f,m=function e(t,r,n,i,o){a(this,e),this.pattern=t,this.rewrite=r,this.us_dates=n,this.am_pm=i,this.line=o},h=function(){function e(){a(this,e),this.cache={}}return o(e,[{key:"normalize",value:function(e,t){return this._normalize(e,t,"normalize")}},{key:"normalize_unit",value:function(e,t){var r=this._normalize(e,t,"resolve_unit"),n=parseInt(r)||r;if("0"===n)throw"0 isn't valid";return n}},{key:"normalize_day",value:function(e,t){return parseInt(this._normalize(e,t,"resolve_day"))||1}},{key:"normalize_month",value:function(e,t){return parseInt(this._normalize(e,t,"resolve_month"))||1}},{key:"normalize_misc",value:function(e,t){return this._normalize(e,t,"resolve_misc")}},{key:"normalize_light",value:function(e,t){return e=p.trim(e),e=this.convert_asian_numbers(e),e=p.re_sub('["]',"",e,"en"),e=p.re_sub("[,\u2019]$","",e,"en"),e=p.re_sub("\\[(.*?)\\]\\(.*?\\)","[...](...)",e,"en"),e=p.re_sub("https?://[^\\s]+","https://",e,"en"),e=p.is_spaceless_lang(t.lang)?p.re_sub("\\s+","",e,"en"):p.re_sub("\\s\\s+"," ",e,"en"),p.trim(e)}},{key:"_normalize",value:function(e,t,r){if(!e)return"";var n=t.lang;e=this.normalize_light(e,t);var a=t.am_pm||1,i=t.us_dates||1,o=!0,l=!1,s=void 0;try{for(var u,c=this.get_matchers(r,n)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;-1!==parseInt(d.us_dates)&&parseInt(d.us_dates)!==parseInt(i)||(-1!==parseInt(d.am_pm)&&parseInt(d.am_pm)!==parseInt(a)||(e=this.apply_normalization(e,d,n)))}}catch(e){l=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw s}}return e=p.is_spaceless_lang(n)?p.trim(p.re_sub("\\s+","",e,n)):p.trim(p.re_sub("\\s\\s+"," ",e,n))}},{key:"apply_normalization",value:function(e,t){var r=p.re_match(t.pattern,e);if(r){var n=p.re_sub('"',"",t.rewrite,"en");for(var a in d.MATCH_KEYS){var i=d.MATCH_KEYS[a];if(-1!==n.indexOf(a)){var o=r[i],l=p.re_sub('"'," ",o,"en");n=p.re_sub(a,l,n,"en")}}e=p.re_sub_once(t.pattern,n,e,"en"),e=p.trim(e)}return e}},{key:"get_matchers",value:function(e,t){var r="".concat(e,"_").concat(t),n=this.cache[r];if(n)return n;var a=[],i={},o=p.load_def("DateistNormalization".concat(t.toUpperCase()));if(!o)return a;var l=0,s=!0,u=!1,c=void 0;try{for(var d,f=o[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value;l+=1;var _=h.TYPE;if(_){h.line_number=l+1;var v=p.generate_txt_pattern(h);if("helper"!==_){if(_===e){var b="i";"0"===h.IGNORE_CASE&&(b="");var y=p.re_compile(p.resolve_helpers(v,i),t,b),g=parseInt(h.US_DATES),E=parseInt(h.AM_PM),T=new m(y,h.REWRITE,g,E,h);a.push(T)}}else i[h.REWRITE]=p.resolve_helpers(v,i)}}}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}return this.cache[r]=a,a}},{key:"convert_month_number_name",value:function(e,t){var r=this.get_matchers("resolve_month",t.lang);if(r){var n=!0,a=!1,i=void 0;try{for(var o,l=r[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value;if(parseInt(s.rewrite.replace('"',""))===e){var u=s.line.ORIGIN;if(u)return u}}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}}return null}},{key:"convert_asian_numbers",value:function(e){var t="\uff10 \uff11 \uff12 \uff13 \uff14 \uff15 \uff16 \uff17 \uff18 \uff19".split(" "),r=0,n=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value;e=e.replace(new RegExp(s,"gi"),r),r++}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return e=e.replace(/\uff0f/g,"/"),e=e.replace(/\u30fc/g,"-"),e=e.replace(/\u3001/g,","),e=e.replace(/\uff5e/g,"~")}}]),e}(),_=new h,v=function(){function e(){a(this,e),this.date_add=this.date_add.bind(this),this.date_last_day=this.date_last_day.bind(this),this.date_first_day=this.date_first_day.bind(this),this.date_last_workday=this.date_last_workday.bind(this),this.date_spec_work_day=this.date_spec_work_day.bind(this),this.day_diff=this.day_diff.bind(this),this.is_same_date=this.is_same_date.bind(this)}return o(e,[{key:"date_max",value:function(e){if(e)return e=new Date(e),e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(0),e}},{key:"date_min",value:function(e){if(e)return e=new Date(e),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e}},{key:"iso_date",value:function(e,t,r,n,a,i){return void 0===n&&(n=23),void 0===a&&(a=59),void 0===i&&(i=59),new Date(e,t-1,r,n,a,i)}},{key:"iso_month",value:function(e){return e.getMonth()+1}},{key:"iso_day",value:function(e){var t=e.getDay();return 0===t?7:t}},{key:"date_add",value:function(e,t,r){return e=new Date(e),"minute"===r?e.setMinutes(e.getMinutes()+t):"hour"===r?e.setHours(e.getHours()+t):"day"===r?e.setDate(e.getDate()+parseInt(t)||0):"week"===r?e.setDate(e.getDate()+7*t):"month"===r?this.add_months(e,t):"year"===r&&this.add_years(e,t),e}},{key:"date_last_day",value:function(e){return e=new Date(e),this.add_months(e,1),e.setDate(0),e}},{key:"date_first_day",value:function(e){return e=new Date(e),e.setDate(1),e}},{key:"date_last_workday",value:function(e){var t=this.date_last_day(e),r=this.iso_day(t);return 6===r?this.date_add(t,-1,"day"):7===r?this.date_add(t,-2,"day"):t}},{key:"date_weekday",value:function(e){var t=this.iso_day(e);return 6===t?this.date_add(e,2,"day"):7===t?this.date_add(e,1,"day"):e}},{key:"date_spec_weekday",value:function(e,t){var r=this.iso_day(e),n=t-r;return n<0&&(n+=7),this.date_add(e,n,"day")}},{key:"date_spec_weekday_num",value:function(e,t,r){if(r>5)throw"Max number of weekdays in a month is 5";var n=[],a=new Date(e);for(a.setDate(1);;){if(a=this.date_spec_weekday(a,t),a.getMonth()!==e.getMonth())break;n.push(a),a=this.date_add(a,1,"day")}return r<=n.length?n[r-1]:n[n.length-1]}},{key:"date_spec_work_day",value:function(e,t){var r=new Date(e);r.setDate(1);for(var n=0;;){var a=this.iso_day(r);if(6!==a&&7!==a){if((n+=1)===t)return r;r=this.date_add(r,1,"day")}else r=this.date_add(r,1,"day")}}},{key:"parse_year",value:function(e){return e&&0!==e.length?(e=parseInt(e))||null:null}},{key:"format_date",value:function(e){var t=function(e){return e<10?"0".concat(e):e};return"".concat(e.getFullYear(),"-").concat(t(e.getMonth()+1),"-").concat(t(e.getDate()))}},{key:"is_overdue",value:function(e,t){return!e||!t||t.getTime()<e.getTime()}},{key:"handle_time",value:function(e,t){var r;r=t.time_str?t.time_str:e.date_string,e.due_date&&(e.due_date=new Date(e.due_date)),r=p.re_sub("\\d\\d\\d\\d","",r,"en");var n=p.re_match(t.re_time,r,t.lang);if("hour"===e.unit||"minute"===e.unit)return e.due_date.setSeconds(0),e;if(n){var a,i,o=n[0];o=o.toLowerCase(),"zh"===t.lang?(a=-1!==r.indexOf("\u65e9\u4e0a")||-1!==r.indexOf("\u4e0a\u5348"),i=-1!==r.indexOf("\u4e0b\u5348")||-1!==r.indexOf("\u665a\u4e0a")||-1!==r.indexOf("\u534a\u6db2")):"ko"===t.lang?(a=-1!==r.indexOf("\uc624\uc804"),i=-1!==r.indexOf("\uc624\ud6c4")):"ja"===t.lang?(a=-1!==o.indexOf("am")||-1!==r.indexOf("\u5348\u524d"),i=-1!==o.indexOf("pm")||-1!==r.indexOf("\u5348\u5f8c")):(a=-1!==o.indexOf("am"),i=-1!==o.indexOf("pm"));var s=Array.from(function(e){var r=p.re_match(t.re_xtime,e,t.lang),n=parseInt(r[1]),a=0;return r[2]&&(a=parseInt(r[3])),[n,a]}(o)),u=l(s,2),c=u[0],d=u[1];return(a||i)&&(i&&12!==c&&(c+=12),a&&12===c&&(c=0)),c>=24&&(c-=12),e.due_date.setHours(c),e.due_date.setMinutes(d),e.due_date.setSeconds(0),e}return e.due_date&&(e.due_date=b.date_max(e.due_date)),e}},{key:"is_leap_year",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"get_days_in_month",value:function(e,t){var r;return r=this.is_leap_year(e)?29:28,[31,r,31,30,31,30,31,31,30,31,30,31][t]}},{key:"add_months",value:function(e,t){var r=e.getDate();return e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(r,this.get_days_in_month(e.getFullYear(),e.getMonth()))),e}},{key:"add_years",value:function(e,t){var r=e.getDate();return e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(r,this.get_days_in_month(e.getFullYear(),e.getMonth()))),e}},{key:"day_diff",value:function(e,t){e=new Date(e.getTime()),t=new Date(t.getTime()),e.setHours(0),e.setMinutes(0),t.setHours(0),t.setMinutes(0);var r=t.getTime()-e.getTime(),n=Math.round(r/this.ms_per_day);return-1===n&&e.getDate()===t.getDate()?0:n}},{key:"inherit_date",value:function(e,t){return t=new Date(t),t.setDate(1),t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate()),t}},{key:"is_same_date",value:function(e,t){return e===t||!(-1===e||-1===t||!e||!t)&&(e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}},{key:"has_time",value:function(e){return!!e&&59!==e.getSeconds()}},{key:"between_dates",value:function(e,t,r){return r>=e&&r<=t}}],[{key:"initClass",value:function(){this.prototype.ms_per_day=864e5}}]),e}();v.initClass();var b=new v,y=function(){function e(){a(this,e)}return o(e,[{key:"starting",value:function(e,t){var r=this._parse(t,e.start_date,{now_date:t.now_date}).due_date;59===r.getSeconds()&&(r=b.date_min(r));var n=this._parse(t,e.date,{now_date:r});return n.changed_date_string=p.trim(e.date),n}},{key:"ending",value:function(e,t){return this._generic_end_date(e.date,t.now_date,e.end_date,t)}},{key:"start_end",value:function(e,t){var r=this._parse(t,e.start_date,{now_date:t.now_date}).due_date;return 59===r.getSeconds()&&(r=b.date_min(r)),this._generic_end_date(e.date,r,e.end_date,t)}},{key:"date",value:function(e,t){var r,n=_.normalize_month(e.month,t),a=_.normalize_unit(e.number,t);return a>1900?(r=a,a=1):r=b.parse_year(e.year),this._generic_date(r,n,a,t)}},{key:"date_x_forced",value:function(e,t){var r=_.normalize_unit(e.number1,t),n=_.normalize_unit(e.number2,t),a=b.parse_year(e.year);return this._generic_date(a,r,n,t)}},{key:"date_x",value:function(e,t){var r,n,a=_.normalize_unit(e.number1,t),i=_.normalize_unit(e.number2,t),o=b.parse_year(e.year);if(t.us_dates?(n=a,r=i):(r=a,n=i),n>12){var s=Array.from([r,n]),u=l(s,2);n=u[0],r=u[1]}return this._generic_date(o,n,r,t)}},{key:"date_month",value:function(e,t){var r=_.normalize_month(e.month,t);return this._generic_date(null,r,1,t)}},{key:"today",value:function(e,t){var r={date_string:t.date_string,due_date:t.now_date};return b.handle_time(r,t)}},{key:"tomorrow",value:function(e,t){var r={date_string:t.date_string,due_date:b.date_add(t.now_date,1,"day")};return b.handle_time(r,t)}},{key:"yesterday",value:function(e,t){var r={date_string:t.date_string,due_date:b.date_add(t.now_date,-1,"day")};return b.handle_time(r,t)}},{key:"next_week",value:function(e,t){var r=t.now_date,n=b.iso_day(r),a=t.start_day,i=t.next_week,o=a-n;o<=0&&(o+=7);var l=i-a;l<0&&(l+=7);var s=o+l,u={date_string:t.date_string,due_date:b.date_add(t.now_date,s,"day")};return b.handle_time(u,t)}},{key:"regular_weekday",value:function(e,t){return this._generic_handle_weekday(e,t,!1)}},{key:"every_reg_weekday",value:function(e,t){return this._generic_handle_weekday(e,t,!0)}},{key:"next_weekday",value:function(e,t){var r=this._generic_handle_weekday(e,t,!0);return r.due_date=b.date_add(r.due_date,7,"day"),r}},{key:"every_next_weekday",value:function(e,t){var r=_.normalize_day(e.weekday,t),n=this._generic_handle_weekday(e,t,!0);return t.task_date||r!==b.iso_day(t.now_date)?(n.due_date=b.date_add(n.due_date,7,"day"),n):n}},{key:"spec_weekday_month",value:function(e,t){return this._generic_handle_spec_weekday_month(e,t,!0)}},{key:"every_spec_weekday_month",value:function(e,t){return this._generic_handle_spec_weekday_month(e,t,!0)}},{key:"spec_weekday",value:function(e,t){return this._generic_handle_spec_weekday(e,t,!0)}},{key:"every_spec_weekday",value:function(e,t){return this._generic_handle_spec_weekday(e,t,!0)}},{key:"last_day",value:function(e,t){return this._generic_last_day(e,t,!1)}},{key:"every_last_day",value:function(e,t){return this._generic_last_day(e,t,!0)}},{key:"last_work_day",value:function(e,t){return this._generic_last_work_day(e,t,!1)}},{key:"every_last_work_day",value:function(e,t){return this._generic_last_work_day(e,t,!0)}},{key:"spec_work_day",value:function(e,t){return this._generic_spec_work_day(e,t,!1)}},{key:"every_spec_work_day",value:function(e,t){return this._generic_spec_work_day(e,t,!0)}},{key:"work_day",value:function(e,t){e.number="1";var r=this._generic_handle_every_x(e,t,"day",null);return r.due_date=b.date_weekday(r.due_date),r}},{key:"every_week_day",value:function(e,t){var r=this._generic_handle_every_x(e,t,"day",null,!0);return r.due_date=b.date_weekday(r.due_date),r}},{key:"other_work_day",value:function(e,t){var r=b.date_add(t.now_date,1,"day");return b.handle_time({date_string:t.date_string,due_date:b.date_weekday(r)},t)}},{key:"every_other_week_day",value:function(e,t){var r=this._generic_handle_every_x(e,t,"day",1,null);return r.due_date=b.date_weekday(r.due_date),r.due_date=b.date_add(r.due_date,1,"day"),r.due_date=b.date_weekday(r.due_date),r}},{key:"spec_day",value:function(e,t){return this._generic_spec_day(e,t)}},{key:"every_spec_day",value:function(e,t){return this._generic_spec_day(e,t)}},{key:"every_day",value:function(e,t){return this._generic_handle_every_x(e,t,"day",null)}},{key:"every_other_day",value:function(e,t){return this._generic_handle_every_x(e,t,"day",2,null)}},{key:"every_month",value:function(e,t){return this._generic_handle_every_x(e,t,"month",null)}},{key:"every_week",value:function(e,t){return this._generic_handle_every_x(e,t,"week",null)}},{key:"every_hour",value:function(e,t){t.unit="hour";var r=this._generic_handle_every_x(e,t,"hour",null);return r.has_only_time=!0,r}},{key:"every_year",value:function(e,t){return this._generic_handle_every_x(e,t,"year",null)}},{key:"every_day_month",value:function(e,t){var r,n,a,i=_.normalize_unit(e.number1,t),o=_.normalize_unit(e.number2,t);return t.us_dates?(n=i,r=o):(r=i,n=o),a=t.task_date?t.task_date.getFullYear()+1:t.now_date.getFullYear(),this._generic_date(a,n,r,t)}},{key:"every_spec_month",value:function(e,t){var r=_.normalize_month(e.month,t),n=_.normalize_unit(e.number,t);return t.task_date?this._generic_date(t.task_date.getFullYear()+1,r,n,t):this._generic_date(t.now_date.getFullYear(),r,n,t)}},{key:"comma",value:function(e,t){return t.is_recurring=!1,this._generic_handle_comma(e,t)}},{key:"every_comma",value:function(e,t){return t.is_recurring=!0,this._generic_handle_comma(e,t)}},{key:"time",value:function(e,t){var r=t.now_date,n=this._generic_date(r.getFullYear(),b.iso_month(r),r.getDate(),t);return b.is_overdue(r,n.due_date)&&(n.due_date=b.date_add(n.due_date,1,"day")),n.has_only_time=!0,n}},{key:"before_after",value:function(e,t){var r=_.normalize_unit(e.number,t),n=_.normalize_unit(e.unit,t),a=1;"before"===e.mod.toLowerCase()&&(a=-1);var i=e.rel_date;i=i?this._parse(t,i,{now_date:t.now_date}).due_date:t.now_date;var o={date_string:t.date_string,due_date:b.date_add(i,a*r,n),unit:n};return b.handle_time(o,t)}},{key:"plus_minus_days",value:function(e,t){var r,n=e.unit;return n=n?_.normalize_unit(n.toLowerCase(),t):"day",r="0"===e.number?0:_.normalize_unit(e.number,t),b.handle_time({date_string:t.date_string,due_date:b.date_add(t.now_date,r,n),unit:n},t)}},{key:"plus",value:function(e,t){return this.plus_minus_days(e,t)}},{key:"minus",value:function(e,t){return this.plus_minus_days(e,t)}},{key:"no_date",value:function(){return{no_date:!0}}},{key:"_generic_end_date",value:function(e,t,r,n){var a,i=this._parse(n,r,{now_date:t}).due_date,o=this._parse(n,e,{now_date:t,end_date:i,task_date:n.task_date});a=p.is_spaceless_lang(n.lang)?"%s%s%s":"%s %s %s";var l=p.trim(_.normalize_misc("ending",n));if(o.start_string=o.date_string,"ja"===n.lang||"ko"===n.lang){var s=a.replace("%s",b.format_date(i));s=s.replace("%s",l),s=s.replace("%s",p.trim(o.date_string)),o.date_string=s}else o.date_string=a.replace("%s",p.trim(o.date_string)),o.date_string=o.date_string.replace("%s",l),o.date_string=o.date_string.replace("%s",b.format_date(i));return n.changed_date_string=o.date_string,o}},{key:"_generic_handle_every_x",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null===n&&(n=1,e.number&&(n=_.normalize_unit(e.number,t)));var i={date_string:t.date_string};if(t.task_date)if(a){for(var o=t.task_date;n>0;){o=b.date_add(o,1,r);var l=b.iso_day(o);6!==l&&7!==l&&(n-=1)}i.due_date=o}else i.due_date=b.date_add(t.task_date,n,r);else i.due_date=t.now_date;return i.unit=r,i=b.handle_time(i,t)}},{key:"_generic_date",value:function(e,t,r,n){var a=!0;if(e||(a=!1,e=n.now_date.getFullYear()),e<1900||e>2200||t>12||r>31)throw"Invalid year";var i=b.iso_date(e,t,r),o={date_string:n.date_string,due_date:i};return o=b.handle_time(o,n),a||b.is_overdue(n.now_date,o.due_date)&&(o.due_date=b.date_add(o.due_date,1,"year")),o}},{key:"_generic_handle_weekday",value:function(e,t,r){var n,a=_.normalize_day(e.weekday,t);if(r&&t.task_date){var i=b.date_add(t.task_date,1,"day");n=b.date_spec_weekday(i,a)}else n=b.date_spec_weekday(t.now_date,a);return b.handle_time({date_string:t.date_string,due_date:n},t)}},{key:"_generic_handle_spec_weekday_month",value:function(e,t){var r,n=_.normalize_unit(e.number,t),a=_.normalize_day(e.weekday,t),i=_.normalize_month(e.month,t);return r=t.task_date?this._generic_date(t.task_date.getFullYear()+1,i,1,t).due_date:this._generic_date(t.now_date.getFullYear(),i,1,t).due_date,r=b.date_spec_weekday_num(r,a,n),b.is_overdue(t.now_date,r)&&(r=b.date_first_day(r),r=b.date_add(r,1,"year"),r=b.date_spec_weekday_num(r,a,n)),b.handle_time({date_string:t.date_string,due_date:r},t)}},{key:"_generic_handle_spec_weekday",value:function(e,t,r){var n,a=_.normalize_unit(e.number,t),i=_.normalize_day(e.weekday,t);return r&&t.task_date?(n=b.date_add(t.task_date,1,"month"),n=b.date_spec_weekday_num(n,i,a)):n=b.date_spec_weekday_num(t.now_date,i,a),b.is_overdue(t.now_date,n)&&(n=b.date_add(n,1,"month"),n=b.date_spec_weekday_num(n,i,a)),b.handle_time({date_string:t.date_string,due_date:n},t)}},{key:"_generic_last_day",value:function(e,t,r){return this._generic_last(e,t,b.date_last_day,r)}},{key:"_generic_last_work_day",value:function(e,t,r){return this._generic_last(e,t,b.date_last_workday,r)}},{key:"_generic_last",value:function(e,t,r,n){var a,i,o=e.month;if(o=o?_.normalize_month(o,t):null,n&&t.task_date)a=o?b.date_add(t.task_date,1,"year"):b.date_add(t.task_date,1,"month");else{i=t.now_date;var l=o||b.iso_month(i);a=b.date_max(b.iso_date(i.getFullYear(),l,1))}return a=r(a),b.is_overdue(t.now_date,a)&&(a=o?b.date_add(a,1,"year"):b.date_add(a,1,"month")),this._generic_date(a.getFullYear(),b.iso_month(a),a.getDate(),t)}},{key:"_generic_spec_work_day",value:function(e,t,r){var n,a,i=_.normalize_unit(e.number,t)||1;if(r&&t.task_date)n=b.date_add(t.task_date,1,"month");else{a=t.now_date;var o=b.iso_month(a);n=b.date_max(b.iso_date(a.getFullYear(),o,1))}var l=b.date_spec_work_day;return n=l(n,i),b.is_overdue(t.now_date,n)&&(n=b.date_add(n,1,"month"),n=l(n,i)),this._generic_date(n.getFullYear(),b.iso_month(n),n.getDate(),t)}},{key:"_generic_spec_day",value:function(e,t){var r=_.normalize_unit(e.number,t),n=t.task_date||t.now_date,a=this._generic_date(n.getFullYear(),b.iso_month(n),r,t);return(t.task_date||b.is_overdue(t.now_date,a.due_date))&&(a.due_date=b.date_add(a.due_date,1,"month")),a}},{key:"_generic_handle_comma",value:function(e,t){var r=t.is_recurring,n=[],a=!0,i=!1,o=void 0;try{for(var l,s=e.patterns.split(",")[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u,c=l.value;if(u=r?_.normalize_misc("every",t)+" "+p.trim(c):p.trim(c),u=p.trim(u.replace(",",""))){var d=t.now_date;t.task_date&&(d=t.task_date);var f=this._parse(t,u,{now_date:d}),m=parseInt(b.day_diff(d,b.date_max(f.due_date)));t.task_date&&0===m||m<0||n.push([m,f])}}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}if(0===n.length)throw"Failed parsing '".concat(t.date_string,"''");for(var h=n[0],v=0,y=n;v<y.length;v++){var g=y[v];g[0]<h[0]&&(h=g)}var E=e.time;return E&&(t.time_str=E),b.handle_time({date_string:t.date_string,due_date:h[1].due_date},t)}},{key:"_parse",value:function(e,t,r){return r.lang||(r.lang=e.lang),r.us_dates||(r.us_dates=e.us_dates),r.am_pm||(r.am_pm=e.am_pm),w.parse(p.trim(t),r)}}]),e}(),g=new y,E=function(){function e(t,r,n,i,o,l){a(this,e),this.pattern=t,this.handler_name=r,this.handler_fn=n,this.json=i,this.json_raw=o,this.line=l}return o(e,[{key:"gen_json",value:function(e){var t=this.json_raw;for(var r in d.MATCH_KEYS){var n=d.MATCH_KEYS[r];if(-1!==t.indexOf(r)){var a=e[n]||"",i=p.re_sub('"'," ",a,"en");t=p.re_sub(r.replace("$","\\$"),i,t,"en")}}return JSON.parse(t)}}]),e}(),T=function(){function e(){a(this,e),this.parse_multiple=this.parse_multiple.bind(this),this.clear_free_text_cache=this.clear_free_text_cache.bind(this),this.parse_free_text=this.parse_free_text.bind(this),this.parse=this.parse.bind(this),this.find_first_match=this.find_first_match.bind(this),this.is_recurring=this.is_recurring.bind(this),this.handle_changed_string=this.handle_changed_string.bind(this),this.get_matchers=this.get_matchers.bind(this),this.normalize_lang=this.normalize_lang.bind(this),this.format_date=this.format_date.bind(this),this.cache={},this.cache_day=(new Date).getDate(),this.free_text_cache={}}return o(e,[{key:"parse_multiple",value:function(e,t,r){var n=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,u={};for(var c in r){var d=r[c];u[c]=d}u.lang=s;try{return this.parse(e,u)}catch(e){continue}}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}throw{name:"DateistUnknownDate",message:"Unknown date '".concat(e,"'")}}},{key:"split_text",value:function(e,t){for(var r=p.is_spaceless_lang(t),n=r?/\s|[^\x00-\x7F]/:/\s/,a=r?/(\s|[^\x00-\x7F])/g:/(\s)/g,i=e.split(n),o=[];;){var l=a.exec(e);if(!l)break;o.push(l[1])}return[i,o]}},{key:"clear_free_text_cache",value:function(){return this.free_text_cache={}}},{key:"parse_free_text",value:function(e,t){var r;this.cache_day!==(new Date).getDate()&&this.clear_free_text_cache(),t.lang=this.normalize_lang(t.lang);var n=p.is_spaceless_lang(t.lang),a=Array.from(this.split_text(e,t.lang)),i=l(a,2),o=i[0],s=i[1];r=n?30:17;for(var u=[],c=0,d=0;d<o.length;d++){for(var f="",m=o.slice(d),h=0;h<m.length;h++){var _=m[h];if(h+1>r)break;if(0===h)f=_;else{f=f+s[d+h-1]+_}if(f=p.trim(f),!t.ignored_matches||!t.ignored_matches[f])try{var v=p.clone(this.free_text_cache[f]);if(void 0===v){try{v=this.parse(f,t)}catch(e){v=-1}this.free_text_cache[f]=v}if(-1!==v&&!v.error){var b=e.indexOf(f,c),y=b+f.length;if(t.all_results)v.date_string_matched=f,v.pos=[b,y],u.push(v);else{var g=!1,E=!1;if(u.length>0){var T=u[u.length-1],w=Array.from(T.pos),R=l(w,2),P=R[0],D=R[1];g=b>=P&&y<=D,E=b<=P&&y>=D}g||(v.date_string_matched=f,v.pos=[b,y],0!==u.length&&E?u[u.length-1]=v:u.push(v))}}}catch(e){console.log(e)}}
c+=o[d].length+(s[d]?1:0)}if(0===u.length)throw{name:"DateistUnknownDate",message:"No date found"};return t.all_results?u:u[u.length-1]}},{key:"parse",value:function(e,t){var r,n={date_string:e,now_date:null,task_date:null,end_date:null,us_dates:1,am_pm:1,start_day:1,next_week:3,initial:!0,handle_overdue:!0,lang:"en"};if(t)for(var a in t){var i=t[a];n[a]=i}if(t=n,t.lang=this.normalize_lang(t.lang),t.orginal_string=t.date_string,t.initial?t.date_string=_.normalize(t.date_string,t):t.date_string=_.normalize_light(t.date_string,t),t.now_date||(t.now_date=new Date,t.now_date.setSeconds(0),t.now_date.setMilliseconds(0)),t.task_date||!1===t.initial){var o=_.normalize_misc("every",t);p.re_has_match("".concat(o,"[^s]*!"),t.date_string)&&(t.task_date=t.now_date)}t.initial=!1;var s=Array.from(this.get_matchers(t.lang)),u=l(s,2),c=u[0],d=u[1];this.attach_re_helpers(d,t);var f=Array.from(this.find_first_match(t,c)),m=l(f,2),h=m[0],v=m[1];if(!v)throw{name:"DateistUnknownDate",message:"Unknown date '".concat(t.date_string,"'")};try{var y=h.gen_json(v);r=h.handler_fn.apply(g,[y,t])}catch(e){throw{name:"DateistInvalidDate",message:"Failed parsing '".concat(t.date_string,"'. Error was '").concat(e,"'")}}if(r&&r.due_date&&"Invalid Date"===r.due_date.toString())throw{name:"DateistUnknownDate",message:"Unknown date '".concat(t.date_string,"'")};if(r.due_date){var E=!1;if(t.end_date&&t.end_date.getTime()<r.due_date.getTime()?E=!0:t.end_date&&(r.end_date=t.end_date),t.task_date&&r.due_date.getTime()===t.task_date.getTime()&&(E=!0),E)return t.end_date&&(r.due_date=null),r.end_reached=!0,this.handle_changed_string(r,t)}var T=this.is_recurring(t.date_string,t);if(r.is_recurring=T,t.handle_overdue){var w=r.due_date,R=!1;if(w&&(t.task_date&&b.is_same_date(w,t.now_date)?(R=!0,r.end_date&&b.is_same_date(r.end_date,t.now_date)?R=!1:-1!==h.handler_name.indexOf("hour")&&(R=!1)):b.is_overdue(t.now_date,r.due_date)&&(R=!0)),R){T||t.task_date?t.task_date=r.due_date:t.now_date=r.due_date;var P=t,D=P.last_calculation;return D&&r.due_date.getTime()<=D.getTime()?(r.due_date=D,this.handle_changed_string(r,t)):(t.last_calculation=r.due_date,this.parse(t.date_string,t))}}return this.handle_changed_string(r,t)}},{key:"find_first_match",value:function(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,s=p.re_match(l.pattern,e.date_string,e.lang);if(s)return[l,s]}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return[null,null]}},{key:"is_recurring",value:function(e,t){if(t.lang=this.normalize_lang(t.lang),!t.re_recurring){var r=Array.from(this.get_matchers(t.lang)),n=l(r,2),a=n[1];this.attach_re_helpers(a,t)}return!!e&&p.re_has_match(t.re_recurring,e,t.lang)}},{key:"attach_re_helpers",value:function(e,t){if(!t.re_recurring)return d.SUFFIX_RECURRING.includes(t.lang)?t.re_recurring=p.re_compile(e.$EV,t.lang,"i"):t.re_recurring=p.re_compile("^".concat(e.$EV),t.lang,"i"),t.re_time=p.re_compile("(?:^|\\s+)".concat(e.$TIME),t.lang,"i"),t.re_xtime=p.re_compile(e.$XTIME,t.lang,"i")}},{key:"handle_changed_string",value:function(e,t){var r=t.changed_date_string;r?e.date_string=r:e.is_recurring||(e.date_string=t.orginal_string);var n=e.due_date;if(n&&!e.is_recurring){var a=!1;n.getFullYear()!==t.now_date.getFullYear()&&(a=!0);var i=!1;59!==n.getSeconds()&&(i=!0),e.date_string=this.format_date(n,t,{with_year:a,with_month:!0,with_time:i,with_day:!0})}return e.date_lang=t.lang,e.all_day=!b.has_time(n),e}},{key:"get_matchers",value:function(e){var t="#core_".concat(e),r=this.cache[t];if(r)return r;var n={},a=[],i=p.load_def("DateistRules".concat(e.toUpperCase())),o=0,l=!0,s=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var f=c.value;o+=1;var m=f.TYPE;if(m){f.line_number=o+1;var h=p.generate_txt_pattern(f);if("helper"!==m){if(-1===m.indexOf("resolve_")){if("date"===m||"recurring"===m){var _=n.$TIME;h="^(?:(?:".concat(_,")\\s+)?(?:").concat(h,")(?:\\s+(?:").concat(_,"))?$")}else h="^(?:".concat(h,")$");var v=p.re_compile(p.resolve_helpers(h,n),e,"i"),b=JSON.parse(f.HANDLER),y=new E(v,b.type,g[b.type],b,f.HANDLER,f);a.push(y)}}else n[f.HANDLER]=p.resolve_helpers(h,n)}}}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}return this.cache[t]=[a,n],this.cache[t]}},{key:"normalize_lang",value:function(e){var t;return this.cache[e]?this.cache[e]:(e||(e="en"),e=e.substring(0,2),e=e.toLowerCase(),t=d.VALID_LANGS[e]?e:"en",p.load_def("DateistRules".concat(t.toUpperCase()))||(t="en"),this.cache[e]=t,t)}},{key:"leading_zero",value:function(e){return e<10&&(e="0".concat(e)),e}},{key:"format_date",value:function(e,t,r){var n=this,a=!0;void 0!==r.with_year&&(a=r.with_year);var i=!0;void 0!==r.with_month&&(i=r.with_month);var o=!0;void 0!==r.with_day&&(o=r.with_day);var l=!0;void 0!==r.with_time&&(l=r.with_time);var s=this.normalize_lang(t.lang),u=t.us_dates,c=t.am_pm;void 0===u&&(u=1),void 0===c&&(c=1);var d=[],f=!1;if("zh"===s)a&&d.push("yyyy\u5e74"),i&&d.push("M\u6708"),o&&d.push("d\u65e5"),l&&(c?e.getHours()>=12?d.push("\u4e0b\u5348h:mm"):d.push("\u4e0a\u5348h:mm"):d.push("HH:mm")),d=d.join(""),f=!0;else if("ja"===s)a&&d.push("yyyy\u5e74"),i&&d.push("M\u6708"),o&&d.push("d\u65e5"),l&&(c?e.getHours()>=12?d.push("\u5348\u5f8ch:mm "):d.push("\u5348\u524dh:mm "):d.push("HH:mm ")),d=d.join(""),f=!0;else if("ko"===s)l&&(c?e.getHours()>=12?d.push("\uc624\ud6c4h\uc2dcmm\ubd84 "):d.push("\uc624\uc804h\uc2dcmm\ubd84 "):d.push("HH\uc2dcmm\ubd84 ")),a&&d.push("yyyy\ub144"),i&&d.push("M\uc6d4"),o&&d.push("d\uc77c"),d=d.join(""),f=!0;else{var p="MMM";"it"===s&&(p="MMMM"),1===u?(i&&d.push(p),o&&d.push("d")):(o&&d.push("d"),i&&d.push(p)),a&&d.push(" yyyy"),l&&(c?e.getHours()>=12?d.push(" h:mm !X2"):d.push(" h:mm !X1"):d.push(" HH:mm")),d=d.join("")}var m=function(t){t=t.replace("HH",n.leading_zero(e.getHours())),t=t.replace("mm",n.leading_zero(e.getMinutes()));var r=e.getHours()%12;return 0===r&&(r=12),t=t.replace("h",r)};d=m(d),d=d.replace("yyyy",e.getFullYear());var h=b.iso_month(e);if(d=d.replace("d",e.getDate()),f)d=d.replace("M",h);else{var v=_.convert_month_number_name(h,t);v?1===u?(d=d.replace("MMMM",v+" "),d=d.replace("MMM",v+" ")):(d=d.replace("MMMM"," ".concat(v)),d=d.replace("MMM"," ".concat(v))):(d=r.only_with_time?"":b.format_date(e),l&&(c?e.getHours()>=12?d+=" h:mm !X2":d+=" h:mm !X1":d+=" HH:mm",d=m(d)))}return d=d.replace("!X1","AM"),d=d.replace("!X2","PM")}}]),e}(),w=new T;r.Dateist=w,r.DateistConst=d,r.DateistDateHelpers=b,r.DateistNormalization=_,r.DateistUtils=p},{}],456:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===a||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function l(){_&&m&&(_=!1,m.length?h=m.concat(h):v=-1,h.length&&s())}function s(){if(!_){var e=i(l);_=!0;for(var t=h.length;t;){for(m=h,h=[];++v<t;)m&&m[v].run();v=-1,t=h.length}m=null,_=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var d,f,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(e){d=n}try{f="function"==typeof clearTimeout?clearTimeout:a}catch(e){f=a}}();var m,h=[],_=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new u(e,t)),1!==h.length||_||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],457:[function(e,t,r){var n=function(e){"use strict";function t(e,t,r,a){var i=t&&t.prototype instanceof n?t:n,o=Object.create(i.prototype),l=new f(a||[]);return o._invoke=s(e,r,l),o}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function n(){}function a(){}function i(){}function o(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,a,i,o){var l=r(e[n],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&v.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(u).then(function(e){s.value=e,i(s)},function(e){return t("throw",e,i,o)})}o(l.arg)}function n(e,r){function n(){return new Promise(function(n,a){t(e,r,n,a)})}return a=a?a.then(n,n):n()}var a;this._invoke=n}function s(e,t,n){var a=T;return function(i,o){if(a===R)throw new Error("Generator is already running");if(a===P){if("throw"===i)throw o;return m()}for(n.method=i,n.arg=o;;){var l=n.delegate;if(l){var s=u(l,n);if(s){if(s===D)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===T)throw a=P,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=R;var c=r(e,t,n);if("normal"===c.type){if(a=n.done?P:w,c.arg===D)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=P,n.method="throw",n.arg=c.arg)}}}function u(e,t){var n=e.iterator[t.method];if(n===h){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=h,u(e,t),"throw"===t.method))return D;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var a=r(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,D;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=h),t.delegate=null,D):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,D)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function p(e){if(e){var t=e[y];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(v.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=h,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:h,done:!0}}var h,_=Object.prototype,v=_.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},y=b.iterator||"@@iterator",g=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag";e.wrap=t;var T="suspendedStart",w="suspendedYield",R="executing",P="completed",D={},O={};O[y]=function(){return this};var C=Object.getPrototypeOf,I=C&&C(C(p([])));I&&I!==_&&v.call(I,y)&&(O=I);var A=i.prototype=n.prototype=Object.create(O);return a.prototype=A.constructor=i,i.constructor=a,i[E]=a.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},o(l.prototype),l.prototype[g]=function(){return this},e.AsyncIterator=l,e.async=function(r,n,a,i){var o=new l(t(r,n,a,i));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},o(A),A[E]="Generator",A[y]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=p,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=h),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],i=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var o=v.call(a,"catchLoc"),l=v.call(a,"finallyLoc");if(o&&l){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,D):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),D},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),D}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;d(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:p(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=h),D}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},{}],458:[function(e,t,r){(function(e,n){!function(e,n){"object"==typeof r&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof r?r.Rox=n():e.Rox=n()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=96)}([function(e,t,r){var n=r(3),a=r(35),i=r(10),o=r(18),l=r(16),s=function(e,t,r){var u,c,d,f,p=e&s.F,m=e&s.G,h=e&s.S,_=e&s.P,v=e&s.B,b=m?n:h?n[t]||(n[t]={}):(n[t]||{}).prototype,y=m?a:a[t]||(a[t]={}),g=y.prototype||(y.prototype={});for(u in m&&(r=t),r)d=((c=!p&&b&&void 0!==b[u])?b:r)[u],f=v&&c?l(d,n):_&&"function"==typeof d?l(Function.call,d):d,b&&o(b,u,d,e&s.U),y[u]!=d&&i(y,u,f),_&&g[u]!=d&&(g[u]=d)};n.core=a,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(1);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(72)("wks"),a=r(23),i=r(3).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},function(e,t,r){var n=r(19),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(2),a=r(68),i=r(36),o=Object.defineProperty;t.f=r(8)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(7),a=r(22);e.exports=r(8)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(0),a=r(35),i=r(4);e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",o)}},function(e,t,r){var n=r(46),a=r(20);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(20);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";if(r(8)){var n=r(45),a=r(3),i=r(4),o=r(0),l=r(44),s=r(69),u=r(16),c=r(31),d=r(22),f=r(10),p=r(30),m=r(19),h=r(6),_=r(70),v=r(24),b=r(36),y=r(9),g=r(74),E=r(1),T=r(13),w=r(52),R=r(39),P=r(26),D=r(37).f,O=r(53),C=r(23),I=r(5),A=r(34),S=r(47),k=r(73),M=r(54),j=r(25),N=r(55),x=r(51),L=r(50),q=r(78),U=r(7),$=r(17),F=U.f,z=$.f,B=a.RangeError,H=a.TypeError,V=a.Uint8Array,W=Array.prototype,G=s.ArrayBuffer,Y=s.DataView,K=A(0),X=A(2),J=A(3),Q=A(4),Z=A(5),ee=A(6),te=S(!0),re=S(!1),ne=M.values,ae=M.keys,ie=M.entries,oe=W.lastIndexOf,le=W.reduce,se=W.reduceRight,ue=W.join,ce=W.sort,de=W.slice,fe=W.toString,pe=W.toLocaleString,me=I("iterator"),he=I("toStringTag"),_e=C("typed_constructor"),ve=C("def_constructor"),be=l.CONSTR,ye=l.TYPED,ge=l.VIEW,Ee=A(1,function(e,t){return De(k(e,e[ve]),t)}),Te=i(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),we=!!V&&!!V.prototype.set&&i(function(){new V(1).set({})}),Re=function(e,t){var r=m(e);if(r<0||r%t)throw B("Wrong offset!");return r},Pe=function(e){if(E(e)&&ye in e)return e;throw H(e+" is not a typed array!")},De=function(e,t){if(!(E(e)&&_e in e))throw H("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Ce(k(e,e[ve]),t)},Ce=function(e,t){for(var r=0,n=t.length,a=De(e,n);n>r;)a[r]=t[r++];return a},Ie=function(e,t,r){F(e,t,{get:function(){return this._d[r]}})},Ae=function(e){var t,r,n,a,i,o,l=T(e),s=arguments.length,c=s>1?arguments[1]:void 0,d=void 0!==c,f=O(l);if(void 0!=f&&!w(f)){for(o=f.call(l),n=[],t=0;!(i=o.next()).done;t++)n.push(i.value);l=n}for(d&&s>2&&(c=u(c,arguments[2],2)),t=0,r=h(l.length),a=De(this,r);r>t;t++)a[t]=d?c(l[t],t):l[t];return a},Se=function(){for(var e=0,t=arguments.length,r=De(this,t);t>e;)r[e]=arguments[e++];return r},ke=!!V&&i(function(){pe.call(new V(1))}),Me=function(){return pe.apply(ke?de.call(Pe(this)):Pe(this),arguments)},je={copyWithin:function(e,t){return q.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Pe(this),arguments)},filter:function(e){return Oe(this,X(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Pe(this),arguments)},lastIndexOf:function(e){return oe.apply(Pe(this),arguments)},map:function(e){return Ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return le.apply(Pe(this),arguments)},reduceRight:function(e){return se.apply(Pe(this),arguments)},reverse:function(){for(var e,t=Pe(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return J(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Pe(this),e)},subarray:function(e,t){var r=Pe(this),n=r.length,a=v(e,n);return new(k(r,r[ve]))(r.buffer,r.byteOffset+a*r.BYTES_PER_ELEMENT,h((void 0===t?n:v(t,n))-a))}},Ne=function(e,t){return Oe(this,de.call(Pe(this),e,t))},xe=function(e){Pe(this);var t=Re(arguments[1],1),r=this.length,n=T(e),a=h(n.length),i=0;if(a+t>r)throw B("Wrong length!");for(;i<a;)this[t+i]=n[i++]},Le={entries:function(){return ie.call(Pe(this))},keys:function(){return ae.call(Pe(this))},values:function(){return ne.call(Pe(this))}},qe=function(e,t){return E(e)&&e[ye]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return qe(e,t=b(t,!0))?d(2,e[t]):z(e,t)},$e=function(e,t,r){return!(qe(e,t=b(t,!0))&&E(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?F(e,t,r):(e[t]=r.value,e)};be||($.f=Ue,U.f=$e),o(o.S+o.F*!be,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:$e}),i(function(){fe.call({})})&&(fe=pe=function(){return ue.call(this)});var Fe=p({},je);p(Fe,Le),f(Fe,me,Le.values),p(Fe,{slice:Ne,set:xe,constructor:function(){},toString:fe,toLocaleString:Me}),Ie(Fe,"buffer","b"),Ie(Fe,"byteOffset","o"),Ie(Fe,"byteLength","l"),Ie(Fe,"length","e"),F(Fe,he,{get:function(){return this[ye]}}),e.exports=function(e,t,r,s){var u=e+((s=!!s)?"Clamped":"")+"Array",d="get"+e,p="set"+e,m=a[u],v=m||{},b=m&&P(m),y=!m||!l.ABV,T={},w=m&&m.prototype,O=function(e,r){F(e,r,{get:function(){return function(e,r){var n=e._d;return n.v[d](r*t+n.o,Te)}(this,r)},set:function(e){return function(e,r,n){var a=e._d;s&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),a.v[p](r*t+a.o,n,Te)}(this,r,e)},enumerable:!0})};y?(m=r(function(e,r,n,a){c(e,m,u,"_d");var i,o,l,s,d=0,p=0;if(E(r)){if(!(r instanceof G||"ArrayBuffer"==(s=g(r))||"SharedArrayBuffer"==s))return ye in r?Ce(m,r):Ae.call(m,r);i=r,p=Re(n,t);var v=r.byteLength;if(void 0===a){if(v%t)throw B("Wrong length!");if((o=v-p)<0)throw B("Wrong length!")}else if((o=h(a)*t)+p>v)throw B("Wrong length!");l=o/t}else l=_(r),i=new G(o=l*t);for(f(e,"_d",{b:i,o:p,l:o,e:l,v:new Y(i)});d<l;)O(e,d++)}),w=m.prototype=R(Fe),f(w,"constructor",m)):i(function(){m(1)})&&i(function(){new m(-1)})&&N(function(e){new m,new m(null),new m(1.5),new m(e)},!0)||(m=r(function(e,r,n,a){var i;return c(e,m,u),E(r)?r instanceof G||"ArrayBuffer"==(i=g(r))||"SharedArrayBuffer"==i?void 0!==a?new v(r,Re(n,t),a):void 0!==n?new v(r,Re(n,t)):new v(r):ye in r?Ce(m,r):Ae.call(m,r):new v(_(r))}),K(b!==Function.prototype?D(v).concat(D(b)):D(v),function(e){e in m||f(m,e,v[e])}),m.prototype=w,n||(w.constructor=m));var C=w[me],I=!!C&&("values"==C.name||void 0==C.name),A=Le.values;f(m,_e,!0),f(w,ye,u),f(w,ge,!0),f(w,ve,m),(s?new m(1)[he]==u:he in w)||F(w,he,{get:function(){return u}}),T[u]=m,o(o.G+o.W+o.F*(m!=v),T),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*i(function(){v.of.call(m,1)}),u,{from:Ae,of:Se}),"BYTES_PER_ELEMENT"in w||f(w,"BYTES_PER_ELEMENT",t),o(o.P,u,je),x(u),o(o.P+o.F*we,u,{set:xe}),o(o.P+o.F*!I,u,Le),n||w.toString==fe||(w.toString=fe),o(o.P+o.F*i(function(){new m(1).slice()}),u,{slice:Ne}),o(o.P+o.F*(i(function(){return[1,2].toLocaleString()!=new m([1,2]).toLocaleString()})||!i(function(){w.toLocaleString.call([1,2])})),u,{toLocaleString:Me}),j[u]=I?C:A,n||I||f(w,me,A)}}else e.exports=function(){}},function(e,t,r){"use strict";(function(e,n,a){var i,o,l,s,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="undefined"==typeof Promise?r(204).Promise:Promise;"undefined"!=typeof self&&self,s=function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=65)}([function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":u(window))&&(r=window)}e.exports=r},function(e,t,r){function n(e){return"[object Array]"===c.call(e)}function a(e){return null!==e&&"object"==(void 0===e?"undefined":u(e))}function i(e){return"[object Function]"===c.call(e)}function o(e,t){if(null!==e&&void 0!==e)if("object"!=(void 0===e?"undefined":u(e))&&(e=[e]),n(e))for(var r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var l=r(32),s=r(76),c=Object.prototype.toString;e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===c.call(e)},isBuffer:s,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===c.call(e)},isFile:function(e){return"[object File]"===c.call(e)},isBlob:function(e){return"[object Blob]"===c.call(e)},isFunction:i,isStream:function(e){return a(e)&&i(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:o,merge:function e(){function t(t,n){"object"==u(r[n])&&"object"==(void 0===t?"undefined":u(t))?r[n]=e(r[n],t):r[n]=t}for(var r={},n=0,a=arguments.length;n<a;n++)o(arguments[n],t);return r},deepMerge:function e(){function t(t,n){"object"==u(r[n])&&"object"==(void 0===t?"undefined":u(t))?r[n]=e(r[n],t):r[n]="object"==(void 0===t?"undefined":u(t))?e({},t):t}for(var r={},n=0,a=arguments.length;n<a;n++)o(arguments[n],t);return r},extend:function(e,t,r){return o(t,function(t,n){e[n]=r&&"function"==typeof t?l(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){m&&f&&(m=!1,f.length?p=f.concat(p):h=-1,p.length&&o())}function o(){if(!m){var e=a(i);m=!0;for(var t=p.length;t;){for(f=p,p=[];++h<t;)f&&f[h].run();h=-1,t=p.length}f=null,m=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function s(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var f,p=[],m=!1,h=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new l(e,t)),1!==p.length||m||a(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=((n=r(67))&&n.__esModule?n:{default:n}).default.getLogger("ROXLogger");a.setVerboseMode=function(e){"verbose"===e?(a.setLevel("debug"),a.debug=a.info,a.debug("Active verbose mode")):a.setLevel("error")},a.setLogger=function(e){Object.assign(a,e)},t.default=a},function(e,t,r){(function(e){function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,r){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return s(this,e)}return o(this,e,t,r)}function o(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=u(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!i.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=a(e,n)).write(t,r);return o!==n&&(e=e.slice(0,o)),e}(e,t,r):function(e,t){if(i.isBuffer(t)){var r=0|c(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):u(e,t);if("Buffer"===t.type&&U(t.data))return u(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t){if(l(t),e=a(e,t<0?0:0|c(t)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function u(e,t){var r=t.length<0?0:0|c(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function c(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function d(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function f(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function p(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1
;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,a);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,a){function i(e,t){return 1===l?e[t]:e.readUInt16BE(t*l)}var o,l=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;l=2,s/=2,u/=2,r/=2}if(a){var c=-1;for(o=r;o<s;o++)if(i(e,o)===i(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*l}else-1!==c&&(o-=o-c),c=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(i(e,o+f)!==i(t,f)){d=!1;break}if(d)return o}return-1}function h(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var l=parseInt(t.substr(2*o,2),16);if(isNaN(l))return o;e[r+o]=l}return o}function _(e,t,r,n){return x(j(t,e.length-r),e,r,n)}function v(e,t,r,n){return x(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function b(e,t,r,n){return v(e,t,r,n)}function y(e,t,r,n){return x(N(t),e,r,n)}function g(e,t,r,n){return x(function(e,t){for(var r,n,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?L.fromByteArray(e):L.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,o,l,s,u=e[a],c=null,d=u>239?4:u>223?3:u>191?2:1;if(a+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[a+1]))&&(s=(31&u)<<6|63&i)>127&&(c=s);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(s=(15&u)<<12|(63&i)<<6|63&o)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:i=e[a+1],o=e[a+2],l=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&l)&&(s=(15&u)<<18|(63&i)<<12|(63&o)<<6|63&l)>65535&&s<1114112&&(c=s)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),a+=d}return function(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=$));return r}(n)}function w(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function P(e,t,r){var n,a=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>a)&&(r=a);for(var i="",o=t;o<r;++o)i+=(n=e[o])<16?"0"+n.toString(16):n.toString(16);return i}function D(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,a,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function A(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function S(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function k(e,t,r,n,a){return a||S(e,0,r,4),q.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,a){return a||S(e,0,r,8),q.write(e,t,r,n,52,8),r+8}function j(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function N(e){return L.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function x(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}var L=r(71),q=r(72),U=r(28);t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,r){return o(null,e,t,r)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(null,t):void 0!==r?"string"==typeof n?a(null,t).fill(r,n):a(null,t).fill(r):a(null,t)}(0,e,t,r)},i.allocUnsafe=function(e){return s(null,e)},i.allocUnsafeSlow=function(e){return s(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,o=Math.min(r,n);a<o;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!U(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=i.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},i.byteLength=d,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return w(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,r,n,a){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,a>>>=0,this===e)return 0;for(var o=a-n,l=r-t,s=Math.min(o,l),u=this.slice(n,a),c=e.slice(t,r),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],l=c[d];break}return o<l?-1:l<o?1:0},i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},i.prototype.indexOf=function(e,t,r){return p(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return p(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return h(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return v(this,e,t,r);case"latin1":case"binary":return b(this,e,t,r);case"base64":return y(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;i.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=i.prototype;else{var a=t-e;r=new i(a,void 0);for(var o=0;o<a;++o)r[o]=this[o+e]}return r},i.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},i.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},i.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),q.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),q.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),q.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),q.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},i.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},i.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);C(this,e,t,r,a-1,-a)}var i=0,o=1,l=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===l&&0!==this[t+i-1]&&(l=1),this[t+i]=(e/o>>0)-l&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);C(this,e,t,r,a-1,-a)}var i=r-1,o=1,l=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===l&&0!==this[t+i+1]&&(l=1),this[t+i]=(e/o>>0)-l&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,o=n-r;if(this===e&&r<t&&t<n)for(a=o-1;a>=0;--a)e[a+t]=this[a+r];else if(o<1e3||!i.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var l=i.isBuffer(e)?e:j(new i(e,n).toString()),s=l.length;for(o=0;o<r-t;++o)this[o+t]=l[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g}).call(t,r(0))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.map={}}return n(e,[{key:"setExperiments",value:function(e){this.map={},(e=e||[]).forEach(function(e){this.map[e.identifier]=e},this)}},{key:"experimentWithName",value:function(e){return this.map[e]}},{key:"experimentForFlagName",value:function(e){return this.experiments.find(function(t){return t.flags&&t.flags.some(function(t){return t.name===e})})}},{key:"experimentForFlag",value:function(e){return this.experimentForFlagName(e.name)}},{key:"experiments",get:function(){var e=this;return Object.keys(this.map).map(function(t){return e.map[t]})}}]),e}());t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="x-api.rollout.io",a={API_HOST:n,CD_API_ENDPOINT:"https://"+n+"/device/get_configuration",CD_S3_ENDPOINT:"https://conf.rollout.io/",SS_API_ENDPOINT:"https://"+n+"/device/update_state_store/",SS_S3_ENDPOINT:"https://statestore.rollout.io/",CLIENT_DATA_CACHE_KEY:"client_data",NOTIFICATIONS_ENDPOINT:"https://push.rollout.io/sse",ANALYTICS_ENDPOINT:"https://analytic.rollout.io"},i=Object.assign({},a);t.default={get:function(e){return i[e]},set:function(e,t){i[e]=t},setActive:function(e){i=Object.assign({},e)}}},function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);u.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||o(i,this)}function i(e){e.end()}var o=r(16),l=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=n;var s=r(10);s.inherits=r(5);var u=r(55),c=r(58);s.inherits(n,u);for(var d=l(c.prototype),f=0;f<d.length;f++){var p=d[f];n.prototype[p]||(n.prototype[p]=c.prototype[p])}Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),n.prototype._destroy=function(e,t){this.push(null),this.end(),o(t,e)}},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(20);Object.defineProperty(t,"RoxxParser",{enumerable:!0,get:function(){return n(a).default}});var i=r(91);Object.defineProperty(t,"ConfigurationParser",{enumerable:!0,get:function(){return n(i).default}});var o=r(64);Object.defineProperty(t,"RemoteConfigurationsParser",{enumerable:!0,get:function(){return n(o).default}})},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==(void 0===e?"undefined":u(e))},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==(void 0===e?"undefined":u(e))&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==(void 0===e?"undefined":u(e))||void 0===e},t.isBuffer=e.isBuffer}).call(t,r(4).Buffer)},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(66);Object.defineProperty(t,"FlagsSetter",{enumerable:!0,get:function(){return n(a).default}});var i=r(68);Object.defineProperty(t,"ConfigurationSetter",{enumerable:!0,get:function(){return n(i).default}})},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(13);Object.defineProperty(t,"CustomProperties",{enumerable:!0,get:function(){return n(a).default}});var i=r(6);Object.defineProperty(t,"Experiments",{enumerable:!0,get:function(){return n(i).default}});var o=r(18);Object.defineProperty(t,"Configuration",{enumerable:!0,get:function(){return n(o).default}});var l=r(14);Object.defineProperty(t,"Flags",{enumerable:!0,get:function(){return n(l).default}});var s=r(19);Object.defineProperty(t,"TargetGroups",{enumerable:!0,get:function(){return n(s).default}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.store=new Map}return n(e,[{key:"has",value:function(e){return this.store.has(e.name)}},{key:"get",value:function(e){return this.store.get(e)}},{key:"set",value:function(e){this.store.set(e.name,e)}},{key:"setIfNotExists",value:function(e){this.has(e)||this.set(e)}},{key:"clear",value:function(){this.store.clear()}},{key:"items",get:function(){return Array.from(this.store.values())}}]),e}();t.default=new a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RoxFlagRepository=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(11),o=(n=r(6))&&n.__esModule?n:{default:n},l=t.RoxFlagRepository=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.map={}}return a(e,[{key:"addFlag",value:function(e,t){t.name=e,this.map[e]=t,new i.FlagsSetter(this,o.default).setAddedFlag(t)}},{key:"flagWithName",value:function(e){return this.map[e]}},{key:"flags",get:function(){var e=this;return Object.keys(this.map).map(function(t){return e.map[t]})}},{key:"items",get:function(){return this.flags}}]),e}();t.default=new l},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(104);Object.defineProperty(t,"ConfigurationFetcher",{enumerable:!0,get:function(){return n(a).default}});var i=r(50);Object.defineProperty(t,"RuntimeRegistry",{enumerable:!0,get:function(){return n(i).default}});var o=r(108);Object.defineProperty(t,"ClassRegister",{enumerable:!0,get:function(){return n(o).default}});var l=r(109);Object.defineProperty(t,"DeviceProperties",{enumerable:!0,get:function(){return n(l).default}});var s=r(3);Object.defineProperty(t,"RoxLogger",{enumerable:!0,get:function(){return n(s).default}});var u=r(21);Object.defineProperty(t,"BugsnagReporter",{enumerable:!0,get:function(){return n(u).default}});var c=r(110);Object.defineProperty(t,"createRoxClient",{enumerable:!0,get:function(){return n(c).default}});var d=r(51);Object.defineProperty(t,"DynamicApi",{enumerable:!0,get:function(){return n(d).default}});var f=r(12);Object.defineProperty(t,"Experiments",{enumerable:!0,get:function(){return f.Experiments}}),Object.defineProperty(t,"Flags",{enumerable:!0,get:function(){return f.Flags}});var p=r(9);Object.defineProperty(t,"ConfigurationParser",{enumerable:!0,get:function(){return p.ConfigurationParser}});var m=r(11);Object.defineProperty(t,"FlagsSetter",{enumerable:!0,get:function(){return m.FlagsSetter}})},function(e,t,r){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=function(e,r,n,a){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,l=arguments.length;switch(l){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,a)});default:for(i=new Array(l-1),o=0;o<i.length;)i[o++]=arguments[o];return t.nextTick(function(){e.apply(null,i)})}}:e.exports=t.nextTick}).call(t,r(2))},function(e,t,r){function n(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}var i=r(4),o=i.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=i:(n(i,t),t.Buffer=a),n(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.map={}}return n(e,[{key:"addRemoteConfiguration",value:function(e,t){t._name||(t._name=e),this.map[e]=t}},{key:"remoteConfigurationWithName",value:function(e){return this.map[e]}},{key:"remoteConfigurations",get:function(){var e=this;return Object.keys(this.map).map(function(t){return e.map[t]})}},{key:"items",get:function(){return this.remoteConfigurations}}]),e}());t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.map={}}return n(e,[{key:"addTargetGroup",value:function(e){this.map[e.identifier]=e}},{key:"setTargetGroups",value:function(e){this.map={},(e=e||[]).forEach(function(e){this.map[e.identifier]=e},this)}},{key:"targetGroupWithName",value:function(e){return this.map[e]}},{key:"targetGroups",get:function(){var e=this;return Object.keys(this.map).map(function(t){return e.map[t]})}}]),e}());t.default=a},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(69),l=n(r(21)),s=n(r(3)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(27)),c=function(){function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._tokenizer=new o.RoxxTokenizer,this._cache=t||{}}return i(e,[{key:"_argsArrayForOperator",value:function(e,t){for(var r=[],n=e.length,a=0;a<n;a++){var i=t.pop();r.push(i)}return r}},{key:"_modifyArgsHook",value:function(e){var t=e.operator,r=e.args,n=e.context,i=e.callContext,o=r;return n&&u.operatorsWithContext.includes(t)&&(o=[].concat(a(r),[n])),i?[].concat(a(o),[i]):o}},{key:"compileExpression",value:function(e){var t=this._cache[e];return t||(t=this._tokenizer.tokenize(e).reverse(),this._cache[e]=t),t}},{key:"evaluateExpression",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],a=[],i=this.compileExpression(e),c=void 0,d=i.length;try{for(var f=0;f<d;f++){var p=i[f];if(p.type==o.RoxxTokenTypeRand)a.push(p.value);else{if(p.type!=o.RoxxTokenTypeRator){a.push(void 0);break}var m=u[p.value],h=this._argsArrayForOperator(m,a);h=this._modifyArgsHook({operator:m,args:h,context:r,callContext:t});var _=m.apply(this,h);a.push(_);var v=p.value+"("+JSON.stringify(h)+") => "+_;n&&n.push(v),s.default.debug("Roxx: "+v)}}c=a.pop()}catch(t){var b="Oh uh! An error occured during Roxx evaluation. "+e;s.default.error(b,t),l.default.error(b,t),c=!1}finally{return c}}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(22)),o=(n=r(3))&&n.__esModule?n:{default:n},l=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return a(e,[{key:"init",value:function(e,t,r){var n=t.getProperties(),a=n.distinct_id,i=n.app_release,o=n.platform,l=n.api_version,s=n.lib_version,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(n,["distinct_id","app_release","platform","api_version","lib_version"]);this.device=u,this.header={apiKey:"abbf3bd9c6e80eb1e8c0566c35b08748",notifier:{name:"Rollout JavaScript SDK",version:s,url:"undefined"!=typeof window&&window.location&&window.location.href||void 0}},this.networkOptions=r,this.user={distinct_id:a,app_release:i,app_key:e,platform:o},this.app={api_version:l,lib_version:s}}},{key:"error",value:function(e,t){return this._notify("error",e,t)}},{key:"_notify",value:function(e,t,r){var n={payloadVersion:4,exceptions:[],app:this.app,user:this.user,device:this.device,metaData:{data:{message:t,exception:r.toString()}},severity:e};return r instanceof Error?(n.exceptions.push({errorClass:r.name,message:t+"\n"+r.message+"\n"+r.stack,stacktrace:[]}),
n.groupingHash=r.fileName):n.exceptions.push({errorClass:"Error",message:t,stacktrace:[]}),this._send([n])}},{key:"_send",value:function(e){var t=Object.assign({events:e},this.header);o.default.debug("Sending bugsnag error report.");try{i.post("https://notify.bugsnag.com",t,this.networkOptions).catch(function(e){o.default.debug("Failed to send error report",e)}),o.default.debug("Successfully sent error report.")}catch(e){o.default.debug("Failed to send error report.",e)}}}]),e}();t.default=new l},function(e,t,r){e.exports=r(75)},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(40);Object.defineProperty(t,"CustomProperty",{enumerable:!0,get:function(){return n(a).default}});var i=r(93);Object.defineProperty(t,"DeviceProperty",{enumerable:!0,get:function(){return n(i).default}});var o=r(94);Object.defineProperty(t,"DeploymentConfiguration",{enumerable:!0,get:function(){return n(o).default}});var l=r(95);Object.defineProperty(t,"Experiment",{enumerable:!0,get:function(){return n(l).default}});var s=r(96);Object.defineProperty(t,"Configuration",{enumerable:!0,get:function(){return n(s).default}});var u=r(44);Object.defineProperty(t,"TargetGroup",{enumerable:!0,get:function(){return n(u).default}});var c=r(103);Object.defineProperty(t,"Variant",{enumerable:!0,get:function(){return n(c).default}}),Object.defineProperty(t,"CallContextTypes",{enumerable:!0,get:function(){return c.callContextTypes}})},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=o.default.experimentForFlagName(e);return t&&t.deploymentConfiguration?(new i.default).evaluateExpression(t.deploymentConfiguration.condition):""}Object.defineProperty(t,"__esModule",{value:!0}),t.isEnabled=function(e){var t=o.default.experimentForFlagName(e);if(!t||!t.deploymentConfiguration)return!1;var r=(new i.default).evaluateExpression(t.deploymentConfiguration.condition);return"boolean"==typeof r?r:"true"===r},t.value=a,t.getNumber=function(e){var t=a(e);return parseInt(t)||0};var i=n(r(20)),o=n(r(6))},function(e,t,r){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,r){if(e&&o.isObject(e)&&e instanceof n)return e;var a=new n;return a.parse(e,t,r),a}var i=r(118),o=r(120);t.parse=a,t.resolve=function(e,t){return a(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?a(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=a(e)),e instanceof n?e.format():n.prototype.format.call(e)},t.Url=n;var l=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(d),p=["%","/","?",";","#"].concat(f),m=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(121);n.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===e?"undefined":u(e)));var n=e.indexOf("?"),a=-1!==n&&n<e.indexOf("#")?"?":"#",s=e.split(a);s[0]=s[0].replace(/\\/g,"/");var d=e=s.join(a);if(d=d.trim(),!r&&1===e.split("#").length){var E=c.exec(d);if(E)return this.path=d,this.href=d,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var T=l.exec(d);if(T){var w=(T=T[0]).toLowerCase();this.protocol=w,d=d.substr(T.length)}if(r||T||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var R="//"===d.substr(0,2);!R||T&&b[T]||(d=d.substr(2),this.slashes=!0)}if(!b[T]&&(R||T&&!y[T])){for(var P,D,O=-1,C=0;C<m.length;C++)-1!==(I=d.indexOf(m[C]))&&(-1===O||I<O)&&(O=I);for(-1!==(D=-1===O?d.lastIndexOf("@"):d.lastIndexOf("@",O))&&(P=d.slice(0,D),d=d.slice(D+1),this.auth=decodeURIComponent(P)),O=-1,C=0;C<p.length;C++){var I;-1!==(I=d.indexOf(p[C]))&&(-1===O||I<O)&&(O=I)}-1===O&&(O=d.length),this.host=d.slice(0,O),d=d.slice(O),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var S=this.hostname.split(/\./),k=(C=0,S.length);C<k;C++){var M=S[C];if(M&&!M.match(h)){for(var j="",N=0,x=M.length;N<x;N++)M.charCodeAt(N)>127?j+="x":j+=M[N];if(!j.match(h)){var L=S.slice(0,C),q=S.slice(C+1),U=M.match(_);U&&(L.push(U[1]),q.unshift(U[2])),q.length&&(d="/"+q.join(".")+d),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=i.toASCII(this.hostname));var $=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+$,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!v[w])for(C=0,k=f.length;C<k;C++){var z=f[C];if(-1!==d.indexOf(z)){var B=encodeURIComponent(z);B===z&&(B=escape(z)),d=d.split(z).join(B)}}var H=d.indexOf("#");-1!==H&&(this.hash=d.substr(H),d=d.slice(0,H));var V=d.indexOf("?");if(-1!==V?(this.search=d.substr(V),this.query=d.substr(V+1),t&&(this.query=g.parse(this.query)),d=d.slice(0,V)):t&&(this.search="",this.query={}),d&&(this.pathname=d),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$=this.pathname||"";var W=this.search||"";this.path=$+W}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,i="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=g.stringify(this.query));var l=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),l&&"?"!==l.charAt(0)&&(l="?"+l),t+a+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(l=l.replace("#","%23"))+n},n.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(o.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,a=Object.keys(this),i=0;i<a.length;i++){var l=a[i];r[l]=this[l]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(r[c]=e[c])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||b[e.protocol])r.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var h=r.pathname||"",_=r.search||"";r.path=h+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=g||v||r.host&&e.pathname,T=E,w=r.pathname&&r.pathname.split("/")||[],R=(m=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(R&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),E=E&&(""===m[0]||""===w[0])),g)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=m;else if(m.length)w||(w=[]),w.pop(),w=w.concat(m),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search))return R&&(r.hostname=r.host=w.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=w.slice(-1)[0],D=(r.host||e.host||w.length>1)&&("."===P||".."===P)||""===P,O=0,C=w.length;C>=0;C--)"."===(P=w[C])?w.splice(C,1):".."===P?(w.splice(C,1),O++):O&&(w.splice(C,1),O--);if(!E&&!T)for(;O--;O)w.unshift("..");!E||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),D&&"/"!==w.join("/").substr(-1)&&w.push("");var I,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);return R&&(r.hostname=r.host=A?"":w.length?w.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),(E=E||r.host&&w.length)&&!A&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"object"==(void 0===e?"undefined":u(e))&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,l,s,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),r.apply(this,l)}else if(a(r))for(l=Array.prototype.slice.call(arguments,1),o=(u=r.slice()).length,s=0;s<o;s++)u[s].apply(this,l);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),a||(a=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var a=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,o,l;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(l=o;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){i=l;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function r(e){return(a?/[0-9A-Za-z_-]+$/:/^\d+$/).test(e)}var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{zeroExtend:!0,lexicographical:!0},a=n&&n.lexicographical,i=n&&n.zeroExtend,o=e.split("."),l=t.split(".");if(!o.every(r)||!l.every(r))return NaN;if(i){for(;o.length<l.length;)o.push("0");for(;l.length<o.length;)l.push("0")}a||(o=o.map(Number),l=l.map(Number));for(var s=0;s<o.length;++s){if(l.length==s)return 1;if(o[s]!=l[s])return o[s]>l[s]?1:-1}return o.length!=l.length?-1:0}Object.defineProperty(t,"__esModule",{value:!0}),t.operatorsWithContext=t.b64d=t.concat=t.md5=t.inArray=t.property=t.isTargetGroupPaired=t.isInTargetGroup=t.flagValue=t.isInPercentageRange=t.isInPercentage=t.mergeSeed=t.semverNe=t.semverEq=t.semverGte=t.semverGt=t.semverLte=t.semverLt=t.match=t.gte=t.gt=t.lte=t.lt=t.ifThen=t.not=t.eq=t.ne=t.or=t.and=t.now=t.isUndefined=void 0;var i=n(r(19)),o=n(r(13)),l=n(r(14)),s=n(r(6)),u=n(r(20)),c=n(r(29)),d=r(31),f=function(e){var t=(0,c.default)(e,{asBytes:!0});return(t=(255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24)>>>0)/(Math.pow(2,32)-1)},p=t.isUndefined=function(e){return void 0===e},m=(t.now=function(){return Date.now()},t.and=function(e,t){return e&&t},t.or=function(e,t){return e||t},t.ne=function(e,t){return(!p(e)&&e)!==(!p(t)&&t)},t.eq=function(e,t){return(!p(e)&&e)===(!p(t)&&t)},t.not=function(e){return!e},t.ifThen=function(e,t,r){return e?t:r},t.lt=function(e,t){return!p(e)&&!p(t)&&"number"==typeof e&&"number"==typeof t&&e<t},t.lte=function(e,t){return!p(e)&&!p(t)&&"number"==typeof e&&"number"==typeof t&&e<=t},t.gt=function(e,t){return!p(e)&&!p(t)&&"number"==typeof e&&"number"==typeof t&&e>t},t.gte=function(e,t){return!p(e)&&!p(t)&&"number"==typeof e&&"number"==typeof t&&e>=t},t.match=function(e,t,r){var n=e;return!!new RegExp(t,r).exec(n)},t.semverLt=function(e,t){return!p(e)&&!p(t)&&"string"==typeof e&&"string"==typeof t&&a(e,t,{zeroExtend:!0})<0},t.semverLte=function(e,t){return!p(e)&&!p(t)&&"string"==typeof e&&"string"==typeof t&&a(e,t,{zeroExtend:!0})<=0},t.semverGt=function(e,t){return!p(e)&&!p(t)&&"string"==typeof e&&"string"==typeof t&&a(e,t,{zeroExtend:!0})>0},t.semverGte=function(e,t){return!p(e)&&!p(t)&&"string"==typeof e&&"string"==typeof t&&a(e,t,{zeroExtend:!0})>=0},t.semverEq=function(e,t){return!p(e)&&!p(t)&&"string"==typeof e&&"string"==typeof t&&0==a(e,t)},t.semverNe=function(e,t){return!p(e)&&!p(t)&&"string"==typeof e&&"string"==typeof t&&0!=a(e,t)},t.mergeSeed=function(e,t){return e+"."+t},t.isInPercentage=function(e,t){return f(t)<=e},t.isInPercentageRange=function(e,t,r){var n=f(r);return n>=e&&n<=t},t.flagValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=l.default.flagWithName(e);if(n)return n.getInternalValue(r,t);var a=s.default.experimentForFlagName(e);return a&&a.deploymentConfiguration&&(new u.default).evaluateExpression(a.deploymentConfiguration.condition,r,t)||"false"}),h=t.isInTargetGroup=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.default.targetGroupWithName(e);return!!n&&(new u.default).evaluateExpression(n.condition,r,t)},_=(t.isTargetGroupPaired=function(){return!1},t.property=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.default.get(e);if(r)return r.getValue(t);var n=d.DynamicPropertiesHandler&&(0,d.DynamicPropertiesHandler)();return n?n(e,t):void 0});t.inArray=function(e,t){return t.includes(e)},t.md5=function(e){if("string"==typeof e)return(0,c.default)(e)},t.concat=function(e,t){if("string"==typeof e&&"string"==typeof t)return""+e+t},t.b64d=function(t){if("string"==typeof t)return decodeURIComponent(e.from(t,"base64").toString("utf8"))},t.operatorsWithContext=[h,m,_]}).call(t,r(4).Buffer)},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n,a,i,o,l;n=r(73),a=r(30).utf8,i=r(74),o=r(30).bin,(l=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):a.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=n.bytesToWords(e),s=8*e.length,u=1732584193,c=-271733879,d=-1732584194,f=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[s>>>5]|=128<<s%32,r[14+(s+64>>>9<<4)]=s;var m=l._ff,h=l._gg,_=l._hh,v=l._ii;for(p=0;p<r.length;p+=16){var b=u,y=c,g=d,E=f;c=v(c=v(c=v(c=v(c=_(c=_(c=_(c=_(c=h(c=h(c=h(c=h(c=m(c=m(c=m(c=m(c,d=m(d,f=m(f,u=m(u,c,d,f,r[p+0],7,-680876936),c,d,r[p+1],12,-389564586),u,c,r[p+2],17,606105819),f,u,r[p+3],22,-1044525330),d=m(d,f=m(f,u=m(u,c,d,f,r[p+4],7,-176418897),c,d,r[p+5],12,1200080426),u,c,r[p+6],17,-1473231341),f,u,r[p+7],22,-45705983),d=m(d,f=m(f,u=m(u,c,d,f,r[p+8],7,1770035416),c,d,r[p+9],12,-1958414417),u,c,r[p+10],17,-42063),f,u,r[p+11],22,-1990404162),d=m(d,f=m(f,u=m(u,c,d,f,r[p+12],7,1804603682),c,d,r[p+13],12,-40341101),u,c,r[p+14],17,-1502002290),f,u,r[p+15],22,1236535329),d=h(d,f=h(f,u=h(u,c,d,f,r[p+1],5,-165796510),c,d,r[p+6],9,-1069501632),u,c,r[p+11],14,643717713),f,u,r[p+0],20,-373897302),d=h(d,f=h(f,u=h(u,c,d,f,r[p+5],5,-701558691),c,d,r[p+10],9,38016083),u,c,r[p+15],14,-660478335),f,u,r[p+4],20,-405537848),d=h(d,f=h(f,u=h(u,c,d,f,r[p+9],5,568446438),c,d,r[p+14],9,-1019803690),u,c,r[p+3],14,-187363961),f,u,r[p+8],20,1163531501),d=h(d,f=h(f,u=h(u,c,d,f,r[p+13],5,-1444681467),c,d,r[p+2],9,-51403784),u,c,r[p+7],14,1735328473),f,u,r[p+12],20,-1926607734),d=_(d,f=_(f,u=_(u,c,d,f,r[p+5],4,-378558),c,d,r[p+8],11,-2022574463),u,c,r[p+11],16,1839030562),f,u,r[p+14],23,-35309556),d=_(d,f=_(f,u=_(u,c,d,f,r[p+1],4,-1530992060),c,d,r[p+4],11,1272893353),u,c,r[p+7],16,-155497632),f,u,r[p+10],23,-1094730640),d=_(d,f=_(f,u=_(u,c,d,f,r[p+13],4,681279174),c,d,r[p+0],11,-358537222),u,c,r[p+3],16,-722521979),f,u,r[p+6],23,76029189),d=_(d,f=_(f,u=_(u,c,d,f,r[p+9],4,-640364487),c,d,r[p+12],11,-421815835),u,c,r[p+15],16,530742520),f,u,r[p+2],23,-995338651),d=v(d,f=v(f,u=v(u,c,d,f,r[p+0],6,-198630844),c,d,r[p+7],10,1126891415),u,c,r[p+14],15,-1416354905),f,u,r[p+5],21,-57434055),d=v(d,f=v(f,u=v(u,c,d,f,r[p+12],6,1700485571),c,d,r[p+3],10,-1894986606),u,c,r[p+10],15,-1051523),f,u,r[p+1],21,-2054922799),d=v(d,f=v(f,u=v(u,c,d,f,r[p+8],6,1873313359),c,d,r[p+15],10,-30611744),u,c,r[p+6],15,-1560198380),f,u,r[p+13],21,1309151649),d=v(d,f=v(f,u=v(u,c,d,f,r[p+4],6,-145523070),c,d,r[p+11],10,-1120210379),u,c,r[p+2],15,718787259),f,u,r[p+9],21,-343485551),u=u+b>>>0,c=c+y>>>0,d=d+g>>>0,f=f+E>>>0}return n.endian([u,c,d,f])})._ff=function(e,t,r,n,a,i,o){var l=e+(t&r|~t&n)+(a>>>0)+o;return(l<<i|l>>>32-i)+t},l._gg=function(e,t,r,n,a,i,o){var l=e+(t&n|r&~n)+(a>>>0)+o;return(l<<i|l>>>32-i)+t},l._hh=function(e,t,r,n,a,i,o){var l=e+(t^r^n)+(a>>>0)+o;return(l<<i|l>>>32-i)+t},l._ii=function(e,t,r,n,a,i,o){var l=e+(r^(t|~n))+(a>>>0)+o;return(l<<i|l>>>32-i)+t},l._blocksize=16,l._digestsize=16,e.exports=function(e,t){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(l(e,t));return t&&t.asBytes?r:t&&t.asString?o.bytesToString(r):n.bytesToHex(r)}},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDynamicPropertyHandler=function(){return n},t.setDynamicPropertyHandler=function(e){a=e},t.DynamicPropertiesHandler=function(){return a};var n=function(e,t){return t?t[e]:void 0},a=n},function(e,t,r){e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var a=r(1);e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(a.isURLSearchParams(t))i=t.toString();else{var o=[];a.forEach(t,function(e,t){null!==e&&void 0!==e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),o.push(n(t)+"="+n(e))}))}),i=o.join("&")}if(i){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){(function(t){function n(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,i=r(1),o=r(81),l={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?a=r(36):"undefined"!=typeof XMLHttpRequest&&(a=r(36)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(n(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(n(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(e){s.headers[e]={}}),i.forEach(["post","put","patch"],function(e){s.headers[e]=i.merge(l)}),e.exports=s}).call(t,r(2))},function(e,t,r){var n=r(1),a=r(82),i=r(33),o=r(84),l=r(85),s=r(37);e.exports=function(e){return new c(function(t,u){var c=e.data,d=e.headers;n.isFormData(c)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password||"";d.Authorization="Basic "+btoa(p+":"+m)}if(f.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};a(t,u,n),f=null}},f.onabort=function(){f&&(u(s("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(s("Network Error",e,null,f)),f=null},f.ontimeout=function(){u(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var h=r(86),_=(e.withCredentials||l(e.url))&&e.xsrfCookieName?h.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}if("setRequestHeader"in f&&n.forEach(d,function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),u(e),f=null)}),void 0===c&&(c=null),f.send(c)})}},function(e,t,r){var n=r(83);e.exports=function(e,t,r,a,i){var o=new Error(e);return n(o,t,r,a,i)}},function(e,t,r){var n=r(1);e.exports=function(e,t){t=t||{};var r={};return n.forEach(["url","method","params","data"],function(e){void 0!==t[e]&&(r[e]=t[e])}),n.forEach(["headers","auth","proxy"],function(a){n.isObject(t[a])?r[a]=n.deepMerge(e[a],t[a]):void 0!==t[a]?r[a]=t[a]:n.isObject(e[a])?r[a]=n.deepMerge(e[a]):void 0!==e[a]&&(r[a]=e[a])}),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}),r}},function(e,t,r){function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e){if(void 0===e||""===e)throw new Error("Custom property must be initialized with a name.")},i=function(e,t){if(t&&t.constructor!==e&&t.constructor!==Function)throw new Error("Custom property initialized with an invalid type / value combination. (Type: "+e+", Value: "+t+")")},o=function(e){if(e.length>1)throw new Error("Dynamic value of a custom property should be a function with maximum 1 argument")},l=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),a(t),this._name=t,"function"==typeof n?(o(n),this._value=n):(i(r,n),this._value=function(){return n}),this._type=r}return n(e,[{key:"getValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._value(e)}},{key:"type",get:function(){return this._type.name}},{key:"externalType",get:function(){return this._type.name}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value()}}]),e}();t.default=l},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=t.Actions=void 0;var a=n(r(97)),i=n(r(42));t.Actions=a,t.Manager=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(43),a={};t.getContext=function(){return n(a)},t.setContext=function(e){a=e}},function(e,t,r){var n=r(98),a=r(100),i=r(101);e.exports=function e(t,r){switch(a(t)){case"object":return function(t,r){if("function"==typeof r)return r(t);if(r||i(t)){var n=new t.constructor;for(var a in t)n[a]=e(t[a],r);return n}return t}(t,r);case"array":return function(t,r){for(var n=new t.constructor(t.length),a=0;a<t.length;a++)n[a]=e(t[a],r);return n}(t,r);default:return n(t)}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.identifier=t,this.condition=r}},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.invokeImpression=function(e,t,r){var n=o.default.experimentForFlag(t);try{if(u&&n&&(0,i.isEnabled)("rox.internal.analytics")){var d=l.default.get(n.stickinessProperty)||l.default.get("rox.distinct_id"),f=d?d.getValue(r):"";u.track({flag:t.name,value:e,distinctId:f,experimentId:n.identifier,experimentVersion:"0",type:"IMPRESSION",time:(new Date).getTime()})}}catch(e){a.RoxLogger.error("Failed to send analytics",e)}if("function"==typeof s){var p=n&&c(n);s({name:t.name,value:e},p,r)}},t.setHandler=function(e){s=e},t.setAnalytics=function(e){u=e};var a=r(15),i=r(24),o=n(r(6)),l=n(r(13)),s=null,u=null,c=function(e){return{identifier:e.identifier,name:e.name,isArchived:e.archived,labels:e.labels}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.buildSetStateAPIURL=t.buildSetStateS3URL=t.buildAPIURL=void 0;var n,a=(n=r(7))&&n.__esModule?n:{default:n};t.buildAPIURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.app_key,n=e.buid,i=e.relative_url,o=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["app_key","buid","relative_url"]);o.cache_miss_relative_url=i;var l=a.default.get("CD_API_ENDPOINT")+"/"+r+"/"+n;return{url:t||l,body:o}},t.buildSetStateS3URL=function(e){return""+a.default.get("SS_S3_ENDPOINT")+e.app_key+"/"+e.md5},t.buildSetStateAPIURL=function(e){return{url:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||""+a.default.get("SS_API_ENDPOINT")+e.app_key+"/"+e.md5,body:{platform:e.platform,feature_flags:e.feature_flags,custom_properties:e.custom_properties,remoteVariables:e.remoteVariables,devModeSecret:e.devModeSecret}}}},function(e,t,r){function n(e){var t=e.data;return 200===e.status&&t&&"object"===(void 0===t?"undefined":a(t))?(l.default.debug("succeed fetch from API"),t):c.reject(new Error("Unexpected response from ROX API"))}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)};t.fetchFromCDN=function(e,t){return o.get(e,t).then(function(e){var t=e.data;if(200===e.status&&t&&"object"===(void 0===t?"undefined":a(t)))return 404===t.result?(l.default.debug("succeed fetch from CDN, but it was missing"),c.reject()):(l.default.debug("succeed fetch from CDN"),t)}).catch(function(e){if(404==e.response.status||403==e.response.status)return c.reject();l.default.debug("Unexpected error calling get configuration, status code returned different from 403 or 404. error: "+e)})},t.fetchFromAPI=function(e,t,r){return o.post(e,t,r).then(n)},t.fetchFromRoxyAPI=function(e,t){return o.get(e,t).then(n)},t.stateFromCDN=function(e,t){return o.get(e,t).then(function(e){var t=e.data;if(200===e.status&&t&&"object"===(void 0===t?"undefined":a(t))){if(404===t.result)return l.default.debug("succeed setState from CDN, but it was missing"),c.reject();if(200===t.result)return void l.default.debug("succeed setState from CDN")}l.default.debug("succeed setState, but with unexpected response")}).catch(function(e){if(404==e.response.status||403==e.response.status)return c.reject();l.default.debug("Unexpected error calling setState, status code returned different from 403 or 404. error: "+e)})},t.setStateToAPI=function(e,t,r){return o.post(e,t,r).then(function(e){if(200!==e.status)return c.reject(new Error("Unexpected response from ROX API"));l.default.debug("succeed setState from API")})};var i,o=function(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(22)),l=(i=r(3))&&i.__esModule?i:{default:i}},function(e,t,r){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){var r=e[t];return r?r.constructor===Object||r.constructor===Array?JSON.stringify(r):r:t});return(0,i.default)(t.join("|"))}Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_GENERATOR_LIST=t.BUID_GENERATOR_LIST=void 0,t.generateStateMd5=function(){return n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)},t.generateBuid=function(){return n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)};var a,i=(a=r(29))&&a.__esModule?a:{default:a},o=t.BUID_GENERATOR_LIST=["lib_version","api_version","platform","app_key","customSigningCertificate"],l=t.STATE_GENERATOR_LIST=["platform","app_key","feature_flags","custom_properties","remoteVariables","devModeSecret"]},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FetcherStatus={APPLIED_FROM_EMBEDDED:"APPLIED_FROM_EMBEDDED",APPLIED_FROM_CACHE:"APPLIED_FROM_CACHE",APPLIED_FROM_NETWORK:"APPLIED_FROM_NETWORK",ERROR_FETCH_FAILED:"ERROR_FETCH_FAILED"},t.FetcherResults=function e(t,r,n,a,i){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.fetcherStatus=t,this.creationDate=r,this.hasChanges=n,this.errorDetails=a,this.clientData=i}},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=n(r(18)),o=n(r(14)),l=n(r(13)),s=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return a(e,[{key:"customProperties",get:function(){var e=[];return l.default.items.forEach(function(t){e.push({name:t.name,type:t.type,externalType:t.externalType})}),e}},{key:"featureFlags",get:function(){var e=[];return o.default.items.forEach(function(t){e.push({name:t.name,defaultValue:t.defaultValue,options:t._options})}),e}},{key:"remoteConfiguration",get:function(){var e=[];return i.default.items.forEach(function(t){e.push({name:t.name,defaultValue:t.defaultValue,type:t.type,externalType:t.externalType})}),e}}]),e}();t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.entityProvider=t,this.flagRepository=r,this.client=n}return n(e,[{key:"isEnabled",value:function(e,t,r){var n=this.flagRepository.flagWithName(e);if(null==n&&(n=this.entityProvider.createFlag(t),this.flagRepository.addFlag(e,n),this.client.sendStateDebounced()),void 0==n._getInternalIsEnabled)return t;var a={},i=n._getInternalIsEnabled(a,r);return a.isExperimenting?i:t}},{key:"value",value:function(e,t,r,n){Array.isArray(r)||(n=r,r=null);var a=this.flagRepository.flagWithName(e);null==a&&(a=this.entityProvider.createVariant(t,r),this.flagRepository.addFlag(e,a),this.client.sendStateDebounced());var i={},o=a.getInternalValue(i,n);return i.isExperimenting?o:t}}]),e}();t.default=a},function(e,t,r){(function(e){var n=r(125),a=r(134),i=r(135),o=r(25),l=t;l.request=function(t,r){t="string"==typeof t?o.parse(t):a(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",l=t.protocol||i,s=t.hostname||t.host,u=t.port,c=t.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),t.url=(s?l+"//"+s:"")+(u?":"+u:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var d=new n(t);return r&&d.on("response",r),d},l.get=function(e,t){var r=l.request(e,t);return r.end(),r},l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.STATUS_CODES=i,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(t,r(0))},function(e,t,r){(function(e){function r(){if(void 0!==i)return i;if(e.XMLHttpRequest){i=new e.XMLHttpRequest;try{i.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function n(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function a(e){return"function"==typeof e}t.fetch=a(e.fetch)&&a(e.ReadableStream),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var i,o=void 0!==e.ArrayBuffer,l=o&&a(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||o&&n("arraybuffer"),t.msstream=!t.fetch&&l&&n("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&n("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&a(r().overrideMimeType),t.vbArray=a(e.VBArray),i=null}).call(t,r(0))},function(e,t,r){(t=e.exports=r(55)).Stream=t,t.Readable=t,t.Writable=r(58),t.Duplex=r(8),t.Transform=r(60),t.PassThrough=r(132)},function(e,t,r){(function(t,n){function a(e,t){E=E||r(8),e=e||{},this.objectMode=!!e.objectMode,t instanceof E&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,a=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(A||(A=r(59).StringDecoder),this.decoder=new A(e.encoding),this.encoding=e.encoding)}function i(e){if(E=E||r(8),!(this instanceof i))return new i(e);this._readableState=new a(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),R.call(this)}function o(e,t,r,n,a){var i,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,u(e)}}(e,o)):(a||(i=function(e,t){var r,n;return n=t,P.isBuffer(n)||n instanceof D||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(o,t)),i?e.emit("error",i):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===P.prototype||(t=function(e){return P.from(e)}(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):l(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?l(e,o,t,!1):d(e,o)):l(e,o,t,!1))):n||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function l(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&u(e)),d(e,t)}function s(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=j?e=j:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function u(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(I("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?g(c,e):c(e))}function c(e){I("emit readable"),e.emit("readable"),h(e)}function d(e,t){t.readingMore||(t.readingMore=!0,g(f,e,t))}function f(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(I("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function p(e){I("readable nexttick read 0"),e.read(0)}function m(e,t){t.reading||(I("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),h(e),t.flowing&&!t.reading&&e.read(0)}function h(e){var t=e._readableState;for(I("flow",t.flowing);t.flowing&&null!==e.read(););}function _(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,a=r.data;for(e-=a.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(o===i.length?a+=i:a+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(o));break}++n}return t.length-=n,a}(e,t):function(e,t){var r=P.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,o),0==(e-=o)){o===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(o));break}++a}return t.length-=a,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function v(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,g(b,t,e))}function b(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function y(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var g=r(16);e.exports=i;var E,T=r(28);i.ReadableState=a,r(26).EventEmitter;var w=function(e,t){return e.listeners(t).length},R=r(56),P=r(17).Buffer,D=t.Uint8Array||function(){},O=r(10);O.inherits=r(5);var C=r(127),I=void 0;I=C&&C.debuglog?C.debuglog("stream"):function(){};var A,S=r(128),k=r(57);O.inherits(i,R);var M=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),i.prototype.destroy=k.destroy,i.prototype._undestroy=k.undestroy,i.prototype._destroy=function(e,t){this.push(null),t(e)},i.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=P.from(e,t),t=""),r=!0),o(this,e,t,!1,r)},i.prototype.unshift=function(e){return o(this,e,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(e){return A||(A=r(59).StringDecoder),this._readableState.decoder=new A(e),this._readableState.encoding=e,this};var j=8388608;i.prototype.read=function(e){I("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return I("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?v(this):u(this),null;if(0===(e=s(e,t))&&t.ended)return 0===t.length&&v(this),null;var n,a=t.needReadable;return I("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&I("length less than watermark",a=!0),t.ended||t.reading?I("reading or ended",a=!1):a&&(I("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=s(r,t))),null===(n=e>0?_(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&v(this)),null!==n&&this.emit("data",n),n},i.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(e,t){function r(){I("onend"),e.end()}function a(t){I("ondata"),m=!1,!1!==e.write(t)||m||((1===c.pipesCount&&c.pipes===e||c.pipesCount>1&&-1!==y(c.pipes,e))&&!p&&(I("false write response, pause",u._readableState.awaitDrain),u._readableState.awaitDrain++,m=!0),u.pause())}function i(t){I("onerror",t),s(),e.removeListener("error",i),0===w(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",l),s()}function l(){I("onfinish"),e.removeListener("close",o),s()}function s(){I("unpipe"),u.unpipe(e)}var u=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=e;break;case 1:c.pipes=[c.pipes,e];break;default:c.pipes.push(e)}c.pipesCount+=1,I("pipe count=%d opts=%j",c.pipesCount,t);var d=t&&!1===t.end||e===n.stdout||e===n.stderr?s:r;c.endEmitted?g(d):u.once("end",d),e.on("unpipe",function t(n,d){I("onunpipe"),n===u&&d&&!1===d.hasUnpiped&&(d.hasUnpiped=!0,I("cleanup"),e.removeListener("close",o),e.removeListener("finish",l),e.removeListener("drain",f),e.removeListener("error",i),e.removeListener("unpipe",t),u.removeListener("end",r),u.removeListener("end",s),u.removeListener("data",a),p=!0,!c.awaitDrain||e._writableState&&!e._writableState.needDrain||f())});var f=function(e){return function(){var t=e._readableState;I("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&w(e,"data")&&(t.flowing=!0,h(e))}}(u);e.on("drain",f);var p=!1,m=!1;return u.on("data",a),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener("error",r);e._events&&e._events.error?T(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on("error",r)}(e,0,i),e.once("close",o),e.once("finish",l),e.emit("pipe",u),c.flowing||(I("pipe resume"),u.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var o=y(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},i.prototype.on=function(e,t){var r=R.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&u(this):g(p,this))}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(I("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,g(m,e,t))}(this,e)),this},i.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",function(){if(I("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(a){I("wrapped data"),t.decoder&&(a=t.decoder.write(a)),(!t.objectMode||null!==a&&void 0!==a)&&(t.objectMode||a&&a.length)&&(n.push(a)||(r=!0,e.pause()))}),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<M.length;i++)e.on(M[i],n.emit.bind(n,M[i]));return n._read=function(t){I("wrapped _read",t),r&&(r=!1,e.resume())},n},i._fromList=_}).call(t,r(0),r(2))},function(e,t,r){e.exports=r(26).EventEmitter},function(e,t,r){function n(e,t){e.emit("error",t)}var a=r(16);e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;i||o?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a(n,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){(function(t,n,a){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var a=n.callback;t.pendingcb--,a(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function o(){}function l(e,t){_=_||r(8),e=e||{},this.objectMode=!!e.objectMode,t instanceof _&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,a=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(h(a,n),h(m,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),m(e,t))}(e,r,n,t,a);else{var i=f(r);i||r.corked||r.bufferProcessing||!r.bufferedRequest||d(e,r),n?v(c,e,r,i,a):c(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function s(e){if(_=_||r(8),!(y.call(s,this)||this instanceof _))return new s(e);this._writableState=new l(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),E.call(this)}function u(e,t,r,n,a,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function c(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),m(e,t)}function d(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,s=!0;r;)a[l]=r,r.isBuf||(s=!1),r=r.next,l+=1;a.allBuffers=s,u(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t)}else{for(;r;){var c=r.chunk,d=r.encoding,f=r.callback;if(u(e,t,!1,t.objectMode?1:c.length,c,d,f),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function f(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function p(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),m(e,t)})}function m(e,t){var r=f(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,h(p,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}var h=r(16);e.exports=s;var _,v=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:h;s.WritableState=l;var b=r(10);b.inherits=r(5);var y,g={deprecate:r(131)},E=r(56),T=r(17).Buffer,w=a.Uint8Array||function(){},R=r(57);b.inherits(s,E),l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(l.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(e){return!!y.call(this,e)||e&&e._writableState instanceof l}})):y=function(e){return e instanceof this},s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(e,t,r){var n,a=this._writableState,i=!1,l=(n=e,(T.isBuffer(n)||n instanceof w)&&!a.objectMode);return l&&!T.isBuffer(e)&&(e=function(e){return T.from(e)}(e)),"function"==typeof t&&(r=t,t=null),l?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=o),a.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),h(t,r)}(this,r):(l||function(e,t,r,n){var a=!0,i=!1;return null===r?i=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),h(n,i),a=!1),a}(this,a,e,r))&&(a.pendingcb++,i=function(e,t,r,n,a,i){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=T.from(t,r)),t}(t,n,a);n!==o&&(r=!0,a="buffer",n=o)}var l=t.objectMode?1:n.length;t.length+=l;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else u(e,t,!1,l,n,a,i);return s}(this,a,l,e,t,r)),i},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||d(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},s.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,m(e,t),r&&(t.finished?h(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),s.prototype.destroy=R.destroy,s.prototype._undestroy=R.undestroy,s.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,r(2),r(129).setImmediate,r(0))},function(e,t,r){function n(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(f.isEncoding===p||!p(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=o,this.end=l,t=4;break;case"utf8":this.fillLast=i,t=4;break;case"base64":this.text=s,this.end=u,t=3;break;default:return this.write=c,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function i(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function o(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function s(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}var f=r(17).Buffer,p=f.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=n,n.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd".repeat(this.lastTotal-this.lastNeed):t},n.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);i.call(this,e),this._transformState=new function(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var a=n.writecb;if(!a)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r),a(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(t)})}function a(e,t,r){if(t)return e.emit("error",t);null!==r&&void 0!==r&&e.push(r);var n=e._writableState,a=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(a.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=n;var i=r(8),o=r(10);o.inherits=r(5),o.inherits(n,i),n.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},n.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},n.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},n.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},n.prototype._destroy=function(e,t){var r=this;i.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t){e.exports=function(e){var t=void 0===e?"undefined":u(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(141),a="object"==("undefined"==typeof self?"undefined":u(self))&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},function(e,t,r){var n=r(62).Symbol;e.exports=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e.name&&e.type&&void 0!==e.conditions};t.default={parse:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(n)}}},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(r(11)),o=n(r(12)),l=n(r(9)),s=n(r(23)),u=n(r(15)),c=n(r(41)),d=(a=r(7))&&a.__esModule?a:{default:a};t.default=Object.assign({},u,{Config:d.default,Entities:s,Parsers:l,Setters:i,Repositories:o,Context:c})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(3))&&n.__esModule?n:{default:n},o=function(){function e(t,r){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.flagRepo=t,this.experimentsRepo=r}return a(e,[{key:"prepareFlagsWithExperiments",value:function(){var e=this,t=this.experimentsRepo.experiments||[];i.default.debug("Set experiments "+JSON.stringify(t));var r=[];t.forEach(function(t){t&&t.flags.forEach(function(n){if(n){var a=e.flagRepo.flagWithName(n.name);a&&(r.push(a),e.connectExperimentToFlag(a,t.deploymentConfiguration.condition))}})}),this.flagRepo.flags.forEach(function(t){r.some(function(e){return e===t})||e.connectExperimentToFlag(t,void 0)})}},{key:"setAddedFlag",value:function(e){var t=this.experimentsRepo.experimentForFlag(e);t&&this.connectExperimentToFlag(e,t.deploymentConfiguration.condition)}},{key:"connectExperimentToFlag",value:function(e,t){e.condition=t}}]),e}();t.default=o},function(e,t,r){var n,a;void 0===(a="function"==typeof(n=function(){function e(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function t(e,t){for(var r=0;r<o.length;r++){var n=o[r];this[n]=r<e?a:this.methodFactory(n,e,t)}this.log=this.debug}function r(r,n,o){return function(t){return"debug"===t&&(t="log"),("undefined"==typeof console?"undefined":u(console))!==i&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):a)}(r)||function(e,r,n){return function(){
("undefined"==typeof console?"undefined":u(console))!==i&&(t.call(this,r,n),this[e].apply(this,arguments))}}.apply(this,arguments)}function n(e,n,a){function l(){var e;if(("undefined"==typeof window?"undefined":u(window))!==i){try{e=window.localStorage[d]}catch(e){}if((void 0===e?"undefined":u(e))===i)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(d)+"=");-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var s,c=this,d="loglevel";e&&(d+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=a||r,c.getLevel=function(){return s},c.setLevel=function(r,n){if("string"==typeof r&&void 0!==c.levels[r.toUpperCase()]&&(r=c.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(s=r,!1!==n&&function(e){var t=(o[r]||"silent").toUpperCase();if(("undefined"==typeof window?"undefined":u(window))!==i){try{return void(window.localStorage[d]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+t+";"}catch(e){}}}(),t.call(c,r,e),("undefined"==typeof console?"undefined":u(console))===i&&r<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){l()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var f=l();null==f&&(f=null==n?"WARN":n),c.setLevel(f,!1)}var a=function(){},i="undefined",o=["trace","debug","info","warn","error"],l=new n,s={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=s[e];return t||(t=s[e]=new n(e,l.getLevel(),l.methodFactory)),t};var c=("undefined"==typeof window?"undefined":u(window))!==i?window.log:void 0;return l.noConflict=function(){return("undefined"==typeof window?"undefined":u(window))!==i&&window.log===l&&(window.log=c),l},l.getLoggers=function(){return s},l})?n.call(t,r,t,e):n)||(e.exports=a)},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=n(r(18)),o=n(r(3)),l=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return a(e,[{key:"prepareConfigurations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.default.debug("Set remote configurations "+JSON.stringify(e)),e.forEach(function(e){var t=e.name,r=e.conditions,n=i.default.remoteConfigurationWithName(t);n&&(n.condition=r)},this)}}]),e}();t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RoxxTokenizer=t.RoxxTokenTypeRand=t.RoxxTokenTypeRator=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(70))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(27)),l=Object.keys(o),s=t.RoxxTokenTypeRator="operator",u=t.RoxxTokenTypeRand="operand";t.RoxxTokenizer=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.tokenArray=[],this.arrayAccumulator=void 0,this.dictionaryAccumulator=void 0,this.dictKey=void 0}return a(e,[{key:"_stringToRoxx",value:function(e){return l.includes(e)?{type:s,value:e}:"true"==e?{type:u,value:!0}:"false"==e?{type:u,value:!1}:"undefined"==e?{type:u,value:void 0}:'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)?{type:u,value:e.substr(1,e.length-2)}:isNaN(e)?{type:"UNKNOWN"}:{type:u,value:+e}}},{key:"push",value:function(e){this.dictionaryAccumulator&&!this.dictKey?this.dictKey=e.value:this.dictionaryAccumulator&&this.dictKey?(this.dictionaryAccumulator[this.dictKey]=e.value,this.dictKey=void 0):this.arrayAccumulator?this.arrayAccumulator.push(e.value):this.tokenArray.push(e)}},{key:"tokenize",value:function(e){this.tokenArray=[],this.arrayAccumulator=void 0,this.dictionaryAccumulator=void 0;for(var t,r,n='{}[]():, \t\r\n"',a=e.replace('\\"',"\\RO_Q"),o=new i.default(a,n,!0);o.hasMoreTokens();)switch(r=t,t=o.nextTokenWithDelimiters(n)){case"{":this.dictionaryAccumulator={};break;case"}":this.tokenArray.push({type:u,value:this.dictionaryAccumulator}),this.dictionaryAccumulator=void 0;break;case"[":this.arrayAccumulator=[];break;case"]":this.tokenArray.push({type:u,value:this.arrayAccumulator}),this.arrayAccumulator=void 0;break;case'"':'"'==r&&this.push({type:u,value:""}),n='"'==n?'{}[]():, \t\r\n"':'"';break;default:'"'==n?this.push({type:u,value:t.replace("\\RO_Q",'\\"')}):-1=='{}[]():, \t\r\n"'.indexOf(t)&&this.push(this._stringToRoxx(t))}return this.tokenArray}}]),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._string=t,this._delimiters=r,this._returnDelim=n,this._position=0}return n(e,[{key:"countTokens",value:function(){for(var e=0,t=!1,r=this._position,n=this._string.length;r<n;r++)-1!=this._delimiters.indexOf(this._string.charAt(r))?(this._returnDelim&&e++,t&&(e++,t=!1)):t=!0;return t&&e++,e}},{key:"hasMoreElements",value:function(){return this.hasMoreTokens()}},{key:"hasMoreTokens",value:function(){if(!this._delimiters)return!1;var e=this._string.length;if(this._position<e){if(this._returnDelim)return!0;for(var t=this._position;t<e;t++)if(-1==this._delimiters.indexOf(this._string.charAt(t)))return!0}return!1}},{key:"nextElement",value:function(){return this.nextToken()}},{key:"nextToken",value:function(){if(this._delimiters){var e=this._position,t=this._string.length;if(e<t){if(this._returnDelim){if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.charAt(this._position++);for(this._position++;this._position<t;this._position++)if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.substr(e,this._position-e);return this._string.substr(e)}for(;e<t&&-1!=this._delimiters.indexOf(this._string.charAt(this._position));)e++;if(this._position=e,e<t){for(this._position++;this._position<t;this._position++)if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.substr(e,this._position-e);return this._string.substr(e)}}}}},{key:"nextTokenWithDelimiters",value:function(e){return this._delimiters=e,this.nextToken()}}]),e}();t.default=a},function(e,t,r){function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function a(e,t,r){for(var n,a,o=[],l=t;l<r;l+=3)n=(e[l]<<16)+(e[l+1]<<8)+e[l+2],o.push(i[(a=n)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return o.join("")}t.byteLength=function(e){return 3*e.length/4-n(e)},t.toByteArray=function(e){var t,r,a,i,s,u=e.length;i=n(e),s=new l(3*u/4-i),r=i>0?u-4:u;var c=0;for(t=0;t<r;t+=4)a=o[e.charCodeAt(t)]<<18|o[e.charCodeAt(t+1)]<<12|o[e.charCodeAt(t+2)]<<6|o[e.charCodeAt(t+3)],s[c++]=a>>16&255,s[c++]=a>>8&255,s[c++]=255&a;return 2===i?(a=o[e.charCodeAt(t)]<<2|o[e.charCodeAt(t+1)]>>4,s[c++]=255&a):1===i&&(a=o[e.charCodeAt(t)]<<10|o[e.charCodeAt(t+1)]<<4|o[e.charCodeAt(t+2)]>>2,s[c++]=a>>8&255,s[c++]=255&a),s},t.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o="",l=[],s=0,u=r-n;s<u;s+=16383)l.push(a(e,s,s+16383>u?u:s+16383));return 1===n?(t=e[r-1],o+=i[t>>2],o+=i[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=i[t>>10],o+=i[t>>4&63],o+=i[t<<2&63],o+="="),l.push(o),l.join("")};for(var i=[],o=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=s.length;u<c;++u)i[u]=s[u],o[s.charCodeAt(u)]=u;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,a){var i,o,l=8*a-n-1,s=(1<<l)-1,u=s>>1,c=-7,d=r?a-1:0,f=r?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=l;c>0;i=256*i+e[t+d],d+=f,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===s)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),i-=u}return(p?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var o,l,s,u=8*i-a-1,c=(1<<u)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,m=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),(t+=o+d>=1?f/s:f*Math.pow(2,1-d))*s>=2&&(o++,s/=2),o+d>=c?(l=0,o=c):o+d>=1?(l=(t*s-1)*Math.pow(2,a),o+=d):(l=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[r+p]=255&l,p+=m,l/=256,a-=8);for(o=o<<a|l,u+=a;u>0;e[r+p]=255&o,p+=m,o/=256,u-=8);e[r+p-m]|=128*h}},function(e,t){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var a=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?t.push(r.charAt(a>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,a=0;n<e.length;a=++n%4)0!=a&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*a+8)-1)<<2*a|r.indexOf(e.charAt(n))>>>6-2*a);return t}},e.exports=n},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){function n(e){var t=new o(e),r=i(o.prototype.request,t);return a.extend(r,o.prototype,t),a.extend(r,t),r}var a=r(1),i=r(32),o=r(77),l=r(38),s=n(r(35));s.Axios=o,s.create=function(e){return n(l(s.defaults,e))},s.Cancel=r(39),s.CancelToken=r(89),s.isCancel=r(34),s.all=function(e){return c.all(e)},s.spread=r(90),e.exports=s,e.exports.default=s},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,r){function n(e){this.defaults=e,this.interceptors={request:new o,response:new o}}var a=r(1),i=r(33),o=r(78),l=r(79),s=r(38);n.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[l,void 0],r=c.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},n.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],function(e){n.prototype[e]=function(t,r){return this.request(a.merge(r||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){n.prototype[e]=function(t,r,n){return this.request(a.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=n},function(e,t,r){function n(){this.handlers=[]}var a=r(1);n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){a.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},function(e,t,r){function n(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var a=r(1),i=r(80),o=r(34),l=r(35),s=r(87),u=r(88);e.exports=function(e){return n(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||l.adapter)(e).then(function(t){return n(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(n(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),c.reject(t)})}},function(e,t,r){var n=r(1);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){var n=r(1);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){var n=r(37);e.exports=function(e,t,r){var a=r.config.validateStatus;!a||a(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){e.exports=function(e,t,r,n,a){return e.config=t,r&&(e.code=r),e.request=n,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){var n=r(1),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,o={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(o[t]&&a.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o):o}},function(e,t,r){var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");return t=e(window.location.href),function(r){var a=n.isString(r)?e(r):r;return a.protocol===t.protocol&&a.host===t.host}}():function(){return!0}},function(e,t,r){var n=r(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,i,o){var l=[];l.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),n.isString(a)&&l.push("path="+a),n.isString(i)&&l.push("domain="+i),!0===o&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new c(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new a(e),t(r.reason))})}var a=r(39);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n},function(e,t,r){e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(r(92)),l=n(r(150)),s=n(r(64)),c=function(){function e(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),!t||"object"!==(void 0===t?"undefined":a(t)))throw new Error("ConfigurationParser should be constructed with JSON object. Received "+t);if(!r||"string"!=typeof r)throw new Error("ConfigurationParser should be constructed with app key string. Received "+r);this._json=t,this._appKey=r,this._validateAppKey=n}return i(e,[{key:"parse",value:function(){var e=this._extractInnerJson(this._json);return this._validateAppKey&&e.application!==this._appKey?null:(this._parseExperiments(e.experiments),this._parseTargetGroups(e.targetGroups),this._parseRemoteConfigurations(e.remoteVariables),this._signedDate=new Date(this._json.signed_date),this)}},{key:"experiments",value:function(){return this._experiments||[]}},{key:"targetGroups",value:function(){return this._targetGroups||[]}},{key:"remoteConfigurations",value:function(){return this._configurations||[]}},{key:"signedDate",value:function(){return this._signedDate}},{key:"_extractInnerJson",value:function(e){return JSON.parse(e.data)}},{key:"_parseExperiments",value:function(e){this._experiments=new o.default(e).parse()}},{key:"_parseTargetGroups",value:function(e){this._targetGroups=new l.default(e).parse()}},{key:"_parseRemoteConfigurations",value:function(e){this._configurations=s.default.parse(e)}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(23),i=function(){function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._json=t}return n(e,[{key:"parse",value:function(){if(!this._json||!this._json.length)return[];var e=[];return this._json.forEach(function(t){if(t&&t.deploymentConfiguration&&t._id&&t.name&&t.featureFlags){var r=t.deploymentConfiguration;if(r.condition){var n=t.labels||[],i=new a.DeploymentConfiguration(r.condition);e.push(new a.Experiment(t._id,t.name,!!t.archived,!!t.sticky,i,t.featureFlags,n,t.stickinessProperty))}}}),e}}]),e}();t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(40))&&n.__esModule?n:{default:n},o=function(e){function t(){return function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"name",get:function(){return"rox."+function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"name",this)}}]),t}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.condition=t}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r,n,a,i,o,l,s){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.identifier=t,this.name=r,this.archived=n,this.sticky=a,this.deploymentConfiguration=i,this.flags=o,this.labels=l,this.stickinessProperty=s}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(9),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(41)),l=new i.RoxxParser,s=["string","boolean","number"],c=function(){function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=void 0===t?"undefined":n(t);if(this._entityType="configuration",-1===s.indexOf(r))throw new Error("RoxConfiguration initialized with wrong type '"+r+"'");Object.defineProperty(this,"_defaultValue",{value:t,writable:!1,enumerable:!1}),Object.defineProperty(this,"_value",{value:t,writable:!0,enumerable:!1}),Object.defineProperty(this,"_type",{value:r,writable:!1,enumerable:!1}),Object.defineProperty(this,"_externalType",{value:r.charAt(0).toUpperCase()+r.slice(1),writable:!1,enumerable:!1}),Object.defineProperty(this,"_name",{value:null,writable:!0,enumerable:!1})}return a(e,[{key:"getValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.condition){var t=o.Actions.getMergedContextWithGlobal(e),r=l.evaluateExpression(this.condition,{},t);this._type!==(void 0===r?"undefined":n(r))||void 0===r?this._value=this._defaultValue:this._value=r}return this._value}},{key:"name",get:function(){return this._name}},{key:"type",get:function(){return this._type}},{key:"externalType",get:function(){return this._externalType}},{key:"defaultValue",get:function(){return this._defaultValue}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMergedContext=function(e,t){if(!e)return a(t);var r=Object.assign({},e,t);return a(r)},t.getMergedContextWithGlobal=function(e){var t=n.getContext();if(!e)return t;var r=Object.assign({},t,e);return a(r)};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(42)),a=r(43)},function(e,t,r){(function(t){var n=Symbol.prototype.valueOf,a=r(99);e.exports=function(e,r){switch(a(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return function(e){var r=e.length,n=t.allocUnsafe?t.allocUnsafe(r):t.from(r);return e.copy(n),n}(e);case"symbol":return function(e){return n?Object(n.call(e)):{}}(e);case"arraybuffer":return function(e){var t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(e,t){return new e.constructor(e.buffer,e.byteOffset,e.length)}(e);case"regexp":return function(e){var t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,r=new e.constructor(e.source,t);return r.lastIndex=e.lastIndex,r}(e);case"error":return Object.create(e);default:return e}}}).call(t,r(4).Buffer)},function(e,t){function r(e){return e.constructor?e.constructor.name:null}var n=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=void 0===e?"undefined":u(e);if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t){function r(e){return e.constructor?e.constructor.name:null}var n=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=void 0===e?"undefined":u(e);if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,r){function n(e){return!0===a(e)&&"[object Object]"===Object.prototype.toString.call(e)}var a=r(102);e.exports=function(e){var t,r;return!1!==n(e)&&"function"==typeof(t=e.constructor)&&!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},function(e,t,r){e.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":u(e))&&!1===Array.isArray(e)}},function(e,t,r){function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.callContextTypes=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(45),o=t.callContextTypes={frozenOrCalc:"frozenValueOrOneTimeEval",oneTimeCalc:"oneTimeEval",default:"useFrozen"},l=function(){function e(t,r,a){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._entityType="variant",this._validateDefault(t),Array.isArray(r)?(this._options=[].concat(n(r)),this._validateOptions(),this._name=a):(this._options=[],r&&"string"==typeof r&&(this._name=r)),-1===this._options.indexOf(t)&&this._options.push(t),this._value=this._defaultValue=t,this._type="string",this._frozen=!1,this._freezable=!0}return a(e,[{key:"_validateDefault",value:function(e){if("string"!=typeof e)throw new Error("RoxVariant default value must be string. Received '"+e+"'")}},{key:"_validateOptions",value:function(){var e=new Error("RoxVariant options must be a non-empty array of strings. Received '"+this._options+"'");if(!this._options.every(function(e){return"string"==typeof e}))throw e}},{key:"getInternalValue",value:function(){throw Error("not implemented")}},{key:"_getNameDetails",value:function(){if(this.name){var e=this.name.split(".");return{name:e.pop(),namespace:e.join(".")||"default"}}}},{key:"dump",value:function(){return{name:this.name,nameDetails:this._getNameDetails(),options:[].concat(n(this._options)),defaultValue:this.defaultValue,originalValue:this._originalValue(),
overridingValue:this.overridenValue,value:this.getInternalValue({dontInvokeFlagImpression:!0,type:o.frozenOrCalc})}}},{key:"_originalValue",value:function(){return this.getActiveValue({dontInvokeFlagImpression:!0,type:o.frozenOrCalc})}},{key:"_flagImpression",value:function(e,t){(0,i.invokeImpression)(e,this,t)}},{key:"defaultValue",get:function(){return this._defaultValue}},{key:"overridenValue",get:function(){if(this.overrider.hasOverride(this.name))return this.overrider.getOverride(this.name)}},{key:"name",set:function(e){this._name=e},get:function(){return this._name}}]),e}();t.default=l},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(105),l=r(106),s=r(9),d=r(11),f=n(r(21)),p=r(24),m=n(r(7)),h=n(r(19)),_=n(r(6)),v=n(r(14)),b=n(r(3)),y=r(49),g=n(r(107)),E=m.default.get("CLIENT_DATA_CACHE_KEY"),T=!1,w=function(){function e(t,r,n,a,i,o,l){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.cache=a.RoxCache,this.crypto=a.RoxCrypto,this.embdeddedJSON=this.fetchFromEmbedded(i),this.appKey=t,this.deviceProperties=r,this.devModeSecret=n,this.options=o||{},this.networkOptions=l,this.lastResponse=null}return i(e,[{key:"runHandler",value:function(e,t){if(t.errorDetails&&f.default.error("Configuration fetcher returned with "+t.fetcherStatus,t.errorDetails),e instanceof Function)try{e(t)}catch(e){}}},{key:"dispatch",value:function(e){var t=e.handler,r=e.options;b.default.debug("dispatch();");var n=[];if(r.useCache){if(this.embdeddedJSON){if(!this.verifyPayload(this.embdeddedJSON))throw new Error("The embdeddedJSON was corrupted or its authenticity cannot be securely verified.");var a=this.parsePayload(this.embdeddedJSON);a&&n.push({payload:this.embdeddedJSON,parser:a,status:y.FetcherStatus.APPLIED_FROM_EMBEDDED})}var i=this.fetchFromCache();if(i){if(!this.verifyPayload(i))throw new Error("The cachedPayload was corrupted or its authenticity cannot be securely verified.");var o=this.parsePayload(i);o&&n.push({payload:i,parser:o,status:y.FetcherStatus.APPLIED_FROM_CACHE})}}if(n.length>0){var l=n.reduce(function(e,t){return e&&e.parser.signedDate()>t.parser.signedDate()?e:t},null);(!this.lastApplied||this.lastApplied.signedDate()<l.parser.signedDate())&&(this.lastResponse=l.payload,this.apply(l.parser,l.status,!1,t,l.payload))}if(!r.skipNetwork){if(!this.shouldSkipFetch(r.source))return this._dispatch({handler:t,storeInCache:!0});b.default.debug("Skipping fetch - kill switch")}}},{key:"shouldSkipFetch",value:function(e){var t="push"===e,r=(0,p.getNumber)("rox.internal.throttleFetchInSeconds");if(r>0&&(!t||(0,p.isEnabled)("rox.internal.considerThrottleInPush"))){var n=+Date.now();if(this.lastFetchTryTime&&n<this.lastFetchTryTime+1e3*r)return!0;this.lastFetchTryTime=n}return!1}},{key:"dispatchPeriodically",value:function(e){var t=this,r=e.handler,n=e.periodTimeInSec;if(T)return b.default.debug("Dispatch Periodically already running"),c.resolve();T=!0,b.default.debug("Dispatch Periodically"),setInterval(function(){t._dispatch({handler:r})},1e3*n)}},{key:"_dispatch",value:function(e){var t=this,r=e.handler,n=e.storeInCache;return this.fetchFromNetwork().then(function(e){var a=t.isNewResponse(e);return t.process(e,y.FetcherStatus.APPLIED_FROM_NETWORK,a,r).then(function(){n&&t.storeInCache(e),t.lastResponse=e})}).catch(function(e){t.runHandler(r,new y.FetcherResults(y.FetcherStatus.ERROR_FETCH_FAILED,null,!1,e))})}},{key:"fetchFromNetwork",value:function(){b.default.debug("fetch from network for appKey "+this.appKey);var e=(0,l.buildRequestConfiguration)({appKey:this.appKey,deviceProperties:this.deviceProperties,devModeSecret:this.devModeSecret});return this.options.roxyUrl?(0,o.fetchRemoteConfigurationWithRoxy)(e,this.options.roxyUrl,this.networkOptions):(0,o.fetchRemoteConfiguration)(e,this.networkOptions)}},{key:"fetchFromCache",value:function(){b.default.debug("fetch From Cache");var e=this.cache.get(E),t=void 0;if(e){try{t=JSON.parse(e)}catch(e){b.default.warn("Configuration retrieved from cache, but is corrupted. Aborting. (Error: "+e+")")}if(t&&t.constructor===Object)return b.default.debug("Parsed cached = "+JSON.stringify(t)),t}}},{key:"fetchFromEmbedded",value:function(e){var t=void 0;if(e){try{t=JSON.parse(e)}catch(e){b.default.warn("Received embdedded configuration, but it is corrupted. Aborting. Error: ",e)}if(t&&t.constructor===Object)return b.default.debug("Parsed embedded = "+JSON.stringify(t)),t}if(g.default&&"object"===(void 0===g.default?"undefined":a(g.default)))return g.default}},{key:"storeInCache",value:function(e){b.default.debug("Store in cache response = "+JSON.stringify(e)),this.cache.set(E,JSON.stringify(e))}},{key:"process",value:function(e,t,r,n){if(!e)return c.reject("Empty configuration");if(!this.verifyPayload(e))throw new Error("The payload has corrupted or its authenticity cannot be securely verified.");var a=this.parsePayload(e);return a?this.apply(a,t,r,n,e):c.reject("Failed to parse configuration")}},{key:"apply",value:function(e,t,r,n,a){var i=this;if(e)return this.calculatePayload(e),this.lastApplied=e,new c(function(o){var l=new y.FetcherResults(t,e.signedDate(),r,void 0,a);i.runHandler(n,l),o()})}},{key:"parsePayload",value:function(e){var t=!this.options.roxyUrl,r=new s.ConfigurationParser(e,this.appKey,t);return r.parse()?r:(b.default.debug("failed to parse payload. response = "+JSON.stringify(e)+" deviceProps = "+this.deviceProperties+" app_key = "+this.appKey),null)}},{key:"verifyPayload",value:function(e){var t=e.signature_v0,r=e.data;return!!this.options.roxyUrl||this.crypto.verify(r,t)}},{key:"calculatePayload",value:function(e){if(e)return h.default.setTargetGroups(e.targetGroups()),_.default.setExperiments(e.experiments()),(new d.ConfigurationSetter).prepareConfigurations(e.remoteConfigurations()),new d.FlagsSetter(v.default,_.default).prepareFlagsWithExperiments(),e}},{key:"isNewResponse",value:function(e){return JSON.stringify(this.lastResponse)!==JSON.stringify(e)}}]),e}();t.default=w},function(e,t,r){function n(e){return e.catch(function(e){throw e.message="Unable to fetch rox configuration!\n"+e.message,l.default.error(e),e})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRemoteConfigurationWithRoxy=function(e,t,r){var a=(0,i.buildAPIURL)(e,t);return n((0,o.fetchFromRoxyAPI)(a.url,r))},t.fetchRemoteConfiguration=function(e,t){var r=e.cache_url+"?distinct_id="+e.distinct_id;return n((0,o.fetchFromCDN)(r,t).catch(function(){var r=(0,i.buildAPIURL)(e);return(0,o.fetchFromAPI)(r.url,r.body,t)}))};var a,i=r(46),o=r(47),l=(a=r(3))&&a.__esModule?a:{default:a}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.buildRequestConfiguration=void 0;var n,a=(n=r(7))&&n.__esModule?n:{default:n},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(48));t.buildRequestConfiguration=function(e){var t=e.appKey,r=e.deviceProperties,n=e.devModeSecret,o=r.getProperties();return o.app_key=t,o.buid=i.generateBuid(o),o.buid_generators_list=i.BUID_GENERATOR_LIST.join(","),o.relative_url=t+"/"+o.buid,o.cache_url=""+a.default.get("CD_S3_ENDPOINT")+o.relative_url,o.devModeSecret=n,o}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,a=void 0;try{a=$__ROX_EMBEDDED_CONTENT}catch(e){}if(a&&"string"==typeof a)try{a=JSON.parse(a)}catch(e){a=void 0}a&&a.constructor===Object&&a.signed_date&&(n=a),t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(12),i={flagsRepository:a.Flags,configurationRepository:a.Configuration},o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.options=Object.assign({},i,t),this._flagsRepository=this.options.flagsRepository,this._configurationRepository=this.options.configurationRepository,this._namespaceStore=new Set}return n(e,[{key:"handleContainer",value:function(e,t){if("[object String]"!==Object.prototype.toString.call(e))throw new Error("InvalidNamespace: Namespace must be a string (non-nullable).");if(this._namespaceStore.has(e))throw new Error("InvalidNamespace: A namespace must be unique. A container with the given namespace ('"+e+"') has already been registered.");for(var r in this._namespaceStore.add(e),t)if(t.hasOwnProperty(r)){var n=e?e+"."+r:r,a=t[r];"flag"!==a._entityType&&"variant"!==a._entityType||this._flagsRepository.addFlag(n,a),"configuration"===a._entityType&&this._configurationRepository.addRemoteConfiguration(n,a)}}}]),e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.cache=t,this._uuid=r,this.distinct_id=this.generateDistinctId(),this.app_release="0.0",this.distinctIdSetExplicitly=!1}return n(e,[{key:"setPlatform",value:function(e){this.platform=e}},{key:"setDistinctId",value:function(e){this.distinctIdSetExplicitly=!0,this.distinct_id=e}},{key:"setAppRelease",value:function(e){this.app_release=e}},{key:"uuid",value:function(){return this._uuid()}},{key:"generateDistinctId",value:function(){var e=this.cache.get("distinctId");return e||(e=this.uuid(),this.cache.set("distinctId",e)),e}}]),e}();t.default=a},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E=Object.assign({},E,e),T._dynamicApi=new l.default(e.EntitiesProvider,o.Flags,T),T};var i=r(15),o=r(12),l=n(r(51)),s=n(r(7)),u=r(23),d=r(9),f=r(45),p=n(r(111)),m=n(r(112)),h=r(24),_=r(31),v=n(r(139)),b=r(49),y=n(r(148)),g=5e3,E={ClassRegister:i.ClassRegister},T=new(t.Client=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.classRegisterer=new E.ClassRegister,this.sendStateDebounceNoCheck=(0,v.default)(function(){t._sendState()},r,{maxWait:r,leading:!1,trailing:!0}),this.sendStateDebounced=function(){t.appKey&&t.sendStateDebounceNoCheck()},this.onConfigurationFetched=this.onConfigurationFetched.bind(this)}return a(e,[{key:"setKey",value:function(e){if(!/^[a-f\d]{24}$/i.test(e))throw Error("invalid rollout apikey");this.app_key=e}},{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{this.handleOptions(e),E.DeviceProperties=E.DeviceProperties.create?E.DeviceProperties.create(E):E.DeviceProperties,this.app_release&&E.DeviceProperties.setAppRelease(this.app_release),this.distinct_id&&E.DeviceProperties.setDistinctId(this.distinct_id),this.platform&&E.DeviceProperties.setPlatform(this.platform),this.deviceProperties=E.DeviceProperties,i.BugsnagReporter.init(this.appKey,E.DeviceProperties,this.networkOptions),this.configurationFetcher=new i.ConfigurationFetcher(this.appKey,this.deviceProperties,this.devModeSecret,E,this.embeddedConfiguration,{roxyUrl:this.roxyUrl},this.networkOptions),this.roxyUrl||(this.stateSender=new y.default(this.appKey,this.deviceProperties,this.devModeSecret,this.networkOptions),(0,f.setAnalytics)(new p.default(this.appKey,Object.assign({},this.analyticsOptions),E.DeviceProperties,this.networkOptions))),E.getDefaultCustomProperties(this.deviceProperties,this.appKey).map(o.CustomProperties.setIfNotExists.bind(o.CustomProperties))}catch(e){var t="Oh uh! An error occured during setup.";i.RoxLogger.error(t,e),i.BugsnagReporter.error(t,e)}return c.resolve(this)}},{key:"handleOptions",value:function(e){var t=Object.assign({},E.DefaultSetupOptions,e);this.embeddedConfiguration=t.embedded,this.fetchIntervalInSec=t.fetchIntervalInSec,this.disablePushUpdateListener=t.disablePushUpdateListener,this.configurationFetchedHandler=t.configurationFetchedHandler,this.impressionHandler=t.impressionHandler,this.app_release=t.version,this.distinct_id=t.distinctId,this.devModeSecret=t.devModeSecret,this.platform=t.platform,this.roxyUrl=t.roxy,this.networkOptions={httpAgent:t.httpAgent,httpsAgent:t.httpsAgent},this.analyticsOptions=t.analytics,this.eventSourceImpl=t.eventSourceImpl,this.notificationEndpoint=t.configuration&&t.configuration.NOTIFICATIONS_ENDPOINT?t.configuration.NOTIFICATIONS_ENDPOINT:s.default.get("NOTIFICATIONS_ENDPOINT"),(0,f.setHandler)(this.impressionHandler),e.logger&&i.RoxLogger.setLogger(e.logger)}},{key:"fetchPeriodically",value:function(){if(!this.app_key)return i.RoxLogger.warn("no app key"),c.reject();if(this.fetchIntervalInSec<=0)return c.resolve();this.fetchIntervalInSec<30&&(this.fetchIntervalInSec=30);var e=this._fetch({useCache:!1});return this.configurationFetcher.dispatchPeriodically({handler:this.onConfigurationFetched,periodTimeInSec:this.fetchIntervalInSec}),e}},{key:"fetchCacheOnly",value:function(){return this._fetch({useCache:!0,skipNetwork:!0})}},{key:"fetchWithCacheAndProceed",value:function(){return this._fetch({useCache:!0})}},{key:"fetch",value:function(){return this._fetch({useCache:!1})}},{key:"_fetchFromPush",value:function(){return this._fetch({useCache:!1,source:"push"})}},{key:"sendState",value:function(){this._sendState()}},{key:"_sendState",value:function(){this.sendStateDebounceNoCheck.cancel(),this.app_key&&this.stateSender&&this.stateSender.send()}},{key:"_fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.app_key){if(this.configurationFetcher)return this.configurationFetcher.dispatch({handler:this.onConfigurationFetched,options:e})}else i.RoxLogger.warn("no app key")}},{key:"register",value:function(e,t){i.RoxLogger.debug("Registering container '"+e+"' = "+JSON.stringify(t)),this.classRegisterer.handleContainer(e,t),this.sendStateDebounced()}},{key:"setCustomProperty",value:function(e,t,r){var n=new u.CustomProperty(e,t,r),a=!o.CustomProperties.has(n);o.CustomProperties.set(n),a&&this.sendStateDebounced()}},{key:"unfreeze",value:function(e,t){var r=function(t){if(!t.name||"string"!=typeof e)return!0;var r=t.name.split(".");return 1===r.length&&""===e||r.slice(0,r.length-1).join(".")===e};o.Flags.flags.filter(r).forEach(function(e){e.unfreeze(t)}),o.Configuration.remoteConfigurations.filter(r).forEach(function(e){e.unfreeze(t)})}},{key:"onConfigurationFetched",value:function(e){try{e.fetcherStatus!==b.FetcherStatus.ERROR_FETCH_FAILED&&this.startOrStopPushUpdatesListener()}catch(e){i.RoxLogger.warn("Cound not start or stop push notification listener. exception: "+e)}if(this.configurationFetchedHandler instanceof Function)try{return this.configurationFetchedHandler(e)}catch(e){}}},{key:"startOrStopPushUpdatesListener",value:function(){var e=this;!this.disablePushUpdateListener&&(0,h.isEnabled)("rox.internal.pushUpdates")?this.app_key&&(this.pushUpdatesListener||(this.pushUpdatesListener=new m.default(this.notificationEndpoint,this.app_key,this.eventSourceImpl),this.pushUpdatesListener.on("changed",function(){e._fetchFromPush()}))):this.pushUpdatesListener&&(this.pushUpdatesListener.stop(),this.pushUpdatesListener=null)}},{key:"setDynamicCustomPropertyRule",value:function(e){(0,_.setDynamicPropertyHandler)(e)}},{key:"dynamicApi",get:function(){return this._dynamicApi}},{key:"appKey",get:function(){return this.app_key}},{key:"metadata",get:function(){var e=new d.RoxxParser;return{targetGroups:o.TargetGroups.targetGroups.map(function(t){return{name:t.name,isEnabled:e.evaluateExpression(t.condition)}}),experiments:o.Experiments.experiments.map(function(t){return{name:t.name,isEnabled:"true"===e.evaluateExpression(t.deploymentConfiguration.condition)}}),remoteConfigurations:o.Configuration.remoteConfigurations.map(function(e){return{name:e.name,value:e.value}}),flags:o.Flags.flags.map(function(e){return{name:e.name,value:e._peek()}})}}}]),e}())},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(7))&&n.__esModule?n:{default:n},o=r(22).create(),l=function(e){setTimeout(e,5)},s=function(){},u=function(){function e(t,r,n,a){if(function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),r=r||{},this.queue=[],this.writeKey=t,this.host=r.host||i.default.get("ANALYTICS_ENDPOINT"),this.timeout=r.timeout||!1,this.flushAt=Math.max(r.flushAt,1)||20,this.flushInterval=r.flushInterval||1e4,this.flushed=!1,this.version=n.getProperties().lib_version||"0.0",void 0===n.getProperties().platform)throw new Error("Platform must be provided");this.platform=n.getProperties().platform||"",this.networkOptions=a,Object.defineProperty(this,"enable",{configurable:!1,writable:!1,enumerable:!0,value:"boolean"!=typeof r.enable||r.enable})}return a(e,[{key:"identify",value:function(e,t){return this.enqueue("identify",e,t),this}},{key:"group",value:function(e,t){return this.enqueue("group",e,t),this}},{key:"track",value:function(e,t){return this.enqueue("track",e,t),this}},{key:"page",value:function(e,t){return this.enqueue("page",e,t),this}},{key:"screen",value:function(e,t){return this.enqueue("screen",e,t),this}},{key:"alias",value:function(e,t){return this.enqueue("alias",e,t),this}},{key:"enqueue",value:function(e,t,r){return r=r||s,this.enable?(t=Object.assign({},t),this.queue.push({message:t,callback:r}),this.flushed?(this.queue.length>=this.flushAt&&this.flush(),void(this.flushInterval&&!this.timer&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval)))):(this.flushed=!0,void this.flush())):l(r)}},{key:"flush",value:function(e){if(e=e||s,!this.enable)return l(e);if(this.timer&&(clearTimeout(this.timer),this.timer=null),!this.queue.length)return l(e);var t=this.queue.splice(0,this.flushAt),r=t.map(function(e){return e.callback}),n=t.map(function(e){return e.message}),a={analyticsVersion:"1.0.0",sdkVersion:this.version,time:(new Date).getTime(),platform:this.platform,rolloutKey:this.writeKey,events:n},i=function(t){r.forEach(function(e){return e(t)}),e(t,a)},u={method:"POST",url:this.host+"/impression/"+this.writeKey,data:a,httpsAgent:this.networkOptions.httpsAgent,httpAgent:this.networkOptions.httpAgent};this.timeout&&(u.timeout=this.timeout),o(u).then(function(){return i()}).catch(function(e){if(e.response){var t=new Error(e.response.statusText);return i(t)}i(e)})}}]),e}();t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)},o=(n=r(113))&&n.__esModule?n:{default:n},l="object"===("undefined"==typeof window?"undefined":i(window))&&window.EventSource?window.EventSource:o.default,s=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var a=t+(t.endsWith("/")?"":"/")+r;this.eventSource=n?new n(a):new l(a)}return a(e,[{key:"on",value:function(e,t){this.eventSource.addEventListener(e,function(e){try{t(e)}catch(e){}})}},{key:"stop",value:function(){this.eventSource.close()}}]),e}();t.default=s},function(e,t,r){(function(t,n){function a(e,r){function s(t){g!==a.CLOSED&&(g=a.CONNECTING,b("error",new i("error",{message:t})),O&&(e=O,O=null),setTimeout(function(){g===a.CONNECTING&&d()},T.reconnectInterval))}function d(){var o=l(e),h="https:"===o.protocol;if(o.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},w&&(o.headers["Last-Event-ID"]=w),r&&r.headers)for(var P in r.headers){var D=r.headers[P];D&&(o.headers[P]=D)}if(o.rejectUnauthorized=!(r&&!r.rejectUnauthorized),r&&r.proxy){var C=l(r.proxy);h="https:"===C.protocol,o.protocol=h?"https:":"http:",o.path=e,o.headers.Host=o.host,o.hostname=C.hostname,o.host=C.host,o.port=C.port}if(r&&r.https)for(var I in r.https)if(-1!==f.indexOf(I)){var A=r.https[I];void 0!==A&&(o[I]=A)}r&&void 0!==r.withCredentials&&(o.withCredentials=r.withCredentials),(E=(h?u:c).request(o,function(r){if(500===r.statusCode||502===r.statusCode||503===r.statusCode||504===r.statusCode)return b("error",new i("error",{status:r.statusCode,message:r.statusMessage})),void s();if(301===r.statusCode||307===r.statusCode)return r.headers.location?(307===r.statusCode&&(O=e),e=r.headers.location,void t.nextTick(d)):void b("error",new i("error",{status:r.statusCode,message:r.statusMessage}));if(200!==r.statusCode)return b("error",new i("error",{status:r.statusCode,message:r.statusMessage})),T.close();g=a.OPEN,r.on("close",function(){r.removeAllListeners("close"),r.removeAllListeners("end"),s()}),r.on("end",function(){r.removeAllListeners("close"),r.removeAllListeners("end"),s()}),b("open",new i("open"));var o,l=!0;r.on("data",function(e){o=o?n.concat([o,e]):e,l&&function(e){return p.every(function(t,r){return e[r]===t})}(o)&&(o=o.slice(p.length)),l=!1;for(var t=0,r=o.length;t<r;){R&&(o[t]===_&&++t,R=!1);for(var a,i=-1,s=-1,u=t;i<0&&u<r;++u)(a=o[u])===m?s<0&&(s=u-t):a===v?(R=!0,i=u-t):a===_&&(i=u-t);if(i<0)break;y(o,t,s,i),t+=i+1}t===r?o=void 0:t>0&&(o=o.slice(t))})})).on("error",function(e){s(e.message)}),E.setNoDelay&&E.setNoDelay(!0),E.end()}function b(){T.listeners(arguments[0]).length>0&&T.emit.apply(T,arguments)}function y(t,r,n,a){if(0===a){if(P.length>0){var i=D||"message";b(i,new function(e,t){for(var r in Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}(i,{data:P.slice(0,-1),lastEventId:w,origin:o(e)})),P=""}D=void 0}else if(n>0){var l,s=n<0,u=t.slice(r,r+(s?a:n)).toString();r+=l=s?a:t[r+n+1]!==h?n+1:n+2;var c=a-l,d=t.slice(r,r+c).toString();if("data"===u)P+=d+"\n";else if("event"===u)D=d;else if("id"===u)w=d;else if("retry"===u){var f=parseInt(d,10);Number.isNaN(f)||(T.reconnectInterval=f)}}}var g=a.CONNECTING;Object.defineProperty(this,"readyState",{get:function(){return g}}),Object.defineProperty(this,"url",{get:function(){return e}});var E,T=this;T.reconnectInterval=1e3;var w="";r&&r.headers&&r.headers["Last-Event-ID"]&&(w=r.headers["Last-Event-ID"],delete r.headers["Last-Event-ID"]);var R=!1,P="",D="",O=null;d(),this._close=function(){g!==a.CLOSED&&(g=a.CLOSED,E.abort&&E.abort(),E.xhr&&E.xhr.abort&&E.xhr.abort())}}function i(e,t){if(Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)for(var r in t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}var o=r(114),l=r(25).parse,s=r(26),u=r(124),c=r(52),d=r(136),f=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],p=[239,187,191],m=58,h=32,_=10,v=13;e.exports=a,d.inherits(a,s.EventEmitter),a.prototype.constructor=a,["open","error","message"].forEach(function(e){Object.defineProperty(a.prototype,"on"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})}),Object.defineProperty(a,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(a,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(a,"CLOSED",{enumerable:!0,value:2}),a.prototype.CONNECTING=0,a.prototype.OPEN=1,a.prototype.CLOSED=2,a.prototype.close=function(){this._close()},a.prototype.addEventListener=function(e,t){"function"==typeof t&&(t._listener=t,this.on(e,t))},a.prototype.dispatchEvent=function(e){if(!e.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(e.type,e.detail)},a.prototype.removeEventListener=function(e,t){"function"==typeof t&&(t._listener=void 0,this.removeListener(e,t))}}).call(t,r(2),r(4).Buffer)},function(e,t,r){function n(e){return"string"==typeof e&&(e=a(e)),e.protocol&&e.hostname?(e.protocol+"//"+e.host).toLowerCase():"null"}var a=r(115);n.same=function(e,t){return n(e)===n(t)},e.exports=n},function(e,t,r){(function(t){function n(e){return(e||"").toString().replace(f,"")}function a(e){var r,n=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},a={},i=u(e=e||n);if("blob:"===e.protocol)a=new o(unescape(e.pathname),{});else if("string"===i)for(r in a=new o(e,{}),m)delete a[r];else if("object"===i){for(r in e)r in m||(a[r]=e[r]);void 0===a.slashes&&(a.slashes=c.test(e.href))}return a}function i(e){e=n(e);var t=d.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function o(e,t,r){if(e=n(e),!(this instanceof o))return new o(e,t,r);var c,d,f,m,h,_,v=p.slice(),b=void 0===t?"undefined":u(t),y=this,g=0;for("object"!==b&&"string"!==b&&(r=t,t=null),r&&"function"!=typeof r&&(r=s.parse),t=a(t),c=!(d=i(e||"")).protocol&&!d.slashes,y.slashes=d.slashes||c&&t.slashes,y.protocol=d.protocol||t.protocol||"",e=d.rest,d.slashes||(v[3]=[/(.*)/,"pathname"]);g<v.length;g++)"function"!=typeof(m=v[g])?(f=m[0],_=m[1],f!=f?y[_]=e:"string"==typeof f?~(h=e.indexOf(f))&&("number"==typeof m[2]?(y[_]=e.slice(0,h),e=e.slice(h+m[2])):(y[_]=e.slice(h),e=e.slice(0,h))):(h=f.exec(e))&&(y[_]=h[1],e=e.slice(0,h.index)),y[_]=y[_]||c&&m[3]&&t[_]||"",m[4]&&(y[_]=y[_].toLowerCase())):e=m(e);r&&(y.query=r(y.query)),c&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,a=r[n-1],i=!1,o=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),o++):o&&(0===n&&(i=!0),r.splice(n,1),o--);return i&&r.unshift(""),"."!==a&&".."!==a||r.push(""),r.join("/")}(y.pathname,t.pathname)),l(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(m=y.auth.split(":"),y.username=m[0]||"",y.password=m[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}var l=r(116),s=r(117),c=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,f=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+"),p=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};o.prototype={set:function(e,t,r){var n=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||s.parse)(t)),n[e]=t;break;case"port":n[e]=t,l(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";n[e]=t.charAt(0)!==a?a+t:t}else n[e]=t;break;default:n[e]=t}for(var i=0;i<p.length;i++){var o=p[i];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(e){e&&"function"==typeof e||(e=s.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var a=n+(r.slashes?"//":"");return r.username&&(a+=r.username,r.password&&(a+=":"+r.password),a+="@"),a+=r.host+r.pathname,(t="object"==u(r.query)?e(r.query):r.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(a+=r.hash),a}},o.extractProtocol=i,o.location=a,o.trimLeft=n,o.qs=s,e.exports=o}).call(t,r(0))},function(e,t,r){e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,r){function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}var a=Object.prototype.hasOwnProperty;t.stringify=function(e,t){t=t||"";var r,n,i=[];for(n in"string"!=typeof t&&(t="?"),e)if(a.call(e,n)){if((r=e[n])||null!==r&&void 0!==r&&!isNaN(r)||(r=""),n=encodeURIComponent(n),r=encodeURIComponent(r),null===n||null===r)continue;i.push(n+"="+r)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,a={};t=r.exec(e);){var i=n(t[1]),o=n(t[2]);null===i||null===o||i in a||(a[i]=o)}return a}},function(e,t,r){(function(e,n){var a;!function(i){function o(e){throw new RangeError(I[e])}function l(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function s(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+l((e=e.replace(C,".")).split("."),t).join(".")}function c(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function d(e){return l(e,function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+k(e)}).join("")}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,r){var n=0;for(e=r?S(e/T):e>>1,e+=S(e/t);e>A*g>>1;n+=b)e=S(e/A);return S(n+(A+1)*e/(e+E))}function m(e){var t,r,n,a,i,l,s,u,c,f,m,h=[],_=e.length,E=0,T=R,D=w;for((r=e.lastIndexOf(P))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&o("not-basic"),h.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<_;){for(i=E,l=1,s=b;a>=_&&o("invalid-input"),((u=(m=e.charCodeAt(a++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:b)>=b||u>S((v-E)/l))&&o("overflow"),E+=u*l,!(u<(c=s<=D?y:s>=D+g?g:s-D));s+=b)l>S(v/(f=b-c))&&o("overflow"),l*=f;D=p(E-i,t=h.length+1,0==i),S(E/t)>v-T&&o("overflow"),T+=S(E/t),E%=t,h.splice(E++,0,T)}return d(h)}function h(e){var t,r,n,a,i,l,s,u,d,m,h,_,E,T,D,O=[];for(_=(e=c(e)).length,t=R,r=0,i=w,l=0;l<_;++l)(h=e[l])<128&&O.push(k(h));for(n=a=O.length,a&&O.push(P);n<_;){for(s=v,l=0;l<_;++l)(h=e[l])>=t&&h<s&&(s=h);for(s-t>S((v-r)/(E=n+1))&&o("overflow"),r+=(s-t)*E,t=s,l=0;l<_;++l)if((h=e[l])<t&&++r>v&&o("overflow"),h==t){for(u=r,d=b;!(u<(m=d<=i?y:d>=i+g?g:d-i));d+=b)D=u-m,T=b-m,O.push(k(f(m+D%T,0))),u=S(D/T);O.push(k(f(u,0))),i=p(r,E,n==a),r=0,++n}++r,++t}return O.join("")}"object"==(void 0===t?"undefined":u(t))&&t&&t.nodeType,
"object"==(void 0===e?"undefined":u(e))&&e&&e.nodeType;var _,v=(void 0===n||u(n),2147483647),b=36,y=1,g=26,E=38,T=700,w=72,R=128,P="-",D=/^xn--/,O=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=b-y,S=Math.floor,k=String.fromCharCode;_={version:"1.4.1",ucs2:{decode:c,encode:d},decode:m,encode:h,toASCII:function(e){return s(e,function(e){return O.test(e)?"xn--"+h(e):e})},toUnicode:function(e){return s(e,function(e){return D.test(e)?m(e.slice(4).toLowerCase()):e})}},void 0===(a=function(){return _}.call(t,r,t,e))||(e.exports=a)}()}).call(t,r(119)(e),r(0))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==(void 0===e?"undefined":u(e))&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){t.decode=t.parse=r(122),t.encode=t.stringify=r(123)},function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var l=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var d,f,p,m,h=e[c].replace(l,"%20"),_=h.indexOf(r);_>=0?(d=h.substr(0,_),f=h.substr(_+1)):(d=h,f=""),p=decodeURIComponent(d),m=decodeURIComponent(f),n(o,p)?a(o[p])?o[p].push(m):o[p]=[o[p],m]:o[p]=m}return o};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=function(e){switch(void 0===e?"undefined":u(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,l){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==(void 0===e?"undefined":u(e))?n(o(e),function(o){var l=encodeURIComponent(a(o))+r;return i(e[o])?n(e[o],function(e){return l+encodeURIComponent(a(e))}).join(t):l+encodeURIComponent(a(e[o]))}).join(t):l?encodeURIComponent(a(l))+r+encodeURIComponent(a(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){function n(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var a=r(52),i=r(25),o=e.exports;for(var l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);o.request=function(e,t){return e=n(e),a.request.call(this,e,t)},o.get=function(e,t){return e=n(e),a.get.call(this,e,t)}},function(e,t,r){(function(t,n,a){var i=r(53),o=r(5),l=r(126),s=r(54),u=r(133),c=l.IncomingMessage,d=l.readyStates,f=e.exports=function(e){var r,n=this;s.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){n.setHeader(t,e.headers[t])});var a=!0;if("disable-fetch"===e.mode||"timeout"in e)a=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":i.vbArray&&e?"text:vbarray":"text"}(r,a),n.on("finish",function(){n._onFinish()})};o(f,s.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,o=e._headers,l=null;"GET"!==r.method&&"HEAD"!==r.method&&(l=i.blobConstructor?new n.Blob(e._body.map(function(e){return u(e)}),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var s=[];if(Object.keys(o).forEach(function(e){var t=o[e].name,r=o[e].value;Array.isArray(r)?r.forEach(function(e){s.push([t,e])}):s.push([t,r])}),"fetch"===e._mode)n.fetch(e._opts.url,{method:e._opts.method,headers:s,body:l||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)});else{var c=e._xhr=new n.XMLHttpRequest;try{c.open(e._opts.method,e._opts.url,!0)}catch(t){return void a.nextTick(function(){e.emit("error",t)})}"responseType"in c&&(c.responseType=e._mode.split(":")[0]),"withCredentials"in c&&(c.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in c&&c.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in r&&(c.timeout=r.timeout,c.ontimeout=function(){e.emit("timeout")}),s.forEach(function(e){c.setRequestHeader(e[0],e[1])}),e._response=null,c.onreadystatechange=function(){switch(c.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(c.onprogress=function(){e._onXHRProgress()}),c.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{c.send(l)}catch(t){return void a.nextTick(function(){e.emit("error",t)})}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,this._response&&(this._response._destroyed=!0),this._xhr&&this._xhr.abort()},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),s.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(t,r(4).Buffer,r(0),r(2))},function(e,t,r){(function(e,n,a){var i=r(53),o=r(5),l=r(54),s=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,r,a){var o=this;if(l.Readable.call(o),o._mode=a,o.headers={},o.rawHeaders=[],o.trailers={},o.rawTrailers=[],o.on("end",function(){e.nextTick(function(){o.emit("close")})}),"fetch"===a){o._fetchResponse=r,o.url=r.url,o.statusCode=r.status,o.statusMessage=r.statusText,r.headers.forEach(function(e,t){o.headers[t.toLowerCase()]=e,o.rawHeaders.push(t,e)});var s=r.body.getReader();!function e(){s.read().then(function(t){o._destroyed||(t.done?o.push(null):(o.push(new n(t.value)),e()))}).catch(function(e){o.emit("error",e)})}()}else if(o._xhr=t,o._pos=0,o.url=t.responseURL,o.statusCode=t.status,o.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===o.headers[r]&&(o.headers[r]=[]),o.headers[r].push(t[2])):void 0!==o.headers[r]?o.headers[r]+=", "+t[2]:o.headers[r]=t[2],o.rawHeaders.push(t[1],t[2])}}),o._charset="x-user-defined",!i.overrideMimeType){var u=o.rawHeaders["mime-type"];if(u){var c=u.match(/;\s*charset=([^;])(;|$)/);c&&(o._charset=c[1].toLowerCase())}o._charset||(o._charset="utf-8")}};o(u,l.Readable),u.prototype._read=function(){},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==s.DONE)break;try{r=new a.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var i=r.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new n(i.length),l=0;l<i.length;l++)o[l]=255&i.charCodeAt(l);e.push(o)}else e.push(i,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==s.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==s.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==s.LOADING)break;var u=new a.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(r)}e._xhr.readyState===s.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(t,r(2),r(4).Buffer,r(0))},function(e,t){},function(e,t,r){var n=r(17).Buffer;e.exports=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,a=n.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=a,r=o,i.data.copy(t,r),o+=i.data.length,i=i.next;return a},e}()},function(t,r,a){function i(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;r.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a(130),r.setImmediate=e,r.clearImmediate=n},function(e,t,r){(function(e,t){!function(e,r){function n(e){delete d[e]}function a(e){if(f)setTimeout(a,0,e);else{var t=d[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{n(e),f=!1}}}}if(!e.setImmediate){var i,o,l,s,u,c=1,d={},f=!1,p=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){a(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(s="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&a(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),i=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((l=new MessageChannel).port1.onmessage=function(e){a(e.data)},i=function(e){l.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,i=function(e){var t=p.createElement("script");t.onreadystatechange=function(){a(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):i=function(e){setTimeout(a,0,e)},m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return d[c]=n,i(c),c++},m.clearImmediate=n}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(0),r(2))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(t,r(0))},function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);a.call(this,e)}e.exports=n;var a=r(60),i=r(10);i.inherits=r(5),i.inherits(n,a),n.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){var n=r(4).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,a=0;a<r;a++)t[a]=e[a];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var a in n)r.call(n,a)&&(e[a]=n[a])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e,n){function a(e,r){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),l(n,e,n.depth)}function i(e,t){var r=a.styles[t];return r?"\x1b["+a.colors[r][0]+"m"+e+"\x1b["+a.colors[r][1]+"m":e}function o(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return h(a)||(a=l(e,a,n)),a}var i=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(h(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):p(t)?e.stylize("null","null"):void 0}(e,r);if(i)return i;var o,u=Object.keys(r),b=(o={},u.forEach(function(e,t){o[e]=!0}),o);if(e.showHidden&&(u=Object.getOwnPropertyNames(r)),g(r)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return s(r);if(0===u.length){if(E(r)){var T=r.name?": "+r.name:"";return e.stylize("[Function"+T+"]","special")}if(v(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(y(r))return e.stylize(Date.prototype.toString.call(r),"date");if(g(r))return s(r)}var w,P="",D=!1,O=["{","}"];return d(r)&&(D=!0,O=["[","]"]),E(r)&&(P=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(P=" "+RegExp.prototype.toString.call(r)),y(r)&&(P=" "+Date.prototype.toUTCString.call(r)),g(r)&&(P=" "+s(r)),0!==u.length||D&&0!=r.length?n<0?v(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),w=D?function(e,t,r,n,a){for(var i=[],o=0,l=t.length;o<l;++o)R(t,String(o))?i.push(c(e,t,r,n,String(o),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(c(e,t,r,n,a,!0))}),i}(e,r,n,b,u):u.map(function(t){return c(e,r,n,b,t,D)}),e.seen.pop(),function(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(w,P,O)):O[0]+P+O[1]}function s(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,r,n,a,i){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),R(n,a)||(o="["+a+"]"),s||(e.seen.indexOf(u.value)<0?(s=p(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),_(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function d(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function p(e){return null===e}function m(e){return"number"==typeof e}function h(e){return"string"==typeof e}function _(e){return void 0===e}function v(e){return b(e)&&"[object RegExp]"===T(e)}function b(e){return"object"==(void 0===e?"undefined":u(e))&&null!==e}function y(e){return b(e)&&"[object Date]"===T(e)}function g(e){return b(e)&&("[object Error]"===T(e)||e instanceof Error)}function E(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function w(e){return e<10?"0"+e.toString(10):e.toString(10)}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;t.format=function(e){if(!h(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(P,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),l=n[r];r<i;l=n[++r])p(l)||!b(l)?o+=" "+l:o+=" "+a(l);return o},t.deprecate=function(r,a){if(_(e.process))return function(){return t.deprecate(r,a).apply(this,arguments)};if(!0===n.noDeprecation)return r;var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(a);n.traceDeprecation?console.trace(a):console.error(a),i=!0}return r.apply(this,arguments)}};var D,O={};t.debuglog=function(e){if(_(D)&&(D=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!O[e])if(new RegExp("\\b"+e+"\\b","i").test(D)){var r=n.pid;O[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else O[e]=function(){};return O[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=f,t.isNull=p,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=h,t.isSymbol=function(e){return"symbol"==(void 0===e?"undefined":u(e))},t.isUndefined=_,t.isRegExp=v,t.isObject=b,t.isDate=y,t.isError=g,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==(void 0===e?"undefined":u(e))||void 0===e},t.isBuffer=r(137);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){var e,r;console.log("%s - %s",(r=[w((e=new Date).getHours()),w(e.getMinutes()),w(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(138),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(0),r(2))},function(e,t){e.exports=function(e){return e&&"object"==(void 0===e?"undefined":u(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){var n=r(61),a=r(140),i=r(142),o=Math.max,l=Math.min;e.exports=function(e,t,r){function s(t){var r=p,n=m;return p=m=void 0,y=t,_=e.apply(n,r)}function u(e){var r=e-b;return void 0===b||r>=t||r<0||E&&e-y>=h}function c(){var e=a();if(u(e))return d(e);v=setTimeout(c,function(e){var r=t-(e-b);return E?l(r,h-(e-y)):r}(e))}function d(e){return v=void 0,T&&p?s(e):(p=m=void 0,_)}function f(){var e=a(),r=u(e);if(p=arguments,m=this,b=e,r){if(void 0===v)return function(e){return y=e,v=setTimeout(c,t),g?s(e):_}(b);if(E)return v=setTimeout(c,t),s(b)}return void 0===v&&(v=setTimeout(c,t)),_}var p,m,h,_,v,b,y=0,g=!1,E=!1,T=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t=i(t)||0,n(r)&&(g=!!r.leading,h=(E="maxWait"in r)?o(i(r.maxWait)||0,t):h,T="trailing"in r?!!r.trailing:T),f.cancel=function(){void 0!==v&&clearTimeout(v),y=0,p=b=m=v=void 0},f.flush=function(){return void 0===v?_:d(a())},f}},function(e,t,r){var n=r(62);e.exports=function(){return n.Date.now()}},function(e,t,r){(function(t){var r="object"==(void 0===t?"undefined":u(t))&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(0))},function(e,t,r){var n=r(61),a=r(143),i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=l.test(e);return r||s.test(e)?u(e.slice(2),r?2:8):o.test(e)?NaN:+e}},function(e,t,r){var n=r(144),a=r(147);e.exports=function(e){return"symbol"==(void 0===e?"undefined":u(e))||a(e)&&"[object Symbol]"==n(e)}},function(e,t,r){var n=r(63),a=r(145),i=r(146),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},function(e,t,r){var n=r(63),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,l=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),r=e[l];try{e[l]=void 0;var n=!0}catch(e){}var a=o.call(e);return n&&(t?e[l]=r:delete e[l]),a}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":u(e))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(149),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(48)),l=r(15),s=new(((n=r(50))&&n.__esModule?n:{default:n}).default),u=function(){function e(t,r,n,a){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.appKey=t,this.deviceProperties=r,this.devModeSecret=n,this.networkOptions=a}return a(e,[{key:"send",value:function(){l.RoxLogger.debug("check for cached state for appKey "+this.appKey);var e=this.buildSetState();try{(0,i.sendStateNetwork)(e,this.networkOptions)}catch(e){l.RoxLogger.error("failed to send state",e)}}},{key:"sortItemsByName",value:function(e){return e.sort(function(e,t){return e.name>t.name?-1:1})}},{key:"buildSetState",value:function(){var e=this.deviceProperties.getProperties();return e.app_key=this.appKey,e.feature_flags=this.sortItemsByName(s.featureFlags),e.custom_properties=this.sortItemsByName(s.customProperties),e.remoteVariables=this.sortItemsByName(s.remoteConfiguration),e.devModeSecret=this.devModeSecret,e.md5=o.generateStateMd5(e),e}}]),e}();t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendStateNetwork=function(e,t){var r=(0,a.buildSetStateS3URL)(e);return(0,n.stateFromCDN)(r,t).catch(function(){var r=(0,a.buildSetStateAPIURL)(e);return(0,n.setStateToAPI)(r.url,r.body,t)}).catch(function(e){throw e.message="Unable to send state!\n"+e.message,e})};var n=r(47),a=r(46)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(44))&&n.__esModule?n:{default:n},o=function(){function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._json=t}return a(e,[{key:"parse",value:function(){if(!this._json||!this._json.length)return[];var e=[];return this._json.forEach(function(t){t&&t._id&&t.condition&&e.push(new i.default(t._id,t.condition))}),e}}]),e}();t.default=o}]).default},"object"==u(t)&&"object"==u(a)?a.exports=s():(o=[],void 0===(l="function"==typeof(i=s)?i.apply(t,o):i)||(a.exports=l))}).call(t,r(93).setImmediate,r(93).clearImmediate,r(203)(e))},function(e,t,r){var n=r(29);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(56),a=r(22),i=r(12),o=r(36),l=r(9),s=r(68),u=Object.getOwnPropertyDescriptor;t.f=r(8)?u:function(e,t){if(e=i(e),t=o(t,!0),s)try{return u(e,t)}catch(e){}if(l(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(3),a=r(10),i=r(9),o=r(23)("src"),l=Function.toString,s=(""+l).split("toString");r(35).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,r,l){var u="function"==typeof r;u&&(i(r,"name")||a(r,"name",t)),e[t]!==r&&(u&&(i(r,o)||a(r,o,e[t]?""+e[t]:s.join(String(t)))),e===n?e[t]=r:l?e[t]?e[t]=r:a(e,t,r):(delete e[t],a(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||l.call(this)})},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(23)("meta"),a=r(1),i=r(9),o=r(7).f,l=0,s=Object.isExtensible||function(){return!0},u=!r(4)(function(){return s(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++l,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!s(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!s(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&d.NEED&&s(e)&&!i(e,n)&&c(e),e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(19),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},function(e,t){e.exports={}},function(e,t,r){var n=r(9),a=r(13),i=r(48)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){var n=r(5)("unscopables"),a=Array.prototype;void 0==a[n]&&r(10)(a,n,{}),e.exports=function(e){a[n][e]=!0}},function(e,t,r){var n=r(1);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(18);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(71),a=r(49);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t,r){var n=r(16),a=r(46),i=r(13),o=r(6),l=r(100);e.exports=function(e,t){var r=1==e,s=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d,p=t||l;return function(t,l,m){for(var h,_,v=i(t),b=a(v),y=n(l,m,3),g=o(b.length),E=0,T=r?p(t,g):s?p(t,0):void 0;g>E;E++)if((f||E in b)&&(_=y(h=b[E],E,v),e))if(r)T[E]=_;else if(_)switch(e){case 3:return!0;case 5:return h;case 6:return E;case 2:T.push(h)}else if(c)return!1;return d?-1:u||c?c:T}}},function(e,t){var r=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(1);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(71),a=r(49).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){var n=r(7).f,a=r(9),i=r(5)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(2),a=r(99),i=r(49),o=r(48)("IE_PROTO"),l=function(){},s=function(){var e,t=r(43)("iframe"),n=i.length;for(t.style.display="none",r(75).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s.prototype[i[n]];return s()};e.exports=Object.create||function(e,t){var r;return null!==e?(l.prototype=n(e),r=new l,l.prototype=null,r[o]=e):r=s(),void 0===t?r:a(r,t)}},function(e,t,r){"use strict"
;var n=r(3),a=r(0),i=r(18),o=r(30),l=r(21),s=r(57),u=r(31),c=r(1),d=r(4),f=r(55),p=r(38),m=r(113);e.exports=function(e,t,r,h,_,v){var b=n[e],y=b,g=_?"set":"add",E=y&&y.prototype,T={},w=function(e){var t=E[e];i(E,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof y&&(v||E.forEach&&!d(function(){(new y).entries().next()}))){var R=new y,P=R[g](v?{}:-0,1)!=R,D=d(function(){R.has(1)}),O=f(function(e){new y(e)}),C=!v&&d(function(){for(var e=new y,t=5;t--;)e[g](t,t);return!e.has(-0)});O||((y=t(function(t,r){u(t,y,e);var n=m(new b,t,y);return void 0!=r&&s(r,_,n[g],n),n})).prototype=E,E.constructor=y),(D||C)&&(w("delete"),w("has"),_&&w("get")),(C||P)&&w(g),v&&E.clear&&delete E.clear}else y=h.getConstructor(t,e,_,g),o(y.prototype,r),l.NEED=!0;return p(y,e),T[e]=y,a(a.G+a.W+a.F*(y!=b),T),v||h.setStrong(y,e,_),y}},function(e,t,r){"use strict";var n=r(10),a=r(18),i=r(4),o=r(20),l=r(5);e.exports=function(e,t,r){var s=l(e),u=r(o,s,""[e]),c=u[0],d=u[1];i(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(a(String.prototype,e,c),n(RegExp.prototype,s,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(1),a=r(3).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,r){for(var n,a=r(3),i=r(10),o=r(23),l=o("typed_array"),s=o("view"),u=!(!a.ArrayBuffer||!a.DataView),c=u,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=a[f[d++]])?(i(n.prototype,l,!0),i(n.prototype,s,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:l,VIEW:s}},function(e,t){e.exports=!1},function(e,t,r){var n=r(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(12),a=r(6),i=r(24);e.exports=function(e){return function(t,r,o){var l,s=n(t),u=a(s.length),c=i(o,u);if(e&&r!=r){for(;u>c;)if((l=s[c++])!=l)return!0}else for(;u>c;c++)if((e||c in s)&&s[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(72)("keys"),a=r(23);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){"use strict";var n=r(13),a=r(24),i=r(6);e.exports=function(e){for(var t=n(this),r=i(t.length),o=arguments.length,l=a(o>1?arguments[1]:void 0,r),s=o>2?arguments[2]:void 0,u=void 0===s?r:a(s,r);u>l;)t[l++]=e;return t}},function(e,t,r){"use strict";var n=r(3),a=r(7),i=r(8),o=r(5)("species");e.exports=function(e){var t=n[e];i&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(25),a=r(5)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},function(e,t,r){var n=r(74),a=r(5)("iterator"),i=r(25);e.exports=r(35).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){"use strict";var n=r(27),a=r(76),i=r(25),o=r(12);e.exports=r(77)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(5)("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:r=!0}},i[n]=function(){return o},e(i)}catch(e){}return r}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(16),a=r(80),i=r(52),o=r(2),l=r(6),s=r(53),u={},c={};(t=e.exports=function(e,t,r,d,f){var p,m,h,_,v=f?function(){return e}:s(e),b=n(r,d,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(p=l(e.length);p>y;y++)if((_=t?b(o(m=e[y])[0],m[1]):b(e[y]))===u||_===c)return _}else for(h=v.call(e);!(m=h.next()).done;)if((_=a(h,b,m.value,t))===u||_===c)return _}).BREAK=u,t.RETURN=c},function(e,t,r){var n=r(88),a=r(20);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(a(e))}},function(e,t,r){var n=r(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){"use strict";var n=r(7),a=r(22);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){var n=r(3).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(210))&&n.__esModule?n:{default:n},o=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return a(e,[{key:"set",value:function(e,t,r){i.default.set(e,t,r)}},{key:"get",value:function(e){return i.default.get(e)}}]),e}();t.default=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(n=r(15))&&n.__esModule?n:{default:n},l=r(66),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(67)),u=o.default.Entities,c=u.Variant,d=u.CallContextTypes,f=o.default.Parsers.RoxxParser,p=o.default.Context,m=new f,h=function(e){function t(e,r){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).freeze,a=arguments[3];!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,a));if(n&&!(0,l.isFreezeOptionValid)(n))throw new Error("Freeze option is invalid "+n);return i._localFreeze=n,i._lastResultExplanation={},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),i(t,[{key:"unfreeze",value:function(){this._frozen=!1}},{key:"setLastResultToExperiment",value:function(e,t){this._lastResultExplanation={value:e,from:"experiment",payload:{condition:this.condition,expressionEvaluation:t}}}},{key:"setLastResultToDefault",value:function(e){this.condition?this._lastResultExplanation={value:e,from:"exception",payload:{condition:this.condition}}:this._lastResultExplanation={value:e,from:"default"}}},{key:"setLastResultToFreeze",value:function(){this._lastResultExplanation={value:this._value,from:"freeze",payload:{freezedBy:"freeze"===this._lastResultExplanation.from?this._lastResultExplanation.payload.freezedBy:this._lastResultExplanation}}}},{key:"calculateCondition",value:function(e,t){var r={didUseExperimentToEvaluate:!1,value:this._defaultValue},n=[];if(this.condition){var i=p.Actions.getMergedContextWithGlobal(t),o=m.evaluateExpression(this.condition,e,i,n);o=o&&o.toString?o.toString():o,this._type===(void 0===o?"undefined":a(o))&&void 0!==o&&(r={didUseExperimentToEvaluate:!0,value:o})}return e.dontInvokeFlagImpression||this._flagImpression(r.value,t),e.dontInvokeFlagImpression||(r.didUseExperimentToEvaluate?this.setLastResultToExperiment(r.value,n):this.setLastResultToDefault(r.value)),r}},{key:"getOneTimeValue",value:function(e,t){var r=this.calculateCondition(e,t);return e.isExperimenting=r.didUseExperimentToEvaluate,r.value}},{key:"getFreezedValue",value:function(e){return e.isExperimenting=this._isExperimenting,e.dontInvokeFlagImpression||this.setLastResultToFreeze(),this._value}},{key:"getActiveValue",value:function(e,t){if(this._freeze===l.freezeOptions.freezeOptionNone)return this.getOneTimeValue(e,t);if(e.type===d.frozenOrCalc)return this._frozen?this.getFreezedValue(e):this.getOneTimeValue(e,t);if(e.type===d.oneTimeCalc)return this.getOneTimeValue(e,t);if(!e.type||e.type===d.default){if(this._frozen)return this.getFreezedValue(e);var r=this.calculateCondition(e,t);return this.setValue(r),this._frozen=!0,e.isExperimenting=this._isExperimenting,this._value}return this.getFreezedValue(e)}},{key:"getInternalValue",value:function(e,t){var r=this.overridenValue;return r?(e.isExperimenting=!0,this._lastResultExplanation={value:r,from:"override"},r):this.getActiveValue(e,t)}},{key:"getValue",value:function(e){return this.getInternalValue({},e)}},{key:"setValue",value:function(e){this._frozen||(this._isExperimenting=e.didUseExperimentToEvaluate,this._value=e.value)}},{key:"explainLastResult",value:function(){return this._lastResultExplanation}},{key:"peek",value:function(e){var t={dontInvokeFlagImpression:!0,type:d.oneTimeCalc};return this.getInternalValue(t,e)}},{key:"_freeze",get:function(){return this._localFreeze||(0,l.getDefaultFreezeOption)()||l.defaultFreezeOptionForPlatform}},{key:"overrider",get:function(){return s}}]),t}();t.default=h},function(e,t,r){"use strict";function n(e){return Object.keys(a).find(function(t){return a[t]===e})}Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultFreezeOption=function(e){if(!n(e))throw new Error("Invalid freeze option: "+e);i=e},t.getDefaultFreezeOption=function(){return i},t.isFreezeOptionValid=n;var a=t.freezeOptions={freezeOptionNone:"none",freezeOptionUntilLaunch:"untilLaunch"},i=null;t.defaultFreezeOptionForPlatform=a.freezeOptionUntilLaunch},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){i.default.set(l,JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.hasOverride=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return void 0!==e&&void 0!==s[e]},t.getOverride=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)throw new Error("Missing name");return s[e]},t.setOverride=function(e,t){if(!e)throw new Error("Missing name");s[e]=t,a(s)},t.clearOverride=function(e){if(!e)throw new Error("Missing name");s[e]=void 0,delete s[e],a(s)},t.clearAllOverrides=function(){a(s={})},t.getOriginalValue=function(e){if(!e)throw new Error("Missing name");var t=o.default.Repositories.Flags.flagWithName(e);return t?t._originalValue():null};var i=n(r(64)),o=n(r(15)),l="roxOverrideValues",s=i.default.get(l);s=s?JSON.parse(s):{}},function(e,t,r){e.exports=!r(8)&&!r(4)(function(){return 7!=Object.defineProperty(r(43)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";function n(e,t,r){var n,a,i,o=new Array(r),l=8*r-t-1,s=(1<<l)-1,u=s>>1,c=23===t?q(2,-24)-q(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=L(e))!=e||e===N?(a=e!=e?1:0,n=s):(n=U($(e)/F),e*(i=q(2,-n))<1&&(n--,i*=2),(e+=n+u>=1?c/i:c*q(2,1-u))*i>=2&&(n++,i/=2),n+u>=s?(a=0,n=s):n+u>=1?(a=(e*i-1)*q(2,t),n+=u):(a=e*q(2,u-1)*q(2,t),n=0));t>=8;o[d++]=255&a,a/=256,t-=8);for(n=n<<t|a,l+=t;l>0;o[d++]=255&n,n/=256,l-=8);return o[--d]|=128*f,o}function a(e,t,r){var n,a=8*r-t-1,i=(1<<a)-1,o=i>>1,l=a-7,s=r-1,u=e[s--],c=127&u;for(u>>=7;l>0;c=256*c+e[s],s--,l-=8);for(n=c&(1<<-l)-1,c>>=-l,l+=t;l>0;n=256*n+e[s],s--,l-=8);if(0===c)c=1-o;else{if(c===i)return n?NaN:u?-N:N;n+=q(2,t),c-=o}return(u?-1:1)*n*q(2,c-t)}function i(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function l(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function u(e){return n(e,52,8)}function c(e){return n(e,23,4)}function d(e,t,r){D(e[I],t,{get:function(){return this[r]}})}function f(e,t,r,n){var a=R(+r);if(a+t>e[B])throw j(A);var i=e[z]._b,o=a+e[H],l=i.slice(o,o+t);return n?l:l.reverse()}function p(e,t,r,n,a,i){var o=R(+r);if(o+t>e[B])throw j(A);for(var l=e[z]._b,s=o+e[H],u=n(+a),c=0;c<t;c++)l[s+c]=u[i?c:t-c-1]}var m=r(3),h=r(8),_=r(45),v=r(44),b=r(10),y=r(30),g=r(4),E=r(31),T=r(19),w=r(6),R=r(70),P=r(37).f,D=r(7).f,O=r(50),C=r(38),I="prototype",A="Wrong index!",S=m.ArrayBuffer,k=m.DataView,M=m.Math,j=m.RangeError,N=m.Infinity,x=S,L=M.abs,q=M.pow,U=M.floor,$=M.log,F=M.LN2,z=h?"_b":"buffer",B=h?"_l":"byteLength",H=h?"_o":"byteOffset";if(v.ABV){if(!g(function(){S(1)})||!g(function(){new S(-1)})||g(function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name})){for(var V,W=(S=function(e){return E(this,S),new x(R(e))})[I]=x[I],G=P(x),Y=0;G.length>Y;)(V=G[Y++])in S||b(S,V,x[V]);_||(W.constructor=S)}var K=new k(new S(2)),X=k[I].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||y(k[I],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else S=function(e){E(this,S,"ArrayBuffer");var t=R(e);this._b=O.call(new Array(t),0),this[B]=t},k=function(e,t,r){E(this,k,"DataView"),E(e,S,"DataView");var n=e[B],a=T(t);if(a<0||a>n)throw j("Wrong offset!");if(a+(r=void 0===r?n-a:w(r))>n)throw j("Wrong length!");this[z]=e,this[H]=a,this[B]=r},h&&(d(S,"byteLength","_l"),d(k,"buffer","_b"),d(k,"byteLength","_l"),d(k,"byteOffset","_o")),y(k[I],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return i(f(this,4,e,arguments[1]))},getUint32:function(e){return i(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return a(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return a(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,o,t)},setUint8:function(e,t){p(this,1,e,o,t)},setInt16:function(e,t){p(this,2,e,l,t,arguments[2])},setUint16:function(e,t){p(this,2,e,l,t,arguments[2])},setInt32:function(e,t){p(this,4,e,s,t,arguments[2])},setUint32:function(e,t){p(this,4,e,s,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,u,t,arguments[2])}});C(S,"ArrayBuffer"),C(k,"DataView"),b(k[I],v.VIEW,!0),t.ArrayBuffer=S,t.DataView=k},function(e,t,r){var n=r(19),a=r(6);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=a(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var n=r(9),a=r(12),i=r(47)(!1),o=r(48)("IE_PROTO");e.exports=function(e,t){var r,l=a(e),s=0,u=[];for(r in l)r!=o&&n(l,r)&&u.push(r);for(;t.length>s;)n(l,r=t[s++])&&(~i(u,r)||u.push(r));return u}},function(e,t,r){var n=r(3),a=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t,r){var n=r(2),a=r(29),i=r(5)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||void 0==(r=n(o)[i])?t:a(r)}},function(e,t,r){var n=r(32),a=r(5)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(3).document;e.exports=n&&n.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(45),a=r(0),i=r(18),o=r(10),l=r(9),s=r(25),u=r(103),c=r(38),d=r(26),f=r(5)("iterator"),p=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,r,h,_,v,b){u(r,t,h);var y,g,E,T=function(e){if(!p&&e in D)return D[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",R="values"==_,P=!1,D=e.prototype,O=D[f]||D["@@iterator"]||_&&D[_],C=!p&&O||T(_),I=_?R?T("entries"):C:void 0,A="Array"==t&&D.entries||O;if(A&&(E=d(A.call(new e)))!==Object.prototype&&E.next&&(c(E,w,!0),n||l(E,f)||o(E,f,m)),R&&O&&"values"!==O.name&&(P=!0,C=function(){return O.call(this)}),n&&!b||!p&&!P&&D[f]||o(D,f,C),s[t]=C,s[w]=m,_)if(y={values:R?C:T("values"),keys:v?C:T("keys"),entries:I},b)for(g in y)g in D||i(D,g,y[g]);else a(a.P+a.F*(p||P),t,y);return y}},function(e,t,r){"use strict";var n=r(13),a=r(24),i=r(6);e.exports=[].copyWithin||function(e,t){var r=n(this),o=i(r.length),l=a(e,o),s=a(t,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:a(u,o))-s,o-l),d=1;for(s<l&&l<s+c&&(d=-1,s+=c-1,l+=c-1);c-- >0;)s in r?r[l]=r[s]:delete r[l],l+=d,s+=d;return r}},function(e,t,r){"use strict";var n=r(7).f,a=r(39),i=r(30),o=r(16),l=r(31),s=r(57),u=r(77),c=r(76),d=r(51),f=r(8),p=r(21).fastKey,m=r(28),h=f?"_s":"size",_=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var c=e(function(e,n){l(e,c,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=n&&s(n,r,e[u],e)});return i(c.prototype,{clear:function(){for(var e=m(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var r=m(this,t),n=_(r,e);if(n){var a=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=a),a&&(a.p=i),r._f==n&&(r._f=a),r._l==n&&(r._l=i),r[h]--}return!!n},forEach:function(e){m(this,t);for(var r,n=o(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!_(m(this,t),e)}}),f&&n(c.prototype,"size",{get:function(){return m(this,t)[h]}}),c},def:function(e,t,r){var n,a,i=_(e,t);return i?i.v=r:(e._l=i={i:a=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[h]++,"F"!==a&&(e._i[a]=i)),e},getEntry:_,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=m(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))},r?"entries":"values",!r,!0),d(t)}}},function(e,t,r){var n=r(2);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(1),a=r(2),i=function(e,t){if(a(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(16)(Function.call,r(17).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){"use strict";var n=r(33),a=r(83),i=r(56),o=r(13),l=r(46),s=Object.assign;e.exports=!s||r(4)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||Object.keys(s({},t)).join("")!=n})?function(e,t){for(var r=o(e),s=arguments.length,u=1,c=a.f,d=i.f;s>u;)for(var f,p=l(arguments[u++]),m=c?n(p).concat(c(p)):n(p),h=m.length,_=0;h>_;)d.call(p,f=m[_++])&&(r[f]=p[f]);return r}:s},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var n=r(30),a=r(21).getWeak,i=r(2),o=r(1),l=r(31),s=r(57),u=r(34),c=r(9),d=r(28),f=u(5),p=u(6),m=0,h=function(e){return e._l||(e._l=new _)},_=function(){this.a=[]},v=function(e,t){return f(e.a,function(e){return e[0]===t})};_.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var r=v(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,i){var u=e(function(e,n){l(e,u,t,"_i"),e._t=t,e._i=m++,e._l=void 0,void 0!=n&&s(n,r,e[i],e)});return n(u.prototype,{delete:function(e){if(!o(e))return!1;var r=a(e);return!0===r?h(d(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function(e){if(!o(e))return!1;var r=a(e);return!0===r?h(d(this,t)).has(e):r&&c(r,this._i)}}),u},def:function(e,t,r){var n=a(i(t),!0);return!0===n?h(e).set(t,r):n[e._i]=r,e},ufstore:h}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(37),a=r(83),i=r(2),o=r(3).Reflect;e.exports=o&&o.ownKeys||function(e){var t=n.f(i(e)),r=a.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";var n=r(19),a=r(20);e.exports=function(e){var t=String(a(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},function(e,t,r){var n=r(1),a=r(32),i=r(5)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},function(e,t,r){var n=r(1),a=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&a(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){var n=r(33),a=r(12),i=r(56).f;e.exports=function(e){return function(t){for(var r,o=a(t),l=n(o),s=l.length,u=0,c=[];s>u;)i.call(o,r=l[u++])&&c.push(e?[r,o[r]]:o[r]);return c}}},function(e,t,r){var n=r(6),a=r(87),i=r(20);e.exports=function(e,t,r,o){var l=String(i(e)),s=l.length,u=void 0===r?" ":String(r),c=n(t);if(c<=s||""==u)return l;var d=c-s,f=a.call(u,Math.ceil(d/u.length));return f.length>d&&(f=f.slice(0,d)),o?f+l:l+f}},function(e,t,r){function n(e,t){this._id=e,this._clearFn=t}Function.prototype.apply,n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},r(202)},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){m&&f&&(m=!1,f.length?p=f.concat(p):h=-1,p.length&&o())}function o(){if(!m){var e=a(i);m=!0;for(var t=p.length;t;){for(f=p,p=[];++h<t;)f&&f[h].run();h=-1,t=p.length}f=null,m=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function s(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var f,p=[],m=!1,h=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new l(e,t)),1!==p.length||m||a(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(65))&&n.__esModule?n:{default:n},o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments[1];!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e?"true":"false",["false","true"],r));return n._entityType="flag",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"isEnabled",value:function(e){return this._normalizeValue(this.getValue(e))}},{key:"_getInternalIsEnabled",value:function(e,t){return this._normalizeValue(this.getInternalValue(e,t))}},{key:"_normalizeValue",value:function(e){return"boolean"==typeof e?e:"true"===e}}]),t}();t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),r(97),r(98),r(104),r(105),r(106),r(107),r(108),r(109),r(110),r(111),r(112),r(114),r(115),r(116),r(117),r(118),r(120),r(121),r(122),r(123),r(124),r(125),r(126),r(127),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(140),r(142),r(143),r(145),r(146),r(147),r(148),r(150),r(151),r(152),r(153),r(154),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(54),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(193),r(194),r(195),r(196),r(197),r(198),r(200),r(201);var a=n(r(15)),i=n(r(205)),o=n(r(221)),l=n(r(65)),s=n(r(95)),u=r(222),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(67));i.default.Configuration=o.default,i.default.Variant=l.default,i.default.setContext=a.default.Context.Manager.setContext,i.default.Flag=s.default,i.default.showOverrides=u.open,i.default.overrides=c,t.default=i.default},function(e,t,r){"use strict";var n=r(0),a=r(44),i=r(69),o=r(2),l=r(24),s=r(6),u=r(1),c=r(3).ArrayBuffer,d=r(73),f=i.ArrayBuffer,p=i.DataView,m=a.ABV&&c.isView,h=f.prototype.slice,_=a.VIEW;n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f}),n(n.S+n.F*!a.CONSTR,"ArrayBuffer",{isView:function(e){return m&&m(e)||u(e)&&_ in e}}),n(n.P+n.U+n.F*r(4)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(o(this),e);for(var r=o(this).byteLength,n=l(e,r),a=l(void 0===t?r:t,r),i=new(d(this,f))(s(a-n)),u=new p(this),c=new p(i),m=0;n<a;)c.setUint8(m++,u.getUint8(n++));return i}}),r(51)("ArrayBuffer")},function(e,t,r){r(14)("Int8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){var n=r(7),a=r(2),i=r(33);e.exports=r(8)?Object.defineProperties:function(e,t){a(e);for(var r,o=i(t),l=o.length,s=0;l>s;)n.f(e,r=o[s++],t[r]);return e}},function(e,t,r){var n=r(101);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(1),a=r(102),i=r(5)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(32);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(39),a=r(22),i=r(38),o={};r(10)(o,r(5)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){r(14)("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(14)("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},function(e,t,r){r(14)("Int16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(14)("Uint16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(14)("Int32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(14)("Uint32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(14)("Float32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(14)("Float64",8,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){"use strict";var n=r(79),a=r(28);e.exports=r(40)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(a(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){var n=r(1),a=r(81).set;e.exports=function(e,t,r){var i,o=t.constructor;return o!==r&&"function"==typeof o&&(i=o.prototype)!==r.prototype&&n(i)&&a&&a(e,i),e}},function(e,t,r){"use strict";var n=r(79),a=r(28);e.exports=r(40)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(a(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n,a=r(34)(0),i=r(18),o=r(21),l=r(82),s=r(84),u=r(1),c=r(4),d=r(28),f=o.getWeak,p=Object.isExtensible,m=s.ufstore,h={},_=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(u(e)){var t=f(e);return!0===t?m(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(d(this,"WeakMap"),e,t)}},b=e.exports=r(40)("WeakMap",_,v,s,!0,!0);c(function(){return 7!=(new b).set((Object.freeze||Object)(h),7).get(h)})&&(l((n=s.getConstructor(_,"WeakMap")).prototype,v),o.NEED=!0,a(["delete","has","get","set"],function(e){var t=b.prototype,r=t[e];i(t,e,function(t,a){if(u(t)&&!p(t)){this._f||(this._f=new n);var i=this._f[e](t,a);return"set"==e?this:i}return r.call(this,t,a)})}))},function(e,t,r){"use strict";var n=r(84),a=r(28);r(40)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(a(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,r){var n=r(0),a=r(29),i=r(2),o=(r(3).Reflect||{}).apply,l=Function.apply;n(n.S+n.F*!r(4)(function(){o(function(){})}),"Reflect",{apply:function(e,t,r){var n=a(e),s=i(r);return o?o(n,t,s):l.call(n,t,s)}})},function(e,t,r){var n=r(0),a=r(39),i=r(29),o=r(2),l=r(1),s=r(4),u=r(119),c=(r(3).Reflect||{}).construct,d=s(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!s(function(){c(function(){})});n(n.S+n.F*(d||f),"Reflect",{construct:function(e,t){i(e),o(t);var r=arguments.length<3?e:i(arguments[2]);if(f&&!d)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null]
;return n.push.apply(n,t),new(u.apply(e,n))}var s=r.prototype,p=a(l(s)?s:Object.prototype),m=Function.apply.call(e,p,t);return l(m)?m:p}})},function(e,t,r){"use strict";var n=r(29),a=r(1),i=r(85),o=[].slice,l={};e.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),s=function(){var n=r.concat(o.call(arguments));return this instanceof s?function(e,t,r){if(!(t in l)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";l[t]=Function("F,a","return new F("+n.join(",")+")")}return l[t](e,r)}(t,n.length,n):i(t,n,e)};return a(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,r){var n=r(7),a=r(0),i=r(2),o=r(36);a(a.S+a.F*r(4)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){i(e),t=o(t,!0),i(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(0),a=r(17).f,i=r(2);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=a(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){var n=r(17),a=r(26),i=r(9),o=r(0),l=r(1),s=r(2);o(o.S,"Reflect",{get:function e(t,r){var o,u,c=arguments.length<3?t:arguments[2];return s(t)===c?t[r]:(o=n.f(t,r))?i(o,"value")?o.value:void 0!==o.get?o.get.call(c):void 0:l(u=a(t))?e(u,r,c):void 0}})},function(e,t,r){var n=r(17),a=r(0),i=r(2);a(a.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(i(e),t)}})},function(e,t,r){var n=r(0),a=r(26),i=r(2);n(n.S,"Reflect",{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,r){var n=r(0),a=r(2),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return a(e),!i||i(e)}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{ownKeys:r(86)})},function(e,t,r){var n=r(0),a=r(2),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){a(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,r){var n=r(7),a=r(17),i=r(26),o=r(9),l=r(0),s=r(22),u=r(2),c=r(1);l(l.S,"Reflect",{set:function e(t,r,l){var d,f,p=arguments.length<4?t:arguments[3],m=a.f(u(t),r);if(!m){if(c(f=i(t)))return e(f,r,l,p);m=s(0)}return o(m,"value")?!(!1===m.writable||!c(p)||((d=a.f(p,r)||s(0)).value=l,n.f(p,r,d),0)):void 0!==m.set&&(m.set.call(p,l),!0)}})},function(e,t,r){var n=r(0),a=r(81);a&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){a.check(e,t);try{return a.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){var n=r(1),a=r(21).onFreeze;r(11)("freeze",function(e){return function(t){return e&&n(t)?e(a(t)):t}})},function(e,t,r){var n=r(1),a=r(21).onFreeze;r(11)("seal",function(e){return function(t){return e&&n(t)?e(a(t)):t}})},function(e,t,r){var n=r(1),a=r(21).onFreeze;r(11)("preventExtensions",function(e){return function(t){return e&&n(t)?e(a(t)):t}})},function(e,t,r){var n=r(1);r(11)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(1);r(11)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(1);r(11)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(e,t,r){var n=r(12),a=r(17).f;r(11)("getOwnPropertyDescriptor",function(){return function(e,t){return a(n(e),t)}})},function(e,t,r){var n=r(13),a=r(26);r(11)("getPrototypeOf",function(){return function(e){return a(n(e))}})},function(e,t,r){var n=r(13),a=r(33);r(11)("keys",function(){return function(e){return a(n(e))}})},function(e,t,r){r(11)("getOwnPropertyNames",function(){return r(141).f})},function(e,t,r){var n=r(12),a=r(37).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(n(e))}},function(e,t,r){var n=r(0);n(n.S+n.F,"Object",{assign:r(82)})},function(e,t,r){var n=r(0);n(n.S,"Object",{is:r(144)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){var n=r(7).f,a=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in a||r(8)&&n(a,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,r){var n=r(0),a=r(12),i=r(6);n(n.S,"String",{raw:function(e){for(var t=a(e.raw),r=i(t.length),n=arguments.length,o=[],l=0;r>l;)o.push(String(t[l++])),l<n&&o.push(String(arguments[l]));return o.join("")}})},function(e,t,r){var n=r(0),a=r(24),i=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){"use strict";var n=r(0),a=r(149)(!1);n(n.P,"String",{codePointAt:function(e){return a(this,e)}})},function(e,t,r){var n=r(19),a=r(20);e.exports=function(e){return function(t,r){var i,o,l=String(a(t)),s=n(r),u=l.length;return s<0||s>=u?e?"":void 0:(i=l.charCodeAt(s))<55296||i>56319||s+1===u||(o=l.charCodeAt(s+1))<56320||o>57343?e?l.charAt(s):i:e?l.slice(s,s+2):o-56320+(i-55296<<10)+65536}}},function(e,t,r){var n=r(0);n(n.P,"String",{repeat:r(87)})},function(e,t,r){"use strict";var n=r(0),a=r(6),i=r(58),o="".startsWith;n(n.P+n.F*r(59)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),r=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";var n=r(0),a=r(6),i=r(58),o="".endsWith;n(n.P+n.F*r(59)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=a(t.length),l=void 0===r?n:Math.min(a(r),n),s=String(e);return o?o.call(t,s,l):t.slice(l-s.length,l)===s}})},function(e,t,r){"use strict";var n=r(0),a=r(58);n(n.P+n.F*r(59)("includes"),"String",{includes:function(e){return!!~a(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){r(8)&&"g"!=/./g.flags&&r(7).f(RegExp.prototype,"flags",{configurable:!0,get:r(155)})},function(e,t,r){"use strict";var n=r(2);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){r(41)("match",1,function(e,t,r){return[function(r){"use strict";var n=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},r]})},function(e,t,r){r(41)("replace",2,function(e,t,r){return[function(n,a){"use strict";var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,a):r.call(String(i),n,a)},r]})},function(e,t,r){r(41)("split",2,function(e,t,n){"use strict";var a=r(88),i=n,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var l=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(r,e,t);var n,s,u,c,d,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,h=void 0===t?4294967295:t>>>0,_=new RegExp(e.source,p+"g");for(l||(n=new RegExp("^"+_.source+"$(?!\\s)",p));(s=_.exec(r))&&!((u=s.index+s[0].length)>m&&(f.push(r.slice(m,s.index)),!l&&s.length>1&&s[0].replace(n,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(s[d]=void 0)}),s.length>1&&s.index<r.length&&o.apply(f,s.slice(1)),c=s[0].length,m=u,f.length>=h));)_.lastIndex===s.index&&_.lastIndex++;return m===r.length?!c&&_.test("")||f.push(""):f.push(r.slice(m)),f.length>h?f.slice(0,h):f}}else"0".split(void 0,0).length&&(n=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(r,a){var i=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a)},n]})},function(e,t,r){r(41)("search",1,function(e,t,r){return[function(r){"use strict";var n=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},r]})},function(e,t,r){"use strict";var n=r(16),a=r(0),i=r(13),o=r(80),l=r(52),s=r(6),u=r(60),c=r(53);a(a.S+a.F*!r(55)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,a,d,f=i(e),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,_=void 0!==h,v=0,b=c(f);if(_&&(h=n(h,m>2?arguments[2]:void 0,2)),void 0==b||p==Array&&l(b))for(r=new p(t=s(f.length));t>v;v++)u(r,v,_?h(f[v],v):f[v]);else for(d=b.call(f),r=new p;!(a=d.next()).done;v++)u(r,v,_?o(d,h,[a.value,v],!0):a.value);return r.length=v,r}})},function(e,t,r){"use strict";var n=r(0),a=r(60);n(n.S+n.F*r(4)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)a(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){var n=r(0);n(n.P,"Array",{copyWithin:r(78)}),r(27)("copyWithin")},function(e,t,r){"use strict";var n=r(0),a=r(34)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)("find")},function(e,t,r){"use strict";var n=r(0),a=r(34)(6),i="findIndex",o=!0;i in[]&&Array(1)[i](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)(i)},function(e,t,r){var n=r(0);n(n.P,"Array",{fill:r(50)}),r(27)("fill")},function(e,t,r){var n=r(0),a=r(3).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},function(e,t,r){var n=r(0);n(n.S,"Number",{isInteger:r(89)})},function(e,t,r){var n=r(0),a=r(89),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return a(e)&&i(e)<=9007199254740991}})},function(e,t,r){var n=r(0);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(0),a=r(90),i=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:a(e-1+i(e-1)*i(e+1))}})},function(e,t,r){var n=r(0),a=Math.asinh;n(n.S+n.F*!(a&&1/a(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,r){var n=r(0),a=Math.atanh;n(n.S+n.F*!(a&&1/a(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(0),a=r(61);n(n.S,"Math",{cbrt:function(e){return a(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(0),a=Math.exp;n(n.S,"Math",{cosh:function(e){return(a(e=+e)+a(-e))/2}})},function(e,t,r){var n=r(0),a=r(62);n(n.S+n.F*(a!=Math.expm1),"Math",{expm1:a})},function(e,t,r){var n=r(0);n(n.S,"Math",{fround:r(181)})},function(e,t,r){var n=r(61),a=Math.pow,i=a(2,-52),o=a(2,-23),l=a(2,127)*(2-o),s=a(2,-126);e.exports=Math.fround||function(e){var t,r,a=Math.abs(e),u=n(e);return a<s?u*(a/s/o+1/i-1/i)*s*o:(r=(t=(1+o/i)*a)-(t-a))>l||r!=r?u*(1/0):u*r}},function(e,t,r){var n=r(0),a=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,i=0,o=0,l=arguments.length,s=0;o<l;)s<(r=a(arguments[o++]))?(i=i*(n=s/r)*n+1,s=r):i+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*Math.sqrt(i)}})},function(e,t,r){var n=r(0),a=Math.imul;n(n.S+n.F*r(4)(function(){return-5!=a(4294967295,5)||2!=a.length}),"Math",{imul:function(e,t){var r=+e,n=+t,a=65535&r,i=65535&n;return 0|a*i+((65535&r>>>16)*i+a*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log1p:r(90)})},function(e,t,r){var n=r(0);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(0);n(n.S,"Math",{sign:r(61)})},function(e,t,r){var n=r(0),a=r(62),i=Math.exp;n(n.S+n.F*r(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(a(e)-a(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(0),a=r(62),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=a(e=+e),r=a(-e);return t==1/0?1:r==1/0?-1:(t-r)/(i(e)+i(-e))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){"use strict";var n=r(0),a=r(47)(!0);n(n.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)("includes")},function(e,t,r){var n=r(0),a=r(91)(!1);n(n.S,"Object",{values:function(e){return a(e)}})},function(e,t,r){var n=r(0),a=r(91)(!0);n(n.S,"Object",{entries:function(e){return a(e)}})},function(e,t,r){var n=r(0),a=r(86),i=r(12),o=r(17),l=r(60);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=i(e),s=o.f,u=a(n),c={},d=0;u.length>d;)void 0!==(r=s(n,t=u[d++]))&&l(c,t,r);return c}})},function(e,t,r){"use strict";var n=r(0),a=r(92),i=r(63);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){"use strict";var n=r(0),a=r(92),i=r(63);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){var n=r(3),a=r(0),i=r(63),o=[].slice,l=/MSIE .\./.test(i),s=function(e){return function(t,r){var n=arguments.length>2,a=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,r)}};a(a.G+a.B+a.F*l,{setTimeout:s(n.setTimeout),setInterval:s(n.setInterval)})},function(e,t,r){var n=r(0),a=r(199);n(n.G+n.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,r){var n,a,i,o=r(16),l=r(85),s=r(75),u=r(43),c=r(3),d=c.process,f=c.setImmediate,p=c.clearImmediate,m=c.MessageChannel,h=c.Dispatch,_=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++_]=function(){l("function"==typeof e?e:Function(e),t)},n(_),_},p=function(e){delete v[e]},"process"==r(32)(d)?n=function(e){d.nextTick(o(b,e,1))}:h&&h.now?n=function(e){h.now(o(b,e,1))}:m?(i=(a=new m).port2,a.port1.onmessage=y,n=o(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):n="onreadystatechange"in u("script")?function(e){s.appendChild(u("script")).onreadystatechange=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,r){for(var n=r(54),a=r(33),i=r(18),o=r(3),l=r(10),s=r(25),u=r(5),c=u("iterator"),d=u("toStringTag"),f=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=a(p),h=0;h<m.length;h++){var _,v=m[h],b=p[v],y=o[v],g=y&&y.prototype;if(g&&(g[c]||l(g,c,f),g[d]||l(g,d,v),s[v]=f,b))for(_ in n)g[_]||i(g,_,n[_],!0)}},function(e,t,r){(function(t){!function(t){"use strict";function r(e,t,r,i){var o=t&&t.prototype instanceof a?t:a,l=Object.create(o.prototype),s=new f(i||[]);return l._invoke=function(e,t,r){var a=R;return function(i,o){if(a===D)throw new Error("Generator is already running");if(a===O){if("throw"===i)throw o;return m()}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var s=u(l,r);if(s){if(s===C)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===R)throw a=O,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=D;var c=n(e,t,r);if("normal"===c.type){if(a=r.done?O:P,c.arg===C)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=O,r.method="throw",r.arg=c.arg)}}}(e,r,s),l}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function a(){}function i(){}function o(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function r(t,a,i,o){var l=n(e[t],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&v.call(u,"__await")?Promise.resolve(u.__await).then(function(e){r("next",e,i,o)},function(e){r("throw",e,i,o)}):Promise.resolve(u).then(function(e){s.value=e,i(s)},o)}o(l.arg)}var a;"object"==typeof t.process&&t.process.domain&&(r=t.process.domain.bind(r)),this._invoke=function(e,t){function n(){return new Promise(function(n,a){r(e,t,n,a)})}return a=a?a.then(n,n):n()}}function u(e,t){var r=e.iterator[t.method];if(r===h){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=h,u(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var a=n(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,C;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=h),t.delegate=null,C):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function p(e){if(e){var t=e[y];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(v.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=h,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:h,done:!0}}var h,_=Object.prototype,v=_.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},y=b.iterator||"@@iterator",g=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag",T="object"==typeof e,w=t.regeneratorRuntime;if(w)T&&(e.exports=w);else{(w=t.regeneratorRuntime=T?e.exports:{}).wrap=r;var R="suspendedStart",P="suspendedYield",D="executing",O="completed",C={},I={};I[y]=function(){return this};var A=Object.getPrototypeOf,S=A&&A(A(p([])));S&&S!==_&&v.call(S,y)&&(I=S);var k=o.prototype=a.prototype=Object.create(I);i.prototype=k.constructor=o,o.constructor=i,o[E]=i.displayName="GeneratorFunction",w.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},w.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(k),e},w.awrap=function(e){return{__await:e}},l(s.prototype),s.prototype[g]=function(){return this},w.AsyncIterator=s,w.async=function(e,t,n,a){var i=new s(r(e,t,n,a));return w.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},l(k),k[E]="Generator",k[y]=function(){return this},k.toString=function(){return"[object Generator]"},w.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},w.values=p,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=h),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],i=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var o=v.call(a,"catchLoc"),l=v.call(a,"finallyLoc");if(o&&l){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,C):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;d(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:p(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=h),C}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,r(42))},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){delete d[e]}function a(e){if(f)setTimeout(a,0,e);else{var t=d[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{n(e),f=!1}}}}if(!e.setImmediate){var i,o,l,s,u,c=1,d={},f=!1,p=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){a(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(s="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&a(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),i=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((l=new MessageChannel).port1.onmessage=function(e){a(e.data)},i=function(e){l.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,i=function(e){var t=p.createElement("script");t.onreadystatechange=function(){a(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):i=function(e){setTimeout(a,0,e)},m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return d[c]=n,i(c),c++},m.clearImmediate=n}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(42),r(94))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){(function(t,r){var n;n=function(){"use strict";function e(e){return"function"==typeof e}function n(){var e=setTimeout;return function(){return e(a,1)}}function a(){for(var e=0;e<T;e+=2)(0,S[e])(S[e+1]),S[e]=void 0,S[e+1]=void 0;T=0}function i(e,t){var r=this,n=new this.constructor(l);void 0===n[M]&&_(n);var a=r._state;if(a){var i=arguments[a-1];P(function(){return h(a,n,i,r._result)})}else p(r,n,e,t);return n}function o(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(l);return u(t,e),t}function l(){}function s(t,r,n){r.constructor===t.constructor&&n===i&&r.constructor.resolve===o?function(e,t){t._state===N?d(e,t._result):t._state===x?f(e,t._result):p(t,void 0,function(t){return u(e,t)},function(t){return f(e,t)})}(t,r):void 0===n?d(t,r):e(n)?function(e,t,r){P(function(e){var n=!1,a=function(r,a,i,o){try{r.call(a,function(r){n||(n=!0,t!==r?u(e,r):d(e,r))},function(t){n||(n=!0,f(e,t))})}catch(e){return e}}(r,t,0,0,e._label);!n&&a&&(n=!0,f(e,a))},e)}(t,r,n):d(t,r)}function u(e,t){if(e===t)f(e,new TypeError("You cannot resolve a promise with itself"));else if(a=typeof(n=t),null===n||"object"!==a&&"function"!==a)d(e,t);else{var r=void 0;try{r=t.then}catch(t){return void f(e,t)}s(e,t,r)}var n,a}function c(e){e._onerror&&e._onerror(e._result),m(e)}function d(e,t){e._state===j&&(e._result=t,e._state=N,0!==e._subscribers.length&&P(m,e))}function f(e,t){e._state===j&&(e._state=x,e._result=t,P(c,e))}function p(e,t,r,n){var a=e._subscribers,i=a.length;e._onerror=null,a[i]=t,a[i+N]=r,a[i+x]=n,0===i&&e._state&&P(m,e)}function m(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,a=void 0,i=e._result,o=0;o<t.length;o+=3)n=t[o],a=t[o+r],n?h(r,n,a,i):a(i);e._subscribers.length=0}}function h(t,r,n,a){var i=e(n),o=void 0,l=void 0,s=!0;if(i){try{o=n(a)}catch(e){s=!1,l=e}if(r===o)return void f(r,new TypeError("A promises callback cannot return that same promise."))}else o=a;r._state!==j||(i&&s?u(r,o):!1===s?f(r,l):t===N?d(r,o):t===x&&f(r,o))}function _(e){e[M]=L++,e._state=void 0,e._result=void 0,e._subscribers=[]}var v,b,y,g,E=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},T=0,w=void 0,R=void 0,P=function(e,t){S[T]=e,S[T+1]=t,2===(T+=2)&&(R?R(a):k())},D="undefined"!=typeof window?window:void 0,O=D||{},C=O.MutationObserver||O.WebKitMutationObserver,I="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,S=new Array(1e3),k=void 0;I?k=function(){return t.nextTick(a)}:C?(b=0,y=new C(a),g=document.createTextNode(""),y.observe(g,{characterData:!0}),k=function(){g.data=b=++b%2}):A?((v=new MessageChannel).port1.onmessage=a,k=function(){return v.port2.postMessage(0)}):k=void 0===D?function(){try{var e=Function("return this")().require("vertx");return void 0!==(w=e.runOnLoop||e.runOnContext)?function(){w(a)}:n()}catch(e){return n()}}():n();var M=Math.random().toString(36).substring(2),j=void 0,N=1,x=2,L=0,q=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(l),this.promise[M]||_(this.promise),E(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&d(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===j&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===o){var a=void 0,u=void 0,c=!1;try{a=e.then}catch(e){c=!0,u=e}if(a===i&&e._state!==j)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(r===U){var d=new r(l);c?f(d,u):s(d,e,a),this._willSettleAt(d,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===j&&(this._remaining--,e===x?f(n,r):this._result[t]=r),0===this._remaining&&d(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;p(e,void 0,function(e){return r._settledAt(N,t,e)},function(e){return r._settledAt(x,t,e)})},e}(),U=function(){function t(e){this[M]=L++,this._result=this._state=void 0,this._subscribers=[],l!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){u(e,t)},function(t){f(e,t)})}catch(t){f(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return U.prototype.then=i,U.all=function(e){return new q(this,e).promise},U.race=function(e){var t=this;return new t(E(e)?function(r,n){for(var a=e.length,i=0;i<a;i++)t.resolve(e[i]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},U.resolve=o,U.reject=function(e){var t=new this(l);return f(t,e),t},U._setScheduler=function(e){R=e},U._setAsap=function(e){P=e},U._asap=P,U.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=U},U.Promise=U,U},e.exports=n()}).call(t,r(94),r(42))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=n(r(206)),o=r(66),l=n(r(15)),s=l.default.RoxLogger,u=l.default.Config,c=l.default.Repositories,d=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return a(e,[{key:"setup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.setVerboseMode(t.debugLevel),t.configuration&&u.setActive(t.configuration),t.freeze&&(0,o.setDefaultFreezeOption)(t.freeze),i.default.setKey(e),i.default.setup(t),i.default.sendState(),t.disableNetworkFetch?i.default.fetchCacheOnly():i.default.fetchWithCacheAndProceed()}},{key:"fetch",value:function(){i.default&&i.default.fetch()}},{key:"setCustomStringProperty",value:function(e,t){i.default.setCustomProperty(e,String,t)}},{key:"setCustomNumberProperty",value:function(e,t){i.default.setCustomProperty(e,Number,t)}},{key:"setCustomBooleanProperty",value:function(e,t){i.default.setCustomProperty(e,Boolean,t)}},{key:"register",value:function(e,t){i.default.register(e,t)}},{key:"unfreeze",value:function(e){i.default.unfreeze(e)}},{key:"setDynamicCustomPropertyRule",value:function(e){i.default.setDynamicCustomPropertyRule(e)}},{key:"flags",get:function(){return c.Flags.flags}},{key:"dynamicApi",get:function(){return i.default.dynamicApi}}]),e}());t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(15)),i=n(r(207)),o=r(214),l=r(215),s=n(r(64)),u=n(r(216)),c=n(r(220)),d=a.default.createRoxClient;t.default=d({DeviceProperties:i.default,getDefaultCustomProperties:l.getDefaultCustomProperties,
DefaultSetupOptions:o.defaultSetupOptions,RoxCache:s.default,RoxCrypto:u.default,EntitiesProvider:c.default})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=n(r(15)),o=n(r(208)),l=n(r(64)),s=n(r(211)),u=i.default.DeviceProperties,c=o.default.api_version,d=o.default.lib_version,f=function(e){function t(){return function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),a(t,[{key:"getProperties",value:function(){var e=this.distinct_id,t=this.app_release,r=this.platform;return{app_release:t,api_version:c,lib_version:d,distinct_id:e,screen_width:window.screen.width,screen_height:window.screen.height,platform:r,customSigningCertificate:"5659eb0ca47811395ef85f0b09be63b7",language:navigator.language,anticache:+Date.now()}}}]),t}();t.default=new f(l.default,s.default)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(209);t.default={api_version:n.ROX.api_version,lib_version:n.version}},function(e,t){e.exports={name:null,version:"4.8.7",description:null,author:null,license:null,homepage:null,repository:null,bugs:null,keywords:null,scripts:null,ROX:{api_version:"1.8.0"},main:null,browser:null,devDependencies:null,jest:null,gitHead:null}},function(e,t,r){var n,a;void 0===(a="function"==typeof(n=function(){function e(){var e="__lscachetest__";if(void 0!==p)return p;try{if(!localStorage)return!1}catch(e){return!1}try{o(e,"__lscachetest__"),l(e),p=!0}catch(e){p=!(!t(e)||!localStorage.length)}return p}function t(e){return e&&("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function r(){return void 0===m&&(m=null!=window.JSON),m}function n(e){return e+_}function a(){return Math.floor((new Date).getTime()/b)}function i(e){return localStorage.getItem(h+g+e)}function o(e,t){localStorage.removeItem(h+g+e),localStorage.setItem(h+g+e,t)}function l(e){localStorage.removeItem(h+g+e)}function s(e){for(var t=new RegExp("^"+h+g.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),r=localStorage.length-1;r>=0;--r){var a=localStorage.key(r);(a=(a=a&&a.match(t))&&a[1])&&a.indexOf(_)<0&&e(a,n(a))}}function u(e){var t=n(e);l(e),l(t)}function c(e){var t=n(e),r=i(t);if(r){var o=parseInt(r,v);if(a()>=o)return l(e),l(t),!0}}function d(e,t){E&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),t&&window.console.warn("lscache - The error was: "+t.message))}function f(e){return Math.floor(864e13/e)}var p,m,h="lscache-",_="-cacheexpiration",v=10,b=6e4,y=f(b),g="",E=!1;return{set:function(c,f,p){if(!e())return!1;if(!r())return!1;try{f=JSON.stringify(f)}catch(c){return!1}try{o(c,f)}catch(p){if(!t(p))return d("Could not add item with key '"+c+"'",p),!1;var m,h=[];s(function(e,t){var r=i(t);r=r?parseInt(r,v):y,h.push({key:e,size:(i(e)||"").length,expiration:r})}),h.sort(function(e,t){return t.expiration-e.expiration});for(var _=(f||"").length;h.length&&_>0;)m=h.pop(),d("Cache is full, removing item with key '"+c+"'"),u(m.key),_-=m.size;try{o(c,f)}catch(f){return d("Could not add item with key '"+c+"', perhaps it's too big?",f),!1}}return p?o(n(c),(a()+p).toString(v)):l(n(c)),!0},get:function(t){if(!e())return null;if(c(t))return null;var n=i(t);if(!n||!r())return n;try{return JSON.parse(n)}catch(t){return n}},remove:function(t){e()&&u(t)},supported:function(){return e()},flush:function(){e()&&s(function(e){u(e)})},flushExpired:function(){e()&&s(function(e){c(e)})},setBucket:function(e){g=e},resetBucket:function(){g=""},getExpiryMilliseconds:function(){return b},setExpiryMilliseconds:function(e){y=f(b=e)},enableWarnings:function(e){E=e}}})?n.apply(t,[]):n)||(e.exports=a)},function(e,t,r){var n=r(212),a=r(213);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var l=0;l<16;++l)t[i+l]=o[l];return t||a(o)}},function(e,t,r){(function(t){var r,n=void 0!==t&&(t.crypto||t.msCrypto);if(n&&n.getRandomValues){var a=new Uint8Array(16);r=function(){return n.getRandomValues(a),a}}if(!r){var i=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=r}).call(t,r(42))},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,a=r;return a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSetupOptions={distinctId:null,version:"0",configurationFetchedHandler:function(){},impressionHandler:null,devModeSecret:null,platform:"Browser",analytics:{flushAt:1,flushInterval:6e4}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultCustomProperties=function(e,t){var r=e.getProperties();return[new a("rox.app_release",String,r.app_release),new a("rox.platform",String,r.platform),new a("rox.screen_width",Number,r.screen_width),new a("rox.screen_height",Number,r.screen_height),new a("rox.language",String,r.language),new a("rox.distinct_id",String,r.distinct_id),new a("rox.internal.realPlatform",String,"Browser"),new a("rox.internal.customPlatform",String,r.platform),new a("rox.internal.appKey",String,t),new a("rox.internal.distinct_id",String,r.distinct_id)]};var n,a=((n=r(15))&&n.__esModule?n:{default:n}).default.Entities.CustomProperty},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=n(r(217)),o=n(r(218)),l=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.verifier=new i.default,this.verifier.getKey().setPublic("eaf0631114bc9a4150c475c1e5626ecd9c6ac0aa12cfd84ff6ed6db5c9341e8a7eebf05393ffb8c9d0f2e97062f0ff7cc34f9c33209dceb45cb81d6adeda19fbc26b7e6c8f9b6d2ffd90aae6aa4a63023d7e3f09c1e2584469ddbb96894c0aecf9a6eaea8b6d3d93bab9d4831d7ead3f3adecffc19a9f8b04db361788ccb0f6316545189154c098faa09f0c6e5a82596a7fce18d8ed8fd38683c78e70e7dccb10b818347f61a8a5fa486de08fc71deb125d5ba4a979edb1b7609d7285917ebcd93b853dcde977c972fba37a3925a96cd57c526115672827c564f7bf1053d935af15ec5b5b9d8a38563dd702248edf883c430f2413cf0e237d2769eeb6dbdf329","10001")}return a(e,[{key:"verify",value:function(e,t){return this.verifier.verify(e,t,o.default)}}]),e}());t.default=l},function(e,t,r){!function(e){"use strict";function t(e){return p.charAt(e)}function r(e,t){return e&t}function n(e,t){return e|t}function a(e,t){return e^t}function i(e,t){return e&~t}function o(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function l(){return new m(null)}function s(e,t){return new m(e,t)}function u(e,t){var r=g[e.charCodeAt(t)];return null==r?-1:r}function c(e){var t=l();return t.fromInt(e),t}function d(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}var f,p="0123456789abcdefghijklmnopqrstuvwxyz",m=function(){function e(e,t,r){null!=e&&("number"==typeof e||(null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t)))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var r;if(16==e)r=4;else if(8==e)r=3;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return this.toRadix(e);r=2}var n,a=(1<<r)-1,i=!1,o="",l=this.t,s=this.DB-l*this.DB%r;if(l-- >0)for(s<this.DB&&(n=this[l]>>s)>0&&(i=!0,o=t(n));l>=0;)s<r?(n=(this[l]&(1<<s)-1)<<r-s,n|=this[--l]>>(s+=this.DB-r)):(n=this[l]>>(s-=r)&a,s<=0&&(s+=this.DB,--l)),n>0&&(i=!0),i&&(o+=t(n));return i?o:"0"},e.prototype.negate=function(){var t=l();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var r=l();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new _(t):new v(t),this.exp(e,r)},e.prototype.clone=function(){var e=l();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=l();return this.bitwiseTo(e,r,t),t},e.prototype.or=function(e){var t=l();return this.bitwiseTo(e,n,t),t},e.prototype.xor=function(e){var t=l();return this.bitwiseTo(e,a,t),t},e.prototype.shiftLeft=function(e){var t=l();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=o(this[r]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,n)},e.prototype.clearBit=function(e){return this.changeBit(e,i)},e.prototype.flipBit=function(e){return this.changeBit(e,a)},e.prototype.subtract=function(e){var t=l();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=l();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=l();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=l();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=l(),r=l();return this.divRemTo(e,t,r),[t,r]},e.prototype.pow=function(e){return this.exp(e,new h)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(t,r);n=2}this.t=0,this.s=0;for(var a=t.length,i=!1,o=0;--a>=0;){var l=8==n?255&+t[a]:u(t,a);l<0?"-"==t.charAt(a)&&(i=!0):(i=!1,0==o?this[this.t++]=l:o+n>this.DB?(this[this.t-1]|=(l&(1<<this.DB-o)-1)<<o,this[this.t++]=l>>this.DB-o):this[this.t-1]|=l<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&+t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,a=(1<<n)-1,i=Math.floor(e/this.DB),o=this.s<<r&this.DM,l=this.t-1;l>=0;--l)t[l+i+1]=this[l]>>n|o,o=(this[l]&a)<<r;for(l=i-1;l>=0;--l)t[l]=0;t[i]=o,t.t=this.t+i+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,a=this.DB-n,i=(1<<n)-1;t[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&i)<<a,t[o-r]=this[o]>>n;n>0&&(t[this.t-r-1]|=(this.s&i)<<a),t.t=this.t-r,t.clamp()}},e.prototype.subTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),a=t.abs(),i=n.t;for(r.t=i+a.t;--i>=0;)r[i]=0;for(i=0;i<a.t;++i)r[i+n.t]=n.am(0,a[i],r,i,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,r,n){var a=t.abs();if(!(a.t<=0)){var i=this.abs();if(i.t<a.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=l());var o=l(),s=this.s,u=t.s,c=this.DB-d(a[a.t-1]);c>0?(a.lShiftTo(c,o),i.lShiftTo(c,n)):(a.copyTo(o),i.copyTo(n));var f=o.t,p=o[f-1];if(0!=p){var m=p*(1<<this.F1)+(f>1?o[f-2]>>this.F2:0),h=this.FV/m,_=(1<<this.F1)/m,v=1<<this.F2,b=n.t,y=b-f,g=null==r?l():r;for(o.dlShiftTo(y,g),n.compareTo(g)>=0&&(n[n.t++]=1,n.subTo(g,n)),e.ONE.dlShiftTo(f,g),g.subTo(o,o);o.t<f;)o[o.t++]=0;for(;--y>=0;){var E=n[--b]==p?this.DM:Math.floor(n[b]*h+(n[b-1]+v)*_);if((n[b]+=o.am(0,E,n,y,0,f))<E)for(o.dlShiftTo(y,g),n.subTo(g,n);n[b]<--E;)n.subTo(g,n)}null!=r&&(n.drShiftTo(f,r),s!=u&&e.ZERO.subTo(r,r)),n.t=f,n.clamp(),c>0&&n.rShiftTo(c,n),s<0&&e.ZERO.subTo(n,n)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var n=l(),a=l(),i=r.convert(this),o=d(t)-1;for(i.copyTo(n);--o>=0;)if(r.sqrTo(n,a),(t&1<<o)>0)r.mulTo(a,i,n);else{var s=n;n=a,a=s}return r.revert(n)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=c(r),a=l(),i=l(),o="";for(this.divRemTo(n,a,i);a.signum()>0;)o=(r+i.intValue()).toString(e).substr(1)+o,a.divRemTo(n,a,i);return i.intValue().toString(e)+o},e.prototype.fromRadix=function(t,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),a=Math.pow(r,n),i=!1,o=0,l=0,s=0;s<t.length;++s){var c=u(t,s);c<0?"-"==t.charAt(s)&&0==this.signum()&&(i=!0):(l=r*l+c,++o>=n&&(this.dMultiply(a),this.dAddOffset(l,0),o=0,l=0))}o>0&&(this.dMultiply(Math.pow(r,o)),this.dAddOffset(l,0)),i&&e.ZERO.subTo(this,this)},e.prototype.bitwiseTo=function(e,t,r){var n,a,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(a=e.s&this.DM,n=i;n<this.t;++n)r[n]=t(this[n],a);r.t=this.t}else{for(a=this.s&this.DM,n=i;n<e.t;++n)r[n]=t(a,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},e.prototype.changeBit=function(t,r){var n=e.ONE.shiftLeft(t);return this.bitwiseTo(n,r,n),n},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(var a=r.t-this.t;n<a;++n)r[n+this.t]=this.am(0,e[n],r,n,0,this.t);for(a=Math.min(e.t,t);n<a;++n)this.am(0,e[n],r,n,0,t-n);r.clamp()},e.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},e.prototype.square=function(){var e=l();return this.squareTo(e),e},e}(),h=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),_=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),v=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=l();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(m.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=l();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();"Microsoft Internet Explorer"==navigator.appName?(m.prototype.am=function(e,t,r,n,a,i){for(var o=32767&t,l=t>>15;--i>=0;){var s=32767&this[e],u=this[e++]>>15,c=l*s+u*o;a=((s=o*s+((32767&c)<<15)+r[n]+(1073741823&a))>>>30)+(c>>>15)+l*u+(a>>>30),r[n++]=1073741823&s}return a},f=30):"Netscape"!=navigator.appName?(m.prototype.am=function(e,t,r,n,a,i){for(;--i>=0;){var o=t*this[e++]+r[n]+a;a=Math.floor(o/67108864),r[n++]=67108863&o}return a},f=26):(m.prototype.am=function(e,t,r,n,a,i){for(var o=16383&t,l=t>>14;--i>=0;){var s=16383&this[e],u=this[e++]>>14,c=l*s+u*o;a=((s=o*s+((16383&c)<<14)+r[n]+a)>>28)+(c>>14)+l*u,r[n++]=268435455&s}return a},f=28),m.prototype.DB=f,m.prototype.DM=(1<<f)-1,m.prototype.DV=1<<f,m.prototype.FV=Math.pow(2,52),m.prototype.F1=52-f,m.prototype.F2=2*f-52;var b,y,g=[];for(b="0".charCodeAt(0),y=0;y<=9;++y)g[b++]=y;for(b="a".charCodeAt(0),y=10;y<36;++y)g[b++]=y;for(b="A".charCodeAt(0),y=10;y<36;++y)g[b++]=y;m.ZERO=c(0),m.ONE=c(1);var E=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=s(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.verify=function(e,t,r){var n=s(t,16),a=this.doPublic(n);return null==a?null:function(e){for(var t in T)if(T.hasOwnProperty(t)){var r=T[t],n=r.length;if(e.substr(0,n)==r)return e.substr(n)}return e}(a.toString(16).replace(/^1f+00/,""))==r(e).toString()},e}(),T={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},w=function(){function e(e){e=e||{},this.key=null}return e.prototype.verify=function(e,r,n){try{return this.getKey().verify(e,function(e){var r,n="",a=0,i=0;for(r=0;r<e.length&&"="!=e.charAt(r);++r){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(r));o<0||(0==a?(n+=t(o>>2),i=3&o,a=1):1==a?(n+=t(i<<2|o>>4),i=15&o,a=2):2==a?(n+=t(i),n+=t(o>>2),i=3&o,a=3):(n+=t(i<<2|o>>4),n+=t(15&o),a=0))}return 1==a&&(n+=t(i<<2)),n}(r),n)}catch(e){return!1}},e.prototype.getKey=function(e){return this.key||(this.key=new E),this.key},e.version="3.0.0-rc.1",e}();window.JSEncrypt=w,e.JSEncrypt=w,e.default=w,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){var n;n=function(e){return function(t){var r=e,n=r.lib,a=n.WordArray,i=n.Hasher,o=r.algo,l=[],s=[];!function(){function e(e){return 4294967296*(e-(0|e))|0}for(var r=2,n=0;n<64;)(function(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0})(r)&&(n<8&&(l[n]=e(t.pow(r,.5))),s[n]=e(t.pow(r,1/3)),n++),r++}();var u=[],c=o.SHA256=i.extend({_doReset:function(){this._hash=new a.init(l.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],o=r[3],l=r[4],c=r[5],d=r[6],f=r[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var m=u[p-15],h=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,_=u[p-2],v=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;u[p]=h+u[p-7]+v+u[p-16]}var b=n&a^n&i^a&i,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),g=f+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&d)+s[p]+u[p];f=d,d=c,c=l,l=o+g|0,o=i,i=a,a=n,n=g+(y+b)|0}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+l|0,r[5]=r[5]+c|0,r[6]=r[6]+d|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;return r[a>>>5]|=128<<24-a%32,r[14+(a+64>>>9<<4)]=t.floor(n/4294967296),r[15+(a+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=i._createHelper(c),r.HmacSHA256=i._createHmacHelper(c)}(Math),e.SHA256},e.exports=n(r(219))},function(e,t,r){var n;n=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},a=n.lib={},i=a.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=a.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<a;i++){var o=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=o<<24-(n+i)%4*8}else for(i=0;i<a;i+=4)t[n+i>>>2]=r[i>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],a=0;a<t;a+=4){var i=function(t){t=t;var r=987654321,n=4294967295;return function(){var a=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return a/=4294967296,(a+=.5)*(e.random()>.5?1:-1)}}(4294967296*(r||e.random()));r=987654071*i(),n.push(4294967296*i()|0)}return new o.init(n,t)}}),l=n.enc={},s=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},u=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},c=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=a.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,a=r.sigBytes,i=this.blockSize,l=a/(4*i),s=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*i,u=e.min(4*s,a);if(s){for(var c=0;c<s;c+=i)this._doProcessBlock(n,c);var d=n.splice(0,s);r.sigBytes-=u}return new o.init(d,u)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(a.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e},e.exports=n()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=n(r(65)),o=n(r(95)),l=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return a(e,[{key:"createFlag",value:function(e){return new o.default(e)}},{key:"createVariant",value:function(e,t){return new i.default(e,t)}}]),e}();t.default=new l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(66),l=(n=r(15))&&n.__esModule?n:{default:n},s=l.default.Entities.Configuration,u=new(0,l.default.Parsers.RoxxParser),c=function(e){function t(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).freeze;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(Object.defineProperty(n,"_frozen",{value:!1,writable:!0,enumerable:!1}),r&&!(0,o.isFreezeOptionValid)(r))throw new Error("Freeze option is invalid "+r);return n._localFreeze=r,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),i(t,[{key:"unfreeze",value:function(){this._frozen=!1}},{key:"getValue",value:function(e){return this._freeze===o.freezeOptions.freezeOptionNone?(this.condition&&(this.value=u.evaluateExpression(this.condition,void 0,e)),this._value):(this._frozen||(this.condition&&(this.value=u.evaluateExpression(this.condition,void 0,e)),this._frozen=!0),this._value)}},{key:"value",set:function(e){this._type===(void 0===e?"undefined":a(e))&&void 0!==e?(this._value=e,this._frozen=!1):this._value=this._defaultValue}},{key:"_freeze",get:function(){return this._localFreeze||(0,o.getDefaultFreezeOption)()||o.defaultFreezeOptionForPlatform}}]),t}();t.default=c},function(e,t,r){"use strict";function n(){c.removeChild(p),p=D(),c.appendChild(p)}function a(){document.getElementsByTagName("body")[0].removeChild(c),c=void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.open=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;if(!c){-1===Object.keys(_).indexOf(e)&&(e=m),d=e,p=D(),c=(0,s.compose)((0,s.applyClass)("roxDbg"),y,s.divWithChildren)([(0,s.divWithChildren)([E(),P()]),p]);var t=document.getElementsByTagName("body")[0];t.appendChild((0,s.elementWithAttrs)("link",{href:"https://fonts.googleapis.com/css?family=Lato",rel:"stylesheet"})),t.appendChild((0,s.elementWithAttrs)("link",{href:h,rel:"stylesheet"})),t.appendChild(c),n()}};var i,o=(i=r(15))&&i.__esModule?i:{default:i},l=r(67),s=r(223),u=o.default.Repositories.Flags,c=void 0,d=void 0,f=void 0,p=void 0,m="bottom right",h="https://connect.rollout.io/rox.browser.css",_={"top left":{top:0,left:0},"top right":{top:0,right:0},"bottom left":{bottom:0,left:0},"bottom right":{bottom:0,right:0}},v={background:"white","z-index":999999,position:"fixed",width:"400px",height:"600px",overflow:"auto"},b=function(e){var t=e.value,r=e.text,n=e.selected,a=document.createElement("option");return n&&a.setAttribute("selected",!0),a.setAttribute("value",t),a.textContent=r,a},y=function(e){return(0,s.setStyle)(e,(0,s.compileStyles)(v)+";"+(0,s.compileStyles)(_[d]))},g=function(e){var t=e.name,r=e.nameDetails,n=e.originalValue,a=e.overridingValue,i=e.options;return(0,s.compose)((0,s.applyClass)("roxPushAside roxFlag"),s.divWithChildren)([function(e){var t=e.name,r=e.originalValue,n=e.overridingValue;return(0,s.divWithChildren)([(0,s.divWithText)(t),n?(0,s.compose)((0,s.applyClass)("roxFlagSub"),s.divWithText)("Original value: "+r):void 0])}({name:r.name,originalValue:n,overridingValue:a}),R(t,n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{options:[]},t=e.options,r=e.originalValue,n=e.overridingValue;return t.map(function(e){return{text:e===r?"Original ("+e+")":e,value:e,selected:function(e){var t=e.overridingValue,r=e.option;return t?t===r:e.originalValue===r}({originalValue:r,overridingValue:n,option:e})}})}({options:i,originalValue:n,overridingValue:a}))])},E=function(){return(0,s.compose)((0,s.applyClass)("roxPushAside roxTitle"),s.divWithChildren)([(0,s.elementWithText)("span","ROX Overrides"),(0,s.attachOnClickHandler)((0,s.elementWithText)("a","\u2573"),a)])},T=function(e){var t=e.target;27===e.keyCode?(t.value="",f=null):f=t.value,n()},w=function(){return(0,l.clearAllOverrides)(),n()},R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,s.attachOnChangeHandler)((0,s.elementWithChildren)("select",r.map(b)),function(e,t){return function(r){return r.preventDefault(),t===r.target.value?(0,l.clearOverride)(e):(0,l.setOverride)(e,r.target.value),n()}}(e,t))},P=function(){return(0,s.compose)((0,s.applyClass)("roxSearch roxPushAside"),s.divWithChildren)([(0,s.attachOnKeyUpHandler)((0,s.elementWithAttrs)("input",{placeholder:"Search Flags"}),T),(0,
s.attachOnClickHandler)((0,s.elementWithText)("a","Reset All Overrides"),w)])},D=function(){return(0,s.compose)((0,s.applyClass)("roxFlags"),s.divWithChildren)((e=u.items.map(function(e){return e.dump()}).filter(function(e){return!f||-1!==e.name.toLowerCase().indexOf(f.toLowerCase())}).reduce(function(e,t){return!e[t.nameDetails.namespace]&&(e[t.nameDetails.namespace]=[]),e[t.nameDetails.namespace].push(t),e},{}),Object.keys(e).map(function(e,t){return(0,s.divWithChildren)([(0,s.compose)((0,s.applyClass)("roxNamespace"),s.divWithText)(t),(0,s.compose)((0,s.applyClass)("roxFlagsList"),s.divWithChildren)(e[t].map(g))])}.bind(null,e))));var e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(){var e=arguments;return function(t){for(var r=e.length-1;r>-1;r--)t=e[r].call(this,t);return t}},t.compileStyles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){return t+": "+e[t]}).join(";")},t.setStyle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.setAttribute("style",t),e},t.applyClass=function(e){return function(t){return t.setAttribute("class",e),t}};var n=function(e,t,r){return e.addEventListener(t,r),e},a=(t.attachOnChangeHandler=function(e,t){return n(e,"change",t)},t.attachOnClickHandler=function(e,t){return n(e,"click",t)},void(t.attachOnKeyUpHandler=function(e,t){return n(e,"keyup",t)})),i=void 0,o=void 0,l=void 0,s=void 0,u=void 0;a=t.elementWithText=i=t.elementWithAttrs=o=t.elementWithChildren=l=s,t.divWithChildren=u=function(){},"undefined"!=typeof window&&"undefined"!=typeof document&&(a=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(function(e,t){return t?e.appendChild(t)&&e:e},e)},t.elementWithText=i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.createElement(e);return r.textContent=t,r},t.elementWithAttrs=o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(e);return Object.keys(t).forEach(function(e){return r.setAttribute(e,t[e])}),r},t.elementWithChildren=l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a(document.createElement(e),t)},t.divWithText=s=i.bind(document,"div"),t.divWithChildren=u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l("div",e)}),t.elementWithText=i,t.elementWithAttrs=o,t.elementWithChildren=l,t.divWithText=s,t.divWithChildren=u}]).default})}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{timers:204}],459:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ContentTransformers=r.GContentTransformers=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=function(){function e(){(0,a.default)(this,e),this.onContentSave=this.onContentSave.bind(this),this.onContollerHide=this.onContollerHide.bind(this),this.reset=this.reset.bind(this)}return(0,i.default)(e,[{key:"onContentSave",value:function(e){if(e=$strip(e),-1!==e.indexOf("@")&&(e=" ".concat(e," ")),"gmail"===this.type)return"[[gmail=".concat(this.link_id,", ").concat(e," ]]");if("thunderbird"===this.type){return"[[thunderbird\n ".concat(e.replace(/\n/g,""),"\n").concat(this.link_id.replace(/\n/g,"")," \n ]]")}if("outlook"===this.type)return"[[outlook=".concat(this.link_id,", ").concat(e," ]]");if("spark"===this.type)return"".concat(e," ").concat(this.link_id);if(this.type){var t=e;t=t.replace(/\[/g,"("),t=t.replace(/\]/g,")");var r=this.link_id;return r=r.replace(/\(/g,"["),r=r.replace(/\)/g,"]"),"[".concat(t,"](").concat(r,")")}return e}},{key:"onContentShow",value:function(){return this.title}},{key:"onContollerHide",value:function(){this.type=null,this.link_id="",this.title=""}},{key:"reset",value:function(){this.onContollerHide()}},{key:"setupByContent",value:function(e){var t,r=e.match(/mail.google.com\/mail/g);r&&1===r.length&&(t=e.match(/(https?:\/\/mail.google.com\/mail\/[^\s]+) \(([^\)]+)\)/),t&&t[0]===e&&(this.link_id=t[1],this.title=e.replace(t[0],t[2]),this.type="gmail_new"),t||(t=e.match(/\[([^\]]+)\]\((https?:\/\/mail.google.com\/mail\/[^\s]+)\)/))&&t[0]===e&&(this.link_id=t[2],this.title=t[1],this.type="gmail_new")),r=e.match(/twist(?:app)?.com\/a/g),r&&1===r.length&&(t=e.match(/(https?:\/\/[^\s]*twist(?:app)?.com\/a\/[^\s]+) \(([^\)]+)\)/),t&&t[0]===e&&(this.link_id=t[1],this.title=e.replace(t[0],t[2]),this.type="twist"),t||(t=e.match(/\[([^\]]+)\]\((https?:\/\/[^\s]*twist(?:app)?.com\/a\/[^\s]+)\)/))&&t[0]===e&&(this.link_id=t[2],this.title=t[1],this.type="twist")),-1!==e.indexOf("[[gmail=")&&(t=e.match(/\[\[gmail=(.+?),\s*(.+?)\]\]/))&&t[0]===e&&(this.link_id=t[1],this.title=t[2],this.type="gmail"),-1!==e.indexOf("[[thunderbird")&&(t=e.match(/\[\[thunderbird\n?([^\n]+)\n([^\n]+)\n\s*\]\]/))&&t[0]===e&&(this.link_id=t[2],this.title=t[1],this.type="thunderbird"),-1!==e.indexOf("[[outlook=")&&(t=e.match(/\[\[outlook=(.+?),\s*(.+?)\]\]/))&&t[0]===e&&(this.link_id=t[1],this.title=t[2],this.type="outlook"),(r=e.match(/readdle-spark:\/\//g))&&1===r.length&&(t=e.match(/\[\(.+\)\]\((readdle-spark:[^\s]+)\)/))&&(this.link_id=t[0],this.title=e.replace(t[0],""),this.type="spark")}},{key:"annotateWithIcon",value:function(e){var t=e.parentNode;if(t){var r;$addClass(t,"has_content_icon"),r="twist"===this.type?"sm1/twist.svg":"generic"===this.type?"sm1/attachment.svg":"sm1/email.svg";var n=svgs.get(r,{className:"content-icon",width:24,height:24});$ATT(t,n)}}}],[{key:"initClass",value:function(){this.prototype.type=null,this.prototype.link_id="",this.prototype.title=""}}]),e}();r.GContentTransformers=o,o.initClass();var l=new o;r.ContentTransformers=l;var s={GContentTransformers:o,ContentTransformers:l};r.default=s},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],460:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={isGmailDomain:function(e){return-1!=e.indexOf("mail.google.com")||-1!=e.indexOf("googlemail.com")},isCurHrefGmail:function(e){var t=n;if(!e)return!1;if(t.isGmailDomain(e)){if(t.getGmailRealId(e))return!0}return!1},getGmailRealId:function(e){if(!n.isGmailDomain(e))return null;try{var t=e.split("/"),r=t[t.length-1];if(-1==r.indexOf(".")&&-1==r.indexOf("#")&&-1==r.indexOf("/")&&r.length>=16)return r}catch(e){}return null},getThreadId:function(e){var t=e.match(/th=(.{16,})/);return t?t[1]:(t=e.match(/\/([^\/.]{16,})/),t?t[1]:null)}};window.GmailPlugin=n;var a=n;r.default=a},{}],461:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./GmailPlugin.js")),i=e("../components/misc/Util.js"),o=e("delegated-events"),l={on:function(){(0,o.on)("click","a[data-redirect-link]",this.handleRedirectLinkClick)},off:function(){(0,o.off)("click","a[data-redirect-link]",this.handleRedirectLinkClick)},handleRedirectLinkClick:function(e){var t=e.target,r=t.getAttribute("thunder_id");if(r){var n=JSON.stringify({type:"switchEmail",id:r});return e.preventDefault(),top.postMessage(n,"*")}if(window.CUR_HREF&&window.CUR_HREF.href){var o=a.default.getThreadId(t.href),l=window.CUR_HREF.href.match(/^(.+)#/);if(a.default.isGmailDomain(t.href)&&o&&l){if("T_FIREFOX_MESSAGE"==window.CUR_HREF.type){var s=l[1]+"#inbox/"+o,u=JSON.stringify({type:"switchLocation",url:s});try{e.preventDefault(),top.postMessage(u,"*")}catch(e){}return!1}return!top.postMessage||(e.preventDefault(),(0,i.postMessageToWindow)(top,"SWITCH_URL:"+t.href),!1)}}}},s=l;r.default=s},{"../components/misc/Util.js":47,"./GmailPlugin.js":460,"@babel/runtime/helpers/interopRequireDefault":189,"delegated-events":"delegated-events"}],462:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.init=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("./PluginVersion.js")),o=n(e("./RatingsTooltip")),l=n(e("../stores/store")),s=e("../reducers/externalServices");window.CUR_HREF={};var u=function(e){if(e&&e.data&&e.data.indexOf){var t;if(-1!==e.data.indexOf("--/--")){var r=e.data.split("--/--"),n=(0,a.default)(r,2),u=n[0],c=n[1];if(window.CUR_HREF.href===u)return;window.CUR_HREF={href:u,title:c},i.default.notifyExternalServices(),l.default.dispatch((0,s.updateCurrentLocation)(u,c))}if(-1!==e.data.indexOf("GCHROME_MESSAGE")){if(t=JSON.parse(e.data),window.CUR_HREF.href===t.href)return;window.CUR_HREF=t,i.default.notifyExternalServices(),l.default.dispatch((0,s.updateCurrentLocation)(t.href,t.title))}-1!==e.data.indexOf("USER_TOOLTIP")&&(t=JSON.parse(e.data),o.default.show(t))}},c=function(){window.attachEvent?window.attachEvent("onmessage",u):window.addEventListener("message",u,!1)};r.init=c;var d={init:c};r.default=d},{"../reducers/externalServices":998,"../stores/store":1048,"./PluginVersion.js":463,"./RatingsTooltip":464,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],463:[function(e,t,r){"use strict";function n(e){window.CUR_HREF=e,p.notifyExternalServices()}function a(){return window.CUR_HREF?window.CUR_HREF.href:null}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("../stores/store")),l=e("../reducers/modals"),s=i(e("../components/project_editor/ProjectEditorManager")),u=i(e("../components/richtext_editor/NatrualLanguageParsing")),c=i(e("../external_services/OutlookIntegration.js")),d=e("../plugin_version/ContentTransformers"),f=i(e("./GmailPlugin.js"));window.CURRENT_EXERNAL_SERVICE=null,window.CUR_HREF=null;var p={init:function(){try{window.addEventListener("message",function(e){if(e){var t=e.data;if(t&&$isString(t)){if("GB_hide"==t)return void GB_hide();-1==t.indexOf("SET_CURRENT_ADD")&&-1==t.indexOf("THUNDERBIRD_MESSAGE")&&-1==t.indexOf("T_FIREFOX_MESSAGE")||n(JSON.parse(t)),-1==t.indexOf("SHOW_QUICK_ADD")&&-1==t.indexOf("GMAIL_MESSAGE_ADD")||(window.CUR_HREF=JSON.parse(t),setTimeout(function(){p.addToGenericController(!0)},100))}}},!1)}catch(e){}Signals.connect("PluginVersion.notifyExternalServices",this.notifyExternalServices),Signals.connect("PluginVersion.addToGenericController",$p(this.addToGenericController,!0))},addToGenericController:function(e){void 0===e&&(e=!1);var t=s.default.current_section_list;if(t&&!1===p.force_quick_add)t.addNewItem(!1,function(){p.addToTextArea(s.default.current_react_editor)});else{o.default.getState().modals.type||(c.default.current_email_obj?c.default.addToTextArea():p.addToTextArea())}return!1},addToTextArea:function(e){if(u.default.truncate_links=!0,window.CUR_HREF&&window.CUR_HREF.unique_id){var t=window.CUR_HREF;return-1!=t.unique_id.indexOf("TODOIST_WARN_USER_MESSAGE_NOT_SELECTED")?(alert(_("Please select an email first before adding it as a task.")),!1):(d.ContentTransformers.type="thunderbird",d.ContentTransformers.link_id=t.unique_id,d.ContentTransformers.title=p.normalizeTitle(t.subject),e?e.insertText?e.insertText(d.ContentTransformers.onContentSave(t.subject.replace(/\n/g,""))):(d.ContentTransformers.annotateWithIcon(e),LibEdit.insertAtCursor(e,t.subject.replace(/\n/g,""),!0),e.onchanged&&e.onchanged()):o.default.dispatch((0,l.showModal)({type:l.MODAL_TYPES.QUICK_ADD,props:{item:{content:d.ContentTransformers.onContentSave(t.subject.replace(/\n/g,""))}}})),!1)}if(!a())return!1;if(f.default.getGmailRealId(a())){var r=window.CUR_HREF.title;r=r.replace(/[-\s]+[^\s]+@[^\s]+ - [^-]+$/,"");try{r=p._stripTitle(r)}catch(e){}d.ContentTransformers.type="gmail_new",d.ContentTransformers.link_id=window.CUR_HREF.href,d.ContentTransformers.title=p.normalizeTitle(r),e?e.insertText?e.insertText(d.ContentTransformers.onContentSave(r)):(d.ContentTransformers.annotateWithIcon(e),LibEdit.insertAtCursor(e,r,!0)):o.default.dispatch((0,l.showModal)({type:l.MODAL_TYPES.QUICK_ADD,props:{item:{content:d.ContentTransformers.onContentSave(r)}}}))}else{var n=p.getTitleAndUrl(),i=n[0],s=n[1];s.match(/twist(?:app)?.com\/a/g)?d.ContentTransformers.type="twist":d.ContentTransformers.type="generic",d.ContentTransformers.link_id=s,d.ContentTransformers.title=i,e?e.insertText?e.insertText(d.ContentTransformers.onContentSave(i)):(d.ContentTransformers.annotateWithIcon(e),LibEdit.insertAtCursor(e,i,!0)):o.default.dispatch((0,l.showModal)({type:l.MODAL_TYPES.QUICK_ADD,props:{item:{content:d.ContentTransformers.onContentSave(i)}}}))}return!1},getTitleAndUrl:function(){var e=p._stripTitle(window.CUR_HREF.title);-1!=e.indexOf("(")&&(e=e.replace(/\(/g,"["),e=e.replace(/\)/g,"]"));var t=a();return-1!=t.indexOf("teamcom.io")&&(e=e.replace(/^\[\d+\]\s+/,""),e=e.replace(" | TeamCom","")),[p.normalizeTitle(e),t]},normalizeTitle:function(e){return e.length>140&&(e=e.substring(0,140)+"..."),e.replace(/\n/g," ")},notifyExternalServices:function(){var e,t=!1,r=!0,n=_("Add email as task"),i=null;if(c.default.current_email_obj?(t=!0,e=c.default.addToTextArea):window.CUR_HREF&&window.CUR_HREF.unique_id?(t=!0,e=p.addToTextArea):a()&&(t=!0,f.default.isCurHrefGmail(a())||(n=window.CUR_HREF.action_text||_("Add website as task"),r=!1),e=p.addToTextArea,i=window.CUR_HREF.attach_text),setTimeout(p.notifyExternalServices,500),t){var o=window.CURRENT_EXERNAL_SERVICE;if(o&&o.annotate_fn==e&&o.annotate_add_text==n)return;window.CURRENT_EXERNAL_SERVICE={annotate_fn:e,annotate_add_text:n,is_email:r},i&&(window.CURRENT_EXERNAL_SERVICE.annotate_attach_text=i)}else window.CURRENT_EXERNAL_SERVICE=null;Signals.sendSignal("external_service_annotation",window.CURRENT_EXERNAL_SERVICE)},_stripTitle:function(e){return e=e.replace(/\s\s+/g," ").replace(/"/g,""),e=e.replace(/\[/g,"(").replace(/\]/g,")"),$strip(e)}};window.PluginVersion=p;var m=p;r.default=m},{"../components/project_editor/ProjectEditorManager":61,"../components/richtext_editor/NatrualLanguageParsing":80,"../external_services/OutlookIntegration.js":112,"../plugin_version/ContentTransformers":459,"../reducers/modals":1016,"../stores/store":1048,"./GmailPlugin.js":460,"@babel/runtime/helpers/interopRequireDefault":189}],464:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("../components/misc/Util.js"),l=function(){function e(){(0,a.default)(this,e),this.show=this.show.bind(this),this.tooltip_shown=!1}return(0,i.default)(e,[{key:"show",value:function(e){var t,r,n,a,i=this;if(!this.tooltip_shown&&!$queryArgument("print_mode")){var o=e.message||"rate_chrome_plugin";"rate_chrome_plugin"===o?r=_("If you enjoy using Todoist for Chrome, would you mind taking a moment and rate us?")+"<br /><br />"+_("It won't take more than a minute. Thanks for your support!"):"rate_firefox_plugin"===o&&(r=_("If you enjoy using Todoist for Firefox, would you mind taking a moment and rate us?")+"<br /><br />"+_("It won't take more than a minute. Thanks for your support!"));var l=Alerts.renderHolder(r);$add(l.icon,svgs.get("sm1/todoist_logo.svg")),$add(l.buttons,BR(),t=IstButton.createButton(_("Rate it now"),null,"red")),$AEV(t,"click",function(){return window.open(e.action_url),i.disableTooltip(o)}),$add(l.buttons,BR(),BR()),$add(l.buttons,a=A({href:"#",c:"cancel",s:"margin-right: 10px;"},_("Remind me later")),n=A({href:"#",c:"cancel"},_("No, Thanks"))),$AEV(a,"click",$p(this.reset,o)),$AEV(n,"click",$p(this.disableTooltip,o)),$AEV([t,a,n],"click",GB_hide),GB_showHTML("",l.frame,180,330,{callback_fn:function(){return null}}),this.tooltip_shown=!0}}},{key:"disableTooltip",value:function(e){e&&-1!==e.indexOf("firefox")?(0,o.postMessageToWindow)(top,"DISABLE_TOOLTIP:firefox_rating"):(0,o.postMessageToWindow)(top,"DISABLE_TOOLTIP:chrome_rating")}},{key:"reset",value:function(e){e&&-1!==e.indexOf("firefox")?(0,o.postMessageToWindow)(top,"DISABLE_TOOLTIP:firefox_rating"):(0,o.postMessageToWindow)(top,"RESET_TOOLTIP:chrome_rating")}}]),e}(),s=new l;r.default=s},{"../components/misc/Util.js":47,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],465:[function(e,t,r){"use strict";function n(e){var t=e.user,r=e.size,n=e.darkTheme;if(t.image_id)return"".concat(m,"/").concat(t.image_id,"_").concat(r,".jpg");var a=$encode({fullName:t.full_name||t.email.split("@")[0],email:t.email,size:r==v?36:100,bg:n?g:y});return"".concat(h,"?").concat(a)}function a(e){var t=e.user,r=e.size,a=void 0===r?b:r,i=e.darkTheme,o=void 0!==i&&i,u=e.className,c=s.default.useState(!1),f=(0,l.default)(c,2),p=f[0],m=f[1],h=null==t||p,v=h?"https://d3ptyyxy2at9ui.cloudfront.net/circular_profile-1df5ac.svg":n({user:t,size:a,darkTheme:o});return s.default.createElement("img",{src:v,alt:null!=t?t.full_name:_("Anonymous user"),className:(0,d.default)("user_avatar",a,u),onError:function(){p||m(!0)}})}function i(e){return{darkTheme:(0,p.getTheme)(e)===f.THEME_DARK}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Avatar=a,r.default=void 0;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=o(e("react")),u=o(e("prop-types")),c=e("react-redux"),d=o(e("classnames")),f=e("../constants/themes"),p=e("../reducers/settings"),m="https://dcff1xvirvpfp.cloudfront.net",h="https://avatars.doist.com",v="small",b="medium",y="ffffff",g="1f1f1f";a.propTypes={user:u.default.oneOfType([u.default.shape({image_id:u.default.string.isRequired}),u.default.shape({full_name:u.default.string.isRequired}),u.default.shape({email:u.default.string.isRequired})]),size:u.default.oneOf([v,b]),className:u.default.string,darkTheme:u.default.bool},a.SIZE_SMALL=v,a.SIZE_MEDIUM=b;var E=(0,c.connect)(i)(a);r.default=E},{"../constants/themes":95,"../reducers/settings":1036,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,classnames:"classnames","prop-types":"prop-types",react:"react","react-redux":"react-redux"}],466:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=n(e("prop-types")),s=n(e("@doist/reactist/lib/Tooltip")),u=e("../utils"),c=o.default.forwardRef(function(e,t){function r(e){e.preventDefault(),document.activeElement&&document.activeElement.blur(),b.onMouseDown&&b.onMouseDown(e)}var n=e.children,l=e.className,c=e.disabled,d=void 0!==c&&c,f=e.onClick,p=e.title,m=e.type,h=void 0===m?"button":m,_=e.as,v=void 0===_?"button":_,b=(0,i.default)(e,["children","className","disabled","onClick","title","type","as"]);"submit"===h&&"button"!==v&&(console.warn('A custom button element cannot have type="submit"'),v="button");var y="button"!==v,g=y&&null!=f?function(e){var t=(0,u.resolveKeyboardKey)(e.key);" "!==t&&"Enter"!==t||f(e),b.onKeyPress&&b.onKeyPress(e)}:b.onKeyPress,E=y?{role:"button",tabIndex:0}:{type:h,disabled:d};return o.default.createElement(v,(0,a.default)({},E,b,{ref:t,onClick:d?void 0:f,onKeyPress:d?void 0:g,onMouseDown:d?void 0:r,className:l,"aria-disabled":d?"true":void 0}),null!=p?o.default.createElement(s.default,{text:p,delayShow:0,position:"bottom"},n):n)});c.propTypes={children:l.default.node,className:l.default.string,disabled:l.default.bool,onClick:l.default.func,title:l.default.node,type:l.default.oneOf(["submit","button"]),as:l.default.oneOf(["button","div","span","li"])};var d=c;r.default=d},{"../utils":1094,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],467:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("react-dom")),p=n(e("prop-types")),m=n(e("classnames")),h=e("../utils"),_=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t===document)return r;var n=window.document.defaultView.getComputedStyle(t).getPropertyValue("z-index");return isNaN(n)?e(t.parentNode,r):e(t.parentNode,n>r?n:r)},v=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),(0,c.default)((0,s.default)(r),"handleKeyDown",function(e){"Escape"===(0,h.resolveKeyboardKey)(e.key)&&"function"==typeof r.props.onHide&&(e.stopPropagation(),r.props.onHide(e))}),(0,c.default)((0,s.default)(r),"handleOverlayClick",function(e){null!=e.target.closest("div.dialog-content")||(e.preventDefault(),e.stopPropagation(),"function"==typeof r.props.onHide&&r.props.onHide(e))}),r.el=document.createElement("div"),r.el.className=(0,m.default)("dialog",e.className),""!==e.tabIndex&&(r.el.tabIndex=e.tabIndex),document.body.appendChild(r.el),r.noseEl=d.default.createRef(),r.setUnderlaySize=r.setUnderlaySize.bind((0,s.default)(r)),r.setPosition=r.setPosition.bind((0,s.default)(r)),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.setUnderlaySize(),window.addEventListener("scroll",this.setUnderlaySize),this.setPosition(),window.addEventListener("resize",this.setPosition),this.el.addEventListener("click",this.handleOverlayClick),this.props.autoFocus&&this.el.focus()}},{key:"componentWillUnmount",value:function(){this.el.parentNode&&document.body.removeChild(this.el),window.removeEventListener("scroll",this.setUnderlaySize,!1),window.removeEventListener("resize",this.setPosition,!1),this.el.removeEventListener("click",this.handleOverlayClick)}},{key:"setUnderlaySize",value:function(){this.el.style.width="100%",this.el.style.height="".concat($scrollTop()+$winSize().h,"px"),this.el.style.visibility="visible"}},{key:"setPosition",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.position,r=this.props,n=r.anchor,a=r.mouseEvent,i=r.anchorGap,o=r.align,l=r.isFixed,s=r.isPositionFluid,u=r.width,c=r.nose,d=document.body.scrollWidth,f=$scrollTop();e=this.content,e.style.position="fixed",u&&(e.style.width="".concat(u,"px"));var p,m,v,b=e.getBoundingClientRect(),y=b.height;if(a)m=a.pageY,v=a.pageX;else if(n)switch(p=n.getBoundingClientRect(),v=p.left+p.width/2-b.width/2,l||(0,h.isFixedPosition)(n)?(m=0,e.style.position="fixed"):(m=f,e.style.position="absolute"),t){case"top":"bottom"===o?m+=p.bottom-y:"top"===o&&(m+=p.top-y);break;case"right":m+=p.top,v+=p.width/2+b.width/2;break;case"bottom":default:"bottom"===o?m+=p.bottom+(c?10:0):"top"===o&&(m+=p.top+(c?10:0))}else switch(t){case"center":default:m=$winSize().h/2-y/2,v=$winSize().w/2-b.width/2}var g=$winSize().h+f,E=m+y,T=E>g;if(s&&T)switch(t){case"bottom":default:return this.setPosition("top")}v=Math.max(0,Math.min(v,d-b.width-12)),"top"===t?m-=i:"bottom"===t&&(m+=i),c&&n&&(this.noseEl.current.style.left="".concat(p.left+p.width/2-v-6,"px")),e.style.top="".concat(m,"px"),e.style.left="".concat(v,"px"),e.style.visibility="visible",T&&$fx.scrollToPos(E-window.innerHeight+20);var w=0,R=window.GB_getLast&&window.GB_getLast();if(R&&(w=R.cur_zindex+501),n){var P=_(n);P>=w&&(w=P+1)}this.el.style.zIndex=w}},{key:"render",value:function(){var e=this,t=this.props,r=t.contentClassName,n=t.children,a=t.nose,i=t.position,o=(0,m.default)("dialog-content",r);return f.default.createPortal(d.default.createElement("div",{ref:function(t){return e.content=t},className:o,onKeyDown:this.handleKeyDown},a&&d.default.createElement("div",{ref:this.noseEl,className:"dialog_nose dialog_nose_".concat(i)}),n),this.el)}}]),t}(d.default.PureComponent);v.propTypes={autoFocus:p.default.bool,anchor:p.default.object,anchorGap:p.default.number,mouseEvent:p.default.shape({pageX:p.default.number.isRequired,pageY:p.default.number.isRequired}),align:p.default.oneOf(["top","bottom"]),className:p.default.string,contentClassName:p.default.string,position:p.default.oneOf(["center","top","bottom","right"]),width:p.default.number,isFixed:p.default.bool,isPositionFluid:p.default.bool,onHide:p.default.func,nose:p.default.bool,children:p.default.node,tabIndex:p.default.oneOfType([p.default.string,p.default.number])},v.defaultProps={autoFocus:!0,anchorGap:0,align:"bottom",position:"center",isFixed:!1,isPositionFluid:!1,onHide:function(){},nose:!1,tabIndex:-1};var b=v;r.default=b},{"../utils":1094,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react","react-dom":"react-dom"}],468:[function(e,t,r){"use strict";function n(e){var t=e.canDrop,r=e.isOver,n=e.connectDropTarget,a=e.children,i=e.onDrop,l=e.fullScreen,s=void 0===l||l;return o.default.createElement("div",null,s?o.default.createElement(f,{onDrop:i}):null,n(a({isDragging:t,isHovering:r})))}function a(e){var t=e.connectDropTarget,r=e.canDrop;return t(o.default.createElement("div",{style:r?d:{}}))}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=i(e("prop-types")),s=e("react-dnd"),u=e("react-dnd-html5-backend");n.propTypes={onDrop:l.default.func,dropTarget:l.default.object,children:l.default.func,fullScreen:l.default.bool,connectDropTarget:l.default.func,isOver:l.default.bool,canDrop:l.default.bool};var c=(0,s.DropTarget)(u.NativeTypes.FILE,{drop:function(e,t){e.onDrop&&e.onDrop(t.getItem().files)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}),d={position:"fixed",zIndex:0,top:0,left:0,right:0,bottom:0},f=c(a),p=c(n);r.default=p},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react","react-dnd":"react-dnd","react-dnd-html5-backend":"react-dnd-html5-backend"}],469:[function(e,t,r){"use strict";function n(e){var t=e.children,r=e.href,n=(0,o.default)(e,["children","href"]);return l.default.createElement("a",(0,i.default)({rel:"noopener noreferrer",target:"_blank",href:r},n),t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types"));n.propTypes={children:s.default.node.isRequired,href:s.default.string.isRequired}},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],470:[function(e,t,r){"use strict";function n(e){for(var t=e.parentNode;;){if(!t){t=e.nextSibling;break}if(t.parentNode===document.body)break;t=t.parentNode}return t}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/assertThisInitialized")),c=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),f=a(e("react")),p=a(e("prop-types")),m=function(e){function t(){var e,r;(0,i.default)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return r=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o))),(0,d.default)((0,u.default)(r),"state",{isDropboxOpen:!1}),(0,d.default)((0,u.default)(r),"uploadFiles",function(e){var t=r.props.onUpload,n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,u=new GFile;u.file=s,u.temporaryId=Math.random(),u.upload(),t(u)}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}}),(0,d.default)((0,u.default)(r),"uploadFromGoogleDrive",function(){GoogleDrive.filesSelected=r.driveSelected,GoogleDrive.picker?GoogleDrive.show():GoogleDrive.load()}),(0,d.default)((0,u.default)(r),"uploadFromDropBox",function(){if(window.Dropbox)return void r.chooseFromDropbox();var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.id="dropboxjs",e.setAttribute("data-app-key","o8lsvx1nvnswy6q"),e.src="https://www.dropbox.com/static/api/2/dropins.js",document.body.appendChild(e),e.addEventListener("load",r.chooseFromDropbox)}),(0,d.default)((0,u.default)(r),"chooseFromDropbox",function(){var e=r.props.onUpload;r.setState(function(){return{isDropboxOpen:!0}}),window.Dropbox.choose({success:function(t){r.setState(function(){return{isDropboxOpen:!1}});var n=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,u=new GFile;u.temporaryId=s.id;var c={file_url:s.link,file_name:s.name,file_size:s.bytes};s.thumbnailLink&&(c.image=s.thumbnailLink.replace("=96","=800"),c.image_width=800,c.image_height=800),u.setUploadContent(c),e(u)}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}},multiselect:!0,iframe:!0,cancel:function(){return r.setState(function(){return{isDropboxOpen:!1}})}});var t=document.querySelector('iframe[src*="dropbox"]');if(t){n(t).style.zIndex=1e5}}),(0,d.default)((0,u.default)(r),"driveSelected",function(e){var t=r.props.onUpload,n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,u=new GFile,c={file_url:s.url,file_name:s.name,file_underlying_type:s.mimeType};u.setUploadContent(c),t(u)}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}}),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){window.Dropbox&&window.Dropbox.cancelChooser&&this.state.isDropboxOpen&&window.Dropbox.cancelChooser()}},{key:"render",value:function(){return this.props.children({uploadFiles:this.uploadFiles,uploadFromGoogleDrive:this.uploadFromGoogleDrive,uploadFromDropBox:this.uploadFromDropBox})}}]),t}(f.default.Component);r.default=m,(0,d.default)(m,"propTypes",{onUpload:p.default.func,children:p.default.func})},{"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],471:[function(e,t,r){"use strict";function n(e){var t=e.date,r=e.overrideClassName,n=e.showDue,a=void 0===n||n,o=e.showTime,d=void 0!==o&&o,f=e.showIcon,p=void 0!==f&&f;if(!a&&!d)return null;var m=t instanceof s.default?t:s.default.fromDate(new Date(t)),h=new Date,_=new Date;_.setDate(_.getDate()+1);var v=DateistDateHelpers.day_diff(h,m.toDate()),b=""
;if(a&&d||a&&!d)b=u.DateUtils.humanizeDayDiff(v,m.toDate());else if(!a&&d)if(m.with_time)b=u.DateUtils.getHourAndMin(m.toDate());else if(!t.is_recurring)return null;var y=b&&b.length>0?(0,l.default)("date",(0,u.getDueClassName)(t)):"date";return i.default.createElement("span",{className:r||y},p&&b?i.default.createElement(c.CalendarIconB,{size:"small",className:"calendar_icon"}):null,b,t.is_recurring?i.default.createElement(c.RecurringIcon,{className:"recurring_icon"}):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("classnames")),s=a(e("../models/DateExt")),u=e("../utils"),c=e("./icons");n.propTypes={date:o.default.oneOfType([o.default.string,o.default.instanceOf(s.default)]).isRequired,overrideClassName:o.default.string,showDue:o.default.bool,showTime:o.default.bool,showIcon:o.default.bool};var d=n;r.default=d},{"../models/DateExt":154,"../utils":1094,"./icons":731,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],472:[function(e,t,r){"use strict";function n(e){var t=e.isSelected,r=e.className,n=e.onContextMenu,a=e.onMenuClick,i=e.children,l=e.leftIcon,c=e.color,d={color:s.getHex("filter",c)};return o.default.createElement("div",{className:"".concat(r||""," ").concat(t?"current":""),onContextMenu:n},o.default.createElement("table",{cellPadding:"0",cellSpacing:"0",className:"item_table"},o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{className:"td_color"},o.default.createElement("div",{className:"div_color counter_color",style:d},l)),o.default.createElement("td",{className:"name"},i),o.default.createElement("td",{className:"menu"},a?o.default.createElement("div",{onClick:a,className:"icon menu gear_menu"},o.default.createElement(u.MoreSmallIcon,null)):null)))))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("react")),l=i(e("prop-types")),s=a(e("../models/Colors")),u=e("./icons");n.propTypes={isSelected:l.default.bool,className:l.default.string,onContextMenu:l.default.func,onMenuClick:l.default.func,children:l.default.node,leftIcon:l.default.element,color:l.default.number}},{"../models/Colors":151,"./icons":731,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],473:[function(e,t,r){"use strict";function n(e){e===c.TYPE_ITEM_NOTE?d.default.showTaskComment():d.default.showProjectComment()}function a(e){function t(e){if(!e.ctrl)return a<=0&&(0,m.isPremium)(b)?(GB_hide(),void n(d)):void l(e,d,i)}var r=e.notesCount,a=void 0===r?0:r,i=e.noteParent,l=e.onClick,s=e.noteType,d=void 0===s?_:s,h=e.hasMore,v=void 0!==h&&h,b=e.user,y=(0,u.default)("clickable","note_icon",{note_icon_show_on_hover:0===a&&d===c.TYPE_ITEM_NOTE}),g=d===c.TYPE_PROJECT_NOTE?"project|comments":"task|comments";return o.default.createElement(p.default,{className:y,"data-track":g,"data-note-type":d,"data-note-parent-id":i.id,onClick:t},o.default.createElement(f.default,null),a>0&&o.default.createElement("span",{className:"clickable note_count sel_note_count"},v?"".concat(a,"+"):a))}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.NotesButton=a,r.default=void 0;var o=i(e("react")),l=e("react-redux"),s=i(e("prop-types")),u=i(e("classnames")),c=e("../reducers/notes"),d=i(e("../containers/premium_promo/PremiumOnlyModal")),f=i(e("./icons/NotesIcon")),p=i(e("./Button")),m=e("../reducers/user"),h=e("../reducers/detailView"),_=c.TYPE_ITEM_NOTE;a.propTypes={noteParent:s.default.object.isRequired,noteType:s.default.oneOf([c.TYPE_ITEM_NOTE,c.TYPE_PROJECT_NOTE]),notesCount:s.default.number,hasMore:s.default.bool,user:s.default.object,onClick:s.default.func};var v=function(e){return{onClick:function(t,r,n){r===c.TYPE_ITEM_NOTE&&e((0,h.detailViewShowItem)(n.id,{activeTab:"comments"})),r===c.TYPE_PROJECT_NOTE&&e((0,h.detailViewShowProject)(n.id))}}},b=(0,l.connect)(null,v)(a);r.default=b},{"../containers/premium_promo/PremiumOnlyModal":104,"../reducers/detailView":996,"../reducers/notes":1021,"../reducers/user":1042,"./Button":466,"./icons/NotesIcon":702,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react","react-redux":"react-redux"}],474:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("@babel/runtime/helpers/assertThisInitialized")),d=n(e("@babel/runtime/helpers/inherits")),f=n(e("@babel/runtime/helpers/defineProperty")),p=n(e("react")),m=n(e("prop-types")),h=function(e){function t(){var e,r;(0,o.default)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(a))),(0,f.default)((0,c.default)(r),"onChange",function(e){(0,r.props.onChange)(e.target.value)}),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.nodeRef,r=e.value;this.hiddenTextArea=document.createElement("textarea"),this.hiddenTextArea.style.position="absolute",this.hiddenTextArea.style.left="-9999px",document.body.appendChild(this.hiddenTextArea);var n=getComputedStyle(t.current).width;this.hiddenTextArea.style.width=n,this.hiddenTextArea.value=r,t.current.style.height="".concat(this.hiddenTextArea.scrollHeight,"px")}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.nodeRef,n=t.value;e.value!==this.props.value&&(this.hiddenTextArea.value=n,r.current.style.height="".concat(this.hiddenTextArea.scrollHeight,"px"))}},{key:"componentWillUnmount",value:function(){try{document.body.removeChild(this.hiddenTextArea)}catch(e){}}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.nodeRef),r=e.value,n=(0,i.default)(e,["onChange","nodeRef","value"]);return p.default.createElement("textarea",(0,a.default)({},n,{ref:t,value:r||"",onChange:this.onChange}))}}]),t}(p.default.Component);r.default=h,(0,f.default)(h,"propTypes",{value:m.default.string,onChange:m.default.func,nodeRef:m.default.object})},{"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],475:[function(e,t,r){"use strict";function n(e){var t=e.text,r=e.keyval,n=(0,s.compose)((0,s.map)(function(e){var t=(0,i.default)(e,2),r=t[0];return{name:r,value:t[1],re:new RegExp("\\{\\s*".concat(r,"\\s*\\}"),"g")}}),s.toPairs)(r),a=(0,s.compose)((0,s.sortBy)("startIndex"),(0,s.filter)(function(e){return e}),s.flatten,(0,s.map)(function(e){for(var r,n=e.name,a=e.value,i=e.re,o=[];null!==(r=i.exec(t));)o.push({name:n,value:a,re:i,startIndex:r.index,endIndex:r.index+r[0].length});return o}))(n),l=[],u=0,c=!0,d=!1,f=void 0;try{for(var p,m=a[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h=p.value,_=h.startIndex,v=h.endIndex,b=h.value,y=t.slice(u,_);l.push(y),l.push(b),u=v}}catch(e){d=!0,f=e}finally{try{c||null==m.return||m.return()}finally{if(d)throw f}}var g=t.slice(u,t.length);return l.push(g),o.default.createElement.apply(o.default,[o.default.Fragment,null].concat(l))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=a(e("react")),l=a(e("prop-types")),s=e("../utils/fp");n.propTypes={text:l.default.string,keyval:l.default.object}},{"../utils/fp":1083,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],476:[function(e,t,r){"use strict";function n(e){var t=e.project,r=u.default.getHex("project",t.color),n=c.default.formatSimple(t.name,{with_links:!1,with_emojis:!0,as_html:!1});return o.default.createElement("div",{className:"project","data-track":"activity_log|select_project"},o.default.createElement("span",{className:"clickable project_item"},o.default.createElement("span",{className:"project_item__name",dangerouslySetInnerHTML:{__html:n}}),o.default.createElement("span",{className:"project_item__color",style:{backgroundColor:r,color:r}})))}function a(e){var t=e.activity,r=e.user,a=e.isUserPremium,i=e.withCommentAction,l=void 0===i||i,u=t.project,c=t.initiator,m=t.extra_data,h="".concat(t.object_type,":").concat(t.event_type),v=_[h],b=p.DateUtils.getHourAndMin(new Date(t.event_date));return o.default.createElement("li",{className:"event"},o.default.createElement("div",{className:"avatar"},o.default.createElement(d.default,{user:c,size:d.default.SIZE_MEDIUM}),null!=v&&o.default.createElement("div",{className:"avatar_event_icon",dangerouslySetInnerHTML:{__html:v}})),o.default.createElement("div",{className:"text"},o.default.createElement(f.default,{activity:t,user:r,isUserPremium:a,withCommentAction:l}),o.default.createElement(s.default,{text:m.client,position:"bottom"},o.default.createElement("span",{className:"activity_time"},b)),null!=u&&o.default.createElement(n,{project:u})))}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=i(e("prop-types")),s=i(e("@doist/reactist/lib/Tooltip")),u=i(e("../../models/Colors")),c=i(e("../../components/formatter/Formatter")),d=i(e("../Avatar")),f=i(e("./ActivityEventContent")),p=e("../../utils"),m=["added","updated","deleted","completed","uncompleted","archived","unarchived","shared","left"],h=l.default.shape({id:l.default.number.isRequired,object_type:l.default.oneOf(["item","note","project"]).isRequired,event_type:l.default.oneOf(m).isRequired,event_date:l.default.string.isRequired,initiator_id:l.default.number,parent_item_id:l.default.number,parent_project_id:l.default.number,extra_data:l.default.object.isRequired}),_={"item:added":svgs.getString("sm1/notification_assigned.svg"),"item:updated":svgs.getString("sm1/notification_updated.svg"),"item:completed":svgs.getString("sm1/notification_completed.svg"),"item:uncompleted":svgs.getString("sm1/notification_uncompleted.svg"),"item:deleted":svgs.getString("sm1/notification_deleted.svg"),"note:added":svgs.getString("sm1/notification_commented.svg")};a.propTypes={activity:h.isRequired,user:l.default.object.isRequired,isUserPremium:l.default.bool.isRequired,withCommentAction:l.default.bool};var v=a;r.default=v},{"../../components/formatter/Formatter":22,"../../models/Colors":151,"../../utils":1094,"../Avatar":465,"./ActivityEventContent":477,"@babel/runtime/helpers/interopRequireDefault":189,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],477:[function(e,t,r){"use strict";function n(e){var t=e.activity,r=e.user,n=e.isUserPremium,a=e.withCommentAction,o=void 0===a||a,l="".concat(t.object_type,":").concat(t.event_type),s=c[l];if(!s)return console.error("Unsupported activity kind '".concat(l,"'")),null;var u=null===t.initiator_id||t.initiator_id===r.id?"you":null!=t.initiator?"user":"someone";return i.default.createElement(s,{activity:t,user:r,userNoun:u,isUserPremium:n,withCommentAction:o})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("./SimpleActivityEventContent")),s=a(e("./UpdatedActivityEventContent")),u=a(e("./CommentActivityEventContent")),c={"item:added":l.default,"item:deleted":l.default,"item:completed":l.default,"item:uncompleted":l.default,"item:updated":s.default,"note:added":u.default};n.propTypes={activity:o.default.object,user:o.default.object,isUserPremium:o.default.bool,withCommentAction:o.default.bool};var d=n;r.default=d},{"./CommentActivityEventContent":480,"./SimpleActivityEventContent":482,"./UpdatedActivityEventContent":483,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],478:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){var r=t.user,n=t.collaborators,i=void 0===n?{}:n,o=t.items,l=void 0===o?{}:o,s=t.projects,u=void 0===s?{}:s;return e.map(function(e){var t=e.initiator_id,n=e.parent_item_id,o=e.parent_project_id,s=e.extra_data.responsible_uid;return a({},e,{initiator:t?i[t]:r,target_user:s?i[s]:void 0,parent_item:n?l[n]:void 0,parent_project:o?u[o]:void 0})})}function o(e,t){return e.creator?(0,b.default)(_x("task_added_by","<b>Added by {user_name}</b> on {date}"),{user_name:e.creator.full_name?(0,v.shortName)(e.creator.full_name):e.creator.email,date:DateUtils.format(new Date(t.date_added))}):(0,b.default)(_x("task_added","<b>Added on {date}</b>"),{date:DateUtils.format(new Date(t.date_added))})}function l(e){var t=e.item,r=e.user,n=e.isUserPremium,a=void 0!==n&&n,i=e.activities,l=void 0===i?[]:i,s=e.status,u=void 0===s?w:s,d=e.weeksAgoPage,p=void 0===d?1:d,h=e.onLoadMore,v=(0,c.default)(e,["item","user","isUserPremium","activities","status","weeksAgoPage","onLoadMore"]),b=u===w&&0===l.length,D=!a||b,C=O(l,r,v.collaborators.all,v.items,v.projects),I=Object.keys(C);if(u===P)return f.default.createElement("div",{id:"activity_app"},_("You appear to be offline or Todoist is down. This action requires that you are online. Please try again later."));var A=1===p?_("No activity in the past week."):m.default.format(_("No activity in the past {count} weeks."),{count:p}),S=!D&&null!=h;return f.default.createElement(f.default.Fragment,null,null!=t?f.default.createElement("div",{className:"activity_created_by",dangerouslySetInnerHTML:{__html:o(v,t)}}):null,f.default.createElement("div",{id:"activity_app"},f.default.createElement("div",{id:"activity_show"},D?f.default.createElement(T.EmptyStateActivityLog,{isPremium:a}):I.map(function(e){return f.default.createElement(f.Fragment,{key:e},f.default.createElement(y.AgendaDayHeader,{isSubsection:!0,dateStr:e}),f.default.createElement("ul",{className:"items",id:"day_ul_".concat(e)},C[e].map(function(e){return f.default.createElement(g.default,{key:e.id,activity:e,user:r,isUserPremium:a,withCommentAction:!1})})))}),b&&!D&&f.default.createElement("span",{className:"load_more no_results"},A),S&&f.default.createElement(E.default,{isLoading:u===R,activities:l,weeksAgoPage:p,onLoadMore:h}))))}var s=e("@babel/runtime/helpers/interopRequireWildcard"),u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.STATUS_ERROR=r.STATUS_LOADING=r.STATUS_LOADED=r.default=void 0;var c=u(e("@babel/runtime/helpers/objectWithoutProperties")),d=u(e("@babel/runtime/helpers/defineProperty")),f=s(e("react")),p=u(e("prop-types")),m=u(e("../../components/format_html/FormatHtml")),h=e("../../utils/fp"),v=e("../../utils"),b=u(e("../../utils/format")),y=e("../agenda"),g=u(e("./ActivityEvent")),E=u(e("./LoadMore")),T=e("../emptyState"),w="LOADED";r.STATUS_LOADED=w;var R="LOADING";r.STATUS_LOADING=R;var P="ERROR";r.STATUS_ERROR=P;var D=(0,h.compose)((0,h.groupBy)(function(e){return(0,v.toISODateString)(new Date(e.event_date),{toUTC:!0,dateOnly:!0})}),function(e){return e.reverse()},(0,h.sortBy)(function(e){return e.event_date})),O=(0,v.memoize)(function(e,t,r,n,a){return D(i(e,{user:t,collaborators:r,items:n,projects:a}))});l.propTypes={user:p.default.object.isRequired,isUserPremium:p.default.bool,activities:p.default.array,status:p.default.oneOf([w,R,P]),weeksAgoPage:p.default.number,collaborators:p.default.object,items:p.default.object,item:p.default.object,creator:p.default.object,projects:p.default.object,onLoadMore:p.default.func};var C=l;r.default=C},{"../../components/format_html/FormatHtml":21,"../../utils":1094,"../../utils/format":1079,"../../utils/fp":1083,"../agenda":487,"../emptyState":588,"./ActivityEvent":476,"./LoadMore":481,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],479:[function(e,t,r){"use strict";function n(e,t,r){var n=e.target_user;return null==n?"someone"===r?"to_someone_else":"to_someone":t.id===n.id?"you"===r?"to_yourself":"to_you":"to_user"}function a(e){var t,r=e.activity,a=e.user,i=e.userNoun,s=e.notesButton,p=r.extra_data,m=r.initiator,h=r.target_user,_=n(r,a,i),v=null===p.responsible_uid?f:null===r.extra_data.last_responsible_uid?c:d,b=(t={},(0,o.default)(t,i,(0,u.renderUser)({user:m,noun:i})),(0,o.default)(t,_,(0,u.renderUser)({key:"targetUser",user:h,noun:_})),(0,o.default)(t,"task",(0,u.renderTask)({activity:r})),t);return l.default.createElement("div",null,l.default.createElement(u.Phrase,{template:v[i][_],values:b}),s)}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("react")),s=i(e("prop-types")),u=e("./activityEventContentHelpers"),c={you:{to_you:_("{you} assigned {task} to {to_yourself}"),to_user:_("{you} assigned {task} to {to_user}"),to_someone:_("{you} assigned {task} to {to_someone}")},user:{to_you:_("{user} assigned {task} to {to_you}"),to_user:_("{user} assigned {task} to {to_user}"),to_someone:_("{user} assigned {task} to {to_someone}")},someone:{to_you:_("{someone} assigned {task} to {to_you}"),to_user:_("{someone} assigned {task} to {to_user}"),to_someone:_("{someone} assigned {task} to {to_someone_else}")}},d={you:{to_you:_("{you} re-assigned {task} to {to_yourself}"),to_user:_("{you} re-assigned {task} to {to_user}"),to_someone:_("{you} re-assigned {task} to {to_someone}")},user:{to_you:_("{user} re-assigned {task} to {to_you}"),to_user:_("{user} re-assigned {task} to {to_user}"),to_someone:_("{user} re-assigned {task} to {to_someone}")},someone:{to_you:_("{someone} re-assigned {task} to {to_you}"),to_user:_("{someone} re-assigned {task} to {to_user}"),to_someone:_("{someone} re-assigned {task} to {to_someone_else}")}},f={you:_("{you} unnassigned {task}"),user:_("{user} unassigned {task}"),someone:_("{someone} unassigned {task}")};a.propTypes={activity:s.default.object,user:s.default.object,userNoun:s.default.string,notesButton:s.default.node};var p=a;r.default=p},{"./activityEventContentHelpers":484,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],480:[function(e,t,r){"use strict";function n(e){var t=e.activity,r=e.userNoun;if("added"!==t.event_type)return null;var n=t.initiator,a=t.extra_data,l=t.parent_item,p=t.parent_project,m=(0,s.renderHtml)($trim(a.content,160),{className:"object",tag:"div",key:"comment"});if(null!=t.parent_item_id){var h,_=l?u:c,v=l?(0,s.renderTask)({activity:l}):void 0,b=(h={},(0,i.default)(h,r,(0,s.renderUser)({user:n,noun:r})),(0,i.default)(h,"task",v),(0,i.default)(h,"comment",m),h);return o.default.createElement("div",null,o.default.createElement(s.Phrase,{template:_[r],values:b}))}if(null!=t.parent_project_id){var y,g=p?d:f,E=(y={},(0,i.default)(y,r,(0,s.renderUser)({user:n,noun:r})),(0,i.default)(y,"project",p?(0,s.renderHtml)(p.name,{className:"object",key:"project"}):void 0),(0,i.default)(y,"comment",m),y);return o.default.createElement("div",null,o.default.createElement(s.Phrase,{template:g[r],values:E}))}return null}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/defineProperty")),o=a(e("react")),l=a(e("prop-types")),s=e("./activityEventContentHelpers"),u={you:_("{you} added a comment to {task}: {comment}"),user:_("{user} added a comment to {task}: {comment}"),someone:_("{someone} added a comment to {task}: {comment}")},c={you:_("{you} added a comment: {comment}"),user:_("{user} added a comment: {comment}"),someone:_("{someone} added a comment: {comment}")},d={you:_("{you} added a project comment to {project}: {comment}"),user:_("{user} added a project comment to {project}: {comment}"),someone:_("{someone} added a project comment to {project}: {comment}")},f={you:_("{you} added a project comment: {comment}"),user:_("{user} added a project comment: {comment}"),someone:_("{someone} added a project comment: {comment}")};n.propTypes={activity:l.default.object,userNoun:l.default.string};var p=n;r.default=p},{"./activityEventContentHelpers":484,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],481:[function(e,t,r){"use strict";function n(e){var t=e.noMoreResults,r=e.weeksAgoPage;return t?_("That's it. No more history to load."):1===r?_("Load more history from last week..."):u.default.format(_("Load more history from {count} weeks ago..."),{count:r})}function a(e){var t=e.activities,r=e.weeksAgoPage,a=e.onLoadMore,i=e.isLoading;if(void 0!==i&&i)return o.default.createElement(c.DotsSpinner,null);var l=null==a&&t.length>0,u=n({noMoreResults:l,weeksAgoPage:r}),f=(0,s.default)("load_more",{no_more_results:l});return o.default.createElement(d.default,{className:f,onClick:a,"data-track":"activity_log|load_more"},u)}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=i(e("prop-types")),s=i(e("classnames")),u=i(e("../../components/format_html/FormatHtml")),c=e("../spinners"),d=i(e("../Button"));a.propTypes={activities:l.default.array.isRequired,weeksAgoPage:l.default.number,isLoading:l.default.bool,onLoadMore:l.default.func};var f=a;r.default=f},{"../../components/format_html/FormatHtml":21,"../Button":466,"../spinners":961,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],482:[function(e,t,r){"use strict";function n(e){var t,r=e.activity,n=e.userNoun,a=e.user,l=e.withCommentAction,f=r.initiator,p=r.extra_data,m=d["".concat(r.event_type,"_task")];return o.default.createElement("div",null,o.default.createElement(u.Phrase,{template:m[n],values:(t={},(0,i.default)(t,n,(0,u.renderUser)({user:f,noun:n})),(0,i.default)(t,"task",(0,u.renderTask)({activity:r})),t)}),l?o.default.createElement(s.default,{noteParent:{id:r.object_id},noteType:c.TYPE_ITEM_NOTE,notesCount:p.note_count,user:a}):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/defineProperty")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../NotesButton")),u=e("./activityEventContentHelpers"),c=e("../../reducers/notes"),d={added_task:{you:_("{you} added a task: {task}"),user:_("{user} added a task: {task}"),someone:_("{someone} added a task: {task}")},deleted_task:{you:_("{you} deleted a task: {task}"),user:_("{user} deleted a task: {task}"),someone:_("{someone} deleted a task: {task}")},completed_task:{you:_("{you} completed a task: {task}"),user:_("{user} completed a task: {task}"),someone:_("{someone} completed a task: {task}")},uncompleted_task:{you:_("{you} uncompleted a task: {task}"),user:_("{user} uncompleted a task: {task}"),someone:_("{someone} uncompleted a task: {task}")}};n.propTypes={activity:l.default.object,userNoun:l.default.string,user:l.default.object,withCommentAction:l.default.bool};var f=n;r.default=f},{"../../reducers/notes":1021,"../NotesButton":473,"./activityEventContentHelpers":484,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],483:[function(e,t,r){"use strict";function n(e){var t=e.activity,r=e.user,n=e.userNoun,a=e.withCommentAction,l=t.extra_data,_=t.initiator,b=a?o.default.createElement(u.default,{noteParent:{id:t.object_id},notesCount:l.note_count,noteType:c.TYPE_ITEM_NOTE,user:r}):null;if(void 0!==l.last_content){var y,g=(y={},(0,i.default)(y,n,(0,f.renderUser)({user:_,noun:n})),(0,i.default)(y,"task",(0,f.renderTask)({activity:t})),(0,i.default)(y,"old",(0,f.renderHtml)(l.last_content,{className:"through",key:"old"})),y);return o.default.createElement("div",null,o.default.createElement(f.Phrase,{template:p[n],values:g}),b)}if(void 0!==l.due_date){var E,T=null===l.due_date?h:null===l.last_due_date?m:v,w=(E={},(0,i.default)(E,n,(0,f.renderUser)({user:_,noun:n})),(0,i.default)(E,"task",(0,f.renderTask)({activity:t})),(0,i.default)(E,"due_date",null!==l.due_date&&o.default.createElement(s.default,{key:"due_date",date:l.due_date,overrideClassName:"bold"})),E);return o.default.createElement("div",null,o.default.createElement(f.Phrase,{template:T[n],values:w}),b)}return void 0!==l.responsible_uid?o.default.createElement(d.default,{activity:t,user:r,userNoun:n,notesButton:b}):null}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/defineProperty")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../ItemDueDate")),u=a(e("../NotesButton")),c=e("../../reducers/notes"),d=a(e("./AssignActivityEventContent")),f=e("./activityEventContentHelpers"),p={you:_("{you} changed the name of {old} to {task}"),user:_("{user} changed the name of {old} to {task}"),someone:_("{someone} changed the name of {old} to {task}")},m={you:_("{you} set the due date of {task} to {due_date}"),user:_("{user} set the due date of {task} to {due_date}"),someone:_("{someone} set the due date of {task} to {due_date}")},h={you:_("{you} removed the due date of {task}"),user:_("{user} removed the due date of {task}"),someone:_("{someone} removed the due date of {task}")},v={you:_("{you} changed the due date of {task} to {due_date}"),user:_("{user} changed the due date of {task} to {due_date}"),someone:_("{someone} changed the due date of {task} to {due_date}")};n.propTypes={activity:l.default.object,user:l.default.object,userNoun:l.default.string,withCommentAction:l.default.bool};var b=n;r.default=b},{"../../reducers/notes":1021,"../ItemDueDate":471,"../NotesButton":473,"./AssignActivityEventContent":479,"./activityEventContentHelpers":484,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],484:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){var r=t.tag,n=void 0===r?"span":r,i=(0,f.default)(t,["tag"]),o=m.default.format(e).replace(/^\*\s+/g,"");return p.default.createElement(n,a({},i,{dangerouslySetInnerHTML:{__html:o}}))}function o(e){var t=e.activity;if(!t)return null;var r=t.event_type,n=t.extra_data;return i(t.content||n.content,{className:"deleted"===r||"completed"===r?"object through":"object",key:"task"})}function l(e){var t=e.user,r=e.noun,n=e.key,a=void 0===n?"user":n,i="user"===r||"to_user"===r?m.default.formatSimple(t.full_name.split(" ")[0]):v[r];return p.default.createElement("span",{key:a,className:"user"},i)}function s(e){var t=e.template,r=e.values;return p.default.createElement(p.Fragment,null,h.default.format(t,r))}var u=e("@babel/runtime/helpers/interopRequireWildcard"),c=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.renderHtml=i,r.renderTask=o,r.renderUser=l,r.Phrase=s;var d=c(e("@babel/runtime/helpers/defineProperty")),f=c(e("@babel/runtime/helpers/objectWithoutProperties")),p=u(e("react")),m=c(e("../../components/formatter/Formatter")),h=c(e("../../components/format_html/FormatHtml")),v={you:_("You"),someone:_("Someone"),to_someone:_("someone"),to_someone_else:_("someone else"),to_yourself:_("yourself"),to_you:_("you")}},{"../../components/format_html/FormatHtml":21,"../../components/formatter/Formatter":22,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],485:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,v.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return a({},(0,w.pick)(["user","items","projects","collaborators"],e),{isUserPremium:(0,E.isPremium)(e)})}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.mapStateToProps=i,Object.defineProperty(r,"ActivityLog",{enumerable:!0,get:function(){return T.default}}),r.default=r.Container=void 0;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/objectWithoutProperties")),c=l(e("@babel/runtime/helpers/toConsumableArray")),d=l(e("@babel/runtime/helpers/classCallCheck")),f=l(e("@babel/runtime/helpers/createClass")),p=l(e("@babel/runtime/helpers/possibleConstructorReturn")),m=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("@babel/runtime/helpers/assertThisInitialized")),_=l(e("@babel/runtime/helpers/inherits")),v=l(e("@babel/runtime/helpers/defineProperty")),b=o(e("react")),y=l(e("prop-types")),g=e("react-redux"),E=e("../../reducers/user"),T=o(e("./ActivityLog")),w=e("../../utils/fp"),R=e("../../utils"),P=30,D=function(e){function t(){var e,r;(0,d.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=(0,p.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(i))),(0,v.default)((0,h.default)(r),"state",{status:T.STATUS_LOADED,weeksAgoPage:1,offset:0,activities:void 0}),(0,v.default)((0,h.default)(r),"getRequestParams",function(){var e=r.props,t=e.user,n=e.filterBy,i=r.state,o=i.offset,l=i.weeksAgoPage,s=l<2?void 0:{page:l};return a({},n,{object_event_types:null!=n.object_type&&null!=n.object_id||null!=n.event_type?void 0:["item:","note:added"],annotate_notes:!0,token:t.token,
limit:P,offset:o},s)}),(0,v.default)((0,h.default)(r),"onLoadMore",function(){var e=r.state.status,t=r.props,n=t.isUserPremium,a=t.filterBy;n&&e!==T.STATUS_LOADING&&((0,R.isTempID)(a.object_id)||(r.setState({status:T.STATUS_LOADING}),fetch("/sync/v8/activity/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r.getRequestParams())}).then(function(e){if(200===e.status)return e.json();throw e}).then(r.processNewData,r.handleRequestError)))}),(0,v.default)((0,h.default)(r),"handleRequestError",function(){r.setState({status:T.STATUS_ERROR})}),(0,v.default)((0,h.default)(r),"processNewData",function(e){var t=e.count,n=e.events;r.setState(function(e){var r=e.offset+n.length===t;return{status:T.STATUS_LOADED,offset:r?0:e.offset+P,weeksAgoPage:e.weeksAgoPage+(r?1:0),activities:null!=e.activities?[].concat((0,c.default)(e.activities),(0,c.default)(n)):n}})}),r}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.onLoadMore()}},{key:"render",value:function(){var e=this.props,t=e.filterBy,r=(0,u.default)(e,["filterBy"]),n=this.state,a=n.activities,i=n.weeksAgoPage,o=n.status,l=a&&a.length>0?a[a.length-1]:{},c="item"===t.object_type&&null!=t.object_id,d=c&&"item"===l.object_type&&"added"===l.event_type;return b.default.createElement(T.default,(0,s.default)({},r,{activities:a,status:o,weeksAgoPage:i,onLoadMore:d?void 0:this.onLoadMore}))}}]),t}(b.Component);r.Container=D,(0,v.default)(D,"propTypes",{user:y.default.object.isRequired,isUserPremium:y.default.bool,items:y.default.object,projects:y.default.object,collaborators:y.default.object,filterBy:y.default.shape({object_type:y.default.oneOf(["project","item","note"]),object_id:y.default.oneOfType([y.default.number,y.default.string]),event_type:y.default.string,parent_project_id:y.default.oneOfType([y.default.number,y.default.string])})}),(0,v.default)(D,"defaultProps",{isUserPremium:!1,items:{},projects:{},collaborators:{},filterBy:{}});var O=(0,g.connect)(i)(D);r.default=O},{"../../reducers/user":1042,"../../utils":1094,"../../utils/fp":1083,"./ActivityLog":478,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],486:[function(e,t,r){"use strict";function n(e){var t=DateistDateHelpers.day_diff(new Date,e),r=0===t?_("Today"):1===t?_("Tomorrow"):c.DateUtils.getWeekDay(e.getDay());try{s.default.query(r)}catch(t){console.error("Error opening the agenda"),window.oldAlert("Should open agenda for ".concat(e.toDateString()))}}function a(e){var t=e.dateStr,r=e.isSubsection,a=void 0!==r&&r,i=e.withWeekday,l=void 0===i||i,s=new Date(t);return o.default.createElement("h2",{className:a?"subsection_header":"section_header"},o.default.createElement(u.default,{onClick:function(){return n(s)}},c.DateUtils.prettyDate(t)),o.default.createElement("span",{className:"subsection_header__date"},c.DateUtils.formatView(s,l)))}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=i(e("prop-types")),s=i(e("../../components/agenda/AgendaUtils")),u=i(e("../Button")),c=e("../../utils");a.propTypes={dateStr:l.default.string.isRequired,isSubsection:l.default.bool,withWeekday:l.default.bool};var d=a;r.default=d},{"../../components/agenda/AgendaUtils":8,"../../utils":1094,"../Button":466,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],487:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AgendaDayHeader",{enumerable:!0,get:function(){return a.default}});var a=n(e("./AgendaDayHeader"))},{"./AgendaDayHeader":486,"@babel/runtime/helpers/interopRequireDefault":189}],488:[function(e,t,r){"use strict";function n(e){var t=e.modals,r=e.isSidePanelShown;return(0,l.useEffect)(function(){r?document.documentElement.classList.add("side_panel_show"):document.documentElement.classList.remove("side_panel_show")},[r]),l.default.createElement("div",{id:"page_background"},l.default.createElement(c.default,null),l.default.createElement("div",{id:"app_holder"},l.default.createElement("a",{href:"/premium",className:"go_premium",target:"_blank",style:{display:"none"},id:"premium_promotion"},_("Upgrade and get more done")),l.default.createElement("div",{id:"notifier",style:{display:"none"}}),l.default.createElement("div",{id:"content_wrapper"},l.default.createElement(u.default,null),l.default.createElement("div",{id:"content",className:"main_content"},l.default.createElement(d.default,{showErrorMsg:!0},l.default.createElement(y.default,null)),l.default.createElement(d.default,null,l.default.createElement(E.default,(0,o.default)({isOpen:t.type===T.MODAL_TYPES.QUICK_ADD},t.props))),l.default.createElement(d.default,null,l.default.createElement(v.default,null)),l.default.createElement(d.default,null,l.default.createElement(h.default,null)),l.default.createElement(d.default,null,l.default.createElement(p.default,null))))),l.default.createElement(d.default,null,l.default.createElement(m.default,null)),l.default.createElement(d.default,null,l.default.createElement(g.default,null),l.default.createElement(R.default,null),l.default.createElement(P.default,null)),l.default.createElement(d.default,null,l.default.createElement(f.default,null)),l.default.createElement(d.default,null,l.default.createElement(b.default,null)),l.default.createElement(d.default,{showErrorMsg:!1},l.default.createElement(w.default,null)))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=a(e("react")),s=i(e("prop-types")),u=i(e("../left_menu/LeftMenu")),c=i(e("../../containers/topbar/TopBar")),d=i(e("../../containers/ErrorBoundary")),f=i(e("../goal_notifier/GoalNotifier")),p=i(e("../undo_toast/UndoToast")),m=i(e("../../containers/promo_toast/PromoToast")),h=i(e("../item_detail")),v=i(e("../project_detail")),b=i(e("../document_title")),y=i(e("./MainView")),g=i(e("../foundations_promotion")),E=i(e("../quick_add_modal/")),T=e("../../reducers/modals"),w=i(e("../data_tooltip/DataTooltip")),R=i(e("../yir_banner")),P=i(e("../apps_promotion"));n.propTypes={modals:s.default.object.isRequired,isSidePanelShown:s.default.bool.isRequired};var D=n;r.default=D},{"../../containers/ErrorBoundary":96,"../../containers/promo_toast/PromoToast":108,"../../containers/topbar/TopBar":110,"../../reducers/modals":1016,"../apps_promotion":494,"../data_tooltip/DataTooltip":511,"../document_title":544,"../foundations_promotion":624,"../goal_notifier/GoalNotifier":626,"../item_detail":744,"../left_menu/LeftMenu":795,"../project_detail":851,"../quick_add_modal/":873,"../undo_toast/UndoToast":971,"../yir_banner":976,"./MainView":489,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],489:[function(e,t,r){"use strict";function n(e){var t=(0,s.useRef)();return(0,s.useEffect)(function(){t.current=e},[e]),t.current}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/toConsumableArray")),l=i(e("@babel/runtime/helpers/slicedToArray")),s=a(e("react")),u=i(e("prop-types")),c=e("react-redux"),d=e("../../constants/constants"),f=i(e("../../components/agenda/AgendaUtils")),p=i(e("../../components/project_editor/ProjectEditorManager")),m=e("../../utils/fp"),h=e("../../utils"),_=e("../../reducers/filters"),v=e("../../reducers/projects"),b=i(e("../project_view")),y=i(e("../label_view")),g=i(e("../../containers/ErrorBoundary")),E=i(e("../../logger/Logger")),T=i(e("../../components/activity_log/ActivityLog")),w=i(e("../../components/left_menu/LeftMenu")),R=i(e("../../components/generic_manager/GenericManagerUtils")),P=e("../../react_components/day_view"),D=i(e("../filter_view")),O=i(e("../query_view")),C=e("../hooks"),I=e("../item_list"),A=i(e("../day_view/upcoming_view")),S=e("../../init/featureFlags"),k=function(){var e=(0,s.useState)(0),t=(0,l.default)(e,2),r=t[0],n=t[1];return[r,function(){var e=r+1;return n(e),e}]},M=function(e){var t=e.mainView,r=e.labels,a=e.filters,i=e.projects,u=e.user,c=(0,s.useState)(t),_=(0,l.default)(c,2),M=_[0],j=_[1],N=k(),x=(0,l.default)(N,2),L=x[0],q=x[1],U=n(L);(0,h.isEqual)(t,M)||(L=q(),j(t)),(0,C.useUpdateEffect)(function(){w.default.isShown()&&w.default.hide()},[L]),(0,s.useLayoutEffect)(function(){if(!t.reactView&&L!==U)try{var e=t.type,r=t.id;switch(e){case d.MAIN_VIEW_TYPE_LABEL:return f.default.query("@"+r),void window.scroll(0,0);case d.MAIN_VIEW_TYPE_FILTER:var n=(0,m.get)("".concat(r,".query"),a);return f.default.query(n,!1),void window.scroll(0,0);case d.MAIN_VIEW_TYPE_QUERY:return f.default.query(t.query,!0,!1),void window.scroll(0,0);case d.MAIN_VIEW_TYPE_TODAY:return f.default.query(d.DEFAULT_QUERY_TODAY),void window.scroll(0,0);case d.MAIN_VIEW_TYPE_7_DAYS:return f.default.query(d.DEFAULT_QUERY_7_DAYS),void window.scroll(0,0);case d.MAIN_VIEW_TYPE_PROJECT:var l=t.ids,s=t.withChildren,u=t.focusedItemId;if(1===l.length&&s){var c=(0,v.projectGetChildren)(l[0],{projects:i}).map(function(e){return e.id});p.default.showProjects([].concat((0,o.default)(l),(0,o.default)(c)),null,{hideEmptyState:c.length>0})}else p.default.showProjects(l);if(1===l.length){var h=s?"project/".concat(l[0],"/full"):"project/".concat(l[0]);Signals.sendSignal("change_location",h)}if(u){var _=$("item_".concat(u));_&&(R.default.openParents(_),$isHidden(_)||($fx.highlight(_,{duration:1e3}),window.scrollTo(0,$position(_).y-200)))}else window.scroll(0,0);return;case d.MAIN_VIEW_TYPE_ACTIVITY_LOG:var b=t.projectId,y=t.itemId,g=t.eventFilter,w=t.userFilter;return T.default.showActivity(b,y,g,w),void window.scroll(0,0)}}catch(e){E.default.captureError(e,{tags:{where:"MainView"},extra:{mainView:t}})}},[t,a,r,i,u,U,L]);var F=t.type,z=t.reactView;if(F===d.MAIN_VIEW_TYPE_PROJECT&&z){var B=t.ids,H=B[0];return s.default.createElement(I.EditorStateContextProvider,null,s.default.createElement("div",{id:"editor",key:L},s.default.createElement(g.default,{showErrorMsg:!0},s.default.createElement(b.default,{projectId:H}))))}if(F===d.MAIN_VIEW_TYPE_LABEL&&z)return s.default.createElement("div",{id:"editor",key:L},s.default.createElement(g.default,{showErrorMsg:!0},s.default.createElement(y.default,{labelName:t.id})));if(F===d.MAIN_VIEW_TYPE_TODAY&&z)return s.default.createElement("div",{id:"editor",key:L},s.default.createElement(g.default,{showErrorMsg:!0},s.default.createElement(P.TodayView,null)));if(F===d.MAIN_VIEW_TYPE_7_DAYS&&z)return s.default.createElement("div",{id:"editor",key:L},s.default.createElement(g.default,{showErrorMsg:!0},S.featureFlags["global.upcoming_view"].isEnabled()?s.default.createElement(A.default,null):s.default.createElement(P.SevenDaysView,null)));if(F===d.MAIN_VIEW_TYPE_FILTER&&z){var V=a[t.id];return Signals.sendSignal("change_location","agenda/"+V.query),s.default.createElement("div",{id:"editor",key:L},s.default.createElement(g.default,{showErrorMsg:!0},s.default.createElement(D.default,{filterId:t.id})))}if(F===d.MAIN_VIEW_TYPE_QUERY&&z){var W=t.query;return Signals.sendSignal("change_location","agenda/"+W),s.default.createElement("div",{id:"editor",key:L},s.default.createElement(g.default,{showErrorMsg:!0},s.default.createElement(O.default,{query:W})))}return s.default.createElement("div",{id:"editor",key:L})};M.propTypes={mainView:u.default.object,filters:u.default.object,projects:u.default.object,labels:u.default.object,user:u.default.object};var j=function(e){return{mainView:e.mainView,filters:(0,_.filterGetSource)(e),projects:e.projects,labels:e.labels,user:e.user}},N=(0,c.connect)(j)(M);r.default=N},{"../../components/activity_log/ActivityLog":4,"../../components/agenda/AgendaUtils":8,"../../components/generic_manager/GenericManagerUtils":26,"../../components/left_menu/LeftMenu":41,"../../components/project_editor/ProjectEditorManager":61,"../../constants/constants":94,"../../containers/ErrorBoundary":96,"../../init/featureFlags":125,"../../logger/Logger":132,"../../react_components/day_view":526,"../../reducers/filters":1e3,"../../reducers/projects":1026,"../../utils":1094,"../../utils/fp":1083,"../day_view/upcoming_view":539,"../filter_view":619,"../hooks":628,"../item_list":764,"../label_view":794,"../project_view":863,"../query_view":871,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],490:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=n(e("./AppContent")),o=function(e){return{modals:e.modals,isSidePanelShown:!!e.detailView}},l=(0,a.connect)(o)(i.default);r.default=l},{"./AppContent":488,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],491:[function(e,t,r){"use strict";function n(e){function t(){o(a)}function r(){c(a)}var n=e.show,a=e.variant,o=e.onClick,c=e.onDismiss;return n?a===u?i.default.createElement(l.default,{onClick:t,onDismiss:r}):i.default.createElement(s.default,{onClick:t,onDismiss:r}):null}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.PROMOTE_MACOS_APP=r.PROMOTE_WINDOWS_APP=r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("./WindowsAppPromotion")),s=a(e("./MacOsAppPromotion")),u="promoteWindowsApp";r.PROMOTE_WINDOWS_APP=u;r.PROMOTE_MACOS_APP="promoteMacOsApp",n.propTypes={show:o.default.bool.isRequired,variant:o.default.oneOf([u,"promoteMacOsApp"]).isRequired,onClick:o.default.func.isRequired,onDismiss:o.default.func.isRequired};var c=n;r.default=c},{"./MacOsAppPromotion":492,"./WindowsAppPromotion":493,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],492:[function(e,t,r){"use strict";function n(e){var t=e.onClick,r=e.onDismiss;return i.default.createElement("div",{className:"promo_banner apps_promotion"},i.default.createElement("div",{className:"banner is-shown"},i.default.createElement("img",{className:"banner-img",src:"https://d3ptyyxy2at9ui.cloudfront.net/macos_app-1784d8.png",alt:""}),i.default.createElement("div",{className:"main-section"},i.default.createElement("h1",null,_("Todoist for Mac")),i.default.createElement("p",null,_("Get desktop notifications and launch from the dock.")),i.default.createElement("div",{className:"year-in-review__actions"},i.default.createElement(u.default,{href:"https://geo.itunes.apple.com/us/app/todoist-to-do-list-task-manager/id585829637?mt=12",className:"ist_button ist_button_red",onClick:t,"data-track":"promotion|macos|follow"},_("Download for Mac")))),i.default.createElement("div",{className:"close-section"},i.default.createElement(l.default,{className:"close_btn",onClick:r,"aria-label":_("Close"),"data-track":"promotion|macos|close"},i.default.createElement(s.CloseIcon,{small:!0})))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../Button")),s=e("../icons"),u=a(e("../ExternalLink"));n.propTypes={onClick:o.default.func.isRequired,onDismiss:o.default.func.isRequired};var c=n;r.default=c},{"../Button":466,"../ExternalLink":469,"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],493:[function(e,t,r){"use strict";function n(e){var t=e.onClick,r=e.onDismiss;return i.default.createElement("div",{className:"promo_banner apps_promotion"},i.default.createElement("div",{className:"banner is-shown"},i.default.createElement("img",{className:"banner-img",src:"https://d3ptyyxy2at9ui.cloudfront.net/windows_app-680c43.png",alt:""}),i.default.createElement("div",{className:"main-section"},i.default.createElement("h1",null,_("Todoist for Windows")),i.default.createElement("p",null,_("Get desktop notifications and work offline.")),i.default.createElement("div",{className:"year-in-review__actions"},i.default.createElement(u.default,{href:"https://www.microsoft.com/store/apps/9nblggh1rl1k",className:"ist_button ist_button_red",onClick:t,"data-track":"promotion|windows|follow"},_("Download for Windows")))),i.default.createElement("div",{className:"close-section"},i.default.createElement(l.default,{className:"close_btn",onClick:r,"aria-label":_("Close"),"data-track":"promotion|windows|close"},i.default.createElement(s.CloseIcon,{small:!0})))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../Button")),s=e("../icons"),u=a(e("../ExternalLink"));n.propTypes={onClick:o.default.func.isRequired,onDismiss:o.default.func.isRequired};var c=n;r.default=c},{"../Button":466,"../ExternalLink":469,"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],494:[function(e,t,r){"use strict";function n(e){var t=e.user,r=c.default.isWindows&&d(e),n=c.default.isMac&&!c.default.isMacApp&&f(e);return{show:(r||n)&&Boolean(t&&new Date-new Date(t.join_date)>p),variant:r?s.PROMOTE_WINDOWS_APP:s.PROMOTE_MACOS_APP}}function a(e){return{onClick:function(t){var r=t===s.PROMOTE_WINDOWS_APP?u.TOOLTIP_PROMOTE_WINDOWS_APP:u.TOOLTIP_PROMOTE_MACOS_APP;e((0,u.markSeen)(r,u.EVENT_FOLLOW))},onDismiss:function(t){var r=t===s.PROMOTE_WINDOWS_APP?u.TOOLTIP_PROMOTE_WINDOWS_APP:u.TOOLTIP_PROMOTE_MACOS_APP;e((0,u.markSeen)(r,u.EVENT_CLOSE))}}}var i=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=e("react-redux"),s=o(e("./AppsPromotion")),u=e("../../reducers/tooltip"),c=i(e("../../utils/Env")),d=(0,u.isScheduled)(u.TOOLTIP_PROMOTE_WINDOWS_APP),f=(0,u.isScheduled)(u.TOOLTIP_PROMOTE_MACOS_APP),p=864e5,m=(0,l.connect)(n,a)(s.default);r.default=m},{"../../reducers/tooltip":1040,"../../utils/Env":1057,"./AppsPromotion":491,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"react-redux":"react-redux"}],495:[function(e,t,r){"use strict";function n(e){var t=e.children,r=e.loading,n=(0,o.default)(e,["children","loading"]),a=(0,u.default)("ist_button ist_button_red action_button",r&&"action_button_loading");return r&&(n.disabled=!0),l.default.createElement("button",(0,i.default)({className:a},n),t,r&&l.default.createElement(s.default,{width:14,height:14,theme:11}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("../spinners/RingSpinner")),u=a(e("classnames"))},{"../spinners/RingSpinner":960,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,classnames:"classnames",react:"react"}],496:[function(e,t,r){"use strict";function n(e){var t=e.children,r=(0,o.default)(e,["children"]);return l.default.createElement(u.default,(0,i.default)({className:"plus_add_button"},r),l.default.createElement("span",{className:"icon_add"},l.default.createElement(c.default,null)),t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types")),u=a(e("../Button")),c=a(e("../icons/PlusIcon"));n.propTypes={children:s.default.node}},{"../Button":466,"../icons/PlusIcon":703,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],497:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=n(e("prop-types")),s=n(e("classnames")),u=n(e("../../Button")),c=o.default.forwardRef(function(e,t){var r=e.className,n=e.variant,l=e.children,c=(0,i.default)(e,["className","variant","children"]),d=(0,s.default)("styled_button styled_button--".concat(n),r);return o.default.createElement(u.default,(0,a.default)({ref:t,className:d},c),l)});c.propTypes={className:l.default.string,children:l.default.node,variant:l.default.oneOf(["pill"]).isRequired};var d=c;r.default=d},{"../../Button":466,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,classnames:"classnames","prop-types":"prop-types",react:"react"}],498:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./StyledButton")),i=a.default;r.default=i},{"./StyledButton":497,"@babel/runtime/helpers/interopRequireDefault":189}],499:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PlusAddButton",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"ActionButton",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"StyledButton",{enumerable:!0,get:function(){return o.default}});var a=n(e("./PlusAddButton")),i=n(e("./ActionButton")),o=n(e("./StyledButton"))},{"./ActionButton":495,"./PlusAddButton":496,"./StyledButton":498,"@babel/runtime/helpers/interopRequireDefault":189}],500:[function(e,t,r){"use strict";function n(e){var t,r,n=e.date,a=e.mode,i=void 0===a?"month":a,l=e.ignoredDays,p=e.focusedDate,m=e.highlightedWeekRef,h=e.renderDay,_=e.selectedDate,v=e.weekStartDay,b=e.isSelectedWeekHighlighted,y=e.isFirstRowFilled,g=e.isHeaderShown,E=void 0===g||g,T=e.onDayClick,w=void 0===T?function(){}:T,R=e.onDayMouseEnter,P=void 0===R?function(){}:R,D=e.onDayMouseLeave,O=void 0===D?function(){}:D,C=e.onNextMonthFocus,I=void 0===C?function(){}:C,A=e.onPreviousMonthFocus,S=void 0===A?function(){}:A,k=(0,o.useRef)(null),M=n.getFullYear(),j=n.getMonth(),N=n.getDate(),x=n.getDay(),L=null,q=function(e){var t=(0,u.resolveKeyboardKey)(e.key),r=document.activeElement;switch(t){case"ArrowUp":e.preventDefault();for(var n=0;n<7;n++){if(!(r=r.previousSibling)){var a=document.activeElement.parentElement.previousSibling;a&&(r=a.lastChild)}if(!r||"calendar__spacer"===r.className)return S()}break;case"ArrowDown":e.preventDefault();for(var i=0;i<7;i++)if(!(r=r.nextSibling)){var o=document.activeElement.parentElement.nextSibling;if(!o)return I();r=o.firstChild}break;case"ArrowLeft":if(e.preventDefault(),!(r=r.previousSibling)){var l=document.activeElement.parentElement.previousSibling;l&&(r=l.lastChild)}if(!r||"calendar__spacer"===r.className)return S();break;case"ArrowRight":if(e.preventDefault(),!(r=r.nextSibling)){var s=document.activeElement.parentElement.nextSibling;if(!s)return I();r=s.firstChild}break;default:return}r&&r.focus()},U=(0,f.getDaysInMonth)(M,j),$=[],F=[],z=(x-v+7)%7,B="week"===i?6-z:U-N;if(y){var H=j-1,V=M;t=N-z,t<1&&(H<0&&(H=11,V=M-1),r=(0,f.getDaysInMonth)(V,H),t=r+t)}for(var W=0;W<z;W++){var G=void 0;y&&(G=t+W,G=G>r?G-r:G),$.push(h&&y?h({key:"spacer-".concat(W),className:"calendar__spacer",date:new Date(M,j,G,23,59,59),isSpacer:!0}):o.default.createElement("div",{key:"spacer-".concat(W),className:"calendar__spacer"},G))}for(var Y=0;Y<=B;Y++){var K=x-1<0?7:x;K===v&&$.length&&(F.push($),$=[]);var X=new Date(M,j,N++,23,59,59),J=_&&(0,u.isOnSameDate)(X,_),Q=p&&(0,u.isOnSameDate)(X,p);b&&J&&(L=F.length);var Z=l.indexOf(K)>-1;$.push(o.default.createElement(c.default,{key:X.getTime(),date:X,renderDay:h,isIgnored:Z,isSelected:J,isFocusable:Q,onClick:w,onMouseEnter:P,onMouseLeave:O})),x=(x+1)%7}return F.push($),o.default.createElement("div",{className:"calendar"},E?o.default.createElement(d.default,{weekStartDay:v}):null,o.default.createElement("div",{ref:k,className:"calendar__weeks",tabIndex:"-1",onKeyDown:q},F.map(function(e,t){var r=t===L,n=(0,s.default)("calendar__week",{"calendar__week--highlighted":r});return o.default.createElement("div",{ref:r&&m?m:null,key:t,className:n},e)})))}var a=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=a(e("prop-types")),s=a(e("classnames")),u=e("../../utils"),c=a(e("./Day")),d=a(e("./Header")),f=e("./utils");n.propTypes={date:l.default.instanceOf(Date).isRequired,mode:l.default.oneOf(["week","month"]),ignoredDays:l.default.array.isRequired,focusedDate:l.default.instanceOf(Date).isRequired,highlightedWeekRef:l.default.object,selectedDate:l.default.object,renderDay:l.default.func,weekStartDay:l.default.number.isRequired,isFirstRowFilled:l.default.bool,isHeaderShown:l.default.bool,isSelectedWeekHighlighted:l.default.bool,onDayClick:l.default.func,onDayMouseEnter:l.default.func,onDayMouseLeave:l.default.func,onKeyDown:l.default.func,onNextMonthFocus:l.default.func,onPreviousMonthFocus:l.default.func};var p=n;r.default=p},{"../../utils":1094,"./Day":501,"./Header":502,"./utils":504,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,classnames:"classnames","prop-types":"prop-types",react:"react"}],501:[function(e,t,r){"use strict";function n(e){function t(e){e.stopPropagation(),f(r)}var r=e.date,n=e.renderDay,a=e.isIgnored,o=void 0!==a&&a,l=e.isSelected,s=void 0!==l&&l,u=e.isFocusable,c=void 0!==u&&u,d=e.onClick,f=void 0===d?function(){}:d,p=e.onMouseEnter,m=void 0===p?function(){}:p,h=e.onMouseLeave,_=void 0===h?function(){}:h;return n?n({className:"calendar__day",date:r,isIgnored:o,isSelected:s,isFocusable:c,onClick:t,onMouseEnter:m,onMouseLeave:_}):i.default.createElement("div",{className:"calendar__day"},r.getDate())}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types"));n.propTypes={date:o.default.instanceOf(Date).isRequired,renderDay:o.default.func,isIgnored:o.default.bool,isSelected:o.default.bool,isFocusable:o.default.bool,onClick:o.default.func,onMouseEnter:o.default.func,onMouseLeave:o.default.func};var l=n;r.default=l},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],502:[function(e,t,r){"use strict";function n(e){var t=e.weekStartDay,r=(0,o.useMemo)(function(){for(var e=[],r=0;r<s.shortDays.length;r++)e.push(s.shortDays[(t+r)%7]);return e},[t]);return o.default.createElement("div",{className:"calendar__header"},r.map(function(e,t){return o.default.createElement("div",{key:t},e)}))}var a=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=a(e("prop-types")),s=e("../date_picker/constants");n.propTypes={weekStartDay:l.default.number.isRequired};var u=n;r.default=u},{"../date_picker/constants":517,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],503:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./Calendar")),i=a.default;r.default=i},{"./Calendar":500,"@babel/runtime/helpers/interopRequireDefault":189}],504:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDaysInMonth=void 0;var n=[31,28,31,30,31,30,31,31,30,31,30,31],a=function(e,t){return 1==t?e%4==0?29:28:n[t]};r.getDaysInMonth=a},{}],505:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.color,r=e.isSelected;return f.default.createElement(f.default.Fragment,null,f.default.createElement("span",{className:"color_dropdown_select__color",style:{backgroundColor:t.hex}}),f.default.createElement("span",{className:"color_dropdown_select__name"},t.label),r?f.default.createElement(b.CheckmarkIcon,{className:"color_dropdown_select__checkmark"}):null)}function o(e){function t(e){o(a({},e,{target:a({},e.target,{value:Number(e.target.value)})}))}var r=e.name,n=e.value,o=e.onChange,l=e.className,s=(0,d.default)(e,["name","value","onChange","className"]),c=y.find(function(e){return e.id===n});return f.default.createElement(v.Select,{name:r,value:String(n),onChange:t},f.default.createElement(v.Toggle,(0,u.default)({},s,{className:(0,m.default)("color_dropdown_toggle",l)}),c?f.default.createElement(i,{color:c}):_("Select a color")),f.default.createElement(v.Popup,{className:"color_dropdown_select",width:"toggle",nose:!1,align:"top"},f.default.createElement(v.Options,null,y.map(function(e){return f.default.createElement(v.Option,{key:e.id,value:String(e.id)},function(t){var r=t.isSelected;return f.default.createElement(i,{color:e,isSelected:r})})}))))}var l=e("@babel/runtime/helpers/interopRequireWildcard"),s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=s(e("@babel/runtime/helpers/extends")),c=s(e("@babel/runtime/helpers/defineProperty")),d=s(e("@babel/runtime/helpers/objectWithoutProperties")),f=s(e("react")),p=s(e("prop-types")),m=s(e("classnames")),h=e("../../models/Colors"),v=l(e("../dropdown")),b=e("../icons"),y=(0,h.get)().map(function(e,t){var r=e.name,n=(0,d.default)(e,["name"]);return a({id:h.START_INDEX+t,label:r},n)});o.propTypes={name:p.default.string,value:p.default.number.isRequired,onChange:p.default.func.isRequired,className:p.default.string};var g=o;r.default=g},{"../../models/Colors":151,"../dropdown":556,"../icons":731,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,classnames:"classnames","prop-types":"prop-types",react:"react"}],506:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./ColorDropdownSelect")),i=a.default;r.default=i},{
"./ColorDropdownSelect":505,"@babel/runtime/helpers/interopRequireDefault":189}],507:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.onDelete,n=e.onLinkCopy;return i.default.createElement(l.MenuList,{className:"item_menu_list","aria-label":_x("a11y","task edit menu")},i.default.createElement(l.IconMenuItem,{text:_("Copy link to task"),icon:i.default.createElement(s.LinkIcon,null),onClick:function(){return n(t.id)}}),i.default.createElement(l.MenuSeparator,null),i.default.createElement(l.IconMenuItem,{className:"danger_menu",text:_("Delete task"),icon:i.default.createElement(s.DeleteIcon,null),onClick:function(){return r(t)}}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=e("../menu_list"),s=e("../icons");n.propTypes={item:o.default.object.isRequired,onDelete:o.default.func.isRequired,onLinkCopy:o.default.func.isRequired}},{"../icons":731,"../menu_list":801,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],508:[function(e,t,r){"use strict";function n(e){var t=e.isOpen,r=e.confirmLabel,n=e.cancelLabel,a=void 0===n?_("Cancel"):n,o=e.onConfirm,d=e.onCancel,f=e.children;return i.default.createElement(l.default.Box,{style:c,overlayProps:{style:c},size:"small",isOpen:t,onDismiss:d,closeOnOverlayClick:!0},i.default.createElement(l.default.Body,null,i.default.createElement("div",{className:"alert_holder delete_confirmation"},i.default.createElement("div",{className:"icon_holder"},i.default.createElement(u.InfoIcon,{width:28,height:28})),i.default.createElement("div",{className:"text_holder"},f))),i.default.createElement(l.default.Actions,null,i.default.createElement(s.default,{className:"ist_button",onClick:d},a),i.default.createElement(s.default,{className:"ist_button ist_button_red",onClick:o,autoFocus:!0},r)))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../reactist/modal")),s=a(e("../Button")),u=e("../icons"),c={zIndex:11e3};n.propTypes={isOpen:o.default.bool.isRequired,confirmLabel:o.default.string.isRequired,cancelLabel:o.default.string,onConfirm:o.default.func.isRequired,onCancel:o.default.func.isRequired,children:o.default.node.isRequired}},{"../Button":466,"../icons":731,"../reactist/modal":880,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],509:[function(e,t,r){"use strict";function n(e){(0,o.default)(e)()}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.showConfirmDialog=n,Object.defineProperty(r,"useConfirmDialog",{enumerable:!0,get:function(){return o.default}}),r.default=void 0;var i=a(e("./ConfirmDialog")),o=a(e("./useConfirmDialog")),l=i.default;r.default=l},{"./ConfirmDialog":508,"./useConfirmDialog":510,"@babel/runtime/helpers/interopRequireDefault":189}],510:[function(e,t,r){"use strict";function n(e){function t(){var e=d?l.default.createElement("span",{dangerouslySetInnerHTML:{__html:d}}):"function"==typeof c?c():c;(0,s.openModal)(function(t){return l.default.createElement(u.default,(0,i.default)({},f,{isOpen:!0,onCancel:function(e){a(e),t()},onConfirm:function(e){r(e),t()}}),e)})}var r=e.onConfirm,n=e.onCancel,a=void 0===n?function(){}:n,c=e.message,d=e.htmlMessage,f=(0,o.default)(e,["onConfirm","onCancel","message","htmlMessage"]);return t}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=e("../reactist/modal"),u=a(e("./ConfirmDialog")),c=n;r.default=c},{"../reactist/modal":880,"./ConfirmDialog":508,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],511:[function(e,t,r){"use strict";function n(){var e=(0,l.useState)(null),t=(0,o.default)(e,2),r=t[0],n=t[1],a=(0,l.useState)(null),i=(0,o.default)(a,2),d=i[0],f=i[1];if((0,l.useEffect)(function(){var e=function(e){n(e.target);var t=(0,c.GUID)();f(t),e.target.setAttribute("aria-describedby",t)},t=function(e){e.target===r&&(n(null),f(null),r.removeAttribute("aria-describedby"))};return(0,s.on)("mouseover","[data-tooltip]",e),(0,s.on)("mouseout","[data-tooltip]",t),(0,s.on)("focus","[data-tooltip]",e,{capture:!0}),(0,s.on)("blur","[data-tooltip]",t,{capture:!0}),function(){(0,s.off)("mouseover","[data-tooltip]",e),(0,s.off)("mouseout","[data-tooltip]",t),(0,s.off)("focus","[data-tooltip]",e,{capture:!0}),(0,s.off)("blur","[data-tooltip]",t,{capture:!0})}},[r]),!r)return null;var p=r.getAttribute("data-tooltip");return p?l.default.createElement(u.default,{referenceElement:r,isShown:!0,className:"data_tooltip",role:"tooltip",id:d,modifiers:{preventOverflow:{boundariesElement:"viewport",padding:20}}},l.default.createElement("div",{className:"data_tooltip__content"},p)):null}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=e("delegated-events"),u=i(e("../popper")),c=e("../../utils")},{"../../utils":1094,"../popper":832,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"delegated-events":"delegated-events",react:"react"}],512:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/assertThisInitialized")),c=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),f=a(e("react")),p=a(e("prop-types")),m=a(e("classnames")),h=a(e("../Button")),_=n(e("./constants")),v=a(e("./MonthList")),b=a(e("./MonthListHeader")),y=e("../icons"),g=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(a))),(0,d.default)((0,u.default)(r),"initialLabel","".concat(_.shortMonths[r.props.currentDate.getMonth()]," ").concat(r.props.currentDate.getFullYear())),(0,d.default)((0,u.default)(r),"state",{hoverDate:null,scrollAction:null,topMonthLabel:r.initialLabel,hasHeaderBorder:!1}),(0,d.default)((0,u.default)(r),"handleDayMouseEnter",function(e){r.setState({hoverDate:e})}),(0,d.default)((0,u.default)(r),"handleDayMouseLeave",function(){r.setState({hoverDate:null})}),(0,d.default)((0,u.default)(r),"handleMonthListScroll",function(e){var t={};r.state.hoverDate&&(t.hoverDate=null),r.hasActionQueued?r.hasActionQueued=!1:t.hasHeaderBorder=0!==e,r.setState(t)}),(0,d.default)((0,u.default)(r),"handleScrollActionCompleted",function(){r.hasActionQueued=!0,r.setState({hasHeaderBorder:!1,scrollAction:null})}),(0,d.default)((0,u.default)(r),"handleScrollNextMonth",function(){r.setState({scrollAction:_.SCROLL_NEXT})}),(0,d.default)((0,u.default)(r),"handleScrollPreviousMonth",function(){r.setState({scrollAction:_.SCROLL_PREV})}),(0,d.default)((0,u.default)(r),"handleScrollTop",function(){r.setState({scrollAction:_.SCROLL_TOP})}),(0,d.default)((0,u.default)(r),"handleTopMonthChange",function(e){r.setState({topMonthLabel:e})}),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.currentDate,n=e.ignoredDays,a=e.items,i=e.renderDay,o=e.selectedDate,l=e.weekStartDay,s=e.onDateSelect,u=e.collaboratorsByPID,c=e.user,d=e.isSelectedWeekHighlighted,p=this.state,_=p.hoverDate,g=p.scrollAction,E=p.topMonthLabel,T=p.hasHeaderBorder,w=this.initialLabel===E,R=(0,m.default)("date-picker-header-action",{"date-picker-header-action--disabled":w});return f.default.createElement("div",{ref:this.picker,className:(0,m.default)("date-picker",t)},f.default.createElement("div",{className:"date-picker-header"},f.default.createElement("span",{className:"date-picker-header-month"},E),f.default.createElement("div",{className:"date-picker-header-actions"},f.default.createElement(h.default,{className:R,onClick:this.handleScrollPreviousMonth,disabled:w},f.default.createElement(y.PreviousIcon,null)),f.default.createElement(h.default,{className:"date-picker-header-action",onClick:this.handleScrollTop},f.default.createElement("div",null,f.default.createElement("div",{className:"outline-circle"}))),f.default.createElement(h.default,{className:"date-picker-header-action",onClick:this.handleScrollNextMonth},f.default.createElement(y.NextIcon,null)))),f.default.createElement(b.default,{collaboratorsByPID:u,user:c,dueDate:_,items:a,weekStartDay:l,hasBorder:T}),f.default.createElement(v.default,{renderDay:i,currentDate:r,ignoredDays:n,scrollAction:g,selectedDate:o,weekStartDay:l,isSelectedWeekHighlighted:d,onDayClick:s,onDayMouseEnter:this.handleDayMouseEnter,onDayMouseLeave:this.handleDayMouseLeave,onScroll:this.handleMonthListScroll,onScrollActionCompleted:this.handleScrollActionCompleted,onTopMonthChange:this.handleTopMonthChange}))}}]),t}(f.default.PureComponent);g.propTypes={className:p.default.string,currentDate:p.default.instanceOf(Date).isRequired,ignoredDays:p.default.array.isRequired,initialHeight:p.default.number,items:p.default.array,collaboratorsByPID:p.default.object,user:p.default.object,renderDay:p.default.func,selectedDate:p.default.object,weekStartDay:p.default.number,isSelectedWeekHighlighted:p.default.bool,onDateSelect:p.default.func,onFixedToggle:p.default.func,onScrollTopSet:p.default.func},g.defaultProps={initialHeight:0,items:[],weekStartDay:7,onDateSelect:function(){},onFixedToggle:function(){},onScrollTopSet:function(){}};var E=g;r.default=E},{"../Button":466,"../icons":731,"./MonthList":514,"./MonthListHeader":515,"./constants":517,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],513:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/inherits")),c=a(e("react")),d=a(e("prop-types")),f=a(e("classnames")),p=n(e("./constants")),m=a(e("../calendar")),h=function(e){function t(){return(0,i.default)(this,t),(0,l.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"handleNextMonthFocus",value:function(){var e=document.activeElement,t=e.closest(".date-picker-month"),r=t.nextSibling;if(r){var n=r.getElementsByClassName("calendar__day");n[0]&&n[0].focus()}}},{key:"handlePreviousMonthFocus",value:function(){var e=document.activeElement,t=e.closest(".date-picker-month"),r=t.previousSibling;if(r){var n=r.getElementsByClassName("calendar__day");n[n.length-1]&&n[n.length-1].focus()}}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.forwardRef,n=e.ignoredDays,a=e.focusedDate,i=e.highlightedWeekRef,o=e.renderDay,l=e.selectedDate,s=e.weekStartDay,u=e.isSelectedWeekHighlighted,d=e.isFirstRowFilled,h=e.onDayClick,_=e.onDayMouseEnter,v=e.onDayMouseLeave,b=(0,f.default)("date-picker-month",{"date-picker-month--first":d});return c.default.createElement("div",{ref:r,className:b},!d&&c.default.createElement("div",{className:"date-picker-month-header"},p.shortMonths[t.getMonth()]),c.default.createElement(m.default,{date:t,ignoredDays:n,focusedDate:a,highlightedWeekRef:i,renderDay:o,selectedDate:l,weekStartDay:s,isHeaderShown:!1,isFirstRowFilled:d,isSelectedWeekHighlighted:u,onDayClick:h,onDayMouseEnter:_,onDayMouseLeave:v,onNextMonthFocus:this.handleNextMonthFocus,onPreviousMonthFocus:this.handlePreviousMonthFocus}))}}]),t}(c.default.PureComponent);h.propTypes={date:d.default.instanceOf(Date).isRequired,forwardRef:d.default.func.isRequired,ignoredDays:d.default.array.isRequired,focusedDate:d.default.instanceOf(Date).isRequired,highlightedWeekRef:d.default.object,renderDay:d.default.func,selectedDate:d.default.object,weekStartDay:d.default.number.isRequired,isSelectedWeekHighlighted:d.default.bool,isFirstRowFilled:d.default.bool,onDayClick:d.default.func,onDayMouseEnter:d.default.func,onDayMouseLeave:d.default.func},h.defaultProps={isFirstRowFilled:!1,onDayClick:function(){},onDayMouseEnter:function(){},onDayMouseLeave:function(){}};var _=h;r.default=_},{"../calendar":503,"./constants":517,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],514:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/toConsumableArray")),o=a(e("@babel/runtime/helpers/classCallCheck")),l=a(e("@babel/runtime/helpers/createClass")),s=a(e("@babel/runtime/helpers/possibleConstructorReturn")),u=a(e("@babel/runtime/helpers/getPrototypeOf")),c=a(e("@babel/runtime/helpers/assertThisInitialized")),d=a(e("@babel/runtime/helpers/inherits")),f=a(e("@babel/runtime/helpers/defineProperty")),p=a(e("react")),m=a(e("prop-types")),h=e("../../utils"),_=n(e("./constants")),v=n(e("./utils")),b=a(e("./Month")),y=36,g=28,E=function(e){function t(e){var r;(0,o.default)(this,t),r=(0,s.default)(this,(0,u.default)(t).call(this,e)),(0,f.default)((0,c.default)(r),"handleScrollImpl",function(){var e=r.monthList.current.parentElement.scrollTop;if(clearTimeout(r.scrollEndTimeout),r.scrollEndTimeout=setTimeout(function(){r.scrollEndTimeout=null},150),r.props.onScroll(e),!r.shifted){var t=r.state,n=t.monthsInView,a=t.topMonthIndex,o=r.props,l=o.currentDate,s=o.weekStartDay,u=r.topMonthEl.offsetTop,c=r.topMonthEl.scrollHeight;if(e<=0)return r.props.onTopMonthChange("".concat(_.shortMonths[l.getMonth()]," ").concat(l.getFullYear())),r.lastTop=0,r.shifted=!0,r.setState({monthsInView:[l].concat((0,i.default)(v.getNextMonths(l,6))),topMonthIndex:0});var d=0;if(e>u+c){var f=new Date(n[a].getTime());f.setDate(1);for(var p,m=!0;m;){var h=f.getTime(),b=f.getFullYear(),E=f.getMonth();r.monthsHeights[h]?p=r.monthsHeights[h]:b<=l.getFullYear()&&E<=l.getMonth()?(p=r.monthList.current.childNodes[0].clientHeight,r.monthsHeights[l.getTime()]=p):(p=v.getWeeksInMonth(b,E,1,s)*g+y,r.monthsHeights[h]=p);var T=r.lastTop+p;T>e?m=!1:(d++,r.lastTop=T,f.setMonth(E+1))}}else if(e<u){var w=new Date(n[a].getTime());w.setMonth(w.getMonth()-1);for(var R,P=!0;P;){var D=w.getTime(),O=w.getFullYear(),C=w.getMonth();r.monthsHeights[D]?R=r.monthsHeights[D]:O<=l.getFullYear()&&C<=l.getMonth()?(R=v.getWeeksInMonth(O,C,l.getDate(),s)*g,r.monthsHeights[l.getTime()]=R):(R=v.getWeeksInMonth(O,C,1,s)*g+y,r.monthsHeights[D]=R);var I=r.lastTop-R;I<e&&(P=!1),d--,r.lastTop=I,w.setMonth(C-1)}}if(d){var A,S=a+d,k=new Date(n[a].getTime());if(k.setDate(1),k.setMonth(k.getMonth()+d),d>0&&S>3){var M=v.getPreviousMonths(l,k,3);A=[].concat((0,i.default)(M),[k],(0,i.default)(v.getNextMonths(k,3-M.length+3))),r.shifted=!0,S=3,r.setState({topMonthIndex:S,monthsInView:A,isScrolling:!0})}else if(d<0&&S<3){var j;k.getMonth()<=l.getMonth()&&k.getFullYear()<=l.getFullYear()?(k=l,j=[]):j=v.getPreviousMonths(l,k,3),A=[].concat((0,i.default)(j),[k],(0,i.default)(v.getNextMonths(k,3-j.length+3))),r.shifted=!0,S=3-(3-j.length),r.setState({topMonthIndex:S,monthsInView:A,isScrolling:!0})}else r.setState({topMonthIndex:S,isScrolling:!0});var N=A&&A[S]||n[S];r.props.onTopMonthChange("".concat(_.shortMonths[N.getMonth()]," ").concat(N.getFullYear()))}}}),(0,f.default)((0,c.default)(r),"handleScroll",(0,h.throttle)(r.handleScrollImpl,1,{trailing:!0})),(0,f.default)((0,c.default)(r),"handleScrollAction",function(){var e=r.monthList.current.parentElement;switch(r.props.scrollAction){case _.SCROLL_PREV:var t=r.topMonthEl.previousSibling;if(!t)return;e.scrollTop=0===t.offsetTop?0:t.offsetTop+y;break;case _.SCROLL_TOP:e.scrollTop=0;break;case _.SCROLL_NEXT:var n=r.topMonthEl.nextSibling;if(!n)return;e.scrollTop=n.offsetTop+y}}),(0,f.default)((0,c.default)(r),"handleDayMouseEnter",function(e){r.scrollEndTimeout||r.props.onDayMouseEnter(e)}),(0,f.default)((0,c.default)(r),"handleDayMouseLeave",function(){r.scrollEndTimeout||r.props.onDayMouseLeave()});var n=v.getInitialMonths(e.currentDate,e.selectedDate,e.isSelectedWeekHighlighted),a=n.previousMonths,l=n.currentMonth,d=n.nextMonths;r.state={monthsInView:[].concat((0,i.default)(a),[l],(0,i.default)(d)),topMonthIndex:a.length},r.lastTop=0;for(var m=new Date(l);m.getTime()>e.currentDate.getTime();){m=v.getPreviousMonthDate(m,e.currentDate);var b=v.getWeeksInMonth(m.getFullYear(),m.getMonth(),m.getDate(),e.weekStartDay);r.lastTop=r.lastTop+b*g+(m!==e.currentDate?y:0)}return r.shifted=!1,r.monthList=p.default.createRef(),r.highlightedWeekRef=p.default.createRef(),r.monthsHeights={},r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.state.topMonthIndex,t=this.monthList.current.childNodes,r=this.lastTop;this.topMonthEl.style.top="".concat(r,"px");for(var n=e+1;n<t.length;n++)r+=t[n-1].clientHeight,t[n].style.top="".concat(r,"px");r=this.lastTop;for(var a=e-1;a>=0;a--)r-=t[a].clientHeight,t[a].style.top="".concat(r,"px");var i=this.monthList.current.parentElement,o=i.offsetWidth-i.clientWidth;if(i.style.marginRight="-".concat(o||20,"px"),i.style.paddingRight="".concat(o?0:20,"px"),this.highlightedWeekRef.current){this.props.onTopMonthChange("".concat(_.shortMonths[this.state.monthsInView[e].getMonth()]," ").concat(this.state.monthsInView[e].getFullYear()));var l=this.highlightedWeekRef.current.closest(".date-picker-month");l&&(this.monthList.current.parentElement.scrollTop=l.offsetTop+(l.offsetTop?y:0))}}},{key:"componentDidUpdate",value:function(e){if(this.shifted){var t=this.monthList.current.childNodes,r=this.lastTop;this.topMonthEl.style.top="".concat(r,"px");for(var n=this.state.topMonthIndex+1;n<t.length;n++)r+=t[n-1].clientHeight,t[n].style.top="".concat(r,"px");r=this.lastTop;for(var a=this.state.topMonthIndex-1;a>=0;a--)r-=t[a].clientHeight,t[a].style.top="".concat(r,"px");this.shifted=!1}this.props.scrollAction&&this.props.scrollAction!==e.scrollAction&&(this.handleScrollAction(),this.props.onScrollActionCompleted())}},{key:"render",value:function(){var e=this,t=this.props,r=t.currentDate,n=t.ignoredDays,a=t.renderDay,i=t.selectedDate,o=t.weekStartDay,l=t.isSelectedWeekHighlighted,s=t.onDayClick,u=new Date(Math.max(i&&i._date,r,this.state.monthsInView[0])),c=this.state.monthsInView.map(function(t,c){return p.default.createElement(b.default,{key:t.getTime(),date:t,forwardRef:function(t){c===e.state.topMonthIndex&&(e.topMonthEl=t)},ignoredDays:n,focusedDate:u,highlightedWeekRef:e.highlightedWeekRef,renderDay:a,selectedDate:i,weekStartDay:o,isSelectedWeekHighlighted:l,isFirstRowFilled:0===c&&r.getTime()===t.getTime(),onDayClick:s,onDayMouseEnter:e.handleDayMouseEnter,onDayMouseLeave:e.handleDayMouseLeave})});return p.default.createElement("div",{className:"date-picker-monthlist-wrapper",onScroll:this.handleScroll},p.default.createElement("div",{className:"date-picker-monthlist",ref:this.monthList},c))}}]),t}(p.default.PureComponent);E.propTypes={currentDate:m.default.instanceOf(Date).isRequired,ignoredDays:m.default.array.isRequired,renderDay:m.default.func,selectedDate:m.default.object,scrollAction:m.default.string,weekStartDay:m.default.number.isRequired,isSelectedWeekHighlighted:m.default.bool,onDayClick:m.default.func,onDayMouseEnter:m.default.func,onDayMouseLeave:m.default.func,onTopMonthChange:m.default.func,onScrollActionCompleted:m.default.func,onScroll:m.default.func},E.defaultProps={onDayClick:function(){},onDayMouseEnter:function(){},onDayMouseLeave:function(){},onTopMonthChange:function(){}};var T=E;r.default=T},{"../../utils":1094,"./Month":513,"./constants":517,"./utils":520,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react"}],515:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/assertThisInitialized")),c=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),f=a(e("react")),p=a(e("prop-types")),m=a(e("classnames")),h=n(e("./constants")),_=a(e("./TasksDue")),v=e("./utils"),b=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(a))),(0,d.default)((0,u.default)(r),"state",{days:r.getDays(r.props.weekStartDay)}),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e){e.weekStartDay!==this.props.weekStartDay&&this.setState({days:this.getDays(this.props.weekStartDay)})}},{key:"getDays",value:function(e){for(var t=[],r=0;r<h.shortDays.length;r++)t.push(h.shortDays[(e+r)%7]);return t}},{key:"render",value:function(){var e,t=this.props,r=t.dueDate,n=t.items,a=t.hasBorder,i=t.collaboratorsByPID,o=t.user;e=r?f.default.createElement(_.default,{date:r,tasks:(0,v.getTasksDue)(n,r,{user:o,collaboratorsByPID:i})}):f.default.createElement("div",{className:"date-picker-monthlistheader-labels"},this.state.days.map(function(e,t){return f.default.createElement("div",{key:t},e)}));var l=(0,m.default)("date-picker-monthlistheader",{"date-picker-monthlistheader--bordered":a});return f.default.createElement("div",{className:l},e)}}]),t}(f.default.PureComponent);b.propTypes={collaboratorsByPID:p.default.object,user:p.default.object,dueDate:p.default.instanceOf(Date),items:p.default.array,weekStartDay:p.default.number.isRequired,hasBorder:p.default.bool},b.defaultProps={items:[]};var y=b;r.default=y},{"./TasksDue":516,"./constants":517,"./utils":520,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],516:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=n(e("../../utils/format")),f=n(e("../../containers/TasksDueBar")),p=e("../../utils"),m=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.tasks,t=p.DateUtils.format(this.props.date,!1,{with_time:!1,with_weekday:!0}),r=(0,d.default)(_n("{count} task due","{count} tasks due",e.length),{count:e.length}),n=e.length>0&&8*e.length>200?200/e.length:8;return u.default.createElement("div",{className:"date-picker-tasksdue"},u.default.createElement("div",{className:"date-picker-tasksdue-info"},u.default.createElement("span",{className:"date-picker-tasksdue-info-date"},"".concat(t," \u2022 ")),u.default.createElement("span",{className:"date-picker-tasksdue-info-tasks"},r)),u.default.createElement(f.default,{className:"date-picker-tasksdue-colors",blockWidth:n,blockHeight:3,items:e}))}}]),t}(u.default.PureComponent);m.propTypes={date:c.default.object.isRequired,tasks:c.default.array.isRequired};var h=m;r.default=h},{"../../containers/TasksDueBar":102,"../../utils":1094,"../../utils/format":1079,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],517:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SCROLL_NEXT=r.SCROLL_TOP=r.SCROLL_PREV=r.shortMonths=r.shortDays=void 0;var n=[_x("weekday_sunday","S"),_x("weekday_monday","M"),_x("weekday_tuesday","T"),_x("weekday_wednesday","W"),_x("weekday_thursday","T"),_x("weekday_friday","F"),_x("weekday_saturday","S")];r.shortDays=n;var a=[_x("mm/yy","Jan"),_x("mm/yy","Feb"),_x("mm/yy","Mar"),_x("mm/yy","Apr"),_x("mm/yy","May"),_x("mm/yy","Jun"),_x("mm/yy","Jul"),_x("mm/yy","Aug"),_x("mm/yy","Sep"),_x("mm/yy","Oct"),_x("mm/yy","Nov"),_x("mm/yy","Dec")];r.shortMonths=a;r.SCROLL_PREV="SCROLL_PREV";r.SCROLL_TOP="SCROLL_TOP";r.SCROLL_NEXT="SCROLL_NEXT"},{}],518:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:16,height:16},e,{viewBox:"0 0 24 24"}),o.default.createElement("path",{fill:"gray",fillRule:"evenodd",d:"M12 10.62l4.833-4.834a.976.976 0 1 1 1.381 1.38L13.381 12l4.833 4.833a.976.976 0 0 1-1.38 1.381L12 13.381l-4.833 4.833a.976.976 0 0 1-1.381-1.38L10.619 12 5.786 7.167a.976.976 0 1 1 1.38-1.381L12 10.619z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],519:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./DatePicker")),i=a.default;r.default=i},{"./DatePicker":512,"@babel/runtime/helpers/interopRequireDefault":189}],520:[function(e,t,r){"use strict";function n(e,t,r){var n=new Date(e,0,1);return Math.ceil((Math.round((t-n)/864e5)+n.getDay()+1-r)/7)}Object.defineProperty(r,"__esModule",{value:!0}),r.getTasksDue=r.getWeeksInMonth=r.getPreviousMonths=r.getNextMonths=r.getPreviousMonthDate=r.getNextMonthDate=r.getInitialMonths=void 0;var a=e("../../utils"),i=e("../../reducers/collaborators"),o=function(e,t,r){if(!r||!t){var n=new Date(e.getTime());return n.setDate(1),{previousMonths:[],currentMonth:e,nextMonths:u(n,6)}}t=new Date(t.getTime()),t.setDate(1),t=t.getTime()<e.getTime()?e:t;var a=Math.ceil(Math.abs((t.getTime()-e.getTime())/1e3/2419200)),i=c(e,t,Math.min(a,3));return{previousMonths:i,nextMonths:u(t,6-i.length),currentMonth:t}};r.getInitialMonths=o;var l=function(e){var t=e.getMonth(),r=new Date(e.getFullYear(),e.getMonth(),1);return r.setMonth(t+1),r};r.getNextMonthDate=l;var s=function(e,t){var r=e.getMonth(),n=new Date(e.getFullYear(),e.getMonth(),1);return n.setMonth(r-1),t&&n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()?t:n};r.getPreviousMonthDate=s;var u=function(e,t){for(var r=[],n=0;n<t;n++)e=l(e),r.push(e);return r};r.getNextMonths=u;var c=function(e,t,r){var n=[];if(t.getTime()<=e.getTime())return n;for(var a=0;a<r;a++){if((t=s(t,e))===e)return[e].concat(n);n.unshift(t)}return n};r.getPreviousMonths=c;var d=function(e,t,r,a){var i=new Date(e,t,r),o=n(e,i,a);return n(e,new Date(e,t+1,0),a)-o+1};r.getWeeksInMonth=d;var f=function(e,t,r){var n=r.user,o=r.collaboratorsByPID;return t?e.filter(function(e){return!!e.due&&((!(0,i.isShared)({collaborators:{byPID:o}},e.project_id)||!e.responsible_uid||e.responsible_uid===n.id)&&(0,a.isOnSameDate)(e.due,t))}):[]};r.getTasksDue=f},{"../../reducers/collaborators":983,"../../utils":1094}],521:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/toConsumableArray")),l=a(e("@babel/runtime/helpers/objectWithoutProperties")),s=n(e("react")),u=e("../../components/agenda/sort"),c=a(e("../item_list/RootItemList")),d=a(e("../../models/DateExt")),f=e("../view"),p=s.default.forwardRef(function(e,t){var r=e.date,n=e.rootItems,a=e.withHeader,p=void 0===a||a,m=e.onEditorToggle,h=(0,l.default)(e,["date","rootItems","withHeader","onEditorToggle"]);n=(0,o.default)(n),n.sort(u.dayViewSortFn);var _=n.map(function(e){return e.id}),v=(0,s.useMemo)(function(){return{defaultFields:{due:d.default.fromDate(r)}}},[r]),b=s.default.createElement(c.default,(0,i.default)({rootItemIds:_},h,{showDragHandle:!0,onEditorToggle:m,allowAdd:v,showDue:!1,showTime:!0}));return p?s.default.createElement(f.Section,{ref:t,header:r},b):b}),m=p;r.default=m},{"../../components/agenda/sort":16,"../../models/DateExt":154,"../item_list/RootItemList":759,"../view":975,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/toConsumableArray":200,react:"react"}],522:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/toConsumableArray")),o=n(e("@babel/runtime/helpers/objectWithoutProperties")),l=n(e("react")),s=e("../../components/agenda/sort"),u=n(e("../item_list/RootItemList")),c=e("../view"),d=n(e("./reschedule_menu_button/")),f=l.default.forwardRef(function(e,t){var r=e.rootItems,n=(0,o.default)(e,["rootItems"]),f=(0,s.createOverdueViewSort)(n);r=(0,i.default)(r),r.sort(f);var p=r.map(function(e){return e.id});return l.default.createElement(c.Section,{ref:t,header:_("Overdue"),actions:l.default.createElement(d.default,{items:r})},l.default.createElement(u.default,(0,a.default)({rootItemIds:p,showDragHandle:!0},n)))}),p=f;r.default=p},{"../../components/agenda/sort":16,
"../item_list/RootItemList":759,"../view":975,"./reschedule_menu_button/":529,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/toConsumableArray":200,react:"react"}],523:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=n(e("classnames")),s=e("react-transition-group"),u=n(e("../TemplateText")),c=n(e("../icons/PostponeIcon")),d=o.default.forwardRef(function(e,t){var r=e.due,n=(0,i.default)(e,["due"]);return o.default.createElement(s.Transition,{in:!0,appear:!0,timeout:225},function(e){return o.default.createElement("div",(0,a.default)({className:(0,l.default)("postpone_droparea",e),ref:t},n),o.default.createElement(c.default,{size:"large"}),o.default.createElement("span",null,o.default.createElement(u.default,{text:_("Drop to postpone: {new_due_date}"),keyval:{new_due_date:o.default.createElement("b",null,r.relativeFormat())}})))})}),f=d;r.default=f},{"../TemplateText":475,"../icons/PostponeIcon":705,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,classnames:"classnames",react:"react","react-transition-group":"react-transition-group"}],524:[function(e,t,r){"use strict";function n(){var e=(0,v.useFilterist)(c.DEFAULT_QUERY_7_DAYS),t=(0,s.default)(e,2),r=t[0],n=t[1];if(n)throw n;var a=(0,d.default)(),i=(0,b.default)(),E=(0,s.default)(i,2),T=E[0],w=E[1],R=(0,v.useTip)(g.TOOLTIP_EMPTY_STATE_NEXT_7DAYS),P=R.hasSeenTip,D=R.markTipSeen;(0,u.useEffect)(function(){return function(){P||D()}},[P,D]);var O=0===m.sum.apply(void 0,(0,l.default)(r.map(function(e){return e.items.length}))),C=function(e){if(0===e.items.length)return null;return u.default.createElement(u.default.Fragment,{key:"overdue"},u.default.createElement(p.default,(0,o.default)({rootItems:e.items,"data-day-list-id":"overdue"},a)),T&&"overdue"===T.listId?w:null)},I=function(e){var t=(0,m.toISODateString)(e.day_date,{dateOnly:!0});return u.default.createElement(u.default.Fragment,{key:t},u.default.createElement(f.default,(0,o.default)({rootItems:e.items,date:e.day_date,"data-day-list-id":t},a)),T&&T.listId===t?w:null)};return u.default.createElement("div",{id:"agenda_view"},u.default.createElement(h.ViewHeader,{header:_("Next 7 days"),largeBottomMargin:!0}),O&&!P?u.default.createElement(y.EmptyStateNext7Days,null):null,r.map(function(e){return"overdue"===e.view?C(e):I(e)}))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/toConsumableArray")),s=i(e("@babel/runtime/helpers/slicedToArray")),u=a(e("react")),c=e("../../constants/constants"),d=i(e("../item_list/useRootItemListProps")),f=i(e("./DaySection")),p=i(e("./OverdueSection")),m=e("../../utils"),h=e("../view"),v=e("../hooks"),b=i(e("./useDayViewDnD")),y=e("../emptyState"),g=e("../../reducers/tooltip")},{"../../constants/constants":94,"../../reducers/tooltip":1040,"../../utils":1094,"../emptyState":588,"../hooks":628,"../item_list/useRootItemListProps":770,"../view":975,"./DaySection":521,"./OverdueSection":522,"./useDayViewDnD":541,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,react:"react"}],525:[function(e,t,r){"use strict";function n(){var e=(0,b.useFilterist)(u.DEFAULT_QUERY_TODAY),t=(0,l.default)(e,2),r=t[0],n=t[1];if(n)throw n;var a=(0,l.default)(r,2),i=a[0],y=a[1],g=(0,v.default)(),E=(0,l.default)(g,2),T=E[0],w=E[1],R=(0,c.default)(),P=i.items.length>0,D=y.items.length>0,O=(0,m.toISODateString)(y.day_date,{dateOnly:!0}),C=(0,s.useState)(!1),I=(0,l.default)(C,2),A=I[0],S=I[1],k=function(){var e=document.querySelector("ul.items .plus_add_button");e&&e.click()};return s.default.createElement("div",{id:"agenda_view"},s.default.createElement(h.ViewHeader,{header:_("Today"),subheader:P?null:(0,m.formatDate)(new Date,{withWeekday:!0,withTime:!1}),largeBottomMargin:P}),P?s.default.createElement(f.default,(0,o.default)({rootItems:i.items,"data-day-list-id":"overdue"},R)):null,T&&"overdue"===T.listId?w:null,s.default.createElement(d.default,(0,o.default)({rootItems:y.items,date:y.day_date,withHeader:P,onEditorToggle:S,"data-day-list-id":O},R)),T&&T.listId===O?w:null,P||D||A?null:s.default.createElement(p.EmptyStateToday,{onAddClick:k}))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/slicedToArray")),s=a(e("react")),u=e("../../constants/constants"),c=i(e("../item_list/useRootItemListProps")),d=i(e("./DaySection")),f=i(e("./OverdueSection")),p=e("../../react_components/emptyState"),m=e("../../utils"),h=e("../view"),v=i(e("./useDayViewDnD")),b=e("../hooks")},{"../../constants/constants":94,"../../react_components/emptyState":588,"../../utils":1094,"../hooks":628,"../item_list/useRootItemListProps":770,"../view":975,"./DaySection":521,"./OverdueSection":522,"./useDayViewDnD":541,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,react:"react"}],526:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"SevenDaysView",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"TodayView",{enumerable:!0,get:function(){return i.default}});var a=n(e("./SevenDaysView")),i=n(e("./TodayView"))},{"./SevenDaysView":524,"./TodayView":525,"@babel/runtime/helpers/interopRequireDefault":189}],527:[function(e,t,r){"use strict";function n(e){var t=e.clock,r=e.onMoveToToday,n=e.onSmartScheduleShow;return i.default.createElement(l.MenuList,{className:"reschedule_menu__list","aria-label":_x("a11y","overdue reschedule menu")},i.default.createElement(l.IconMenuItem,{className:"reschedule_menu__list__today",text:_("Move to Today"),icon:i.default.createElement(s.TodayIcon,{dateString:t}),onClick:r}),i.default.createElement(l.IconMenuItem,{className:"reschedule_menu__list__smart_schedule",text:_("Open Smart Schedule"),icon:i.default.createElement(s.SmartScheduleIcon,null),onClick:n}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=e("../../menu_list"),s=e("../../icons");n.propTypes={clock:o.default.string.isRequired,onMoveToToday:o.default.func.isRequired,onSmartScheduleShow:o.default.func.isRequired};var u=n;r.default=u},{"../../icons":731,"../../menu_list":801,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],528:[function(e,t,r){"use strict";function n(e){var t=e.clock,r=e.onMoveToToday,n=e.onSmartScheduleShow,a=(0,s.usePopover)();return i.default.createElement(i.default.Fragment,null,i.default.createElement(l.default,{className:"reschedule_menu__button",onClick:a.openOnClick},_("Reschedule")),a.isOpen?i.default.createElement(s.Popover,a.props,i.default.createElement(u.default,{clock:t,onMoveToToday:a.close(r),onSmartScheduleShow:a.close(n)})):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../../Button")),s=e("../../popover"),u=a(e("./RescheduleMenu"));n.propTypes={clock:o.default.string.isRequired,onMoveToToday:o.default.func.isRequired,onSmartScheduleShow:o.default.func.isRequired};var c=n;r.default=c},{"../../Button":466,"../../popover":829,"./RescheduleMenu":527,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],529:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return{clock:e.clock}}function o(e,t){return{onMoveToToday:function(t){return e((0,d.itemUpdateDue)(t))},onSmartScheduleShow:function(){(0,c.openSmartSchedule)(t.items)}}}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/defineProperty")),u=e("react-redux"),c=e("../../../containers/SmartSchedule"),d=e("../../../reducers/items"),f=l(e("./RescheduleMenuButton")),p=e("../../../utils"),m=function(e,t,r){return a({},e,{},r,{},t,{onMoveToToday:function(){var n=(0,p.parseDateString)(e.clock),a=r.items.reduce(function(e,t){return e[t.id]=n,e},{});t.onMoveToToday(a)}})},h=(0,u.connect)(i,o,m)(f.default);r.default=h},{"../../../containers/SmartSchedule":99,"../../../reducers/items":1005,"../../../utils":1094,"./RescheduleMenuButton":528,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],530:[function(e,t,r){"use strict";function n(e){var t=e.initialDate,r=e.highlightedDate,n=e.itemsByDate,a=e.style,i=e.onDateScroll,c=(0,h.useWindowDimensions)().height,R=(0,u.useState)(function(){return(0,v.getSections)({date:t,itemsByDate:n,startIndex:0,stopIndex:(0,v.getNumberOfRowsToFetch)({windowHeight:c,rowHeight:E,overscan:w})})}),P=(0,s.default)(R,2),D=P[0],O=P[1],C=(0,u.useState)(function(){return(0,v.getOverdueSection)({initialDate:t,itemsByDate:n})}),I=(0,s.default)(C,2),A=I[0],S=I[1],k=(0,u.useState)(D.length*E),M=(0,s.default)(k,2),j=M[0],N=M[1],x=(0,u.useRef)(0),L=(0,u.useRef)(r),q=(0,u.useRef)(n),U=(0,u.useRef)(null),$=(0,u.useRef)(null),F=(0,u.useRef)(null),z=(0,u.useRef)(null),B=(0,m.default)();(0,_.default)(),(0,u.useEffect)(function(){if(r&&(!L.current||L.current.getTime()!==r.getTime())){var e=(0,p.default)(r,t);A&&(e+=1);var a=(0,v.getNumberOfRowsToFetch)({windowHeight:c,rowHeight:E,overscan:w});e+a>=D.length&&O([].concat((0,l.default)(D),(0,l.default)((0,v.getSections)({date:t,itemsByDate:n,startIndex:D.length,stopIndex:e+a})))),L.current=r,$.current&&$.current.scrollToIndex({index:e,align:"start"})}},[r,t,n,A,D,c]),(0,u.useEffect)(function(){q.current!==n&&(q.current=n,O((0,v.getSections)({date:t,itemsByDate:n,startIndex:0,stopIndex:D.length-1})),S((0,v.getOverdueSection)({initialDate:t,itemsByDate:n})))},[t,D.length,n]),(0,u.useEffect)(function(){"scrollRestoration"in history&&(history.scrollRestoration="manual")},[]),(0,u.useEffect)(function(){r||A||i(t)},[r,t,i,A]),(0,u.useEffect)(function(){r&&(z.current=r?(0,b.toISODateString)(r,{dateOnly:!0}):"")});var H=function(e){var t=Boolean(0===e&&A),r=t?A:D[A?e-1:e],n=(0,d.default)("section__wrapper",{"section__wrapper--empty":0===r.items.length});return u.default.createElement("div",{className:n,key:r.date},u.default.createElement(g.default,{listId:r.date,rootListProps:B,section:r,isOverdueSection:t}))},V=(0,u.useCallback)(function(e){return u.default.createElement(y.default,(0,o.default)({ref:F},e))},[]);return a?u.default.createElement("div",{ref:U,className:"upcoming_view__list",style:a},u.default.createElement(f.Virtuoso,{ref:$,ScrollContainer:V,defaultItemHeight:E,totalCount:D.length,overscan:100,item:H,style:{height:j,minHeight:Math.max(j,E)},totalListHeightChanged:N,rangeChanged:function(e){x.current=e.startIndex},scrollSeek:{enter:function(){if(U.current){var e=U.current.querySelector("[data-index]");if(e){for(var t=e.getBoundingClientRect(),r=t.top,n=0;F.current.offsetTop-r>=e.offsetHeight;)r+=e.offsetHeight,e=e.nextSibling,n+=1;n=A?n-1:n;var a=D[x.current+n];if(a&&z.current!==a.date){var o=(0,b.parseDateString)(a.date);L.current=o,i(o)}else!a&&A&&(L.current=null,z.current=null,i(null));return!1}}}},endReached:function(){return O([].concat((0,l.default)(D),(0,l.default)((0,v.getSections)({date:t,itemsByDate:n,startIndex:D.length,stopIndex:Math.min(T,D.length+(0,v.getNumberOfRowsToFetch)({windowHeight:c,rowHeight:E,overscan:w}))}))))}})):null}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/toConsumableArray")),s=i(e("@babel/runtime/helpers/slicedToArray")),u=a(e("react")),c=i(e("prop-types")),d=i(e("classnames")),f=e("react-virtuoso"),p=i(e("date-fns/differenceInDays")),m=i(e("../../../item_list/useRootItemListProps")),h=e("../../../hooks"),_=i(e("../../useDayViewDnD")),v=e("../utils"),b=e("../../../../utils"),y=i(e("./DaysListScrollable")),g=i(e("./DaysListRow")),E=85,T=730,w=15;n.propTypes={initialDate:c.default.instanceOf(Date).isRequired,highlightedDate:c.default.instanceOf(Date),itemsByDate:c.default.object,style:c.default.object,onDateScroll:c.default.func};var R=n;r.default=R},{"../../../../utils":1094,"../../../hooks":628,"../../../item_list/useRootItemListProps":770,"../../useDayViewDnD":541,"../utils":540,"./DaysListRow":531,"./DaysListScrollable":532,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,classnames:"classnames","date-fns/differenceInDays":"date-fns/differenceInDays","prop-types":"prop-types",react:"react","react-virtuoso":"react-virtuoso"}],531:[function(e,t,r){"use strict";function n(e){var t=e.listId,r=e.rootListProps,n=e.section;return e.isOverdueSection?o.default.createElement(u.default,(0,i.default)({rootItems:n.items,"data-day-list-id":t},r)):o.default.createElement(s.default,(0,i.default)({rootItems:n.items,date:(0,c.parseDateString)(n.date),"data-day-list-id":t},r))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../../DaySection")),u=a(e("../../OverdueSection")),c=e("../../../../utils");n.propTypes={listId:l.default.string.isRequired,rootListProps:l.default.object.isRequired,section:l.default.object.isRequired,isDragging:l.default.bool,isOverdueSection:l.default.bool,isScrolling:l.default.bool};var d=n;r.default=d},{"../../../../utils":1094,"../../DaySection":521,"../../OverdueSection":522,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],532:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=i(e("react")),u=s.default.forwardRef(function(e,t){var r=e.style,n=e.reportScrollTop,i=e.scrollTo,o=e.children,l=(0,s.useRef)(0),u=(0,s.useCallback)(function(){var e=Math.max(0,window.scrollY||window.pageYOffset);n(e)},[n]);return(0,s.useEffect)(function(){return window.addEventListener("scroll",u),function(){return window.removeEventListener("scroll",u)}},[u]),(0,s.useEffect)(function(){l.current=t.current.offsetTop;var e=setInterval(function(){var e=t.current.offsetTop;e!==l.current&&(l.current=e,u())},150);return function(){return clearInterval(e)}},[t,u]),(0,s.useEffect)(function(){i(function(e){var t=e.top;window.scrollTo(0,t)})},[i]),s.default.createElement("div",{ref:t,className:"upcoming_view__list__scrollable",style:a({},r,{overflow:"visible"})},o)}),c=u;r.default=c},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,react:"react"}],533:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./DaysList")),i=a.default;r.default=i},{"./DaysList":530,"@babel/runtime/helpers/interopRequireDefault":189}],534:[function(e,t,r){"use strict";function n(e){var t=e.clock,r=e.ignoredDays,n=e.collaboratorsByPID,a=e.itemsByDate,i=e.uncompletedItems,s=e.weekStartDay,p=e.user,m=(0,l.useMemo)(function(){return(0,u.parseDateString)(t)},[t]),h=(0,l.useState)(null),_=(0,o.default)(h,2),v=_[0],b=_[1],y=(0,l.useState)(null),g=(0,o.default)(y,2),E=g[0],T=g[1],w=(0,l.useState)(null),R=(0,o.default)(w,2),P=R[0],D=R[1],O=(0,l.useRef)(null),C=(0,l.useCallback)(function(e){var t=e.height;T(t);var r=O.current.closest("#content");r&&D({width:r.clientWidth-1,left:r.offsetLeft+1})},[]);return l.default.createElement("div",{className:"upcoming_view"},P&&!f.isIE11?l.default.createElement("div",{className:"upcoming_view_background",style:P}):null,l.default.createElement(c.default,{initialDate:m,highlightedDate:v,itemsByDate:a,style:null!==E?{marginTop:E}:null,onDateScroll:b}),l.default.createElement(d.default,{ref:O,collaboratorsByPID:n,highlightedDate:v,initialDate:m,ignoredDays:r,itemsByDate:a,uncompletedItems:i,weekStartDay:s,user:p,onDateSelect:b,onResize:C}))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=e("../../../utils"),c=i(e("./DaysList")),d=i(e("./WeeklyCalendar")),f=e("../../../utils/Env");n.propTypes={clock:s.default.string.isRequired,collaboratorsByPID:s.default.object,ignoredDays:s.default.array.isRequired,itemsByDate:s.default.object,uncompletedItems:s.default.array,user:s.default.object.isRequired,weekStartDay:s.default.number.isRequired};var p=n;r.default=p},{"../../../utils":1094,"../../../utils/Env":1057,"./DaysList":533,"./WeeklyCalendar":537,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],535:[function(e,t,r){"use strict";function n(e){var t=e.className,r=e.date,n=e.itemsByDate,a=e.isCurrent,o=e.isSelected,d=void 0!==o&&o,f=e.isSpacer,p=void 0!==f&&f,m=e.isWeekdayShown,h=void 0!==m&&m,_=e.onClick,v=void 0===_?function(){}:_,b=e.onMouseEnter,y=void 0===b?function(){}:b,g=e.onMouseLeave,E=void 0===g?function(){}:g;if(p)return i.default.createElement("div",{key:r.getTime(),className:t},h?i.default.createElement("span",{className:"upcoming_view__day_cell__weekday"},u.shortWeekdays[r.getDay()]):null,i.default.createElement("span",{className:"upcoming_view__day_cell__date"},r.getDate()));var T=(0,c.toISODateString)(r,{dateOnly:!0}),w=(0,l.default)(t,"upcoming_view__day_cell",{"upcoming_view__day_cell--selected":d,"upcoming_view__day_cell--busy":n[T],"upcoming_view__day_cell--current":a});return i.default.createElement(s.default,{className:w,onClick:v,"aria-label":T,onMouseEnter:function(){return y(r)},onMouseLeave:E},h?i.default.createElement("span",{className:"upcoming_view__day_cell__weekday"},u.shortWeekdays[r.getDay()]):null,i.default.createElement("span",{className:"upcoming_view__day_cell__date"},r.getDate()))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("classnames")),s=a(e("../../../Button")),u=e("../../../scheduler/suggestions/constants.js"),c=e("../../../../utils");n.propTypes={className:o.default.string,date:o.default.instanceOf(Date).isRequired,itemsByDate:o.default.object.isRequired,isCurrent:o.default.bool.isRequired,isSelected:o.default.bool,isSpacer:o.default.bool,isWeekdayShown:o.default.bool,onClick:o.default.func,onMouseEnter:o.default.func,onMouseLeave:o.default.func};var d=n;r.default=d},{"../../../../utils":1094,"../../../Button":466,"../../../scheduler/suggestions/constants.js":929,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],536:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/slicedToArray")),l=n(e("react")),s=a(e("prop-types")),u=e("react-transition-group"),c=a(e("../../../calendar")),d=a(e("../../../Button")),f=a(e("../../../date_picker")),p=a(e("../../../popper")),m=e("../../../../utils"),h=e("../utils"),v=e("./utils"),b=a(e("./Day")),y=e("../../../icons"),g=e("../../../buttons"),E=l.default.forwardRef(function(e,t){var r=e.collaboratorsByPID,n=e.initialDate,a=e.ignoredDays,s=e.highlightedDate,E=e.itemsByDate,T=e.uncompletedItems,w=e.weekStartDay,R=e.user,P=e.onDateSelect,D=e.onResize,O=(0,l.useState)(n),C=(0,o.default)(O,2),I=C[0],A=C[1],S=(0,l.useState)(!1),k=(0,o.default)(S,2),M=k[0],j=k[1],N=(0,l.useState)(null),x=(0,o.default)(N,2),L=x[0],q=x[1],U=(0,l.useRef)(null);(0,l.useEffect)(function(){A(s?(0,h.getWeekDate)({date:s,weekStartDay:w,initialDate:n}):n)},[s,n,w]),(0,l.useEffect)(function(){var e=function e(){if(t.current){var r=t.current.closest("#editor"),n=r.getBoundingClientRect(),a=n.width,i=n.left,o=parseFloat(window.getComputedStyle(r).paddingTop);if(!a)return setTimeout(function(){e()},1);var l=parseFloat(window.getComputedStyle(t.current).paddingTop);D({height:t.current.offsetHeight-l}),q({width:a-2,left:i+1,paddingTop:o-t.current.offsetTop})}};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[D,t]);var $=function(e){j(!1),P(e)},F=function(){A((0,h.getPreviousWeekDate)({weekDate:I,initialDate:n}))},z=function(){A((0,h.getNextWeekDate)({weekDate:I,weekStartDay:w}))},B=function(){P(n),A(n)};return l.default.createElement("div",{ref:t,className:"upcoming_view__calendar",style:L||{visibility:"hidden"}},l.default.createElement("div",{className:"upcoming_view__calendar__controls"},l.default.createElement(d.default,{ref:U,className:"upcoming_view__calendar__controls__picker",onClick:function(){return j(!0)}},l.default.createElement("span",{className:"upcoming_view__calendar__controls__picker__month"},(0,v.getMonthName)(I.getMonth())),I.getFullYear(),l.default.createElement(y.ChevronDownIcon,null)),M?l.default.createElement(p.default,{placement:"bottom",modifiers:{preventOverflow:{boundariesElement:"viewport",padding:20}},referenceElement:U.current,isShown:M,onClose:function(){return j(!1)}},l.default.createElement(f.default,{className:"upcoming_view__date_picker",currentDate:n,ignoredDays:a,items:T,collaboratorsByPID:r,user:R,renderDay:function(e){return l.default.createElement(b.default,(0,i.default)({},e,{itemsByDate:E,isCurrent:(0,m.isOnSameDate)(e.date,n)}))},selectedDate:s,weekStartDay:w,onDateSelect:$})):null,l.default.createElement("div",{className:"upcoming_view__calendar__controls__nav"},l.default.createElement(d.default,{onClick:F,disabled:I.getTime()===n.getTime(),"aria-label":_("Previous week")},l.default.createElement(y.PreviousIcon,null)),l.default.createElement("div",{className:"separator"}),l.default.createElement(d.default,{"aria-label":_("Next week"),onClick:z},l.default.createElement(y.NextIcon,null))),l.default.createElement(g.StyledButton,{className:"upcoming_view__calendar__controls__today",variant:"pill",onClick:B},_("Today"))),l.default.createElement(c.default,{mode:"week",date:I,focusedDate:I,renderDay:function(e){return l.default.createElement(u.CSSTransition,{in:e.isSelected,appear:!0,timeout:150,key:e.date.getTime()},l.default.createElement(b.default,(0,i.default)({},e,{itemsByDate:E,isWeekdayShown:!0,isCurrent:(0,m.isOnSameDate)(e.date,n)})))},selectedDate:s,ignoredDays:a,weekStartDay:w,isFirstRowFilled:!0,isHeaderShown:!1,onDayClick:P}))});E.propTypes={collaboratorsByPID:s.default.object,initialDate:s.default.instanceOf(Date).isRequired,ignoredDays:s.default.array.isRequired,highlightedDate:s.default.instanceOf(Date),itemsByDate:s.default.object,uncompletedItems:s.default.array,weekStartDay:s.default.number.isRequired,user:s.default.object.isRequired,onDateSelect:s.default.func.isRequired,onResize:s.default.func.isRequired};var T=E;r.default=T},{"../../../../utils":1094,"../../../Button":466,"../../../buttons":499,"../../../calendar":503,"../../../date_picker":519,"../../../icons":731,"../../../popper":832,"../utils":540,"./Day":535,"./utils":538,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-transition-group":"react-transition-group"}],537:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./WeeklyCalendar")),i=a.default;r.default=i},{"./WeeklyCalendar":536,"@babel/runtime/helpers/interopRequireDefault":189}],538:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMonthName=void 0;var n=function(e){return[_("January"),_("February"),_("March"),_("April"),_("May"),_("June"),_("July"),_("August"),_("September"),_("October"),_("November"),_("December")][e]};r.getMonthName=n},{}],539:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../../../reducers/user"),o=n(e("./UpcomingView")),l=e("../../../reducers/items"),s=function(e){return{collaboratorsByPID:e.collaborators.byPID,ignoredDays:(0,i.getDaysOff)(e),itemsByDate:(0,l.itemGetOwnGroupedByDate)(e),uncompletedItems:(0,l.itemGetUncompleted)(e),user:(0,i.getUser)(e),weekStartDay:(0,i.getWeekStartDay)(e),clock:e.clock}},u=(0,a.connect)(s)(o.default);r.default=u},{"../../../reducers/items":1005,"../../../reducers/user":1042,"./UpcomingView":534,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],540:[function(e,t,r){"use strict";function n(e){var t=e.date,r=e.weekStartDay,n=e.initialDate,a=(t.getDay()-r+7)%7,i=(0,f.default)(t,a);return n.getTime()>i.getTime()?n:i}function a(e){var t=e.weekDate,r=e.weekStartDay,n=p({weekDate:t,weekStartDay:r});return(0,d.default)(t,n+1)}function i(e){var t=e.weekDate,r=e.initialDate,n=(0,f.default)(t,7);return r.getTime()>n.getTime()?r:n}function o(e){var t=e.initialDate,r=e.itemsByDate,n=[];for(var a in r){(0,c.parseDateString)(a)<t&&(n=[].concat((0,u.default)(n),(0,u.default)(r[a])))}return n.length?{date:"overdue",items:n}:null}function l(e){for(var t=e.date,r=e.itemsByDate,n=e.startIndex,a=e.stopIndex,i=[],o=n;o<=a;o++){var l=(0,d.default)(t,o),s=(0,c.toISODateString)(l,{dateOnly:!0}),u=[];for(var f in r)s===f&&(u=r[f]);i.push({date:s,items:u})}return i}var s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getWeekDate=n,r.getNextWeekDate=a,r.getPreviousWeekDate=i,r.getOverdueSection=o,r.getSections=l,r.getNumberOfRowsToFetch=r.getRemainingWeekDays=void 0;var u=s(e("@babel/runtime/helpers/toConsumableArray")),c=e("../../../utils"),d=s(e("date-fns/addDays")),f=s(e("date-fns/subDays")),p=function(e){var t=e.weekDate,r=e.weekStartDay;return 6-(t.getDay()-r+7)%7};r.getRemainingWeekDays=p;var m=function(e){var t=e.windowHeight,r=e.rowHeight,n=e.overscan;return Math.round(t/r)+n};r.getNumberOfRowsToFetch=m},{"../../../utils":1094,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200,"date-fns/addDays":"date-fns/addDays","date-fns/subDays":"date-fns/subDays"}],541:[function(e,t,r){"use strict";function n(){var e=(0,d.useState)(null),t=(0,l.default)(e,2),r=t[0],n=t[1],a=(0,u.useDispatch)(),i=(0,u.useSelector)(function(e){return e.items}),h=(0,d.useRef)(),_=(0,d.useRef)(),v=(0,d.useRef)();if((0,s.default)({itemSelector:"[data-item-id]",handleSelector:".item_dnd_handle",onDragStart:(0,d.useCallback)(function(e,t){h.current=(0,c.default)({item:e,dragItem:t,listIdAttr:"data-day-list-id",itemIdAttr:"data-item-id",maxIndent:1});var r=(0,f.parseId)(e.getAttribute("data-item-id")),a=e.closest("[data-day-list-id]").getAttribute("data-day-list-id"),i=h.current.handleDragStart();n({listId:a,itemId:r,placeholder:i})},[]),onDragging:(0,d.useCallback)(function(e){_.current&&(v.current=(0,f.isMouseOver)(e,_.current,{within:20}),v.current?_.current.classList.add("drop_background"):_.current.classList.remove("drop_background")),h.current.handleDragging()},[]),onDragEnd:(0,d.useCallback)(function(){var e=h.current.handleDragEnd(),t=e.dragItemId,r=e.orders,l=e.dropListId;if(t=(0,f.parseId)(t),v.current){var s=i[t],u=s.due.postpone();return a((0,p.itemUpdateDue)((0,o.default)({},t,u))),void n(null)}if("overdue"===l)return void n(null);var c=(0,f.parseDateString)(l),d=r.reduce(function(e,t){var r=t.id,n=t.item_order;return e[(0,f.parseId)(r)]=n,e},{});a((0,p.itemMoveDueToDate)(t,c)),a((0,p.itemUpdateDayOrder)(d)),n(null)},[a,i])}),r){var b=i[r.itemId],y=b.due.postpone();return[r,d.default.createElement(m.default,{ref:_,key:"postpone",due:y})]}return[null,null]}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("@babel/runtime/helpers/slicedToArray")),s=i(e("../drag_and_drop/useDraggable")),u=e("react-redux"),c=i(e("../drag_and_drop/sortable")),d=a(e("react")),f=e("../../utils"),p=e("../../reducers/items"),m=i(e("./PostponeDropArea"))},{"../../reducers/items":1005,"../../utils":1094,"../drag_and_drop/sortable":547,"../drag_and_drop/useDraggable":548,"./PostponeDropArea":523,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,react:"react","react-redux":"react-redux"}],542:[function(e,t,r){"use strict";function n(e){var t=(0,s.getDocumentTitle)(e);return i.default.useEffect(function(){document.title=l.default.formatSimple(t,{only_text:!0,as_html:!1})},[t]),null}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../../components/formatter/Formatter")),s=e("./helpers");n.propTypes={mainView:o.default.object,filters:o.default.object,items:o.default.object,labels:o.default.object,projects:o.default.object},n.defaultProps={mainView:{},filters:{},items:{},labels:{},projects:{}};var u=n;r.default=u
},{"../../components/formatter/Formatter":22,"./helpers":543,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],543:[function(e,t,r){"use strict";function n(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim()}function a(e){var t=e.detailView,r=e.mainView,a=e.items,s=e.filters,u=e.projects;if(t)return a&&a[t.id]?n(a[t.id].content)+l:o;switch(r.type){case i.MAIN_VIEW_TYPE_TODAY:return _("Today")+l;case i.MAIN_VIEW_TYPE_7_DAYS:return _("Next 7 days")+l;case i.MAIN_VIEW_TYPE_LABEL:return r.id?n(r.id)+l:o;case i.MAIN_VIEW_TYPE_FILTER:return s[r.id]?n(s[r.id].name)+l:o;case i.MAIN_VIEW_TYPE_PROJECT:if(r.ids&&1!==r.ids.length)return o;var c=r.ids[0],d=u[c];return d?n(d.name)+l:o;case i.MAIN_VIEW_TYPE_QUERY:return r.query+l;case i.MAIN_VIEW_TYPE_ACTIVITY_LOG:return _("Activity")+l;default:return o}}Object.defineProperty(r,"__esModule",{value:!0}),r.getDocumentTitle=a;var i=e("../../constants/constants.js"),o="Todoist",l=": Todoist"},{"../../constants/constants.js":94}],544:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../../reducers/filters"),o=n(e("./DocumentTitle")),l=function(e){return{detailView:e.detailView,mainView:e.mainView,filters:(0,i.filterGetSource)(e),items:e.items,labels:e.labels,projects:e.projects}},s=(0,a.connect)(l)(o.default);r.default=s},{"../../reducers/filters":1e3,"./DocumentTitle":542,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],545:[function(e,t,r){"use strict";function n(e){var t,r,n=e.element,a=e.handle,o=e.onDragStart,l=e.onDragging,s=e.onDragEnd,u=e.scrollElements,c=e.startDragging,d=!1,f=function(e){t=n.getAttribute("style"),document.body.appendChild(n),n.style.position="fixed",n.style.zIndex=1e3,n.style.top="".concat(e.clientY,"px"),n.style.left="".concat(e.clientX,"px"),document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),document.documentElement.classList.add("ice_dnd_active"),r=(0,i.default)(u||document.documentElement),o(e)},p=function(e){n.style.top="".concat(e.clientY,"px"),n.style.left="".concat(e.clientX,"px"),l(e)},m=function(e){h(),s(e)};c?f(c):a.addEventListener("mousedown",f);var h=function(){d||(t?n.setAttribute("style",t):n.removeAttribute("style"),r&&r(),document.documentElement.classList.remove("ice_dnd_active"),document.body.removeChild(n),a.removeEventListener("mousedown",f),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m),d=!0)};return h}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("./scrollOnHover"))},{"./scrollOnHover":546,"@babel/runtime/helpers/interopRequireDefault":189}],546:[function(e,t,r){"use strict";function n(e){var t;Array.isArray(e)||(e=[e]);var r=function(r){t&&clearInterval(t);var n,i,o=!0,l=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){if((i=u.value)===document.documentElement){var d=r.pageY-i.scrollTop;d<a&&(n=-6),d>=i.clientHeight-a&&(n=6)}else{var f=i.getBoundingClientRect();if(r.clientX<f.left||r.clientX>f.right||r.clientY<f.top-a||r.clientY>f.bottom+a)continue;n=Math.abs(r.clientY-f.top)<a?-6:Math.abs(r.clientY-f.bottom)<a?6:0}if(void 0!==n)break}}catch(e){l=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw s}}void 0!==n&&(t=setInterval(function(){i.scrollTop+=n},1))};return document.addEventListener("mousemove",r),function(){document.removeEventListener("mousemove",r)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a=70},{}],547:[function(e,t,r){"use strict";function n(){var e,t,r,n,a,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=f.item,m=f.dragItem,h=f.listIdAttr,_=f.itemIdAttr,v=f.maxIndent,b=void 0===v?5:v,y=f.indentWidth,g=void 0===y?28:y,E=f.container,T=void 0===E?document.documentElement:E,w=b>1,R="[".concat(h,"]"),P="".concat(R," [").concat(_,"]"),D=new WeakMap,O=function(){a=u(p),a.forEach(function(e){D.set(e,e.style.display),e.style.display="none"})},C=function(){a.forEach(function(e){e.style.display=D.get(e)})},I=(0,l.memoize)(function(e){return[Array.from(document.querySelectorAll(P)),Array.from(document.querySelectorAll(R))]}),A=function(e){return e.getAttribute(_)};return{handleDragStart:function(){e=LI(),t=(s(m)-1)*g,w&&(e.style.marginLeft=t+"px",r=s(m)),O(),e.className=m.className+" drop_item",e.classList.remove("current"),m.classList.add("on_drag"),e.style.height=m.offsetHeight-2+"px",$addAfter(e,p)},handleDragging:function(){n||(n=$position(m).x-t);var a=I(T.scrollTop),i=(0,o.default)(a,2),l=i[0],u=i[1],f=m.getBoundingClientRect().top,p=f+m.offsetHeight,h=!1,v=!0,y=!1,E=void 0;try{for(var R,P=l[Symbol.iterator]();!(v=(R=P.next()).done);v=!0){var D=R.value;if(D!==m){var O=D.getBoundingClientRect().top,C=O+D.offsetHeight/2,A=O+D.offsetHeight;if(p>C&&p<A){for(;D.nextSibling&&"none"==D.nextSibling.style.display;)D=D.nextSibling;$addAfter(e,D),h=!0;break}if(f<C&&f>O){$addBefore(e,D),h=!0;break}}}}catch(e){y=!0,E=e}finally{try{v||null==P.return||P.return()}finally{if(y)throw E}}if(!h){var S=u.find(function(e){return c(m,e)});if(S&&!S.contains(e)&&0===S.querySelectorAll("[".concat(_,"]")).length)return void $addToTop(S,e)}if(w){var k=r,M=$position(m).x-n,j=g;M<=10?k=1:M>=1*j-10&&M<=1*j+10?k=2:M>=2*j-10&&M<=2*j+10?k=3:M>=3*j-10&&M<=3*j+10?k=4:M>=4*j-10&&M<=4*j+10?k=5:M>=5*j-10&&M<=5*j+10&&(k=6),k>b&&(k=b);for(var N=e.previousSibling;N&&(!s(N)||N==m||d(N));)N=N.previousSibling;if(N?k>s(N)&&(k=Math.min(s(N)+1,b)):k=1,e.nextSibling){var x=s(e.nextSibling);k<x&&(k=x)}e.style.marginLeft=(k-1)*g+"px",r=k}},handleDragEnd:function(){var t,n=m.getAttribute(_),o={};if(w){var l=s(m),u=r;if(o[n]=u,l!==u){var c=u-l;a.forEach(function(e){var t=A(e),r=Math.min(s(e)+c,b);o[t]=r})}}var d=e.closest(R),f=new Set([p,m].concat((0,i.default)(a))),v=Array.from(d.querySelectorAll("[".concat(_,"], .drop_item")));v=v.filter(function(e){return!f.has(e)});var y=v.findIndex(function(t){return t===e});(t=v).splice.apply(t,[y,1,m].concat((0,i.default)(a)));var g=v.map(function(e,t){var r=e.getAttribute(_);return{id:r,indent:w?o[r]||s(e):null,item_order:t+1}});return m.style.width="",m.classList.remove("on_drag"),$remove(e),C(),{dragItemId:n,orders:g,dropListId:d.getAttribute(h)}}}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/toConsumableArray")),o=a(e("@babel/runtime/helpers/slicedToArray")),l=e("../../utils"),s=function(e){switch(e.getAttribute("data-item-indent")){case"1":return 1;case"2":return 2;case"3":return 3;case"4":return 4;case"5":return 5}},u=function(e){for(var t=s(e),r=[],n=e.nextSibling;n&&s(n)>t;)r.push(n),n=n.nextSibling;return r},c=function(e,t){return e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)},d=function(e){return"none"===e.style.display}},{"../../utils":1094,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200}],548:[function(e,t,r){"use strict";function n(e){var t=e.itemSelector,r=e.handleSelector,n=e.scrollSelector,a=e.onDragStart,s=e.onDragging,u=e.onDragEnd,c=(0,i.useRef)();c.current={onDragStart:a,onDragging:s,onDragEnd:u};var d=(0,i.useRef)();(0,i.useEffect)(function(){var e,a=function(a){var i=a.target.closest(r);if(i){var s=a.target.closest(t);if(s){if(n)var u=Array.isArray(n)?n.map(function(e){return document.querySelector(e)}).filter(function(e){return null!=e}):document.querySelector(u);var f=s.cloneNode(!0);f.style.height=s.offsetHeight+"px",f.style.width=s.offsetWidth+"px",s.style.display="none",e=(0,o.default)({element:f,handle:i,startDragging:a,scrollElements:void 0,onDragStart:function(e){l.default.lock({timeout:12e4}),c.current.onDragStart&&c.current.onDragStart(s,f,e),d.current=!0},onDragging:function(e){c.current.onDragging&&c.current.onDragging(e)},onDragEnd:function(e){l.default.unlock(),s.style.display=null,c.current.onDragEnd&&c.current.onDragEnd(e)}})}}};return document.addEventListener("mousedown",a),function(){!d.current&&e&&e(),document.removeEventListener("mousedown",a)}},[t,r,n,a,s,u])}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=e("react"),o=a(e("./draggable")),l=a(e("../../models/SyncEngine"))},{"../../models/SyncEngine":171,"./draggable":545,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],549:[function(e,t,r){"use strict";function n(e){var t=e.listIdAttr,r=e.itemIdAttr,n=e.handleSelector,a=e.scrollSelector,s=e.onSort,u=(0,i.useRef)();(0,l.default)({itemSelector:"[".concat(t,"] [").concat(r,"]"),handleSelector:n,scrollSelector:a,onDragStart:(0,i.useCallback)(function(e,n){u.current=(0,o.default)({item:e,dragItem:n,listIdAttr:t,itemIdAttr:r,maxIndent:5}),u.current.handleDragStart()},[t,r]),onDragging:(0,i.useCallback)(function(){u.current.handleDragging()},[]),onDragEnd:(0,i.useCallback)(function(){var e=u.current.handleDragEnd();s(e)},[s])})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=e("react"),o=a(e("./sortable")),l=a(e("./useDraggable"))},{"./sortable":547,"./useDraggable":548,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],550:[function(e,t,r){"use strict";function n(e){var t=e.children,r=(0,s.default)(e,["children"]),n=u.default.useContext(f.Context),a=n.id,i=n.highlightedOptionValue,o=n.multiple,c=n.dispatch,d=n.listBoxRef,m=n.listBoxId,h=n.searchText;u.default.useLayoutEffect(function(){if(d.current&&null==i){var e=(0,p.getEnabledOptionValues)(d.current);e.length>0&&c({type:f.ACTION.HIGHLIGHTED_OPTION_CHANGED,optionValue:e[0]})}},[h,d,i,c]);var _=(0,p.getOptionElementId)(a,i);return u.default.createElement("ul",(0,l.default)({},r,{role:"listbox","aria-multiselectable":o,id:m,ref:d,"aria-activedescendant":_}),"function"==typeof t?t(n):t)}function a(e){function t(e){e.stopPropagation(),g({type:f.ACTION.SELECT_OPTION,optionValue:n}),v.onClick&&v.onClick(e)}function r(){g({type:f.ACTION.HIGHLIGHTED_OPTION_CHANGED,optionValue:n,updateScroll:!1})}var n=e.value,a=e.label,i=void 0===a?n:a,o=e.children,c=void 0===o?i:o,m=e.disabled,h=void 0!==m&&m,_=e.className,v=(0,s.default)(e,["value","label","children","disabled","className"]),b=u.default.useContext(f.Context),y=b.id,g=b.dispatch,E=b.highlightedOptionValue,T=b.optionState,w=n===E,R=T[n]===f.OPTION_STATE.SELECTED,P=T[n]===f.OPTION_STATE.PARTIALLY_SELECTED,D=R?"true":P?"mixed":"false";return u.default.createElement("li",(0,l.default)({},v,{className:(0,d.default)(_,{"dropdown_select__option--highlighted":w}),id:(0,p.getOptionElementId)(y,n),role:"option","data-value":n,"aria-label":i,"aria-disabled":h,"aria-selected":R,"aria-checked":D,onClick:h?void 0:t,onMouseMove:w||h?void 0:r}),"function"==typeof c?c({isHighlighted:w,isSelected:R,isPartiallySelected:P,checkedStatus:D}):c)}function i(e){var t=e.children,r=(0,s.default)(e,["children"]),n=(0,d.default)(r.className,{dropdown_select_option_header:null!=t});return u.default.createElement("li",(0,l.default)({},r,{role:"separator",className:n}),null!=t?t:u.default.createElement("hr",null))}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Options=n,r.Option=a,r.OptionSeparator=i;var l=o(e("@babel/runtime/helpers/extends")),s=o(e("@babel/runtime/helpers/objectWithoutProperties")),u=o(e("react")),c=o(e("prop-types")),d=o(e("classnames")),f=e("./state"),p=e("./helpers");n.propTypes={children:c.default.oneOfType([c.default.node,c.default.func]).isRequired},(0,p.setDisplayName)(n),a.propTypes={value:c.default.string.isRequired,label:c.default.string,children:c.default.oneOfType([c.default.node,c.default.func]),disabled:c.default.bool,className:c.default.string},(0,p.setDisplayName)(a),i.propTypes={children:c.default.node.isRequired,className:c.default.string},(0,p.setDisplayName)(i)},{"./helpers":555,"./state":557,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,classnames:"classnames","prop-types":"prop-types",react:"react"}],551:[function(e,t,r){"use strict";function n(e){function t(e){var t=D.current,r=(0,d.getEnabledOptionValues)(t),n=r.findIndex(function(e){return e===w});switch(e.key){case"ArrowDown":e.preventDefault(),e.stopPropagation();var a=(n+1)%r.length;return void E({type:c.ACTION.HIGHLIGHTED_OPTION_CHANGED,optionValue:r[a],updateScroll:!0});case"ArrowUp":e.preventDefault(),e.stopPropagation();var i=n>0?n-1:r.length-1;return void E({type:c.ACTION.HIGHLIGHTED_OPTION_CHANGED,optionValue:r[i],updateScroll:!0});case"Enter":return e.preventDefault(),e.stopPropagation(),void(n>=0&&E({type:c.ACTION.SELECT_OPTION,optionValue:r[n]}));case"Escape":return e.stopPropagation(),void E({type:c.ACTION.CLOSE_DROPDOWN})}}var r=e.children,n=e.className,a=e.width,i=void 0===a?f:a,l=e.nose,p=void 0===l||l,m=e.align,h=void 0===m?"bottom":m,_=e.position,v=void 0===_?"bottom":_,b=e.onToggle,y=void 0===b?function(){}:b,g=o.default.useContext(c.Context),E=g.dispatch,T=g.isDropdownOpen,w=g.highlightedOptionValue,R=g.popupId,P=g.popupRef,D=g.listBoxRef,O=g.toggleButtonRef;if((0,o.useEffect)(function(){y(T)},[T,y]),!T)return null;var C="toggle"===i&&O.current?O.current.offsetWidth:i;return o.default.createElement(u.default,{width:C||f,anchor:O.current,onHide:function(){return E({type:c.ACTION.CLOSE_DROPDOWN})},nose:p,align:h,position:v},o.default.createElement("div",{id:R,ref:P,tabIndex:-1,onKeyDown:t,className:(0,s.default)("dropdown_select--popup",n)},r))}var a=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.Popup=n;var o=i(e("react")),l=a(e("prop-types")),s=a(e("classnames")),u=a(e("../Dialog")),c=e("./state"),d=e("./helpers"),f=275;n.propTypes={children:l.default.node,className:l.default.string,width:l.default.oneOfType([l.default.number,l.default.oneOf(["toggle"])]),nose:l.default.bool,align:l.default.oneOf(["top","bottom"]),position:l.default.oneOf(["center","top","bottom","right"]),onToggle:l.default.func},(0,d.setDisplayName)(n)},{"../Dialog":467,"./helpers":555,"./state":557,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,classnames:"classnames","prop-types":"prop-types",react:"react"}],552:[function(e,t,r){"use strict";function n(e){function t(e){f({type:u.ACTION.SEARCH_TEXT_CHANGED,searchText:e.target.value})}var r=e.label,n=(0,o.default)(e,["label"]),a=l.default.useContext(u.Context),s=a.id,d=a.searchText,f=a.dispatch,p=a.highlightedOptionValue,m=a.searchInputFieldRef,h=a.listBoxId,_="".concat(s,"-search"),v=(0,c.getOptionElementId)(s,p);return l.default.createElement("div",{className:"dropdown_select_input"},null!=r?l.default.createElement("label",{htmlFor:_},r):null,l.default.createElement("input",(0,i.default)({},n,{id:_,ref:m,type:"text",value:d,onChange:t,autoComplete:"off",spellCheck:"false",role:"combobox","aria-owns":h,"aria-activedescendant":v,"aria-autocomplete":"list","aria-controls":h})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Search=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types")),u=e("./state"),c=e("./helpers");n.propTypes={label:s.default.string},(0,c.setDisplayName)(n)},{"./helpers":555,"./state":557,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],553:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.children,r=e.onClose,n=void 0===r?function(){}:r,i=e.multiple,l=void 0!==i&&i,s=e.disabled,f=void 0!==s&&s,b=(0,c.default)(e,["children","onClose","multiple","disabled"]),y=d.default.useMemo(function(){return o(b.value,l)},[b.value,l]),g=d.default.useMemo(function(){return l&&null!=b.partiallySelectedValues?b.partiallySelectedValues.filter(function(e){return!y.includes(e)}):v},[l,y,b.partiallySelectedValues]),E=d.default.useCallback((0,h.createReducer)({multiple:l,partiallySelectedValues:g}),[g]),T=d.default.useReducer(E,(0,h.getInitialState)({selectedValues:y,partiallySelectedValues:g,multiple:l})),w=(0,u.default)(T,2),R=w[0],P=w[1],D=R.isDropdownOpen,O=R.highlightedOptionValue;(0,m.useUpdateEffect)(function(){P({type:h.ACTION.SET_SELECTED_VALUES,selectedValues:y,partiallySelectedValues:g})},[y,g]);var C=d.default.useMemo(function(){return b.id||(0,p.generateElementId)("dropdown-select")},[b.id]),I=d.default.useRef(),A=d.default.useRef(),S=d.default.useRef(),k=d.default.useRef(),M=d.default.useRef(!0);d.default.useEffect(function(){var e=A.current,t=M.current;if(null!=O&&e&&t&&D){var r=e.querySelector('[data-value="'.concat(O,'"]'));null!=r&&(0,_.scrollList)(r,e),M.current=!1}},[O,D]),(0,m.useUpdateEffect)(function(){var e=D?k.current||I.current:S.current;e&&e.focus()},[D]),d.default.useEffect(function(){!D&&n&&n()},[D,n]);var j=b.name,N=b.onChange,x=d.default.useCallback(function(e){if(e.type===h.ACTION.HIGHLIGHTED_OPTION_CHANGED&&(M.current=Boolean(e.updateScroll)),e.type===h.ACTION.CLOSE_DROPDOWN&&l){var t=(0,h.getSelectionResults)(R.optionState),r=t.value,n=t.partiallySelectedValues;N({target:{name:j,value:r,partiallySelectedValues:n}})}e.type===h.ACTION.SELECT_OPTION&&(l||N({target:{name:j,value:e.optionValue}})),P(e)},[j,N,l,R.optionState]),L=d.default.useMemo(function(){return a({},b,{},R,{id:C,multiple:l,disabled:f,popupId:"".concat(C,"-popup"),listBoxId:"".concat(C,"-listbox"),popupRef:I,listBoxRef:A,toggleButtonRef:S,searchInputFieldRef:k,partiallySelectedValues:g,dispatch:x})},[b,R,C,l,x,g,f]);return d.default.createElement(h.Context.Provider,{value:L},t)}function o(e,t){var r=Array.isArray(e)?e:[e];return t||(r=[r[0]]),r.filter(function(e){return null!=e})}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Select=i;var s=l(e("@babel/runtime/helpers/defineProperty")),u=l(e("@babel/runtime/helpers/slicedToArray")),c=l(e("@babel/runtime/helpers/objectWithoutProperties")),d=l(e("react")),f=l(e("prop-types")),p=e("../../utils"),m=e("../hooks"),h=e("./state"),_=e("./helpers"),v=[];i.propTypes={id:f.default.string,children:f.default.node,multiple:f.default.bool,name:f.default.string,value:f.default.oneOfType([f.default.string,f.default.arrayOf(f.default.string.isRequired)]).isRequired,partiallySelectedValues:f.default.arrayOf(f.default.string),onChange:f.default.func.isRequired,onClose:f.default.func,disabled:f.default.bool},(0,_.setDisplayName)(i)},{"../../utils":1094,"../hooks":628,"./helpers":555,"./state":557,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],554:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){function t(){l({type:c?f.ACTION.CLOSE_DROPDOWN:f.ACTION.OPEN_DROPDOWN})}var r=e.children,n=e.tooltip,i=(0,s.default)(e,["children","tooltip"]),o=u.default.useContext(f.Context),l=o.dispatch,c=o.isDropdownOpen,p=o.toggleButtonRef,m=o.disabled,h=o.popupId,_=a({},i,{disabled:m,title:n,ref:p,"aria-owns":h,"aria-controls":h,"aria-expanded":c,"aria-haspopup":"listbox",onKeyDown:function(e){"ArrowDown"!==e.key||c||t(),i.onKeyDown&&i.onKeyDown(e)},onClick:function(e){t(),i.onClick&&i.onClick(e)}});return"function"==typeof r?r({isDropdownOpen:c,toggleDropdown:t,buttonProps:_}):u.default.createElement(d.default,_,r)}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Toggle=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("@babel/runtime/helpers/objectWithoutProperties")),u=o(e("react")),c=o(e("prop-types")),d=o(e("../Button")),f=e("./state"),p=e("./helpers");i.propTypes={children:c.default.oneOfType([c.default.node,c.default.func]).isRequired,tooltip:c.default.node,onClick:c.default.func},(0,p.setDisplayName)(i)},{"../Button":466,"./helpers":555,"./state":557,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],555:[function(e,t,r){"use strict";function n(e){var t=e.displayName||e.name;e.displayName="Dropdown.".concat(t)}function a(e){return!e.hasAttribute("aria-disabled")||"false"===e.getAttribute("aria-disabled")}function i(e){return e?Array.from(e.querySelectorAll('[role="option"]')).filter(a).map(function(e){return e.getAttribute("data-value")}):[]}function o(e,t){if(t){var r=String(t).toLowerCase().replace(/[\W_]+/g,"-");return"".concat(e,"-option-").concat(r)}}function l(e,t){var r=window.getComputedStyle(t,null),n=r.getPropertyValue("padding-top"),a=r.getPropertyValue("padding-bottom"),i=parseInt(n,10)+parseInt(a,10),o=t.offsetHeight-i,l=e.offsetTop;if(!o||!l)return!1;var s=t.querySelector("li:first-of-type").offsetHeight;t.scrollTop=l-(o-s)}Object.defineProperty(r,"__esModule",{value:!0}),r.setDisplayName=n,r.getEnabledOptionValues=i,r.getOptionElementId=o,r.scrollList=l},{}],556:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Context",{enumerable:!0,get:function(){return n.Context}}),Object.defineProperty(r,"ACTION",{enumerable:!0,get:function(){return n.ACTION}}),Object.defineProperty(r,"Select",{enumerable:!0,get:function(){return a.Select}}),Object.defineProperty(r,"Toggle",{enumerable:!0,get:function(){return i.Toggle}}),Object.defineProperty(r,"Popup",{enumerable:!0,get:function(){return o.Popup}}),Object.defineProperty(r,"Search",{enumerable:!0,get:function(){return l.Search}}),Object.defineProperty(r,"Options",{enumerable:!0,get:function(){return s.Options}}),Object.defineProperty(r,"Option",{enumerable:!0,get:function(){return s.Option}}),Object.defineProperty(r,"OptionSeparator",{enumerable:!0,get:function(){return s.OptionSeparator}});var n=e("./state"),a=e("./Select"),i=e("./Toggle"),o=e("./Popup"),l=e("./Search"),s=e("./Options")},{"./Options":550,"./Popup":551,"./Search":552,"./Select":553,"./Toggle":554,"./state":557}],557:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.selectedValues,r=e.partiallySelectedValues,n=void 0===r?[]:r,a=function(e){return function(t,r){return Object.assign(t,(0,d.default)({},r,e))}};return t.reduce(a(p.SELECTED),n.reduce(a(p.PARTIALLY_SELECTED),{}))}function o(e){var t=Object.keys(e),r=t.filter(function(t){return e[t]===p.SELECTED}),n=t.filter(function(t){return e[t]===p.PARTIALLY_SELECTED});return{value:r,partiallySelectedValues:0===n.length?void 0:n}}function l(e){var t=e.selectedValues,r=e.partiallySelectedValues,n=e.multiple;return a({},m,{highlightedOptionValue:n?void 0:t[0],optionState:i({selectedValues:t,partiallySelectedValues:r})})}function s(e,t,r){switch(t){case p.PARTIALLY_SELECTED:return p.SELECTED;case p.SELECTED:return;default:return r.includes(e)?p.PARTIALLY_SELECTED:p.SELECTED}}function u(e){var t=e.multiple,r=e.partiallySelectedValues;return function(e,n){switch(n.type){case h.SET_SELECTED_VALUES:return a({},e,{optionState:i(n)});case h.HIGHLIGHTED_OPTION_CHANGED:return a({},e,{highlightedOptionValue:n.optionValue});case h.SEARCH_TEXT_CHANGED:return a({},e,{searchText:n.searchText,highlightedOptionValue:void 0});case h.OPEN_DROPDOWN:case h.CLOSE_DROPDOWN:return a({},e,{isDropdownOpen:n.type===h.OPEN_DROPDOWN,searchText:""});case h.SELECT_OPTION:var o=n.optionValue,l=e.optionState[o];return t?a({},e,{optionState:a({},e.optionState,(0,d.default)({},o,s(o,l,r)))}):a({},e,{isDropdownOpen:!1,optionState:(0,d.default)({},o,p.SELECTED),searchText:""});default:return e}}}var c=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getSelectionResults=o,r.getInitialState=l,r.createReducer=u,r.Context=r.ACTION=r.initialState=r.OPTION_STATE=void 0;var d=c(e("@babel/runtime/helpers/defineProperty")),f=c(e("react")),p={SELECTED:"SELECTED",PARTIALLY_SELECTED:"PARTIALLY_SELECTED"};r.OPTION_STATE=p;var m={isDropdownOpen:!1,searchText:"",highlightedOptionValue:void 0,optionState:{}};r.initialState=m;var h={SEARCH_TEXT_CHANGED:"SEARCH_TEXT_CHANGED",HIGHLIGHTED_OPTION_CHANGED:"HIGHLIGHTED_OPTION_CHANGED",OPEN_DROPDOWN:"OPEN_DROPDOWN",CLOSE_DROPDOWN:"CLOSE_DROPDOWN",SET_SELECTED_VALUES:"SET_SELECTED_VALUES",SELECT_OPTION:"SELECT_OPTION"};r.ACTION=h;var _={multiple:!1,id:"",name:"",value:void 0,onChange:function(){}},v=f.default.createContext(a({},_,{},m,{popupId:"",listBoxId:"",popupRef:{current:null},listBoxRef:{current:null},toggleButtonRef:{current:null},searchInputFieldRef:{current:null},dispatch:function(){}}));r.Context=v},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],558:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){function t(e){(13===e.keyCode||32===e.keyCode||40===e.keyCode)&&!w&&(R(!0),e.preventDefault())}var r=e.children,n=e.onSelect,i=e.isMultiSelect,o=e.closeAfterSelection,s=e.nose,u=e.onClose,d=e.closeTriggersDisabled,h=(0,p.default)(e,["children","onSelect","isMultiSelect","closeAfterSelection","nose","onClose","closeTriggersDisabled"]),E=(0,m.useState)(!1),T=(0,f.default)(E,2),w=T[0],R=T[1],P=(0,m.useRef)(null),D=(0,m.useRef)(!1),O=(0,m.useMemo)(function(){return(0,_.generateElementId)("dropdown-select")},[]),C="".concat(O,"-popup"),I={id:O,"aria-owns":C,"aria-controls":C,"aria-expanded":w,"aria-haspopup":"listbox",onKeyDown:t,ref:P},A=function(){D.current&&(P.current&&P.current.focus(),R(!1),u())};(0,m.useEffect)(function(){return D.current=!0,function(){D.current=!1}},[]);var S=function(){w?A():R(!0)};return m.default.createElement(v.default,{placement:"bottom",hasArrow:s,isShown:w,onClose:d?void 0:A,modifiers:g,referenceElement:function(e){var t=e.ref;return r({toggle:S,buttonProps:a({},I,{ref:l(t,P)})})}},i?m.default.createElement(b.default,(0,c.default)({id:C,onClose:d?null:A,onSelect:function(e,t){n(e,t),A()}},h)):m.default.createElement(y.default,(0,c.default)({id:C,onClose:d?null:A,onSelect:function(e,t){o?(n(e,t),A()):n(e,a({},t,{closeDropdown:A}))},keyListenersDisabled:d},h)))}function o(e,t){t&&("function"==typeof t?t(e):t.current=e)}function l(e,t){return function(r){o(r,e),o(r,t)}}var s=e("@babel/runtime/helpers/interopRequireWildcard"),u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var c=u(e("@babel/runtime/helpers/extends")),d=u(e("@babel/runtime/helpers/defineProperty")),f=u(e("@babel/runtime/helpers/slicedToArray")),p=u(e("@babel/runtime/helpers/objectWithoutProperties")),m=s(e("react")),h=u(e("prop-types")),_=e("../../utils"),v=u(e("../popper/Popper")),b=u(e("./MultiSelect")),y=u(e("./Select"));i.propTypes={children:h.default.func.isRequired,width:h.default.number,isMultiSelect:h.default.bool,closeAfterSelection:h.default.bool,onSelect:h.default.func.isRequired,closeTriggersDisabled:h.default.bool,nose:h.default.bool,onClose:h.default.func},i.defaultProps={closeTriggersDisabled:!1,nose:!0,closeAfterSelection:!0,onClose:function(){}};var g={preventOverflow:{boundariesElement:"viewport",padding:20}}},{"../../utils":1094,"../popper/Popper":831,"./MultiSelect":559,"./Select":560,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],559:[function(e,t,r){"use strict";function n(e){var t=e.className,r=e.items,n=e.onSelect,a=e.onClose,i=e.filterItems,u=e.renderEmptyResult,v=e.inputPlaceholder,b=e.renderItem,y=e.selectedItemsIds,g=void 0===y?[]:y,E=e.label,T=e.id,w=(0,s.useState)(g),R=(0,l.default)(w,2),P=R[0],D=R[1],O=(0,s.useState)(""),C=(0,l.default)(O,2),I=C[0],A=C[1],S=(0,s.useRef)(I),k=(0,s.useRef)(r),M=(0,s.useState)((0,m.getSortedItems)(i({items:r,value:I}),P)),j=(0,l.default)(M,2),N=j[0],x=j[1],L=(0,p.useListHighlightScroll)();(0,s.useEffect)(function(){I===S.current&&r===k.current||x((0,m.getSortedItems)(i({items:r,value:I}),P)),S.current=I,k.current=r},[i,r,I,P]);var q=(0,d.isEqual)(P,g),U=(0,c.default)("dropdown_select_done",{"dropdown_select_done--disabled":q});return s.default.createElement("div",{id:T,tabIndex:-1,onKeyDown:function(e){(0,m.handleKeyDown)(e,N,L.index,{onClose:a,onEnter:function(e){var t=P.indexOf(e.id),r=t>-1,n=r?P.filter(function(e,r){return r!==t}):[].concat((0,o.default)(P),[e.id]);D(n)},onItemHighlight:L.setIndex})},className:"dropdown_select--popup ".concat(t)},s.default.createElement(h.default,{label:E,items:N,highlightedList:L,inputPlaceholder:v,renderEmptyResult:u,renderItem:b,searchValue:I,selectedItemsIds:P,onItemSelect:function(e){var t=P.indexOf(e.id),r=t>-1?P.filter(function(e,r){return r!==t}):[].concat((0,o.default)(P),[e.id]);D(r)},onSearchValueChange:function(e){A(e.target.value),L.setIndex(-1)}}),s.default.createElement("div",{className:"dropdown_select_actions"},s.default.createElement(f.default,{onClick:a},_("Cancel")),s.default.createElement(f.default,{className:U,disabled:q,onClick:function(e){q||n(P,{event:e})}},_("Done"))))}
var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/toConsumableArray")),l=i(e("@babel/runtime/helpers/slicedToArray")),s=a(e("react")),u=i(e("prop-types")),c=i(e("classnames")),d=e("../../utils"),f=i(e("../Button")),p=e("./hooks"),m=e("./helpers"),h=i(e("./SelectBody"));n.propTypes={className:u.default.string,items:u.default.oneOfType([u.default.arrayOf(u.default.shape({id:u.default.oneOfType([u.default.string,u.default.number]).isRequired})),u.default.objectOf(u.default.shape({id:u.default.oneOfType([u.default.string,u.default.number]).isRequired}))]).isRequired,selectedItemsIds:u.default.arrayOf(u.default.oneOfType([u.default.string,u.default.number])),onSelect:u.default.func.isRequired,onClose:u.default.func,filterItems:u.default.func.isRequired,renderItem:u.default.func.isRequired,renderEmptyResult:u.default.func,label:u.default.node,inputPlaceholder:u.default.string,id:u.default.string}},{"../../utils":1094,"../Button":466,"./SelectBody":561,"./helpers":562,"./hooks":563,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,classnames:"classnames","prop-types":"prop-types",react:"react"}],560:[function(e,t,r){"use strict";function n(e){var t=e.className,r=e.items,n=e.onSelect,a=e.onClose,i=e.filterItems,s=e.inputPlaceholder,f=e.renderEmptyResult,p=e.renderItem,m=e.selectedItemId,h=e.label,_=e.keyListenersDisabled,v=void 0!==_&&_,b=e.id,y=(0,l.useState)(""),g=(0,o.default)(y,2),E=g[0],T=g[1],w=i({items:r,value:E}),R=r.findIndex(function(e){return e.id===m}),P=(0,u.useListHighlightScroll)(R),D=function(e){(0,c.handleKeyDown)(e,w,P.index,{onClose:a,onEnter:n,onItemHighlight:P.setIndex})};return l.default.createElement("div",{id:b,tabIndex:-1,onKeyDown:v?null:D,className:"dropdown_select--popup ".concat(t)},l.default.createElement(d.default,{label:h,items:w,highlightedList:P,inputPlaceholder:s,renderEmptyResult:f,renderItem:p,searchValue:E,selectedItemsIds:[m],onItemSelect:n,onSearchValueChange:function(e){T(e.target.value),P.setIndex(-1)},keyListenersDisabled:v}))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=e("./hooks"),c=e("./helpers"),d=i(e("./SelectBody"));n.propTypes={className:s.default.string,items:s.default.oneOfType([s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]).isRequired})),s.default.objectOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]).isRequired}))]).isRequired,selectedItemId:s.default.oneOfType([s.default.string,s.default.number]),onSelect:s.default.func.isRequired,onClose:s.default.func,filterItems:s.default.func.isRequired,renderItem:s.default.func.isRequired,renderEmptyResult:s.default.func,label:s.default.node,inputPlaceholder:s.default.string,id:s.default.string,keyListenersDisabled:s.default.bool}},{"./SelectBody":561,"./helpers":562,"./hooks":563,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],561:[function(e,t,r){"use strict";function n(e){var t=e.label,r=e.items,n=e.highlightedList,a=e.inputPlaceholder,i=e.renderEmptyResult,l=e.renderItem,c=e.searchValue,d=e.selectedItemsIds,f=void 0===d?[]:d,p=e.onItemSelect,m=e.onSearchValueChange,h=e.keyListenersDisabled,_=(0,o.useMemo)(function(){return(0,s.generateElementId)("select")},[]),v="".concat(_,"-listbox"),b="".concat(_,"-label"),y="".concat(_,"-search"),g=function(e){return e?"".concat(_,"-option-").concat(e.id):void 0},E=(0,u.getItemAt)(r,n.index),T=g(E),w=(0,o.useRef)();(0,o.useEffect)(function(){w.current&&!h&&w.current.focus()},[h]);var R=r.map(function(e,r){var a=g(e)===T,i=f.indexOf(e.id)>-1,s=function(t){return p(e,{isSelected:i,event:t})};return o.default.createElement(o.default.Fragment,{key:r},o.default.createElement("li",{onClick:s,role:"option","aria-label":null!=t?"".concat(t,": ").concat(e.id):null,"aria-selected":a,onMouseMove:a?void 0:function(){n.setIndex(r,!1)},onMouseLeave:function(){n.setIndex(-1)}},l({item:e,searchValue:c,isHighlighted:a,isSelected:i,onSelect:s})),e.followedBySeparator?o.default.createElement("li",{role:"separator",className:"dropdown_select_separator"},o.default.createElement("hr",null)):null)});return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"dropdown_select_input"},null!=t?o.default.createElement("label",{id:b,htmlFor:y},t):null,o.default.createElement("input",{id:y,ref:w,type:"text",value:c,onChange:m,autoComplete:"off",spellCheck:"false","aria-activedescendant":T,"aria-autocomplete":"list","aria-controls":v,placeholder:a})),0===r.length&&i?i({searchValue:c}):o.default.createElement("ul",{id:v,role:"listbox",ref:n.container,"aria-activedescendant":T},R))}var a=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=a(e("prop-types")),s=e("../../utils"),u=e("./helpers");n.propTypes={items:l.default.arrayOf(l.default.shape({id:l.default.oneOfType([l.default.string,l.default.number]),followedBySeparator:l.default.bool})).isRequired,selectedItemsIds:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.number])),renderItem:l.default.func.isRequired,renderEmptyResult:l.default.func,label:l.default.node,inputPlaceholder:l.default.string,highlightedList:l.default.object.isRequired,searchValue:l.default.string,onItemSelect:l.default.func.isRequired,onSearchValueChange:l.default.func.isRequired,keyListenersDisabled:l.default.bool};var c=n;r.default=c},{"../../utils":1094,"./helpers":562,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],562:[function(e,t,r){"use strict";function n(e,t){return t>=0&&t<e.length?e[t]:void 0}function a(e,t){return(0,l.compose)(function(e){return(e[!0]||[]).concat(e[!1]||[])},(0,l.groupBy)(function(e){return t.indexOf(e.id)>-1}))(e)}function i(e,t){var r=window.getComputedStyle(t,null),n=r.getPropertyValue("padding-top"),a=r.getPropertyValue("padding-bottom"),i=parseInt(n,10)+parseInt(a,10),o=t.offsetHeight-i,l=e.offsetTop;if(!o||!l)return!1;var s=t.querySelector("li:first-of-type").offsetHeight;t.scrollTop=l-(o-s)}function o(e,t,r,a){var i=a.onEnter,o=a.onClose,l=a.onItemHighlight;switch((0,s.resolveKeyboardKey)(e.key)){case"ArrowDown":e.preventDefault(),l((r+1)%t.length,!0);break;case"ArrowUp":e.preventDefault(),l(r>0?r-1:t.length-1,!0);break;case"Enter":e.preventDefault();var u=n(t,r);u&&i(u);break;case"Escape":o&&(e.preventDefault(),e.stopPropagation(),o());break;case"Tab":e.preventDefault()}}Object.defineProperty(r,"__esModule",{value:!0}),r.getItemAt=n,r.getSortedItems=a,r.scrollList=i,r.handleKeyDown=o;var l=e("../../utils/fp"),s=e("../../utils")},{"../../utils":1094,"../../utils/fp":1083}],563:[function(e,t,r){"use strict";function n(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(e),c.current=t}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=(0,o.useState)(t),n=(0,i.default)(r,2),a=n[0],s=n[1],u=(0,o.useRef)(),c=(0,o.useRef)(!1);return(0,o.useEffect)(function(){if(c.current){var e=u.current;if(e){var t=e.querySelector('[aria-selected="true"]');t&&(0,l.scrollList)(t,e)}}},[a]),{index:a,setIndex:e,container:u}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.useListHighlightScroll=n;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=e("react"),l=e("./helpers")},{"./helpers":562,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react"}],564:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./DropdownSelect")),i=a.default;r.default=i},{"./DropdownSelect":558,"@babel/runtime/helpers/interopRequireDefault":189}],565:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(){return d.default.createElement("a",{href:"https://get.todoist.help/hc/articles/360000031059-How-to-best-use-filters",rel:"noopener noreferrer",target:"_blank"},d.default.createElement(p.default,{text:_("Click to find out about filters and how to use them."),position:"bottom"},d.default.createElement(y.HelpIcon,null)))}function o(e){function t(e){if(e.preventDefault(),S){var t={name:R.value,query:P.value,color:D.value,is_favorite:I};y?u(t):f(a({id:l.id},t)),p()}}var r=e.isOpen,n=void 0===r||r,o=e.filter,l=void 0===o?{}:o,u=e.onCreate,f=e.onUpdate,p=e.onClose,y=void 0===l.id,R=(0,g.useField)("name",l.name||""),P=(0,g.useField)("query",l.query||""),D=(0,g.useField)("color",l.color||m.DEFAULT_COLOR,Number),O=d.default.useState(l.is_favorite||!1),C=(0,c.default)(O,2),I=C[0],A=C[1],S=R.value.trim().length>0&&P.value.trim().length>0&&null!=D.value;return d.default.createElement(h.default.Box,{isOpen:n,onDismiss:p,size:"small"},d.default.createElement("form",{onSubmit:t},d.default.createElement(h.default.Header,{title:y?_("Add filter"):_("Edit filter"),button:d.default.createElement(i,null)}),d.default.createElement(h.default.Body,{className:"form_fields"},d.default.createElement("div",{className:"form_field"},d.default.createElement("label",{htmlFor:"edit_filter_modal_field_name"},_("Filter name")),d.default.createElement(g.CharacterLengthHint,{id:"edit_filter_modal_field_name_hint",length:R.value.length,maxLength:T}),d.default.createElement("input",(0,s.default)({id:"edit_filter_modal_field_name","aria-describedby":"edit_filter_modal_field_name_hint",className:"form_field_control",autoFocus:!0,maxLength:T},R))),d.default.createElement("div",{className:"form_field"},d.default.createElement("label",{htmlFor:"edit_filter_modal_field_query"},_("Filter query")),d.default.createElement(g.CharacterLengthHint,{id:"edit_filter_modal_field_query_hint",length:P.value.length,maxLength:w}),d.default.createElement("input",(0,s.default)({id:"edit_filter_modal_field_query","aria-describedby":"edit_filter_modal_field_query_hint",className:"form_field_control"},P))),d.default.createElement("div",{className:"form_field"},d.default.createElement("label",{htmlFor:"edit_filter_modal_field_color"},_("Filter color")),d.default.createElement(b.default,(0,s.default)({id:"edit_filter_modal_field_color",className:"form_field_control"},D))),d.default.createElement("div",{className:"form_field form_field_inline"},d.default.createElement("label",null,d.default.createElement(E.default,{name:"is_favorite",checked:I,onChange:function(e){return A(e.target.checked)}}),_("Add to favorites")))),d.default.createElement(h.default.Actions,null,d.default.createElement(v.default,{className:"ist_button",onClick:p},_("Cancel")),d.default.createElement(v.default,{type:"submit",disabled:!S,className:"ist_button ist_button_red"},y?_("Add"):_("Save")))))}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/defineProperty")),c=l(e("@babel/runtime/helpers/slicedToArray")),d=l(e("react")),f=l(e("prop-types")),p=l(e("@doist/reactist/lib/Tooltip")),m=e("../../models/Colors"),h=l(e("../reactist/modal")),v=l(e("../Button")),b=l(e("../color_dropdown_select")),y=e("../icons"),g=e("../form_helpers"),E=l(e("../switch")),T=60,w=1024;o.propTypes={filter:f.default.object,onCreate:f.default.func.isRequired,onUpdate:f.default.func.isRequired,onClose:f.default.func.isRequired};var R=o;r.default=R},{"../../models/Colors":151,"../Button":466,"../color_dropdown_select":506,"../form_helpers":620,"../icons":731,"../reactist/modal":880,"../switch":963,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],566:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./EditFilterModal")),i=a.default;r.default=i},{"./EditFilterModal":565,"@babel/runtime/helpers/interopRequireDefault":189}],567:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(){return d.default.createElement("a",{href:"https://get.todoist.help/hc/articles/360000029000-How-to-best-use-labels",rel:"noopener noreferrer",target:"_blank"},d.default.createElement(p.default,{text:_("Click to find out about labels and how to use them."),position:"bottom"},d.default.createElement(y.HelpIcon,null)))}function o(e){function t(e){if(e.preventDefault(),N){var t={name:C.value,color:I.value,is_favorite:k};switch(O){case"new":p(t);break;case"edit":y(a({id:l.id},t));break;case"rename":P({oldName:l.name,newName:C.value})}D()}}var r=e.isOpen,n=void 0===r||r,o=e.label,l=void 0===o?{}:o,u=e.labels,f=void 0===u?[]:u,p=e.onLabelCreate,y=e.onLabelUpdate,P=e.onLabelRename,D=e.onModalClose,O=void 0===l.id?null!=l.name&&l.name.trim().length>0?"rename":"new":"edit",C=(0,g.useField)("name",l.name||""),I=(0,g.useField)("color",l.color||m.DEFAULT_COLOR,Number),A=d.default.useState(l.is_favorite||!1),S=(0,c.default)(A,2),k=S[0],M=S[1],j=d.default.useMemo(function(){return C.value!==l.name&&f.indexOf((0,E.labelNormalizeName)(C.value))>=0},[f,l.name,C.value]),N=!j&&C.value.trim().length>0&&("rename"===O||null!=I.value);return d.default.createElement(h.default.Box,{isOpen:n,onDismiss:D,size:"small"},d.default.createElement("form",{onSubmit:t},d.default.createElement(h.default.Header,{title:R[O],button:d.default.createElement(i,null)}),d.default.createElement(h.default.Body,{className:"form_fields"},d.default.createElement("div",{className:"form_field"},d.default.createElement("label",{htmlFor:"edit_label_modal_field_name"},_("Label name")),j?d.default.createElement(g.FormFieldHint,{id:"edit_label_modal_field_name_hint"},_("Label already exists.")):d.default.createElement(g.CharacterLengthHint,{id:"edit_label_modal_field_name_hint",length:C.value.length,maxLength:w}),d.default.createElement("input",(0,s.default)({id:"edit_label_modal_field_name","aria-describedby":"edit_label_modal_field_name_hint",className:"form_field_control",autoFocus:!0,maxLength:w},C))),"rename"!==O&&d.default.createElement("div",{className:"form_field"},d.default.createElement("label",{id:"edit_label_modal_field_color_label"},_("Label color")),d.default.createElement(b.default,(0,s.default)({"aria-labelledby":"edit_label_modal_field_color_label",className:"form_field_control"},I))),"rename"!==O&&d.default.createElement("div",{className:"form_field form_field_inline"},d.default.createElement("label",null,d.default.createElement(T.default,{name:"is_favorite",checked:k,onChange:function(e){return M(e.target.checked)}}),_("Add to favorites")))),d.default.createElement(h.default.Actions,null,d.default.createElement(v.default,{className:"ist_button",onClick:D},_("Cancel")),d.default.createElement(v.default,{type:"submit",disabled:!N,className:"ist_button ist_button_red"},"new"===O?_("Add"):_("Save")))))}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/defineProperty")),c=l(e("@babel/runtime/helpers/slicedToArray")),d=l(e("react")),f=l(e("prop-types")),p=l(e("@doist/reactist/lib/Tooltip")),m=e("../../models/Colors"),h=l(e("../reactist/modal")),v=l(e("../Button")),b=l(e("../color_dropdown_select")),y=e("../icons"),g=e("../form_helpers"),E=e("../../reducers/labels"),T=l(e("../switch")),w=60,R={new:_("Add label"),edit:_("Edit label"),rename:_("Rename label")};o.propTypes={label:f.default.object,labels:f.default.array,onLabelCreate:f.default.func.isRequired,onLabelUpdate:f.default.func.isRequired,onLabelRename:f.default.func.isRequired,onModalClose:f.default.func.isRequired};var P=o;r.default=P},{"../../models/Colors":151,"../../reducers/labels":1010,"../Button":466,"../color_dropdown_select":506,"../form_helpers":620,"../icons":731,"../reactist/modal":880,"../switch":963,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],568:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./EditLabelModal")),i=a.default;r.default=i},{"./EditLabelModal":567,"@babel/runtime/helpers/interopRequireDefault":189}],569:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(){return d.default.createElement("a",{href:"https://get.todoist.help/hc/articles/360000031039-How-to-best-use-projects",rel:"noopener noreferrer",target:"_blank"},d.default.createElement(p.default,{text:_("Click to find out about projects and how to use them."),position:"bottom"},d.default.createElement(y.HelpIcon,null)))}function o(e){function t(e){if(e.preventDefault(),M){var t={name:O.value,color:C.value,is_favorite:S};D?y(a({},t,{parentId:u,childOrder:f})):R(a({id:l.id},t)),P()}}var r=e.isOpen,n=void 0===r||r,o=e.project,l=void 0===o?{}:o,u=e.parentId,f=e.childOrder,p=e.onProjectCreate,y=void 0===p?function(){}:p,w=e.onProjectUpdate,R=void 0===w?function(){}:w,P=e.onModalClose,D=void 0===l.id,O=(0,g.useField)("name",l.name||""),C=(0,g.useField)("color",l.color||m.DEFAULT_COLOR,Number),I=d.default.useState(l.is_favorite||!1),A=(0,c.default)(I,2),S=A[0],k=A[1],M=O.value.trim().length>0&&null!=C.value;return d.default.createElement(h.default.Box,{isOpen:n,onDismiss:P,size:"small"},d.default.createElement("form",{onSubmit:t},d.default.createElement(h.default.Header,{title:D?_("Add project"):_("Edit project"),button:d.default.createElement(i,null)}),d.default.createElement(h.default.Body,{className:"form_fields"},d.default.createElement("div",{className:"form_field"},d.default.createElement("label",{htmlFor:"edit_project_modal_field_name"},_("Project name")),d.default.createElement(g.CharacterLengthHint,{id:"edit_project_modal_field_name_hint",length:O.value.length,maxLength:T}),d.default.createElement("input",(0,s.default)({id:"edit_project_modal_field_name","aria-describedby":"edit_project_modal_field_name_hint",className:"form_field_control",autoFocus:!0,maxLength:T},O))),d.default.createElement("div",{className:"form_field"},d.default.createElement("label",{id:"edit_project_modal_field_color_label"},_("Project color")),d.default.createElement(b.default,(0,s.default)({"aria-labelledby":"edit_project_modal_field_color_label",className:"form_field_control"},C))),d.default.createElement("div",{className:"form_field form_field_inline"},d.default.createElement("label",null,d.default.createElement(E.default,{name:"is_favorite",checked:S,onChange:function(e){return k(e.target.checked)}}),_("Add to favorites")))),d.default.createElement(h.default.Actions,null,d.default.createElement(v.default,{className:"ist_button",onClick:P},_("Cancel")),d.default.createElement(v.default,{type:"submit",disabled:!M,className:"ist_button ist_button_red"},D?_("Add"):_("Save")))))}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/defineProperty")),c=l(e("@babel/runtime/helpers/slicedToArray")),d=l(e("react")),f=l(e("prop-types")),p=l(e("@doist/reactist/lib/Tooltip")),m=e("../../models/Colors"),h=l(e("../reactist/modal")),v=l(e("../Button")),b=l(e("../color_dropdown_select")),y=e("../icons"),g=e("../form_helpers"),E=l(e("../switch")),T=120;o.propTypes={project:f.default.object,parentId:f.default.number,childOrder:f.default.number,onProjectCreate:f.default.func,onProjectUpdate:f.default.func,onModalClose:f.default.func.isRequired};var w=o;r.default=w},{"../../models/Colors":151,"../Button":466,"../color_dropdown_select":506,"../form_helpers":620,"../icons":731,"../reactist/modal":880,"../switch":963,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],570:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"showAddProjectModal",{enumerable:!0,get:function(){return n.showAddProjectModal}}),Object.defineProperty(r,"showEditProjectModal",{enumerable:!0,get:function(){return a.showEditProjectModal}});var n=e("./showAddProjectModal"),a=e("./showEditProjectModal")},{"./showAddProjectModal":571,"./showEditProjectModal":572}],571:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){var r=t.anchorProjectId,n=t.addAbove,i=(0,m.projectGetByID)(e,r);if(!i){var o=n?(0,b.projectGetMinTopLevelChildOrder)(e):(0,b.projectGetMaxTopLevelChildOrder)(e)+1;return{project:g,parentId:void 0,childOrder:o}}var l=a({},g,{color:i.color}),s=(0,b.projectGetChildren)(r,e);return!n&&s.length>0?{project:l,parentId:r,childOrder:s[0].child_order}:{project:l,parentId:i.parent_id,childOrder:i.child_order+(n?0:1)}}function o(e){return{onProjectCreate:function(t){var r=t.parentId,n=t.childOrder,i=(0,u.default)(t,["parentId","childOrder"]),o=e((0,m.projectAdd)(a({parent_id:r,child_order:n},i)));Signals.sendSignal("refresh_interface"),e((0,y.showProjectView)([o.id],{bottomListSelected:!0}))}}}function l(e){var t=e.anchorProjectId,r=e.addAbove,n=void 0!==r&&r;(0,h.openModal)(function(e){return d.default.createElement(f.Provider,{store:p.default},d.default.createElement(E,{isOpen:!0,anchorProjectId:t,addAbove:n,onModalClose:e}))})}var s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.showAddProjectModal=l;var u=s(e("@babel/runtime/helpers/objectWithoutProperties")),c=s(e("@babel/runtime/helpers/defineProperty")),d=s(e("react")),f=e("react-redux"),p=s(e("../../stores/store")),m=e("../../reducers/projects"),h=e("../reactist/modal"),_=e("../../models/Colors"),v=s(e("./EditProjectModal")),b=e("../../reducers/projects/selectors"),y=e("../../reducers/mainView"),g={name:"",color:_.DEFAULT_COLOR},E=(0,f.connect)(i,o)(v.default)},{"../../models/Colors":151,"../../reducers/mainView":1015,"../../reducers/projects":1026,"../../reducers/projects/selectors":1028,"../../stores/store":1048,"../reactist/modal":880,"./EditProjectModal":569,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react","react-redux":"react-redux"}],572:[function(e,t,r){"use strict";function n(e,t){var r=t.projectId;return{project:(0,c.projectGetByID)(e,r)}}function a(e,t){var r=t.projectId;return{onProjectUpdate:function(t){e((0,c.projectUpdate)(r,t)),Signals.sendSignal("refresh_interface")}}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.projectId;(0,d.openModal)(function(e){return l.default.createElement(s.Provider,{store:u.default},l.default.createElement(p,{isOpen:!0,projectId:t,onModalClose:e}))})}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.showEditProjectModal=i;var l=o(e("react")),s=e("react-redux"),u=o(e("../../stores/store")),c=e("../../reducers/projects"),d=e("../reactist/modal"),f=o(e("./EditProjectModal")),p=(0,s.connect)(n,a)(f.default)},{"../../reducers/projects":1026,"../../stores/store":1048,"../reactist/modal":880,"./EditProjectModal":569,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-redux":"react-redux"}],573:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("react")),d=e("react-redux"),f=n(e("prop-types")),p=n(e("classnames")),m=n(e("../../stores/store")),h=n(e("./EmptyStateFooter")),_=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),r.emptyState=c.default.createRef(),r.footer=c.default.createRef(),r.state={offsetBottom:null,style:{opacity:e.shouldFadeIn?0:1}},r.setFooterPosition=r.setFooterPosition.bind((0,s.default)(r)),r.setPosition=r.setPosition.bind((0,s.default)(r)),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.positionTimeout=setTimeout(function(){var t=e.footer.current;e.props.isWindowCentered||e.props.isStickyFooterForced?t&&(t.style.position="absolute",e.props.isWindowCentered||(Signals.connect("refresh_interface",e.setFooterPosition),e.setFooterPosition())):t&&(t.style.visibility="visible"),e.props.isWindowCentered&&(Signals.connect("refresh_interface",e.setPosition),e.setPosition()),e.setState({style:{opacity:1}})},0)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.positionTimeout),Signals.disconnect("refresh_interface",this.setPosition)}},{key:"setFooterPosition",value:function(){var e=this.footer.current;if(e){var t=$winSize().h-(this.emptyState.current.offsetTop+this.emptyState.current.offsetHeight)-24;t<e.offsetHeight&&(t=e.offsetHeight+20),e.style.bottom="".concat(-t,"px"),e.style.marginLeft="".concat(-e.offsetWidth/2,"px"),e.style.left="50%",e.style.visibility="visible"}}},{key:"setPosition",value:function(){var e=this.emptyState.current,t=.4*$winSize().h-.4*e.offsetHeight;e.style.marginTop=0;var r=t-e.offsetTop;e.style.marginTop=r<0?0:"".concat(r,"px"),this.setFooterPosition()}},{key:"render",value:function(){var e=this,t=(0,p.default)("empty-state",this.props.className);return c.default.createElement(d.Provider,{store:m.default},c.default.createElement("div",{ref:this.emptyState,className:t,style:this.state.style},c.default.Children.map(this.props.children,function(t){return t&&t.type===h.default?c.default.cloneElement(t,{forwardRef:e.footer}):t})))}}]),t}(c.default.PureComponent);_.propTypes={className:f.default.string,isWindowCentered:f.default.bool,isStickyFooterForced:f.default.bool,shouldFadeIn:f.default.bool,children:f.default.node},_.defaultProps={isWindowCentered:!0,isStickyFooterForced:!1,shouldFadeIn:!0};var v=_;r.default=v},{"../../stores/store":1048,"./EmptyStateFooter":576,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react","react-redux":"react-redux"}],574:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("react")),d=n(e("prop-types")),f=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"empty-state-body"},this.props.children)}}]),t}(c.default.PureComponent);(0,u.default)(f,"propTypes",{children:d.default.node});var p=f;r.default=p},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],575:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.onClick;return u.default.createElement("button",{className:"empty-state-button",onClick:r},t)}}]),t}(u.default.PureComponent);d.propTypes={onClick:c.default.func,children:c.default.node},d.defaultProps={onClick:function(){}};var f=d;r.default=f},{"@babel/runtime/helpers/classCallCheck":183,
"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],576:[function(e,t,r){"use strict";function n(e){var t=e.children,r=e.forwardRef,n=e.link;return i.default.createElement("a",{className:"empty-state-footer",ref:r,href:n,rel:"noopener noreferrer",target:"_blank"},i.default.createElement(l.default,null),i.default.createElement("span",null,t))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("./icons/HelpIcon"));n.propTypes={forwardRef:o.default.object,link:o.default.string,children:o.default.node},n.propTypes={forwardRef:function(){}};var s=n;r.default=s},{"./icons/HelpIcon":586,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],577:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("react")),d=n(e("prop-types")),f=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"empty-state-header"},this.props.children)}}]),t}(c.default.PureComponent);(0,u.default)(f,"propTypes",{children:d.default.node});var p=f;r.default=p},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],578:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("react")),d=n(e("prop-types")),f=n(e("../../../components/themes/Themes")),p=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),r.handleThemeChange=r.handleThemeChange.bind((0,s.default)(r)),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){Signals.connect("theme_changed",this.handleThemeChange)}},{key:"componentWillUnmount",value:function(){Signals.disconnect("theme_changed",this.handleThemeChange)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"handleThemeChange",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=f.default.theme_id_to_name[this.props.theme]||"todoist";return c.default.createElement("div",{className:"empty-state-illustration",dangerouslySetInnerHTML:{__html:svgs.getString("theme_".concat(e,"/").concat(this.props.path))}})}}]),t}(c.default.Component);p.propTypes={path:d.default.string.isRequired,theme:d.default.number};var m=p;r.default=m},{"../../../components/themes/Themes":91,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],579:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=n(e("./EmptyStateIllustration")),o=e("../../../reducers/settings"),l=function(e){return{theme:(0,o.getTheme)(e)}},s=(0,a.connect)(l)(i.default);r.default=s},{"../../../reducers/settings":1036,"./EmptyStateIllustration":578,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],580:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./container")),i=a.default;r.default=i},{"./container":579,"@babel/runtime/helpers/interopRequireDefault":189}],581:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("react")),f=n(e("prop-types")),p=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.link,n=(0,i.default)(e,["children","link"]);return d.default.createElement("a",(0,a.default)({href:r,className:"empty-state-link"},n),t)}}]),t}(d.default.PureComponent);p.propTypes={link:f.default.string,onClick:f.default.func,children:f.default.node},p.defaultProps={link:"#",onClick:function(){}};var m=p;r.default=m},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],582:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=n(e("@doist/reactist/lib/Tooltip")),f=n(e("./icons/BulbIcon")),p=n(e("./EmptyStateTooltipContent")),m=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.tips;return u.default.createElement(d.default,{wrapperClassName:"empty-state-tooltip",tooltipClassName:"empty-state-tooltip-content",delayShow:0,position:"top",text:u.default.createElement(p.default,{label:t,tips:r}),gapSize:14},u.default.createElement("span",{className:"empty-state-tooltip-label"},u.default.createElement(f.default,null),u.default.createElement("span",null,t)))}}]),t}(u.default.PureComponent);m.propTypes={tips:c.default.arrayOf(c.default.string),children:c.default.node},p.default.defaultProps={tips:[]};var h=m;r.default=h},{"./EmptyStateTooltipContent":583,"./icons/BulbIcon":585,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],583:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=n(e("./icons/BulbIcon")),f=n(e("./icons/TickIcon")),p=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.label,r=e.tips;return u.default.createElement("div",null,u.default.createElement("span",{className:"empty-state-tooltip-header"},u.default.createElement(d.default,null),t),u.default.createElement("ul",{className:"empty-state-tooltip-tips"},r.map(function(e,t){return u.default.createElement("li",{key:t,className:"empty-state-tooltip-tip"},u.default.createElement(f.default,null),u.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))})))}}]),t}(u.default.PureComponent);p.propTypes={label:c.default.string.isRequired,tips:c.default.arrayOf(c.default.string)},p.defaultProps={tips:[]};var m=p;r.default=m},{"./icons/BulbIcon":585,"./icons/TickIcon":587,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],584:[function(e,t,r){"use strict";function n(e){var t=e.children;return i.default.createElement("div",{className:"empty-state-actions"},t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types"));n.propTypes={children:o.default.node};var l=n;r.default=l},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],585:[function(e,t,r){"use strict";function n(){var e=(0,o.UUID)(),t=(0,o.UUID)();return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("defs",null,i.default.createElement("path",{d:"M10.08 16h3.84c.85-2.15 2.58-3.17 2.58-5.5C16.5 8 14.5 6 12 6s-4.5 2-4.5 4.5c0 2.33 1.73 3.35 2.58 5.5zm3.57 1h-3.3l.37 1.84c.02.1.1.16.2.16h2.17a.2.2 0 0 0 .2-.16l.36-1.84zm-5.46-2.32l-.42-.62c-.88-1.29-1.27-2.24-1.27-3.56C6.5 7.45 8.95 5 12 5s5.5 2.45 5.5 5.5c0 1.32-.4 2.27-1.27 3.56l-.42.62c-.59.85-.9 1.4-1.08 2.02l-.47 2.34c-.1.56-.6.96-1.17.96H10.9a1.2 1.2 0 0 1-1.17-.96l-.46-2.3a7.23 7.23 0 0 0-1.09-2.06zm13.24-.82a.5.5 0 1 1-.38.93l-1.85-.77a.5.5 0 0 1 .38-.92l1.85.76zM19.58 7.9a.5.5 0 0 1-.38-.92l1.85-.77a.5.5 0 1 1 .38.93l-1.85.76zm-4.06-4.6a.5.5 0 0 1-.92-.38l.76-1.85a.5.5 0 1 1 .93.38l-.77 1.85zM9.4 2.92a.5.5 0 0 1-.92.38L7.7 1.45a.5.5 0 1 1 .93-.38l.76 1.85zM4.8 6.98a.5.5 0 0 1-.38.92l-1.85-.76a.5.5 0 1 1 .38-.93l1.85.77zm-1.85 7.8a.5.5 0 0 1-.38-.92l1.85-.76a.5.5 0 0 1 .38.92l-1.85.77z",id:e})),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{d:"M0 0h24v24H0z"}),i.default.createElement("mask",{id:t,fill:"#fff"},i.default.createElement("use",{xlinkHref:"#".concat(e)})),i.default.createElement("g",{mask:"url(#".concat(t,")"),fill:"#FF9233"},i.default.createElement("path",{d:"M0 0h24.12v24.12H0z"}))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=e("../../../components/misc/Util")},{"../../../components/misc/Util":47,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],586:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"17",height:"17"},i.default.createElement("path",{d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm-.1-2.5c-.46 0-.8-.35-.8-.85s.34-.86.8-.86c.48 0 .8.36.8.86s-.32.85-.8.85zM5.5 5.87c.06-1.32.9-2.37 2.53-2.37 1.47 0 2.47.95 2.47 2.21 0 .96-.47 1.64-1.22 2.11-.73.46-.94.8-.94 1.45v.4H7.32V9.1c0-.8.37-1.36 1.16-1.86.68-.43.94-.82.94-1.47 0-.76-.56-1.32-1.43-1.32-.87 0-1.43.55-1.5 1.42H5.5z",id:"tick-a"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],587:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{d:"M7.35 12.15a.5.5 0 0 0-.7.7l3 3c.2.2.5.2.7 0l7-7a.5.5 0 1 0-.7-.7L10 14.79l-2.65-2.64z",fill:"#000",fillRule:"nonzero",fillOpacity:".54"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],588:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"EmptyStateFilterIncorrect",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"EmptyStateFilter",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"EmptyStateInboxNew",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"EmptyStateInboxZero",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"EmptyStateLabelNew",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"EmptyStateLabelZero",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"EmptyStateNext7Days",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"EmptyStateNotifications",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"EmptyStateProductivity",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"EmptyStateProjectCelebration",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"EmptyStateProjectComments",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"EmptyStateProjectNew",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"EmptyStateProjectZero",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(r,"EmptyStateProject",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"EmptyStateSearchResults",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(r,"EmptyStateSharing",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(r,"EmptyStateTaskComments",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(r,"EmptyStateTodayDayOff",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(r,"EmptyStateTodayDefault",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(r,"EmptyStateTodayNew",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(r,"EmptyStateTodayVacation",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(r,"EmptyStateTodayZero",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(r,"EmptyStateToday",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(r,"EmptyStateActivityLog",{enumerable:!0,get:function(){return O.default}});var a=n(e("./states/FilterIncorrect")),i=n(e("./states/Filter")),o=n(e("./states/InboxNew")),l=n(e("./states/InboxZero")),s=n(e("./states/LabelNew")),u=n(e("./states/LabelZero")),c=n(e("./states/Next7Days")),d=n(e("./states/Notifications")),f=n(e("./states/Productivity")),p=n(e("./states/ProjectCelebration")),m=n(e("./states/ProjectComments")),h=n(e("./states/ProjectNew")),_=n(e("./states/ProjectZero")),v=n(e("./states/Project")),b=n(e("./states/SearchResults")),y=n(e("./states/Sharing")),g=n(e("./states/TaskComments")),E=n(e("./states/TodayDayOff")),T=n(e("./states/TodayDefault")),w=n(e("./states/TodayNew")),R=n(e("./states/TodayVacation")),P=n(e("./states/TodayZero")),D=n(e("./states/Today")),O=n(e("./states/ActivityLog"))},{"./states/ActivityLog":589,"./states/Filter":590,"./states/FilterIncorrect":591,"./states/InboxNew":592,"./states/InboxZero":593,"./states/LabelNew":594,"./states/LabelZero":595,"./states/Next7Days":596,"./states/Notifications":597,"./states/Productivity":598,"./states/Project":599,"./states/ProjectCelebration":600,"./states/ProjectComments":601,"./states/ProjectNew":602,"./states/ProjectZero":603,"./states/SearchResults":604,"./states/Sharing":605,"./states/TaskComments":606,"./states/Today":607,"./states/TodayDayOff":608,"./states/TodayDefault":609,"./states/TodayNew":610,"./states/TodayVacation":611,"./states/TodayZero":614,"@babel/runtime/helpers/interopRequireDefault":189}],589:[function(e,t,r){"use strict";function n(e){if(e.isPremium){var t=_("See all changes that have been made in your account, by you or your collaborators.{next_line}Free users can still view their completed tasks inside any project.").split("{next_line}"),r=(0,i.default)(t,2),n=r[0],a=r[1];return o.default.createElement(s.default,{isWindowCentered:!1},o.default.createElement(c.default,{path:"activity.svg"}),o.default.createElement(u.default,null,o.default.createElement(d.default,null,_("You don't have any events")),n,o.default.createElement("br",null),a))}return o.default.createElement(s.default,{isWindowCentered:!1},o.default.createElement(c.default,{path:"activity.svg"}),o.default.createElement(u.default,null,_("See all changes that have been made to this task, by you or a collaborator."),o.default.createElement(f.default,null,o.default.createElement(p.default,{onClick:function(){return window.open("/premium")}},_("Go Premium")),o.default.createElement(m.default,{link:"https://get.todoist.help/hc/articles/209430045",target:"_blank"},_("Learn more")))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../EmptyState")),u=a(e("../EmptyStateBody")),c=a(e("../EmptyStateIllustration")),d=a(e("../EmptyStateHeader")),f=a(e("../EmpyStateActions")),p=a(e("../EmptyStateButton")),m=a(e("../EmptyStateLink"));n.propTypes={isPremium:l.default.bool};var h=n;r.default=h},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateLink":581,"../EmpyStateActions":584,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],590:[function(e,t,r){"use strict";function n(){var e=(0,o.useSelector)(p.default);return i.default.createElement(l.default,null,i.default.createElement(d.default,{path:"filter.svg"}),i.default.createElement(c.default,null,_("No tasks in this filter at the moment")),e?i.default.createElement(i.default.Fragment,null,i.default.createElement(u.default,null,_("Create custom task views filtered by priority, label, due date, and more.")),i.default.createElement(f.default,{tips:m},_("How can I use filters?"))):null,i.default.createElement(s.default,{link:"https://support.todoist.com/hc/articles/360000031059"},_("How to best use filters")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=e("react-redux"),l=a(e("../EmptyState")),s=a(e("../EmptyStateFooter")),u=a(e("../EmptyStateBody")),c=a(e("../EmptyStateHeader")),d=a(e("../EmptyStateIllustration")),f=a(e("../EmptyStateTooltip")),p=a(e("./showOnboardingInfo")),m=[_("See today's highest priority tasks using <b>Today & P1</b>."),_("View unscheduled tasks using <b>No date</b>."),_("Preview the month ahead using <b>30 days</b>."),_("Review every task <b>Assigned to:me</b>.")]},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateTooltip":582,"./showOnboardingInfo":615,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-redux":"react-redux"}],591:[function(e,t,r){"use strict";function n(e){var t=e.query,r=e.symbol,n=e.onButtonClick,a=[_("See all your tasks for the month ahead (query: <b>30 days</b>)"),_("Focus on the most important things you need to do today (query: <b>today & p1</b>)"),_("View tasks that are waiting on something else for them to be completed (query: <b>@pending</b>)")],o=r?_("That filter query isn't quite right:"):_("Sorry, Todoist couldn't understand that filter query.");return i.default.createElement(s.default,null,i.default.createElement(p.default,{path:"incorrect_filter_query.svg"}),i.default.createElement(f.default,null,o),r&&i.default.createElement(u.default,null,(0,l.default)(_('Todoist didn\'t recognize "{string}" in "{query}".'),{query:t,string:r})),i.default.createElement(c.default,{onClick:n},_("Edit Query")),i.default.createElement(m.default,{tips:a},_("Filter examples")),i.default.createElement(d.default,{link:"https://support.todoist.com/hc/articles/205248842"},_("How to create filters")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../../../utils/format")),s=a(e("../EmptyState")),u=a(e("../EmptyStateBody")),c=a(e("../EmptyStateButton")),d=a(e("../EmptyStateFooter")),f=a(e("../EmptyStateHeader")),p=a(e("../EmptyStateIllustration")),m=a(e("../EmptyStateTooltip"));n.propTypes={query:o.default.string,symbol:o.default.string,onButtonClick:o.default.func},n.defaultProps={onButtonClick:function(){}};var h=n;r.default=h},{"../../../utils/format":1079,"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateTooltip":582,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],592:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=n(e("../../../stores/store")),f=n(e("../EmptyState")),p=n(e("../EmptyStateBody")),m=n(e("../EmptyStateButton")),h=n(e("../EmptyStateFooter")),v=n(e("../EmptyStateHeader")),b=n(e("../EmptyStateIllustration")),y=e("../../../reducers/tooltip"),g=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){d.default.dispatch((0,y.markSeen)(y.TOOLTIP_EMPTY_STATE_INBOX))}},{key:"render",value:function(){return u.default.createElement(f.default,null,u.default.createElement(b.default,{path:"inbox_new.svg"}),u.default.createElement(v.default,null,_("Declutter your mind")),u.default.createElement(p.default,null,_("Not sure where to organize a new task? Add it to your Inbox and come back to it later.")),this.props.onButtonClick?u.default.createElement(m.default,{onClick:this.props.onButtonClick},_("Add a task")):null,u.default.createElement(h.default,{link:"https://support.todoist.com/hc/articles/360000028960"},_("How to best use the Inbox")))}}]),t}(u.default.PureComponent);g.propTypes={onButtonClick:c.default.func};var E=g;r.default=E},{"../../../reducers/tooltip":1040,"../../../stores/store":1048,"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],593:[function(e,t,r){"use strict";function n(e){return i.default.createElement(l.default,null,i.default.createElement(f.default,{path:"inbox_zero.svg"}),i.default.createElement(d.default,null,_("All clear")),i.default.createElement(s.default,null,_("Looks like everything's organized in the right place.")),e.onButtonClick?i.default.createElement(u.default,{onClick:e.onButtonClick},_("Add a task")):null,i.default.createElement(c.default,{link:"https://support.todoist.com/hc/articles/360000028960"},_("How to best use the Inbox")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateBody")),u=a(e("../EmptyStateButton")),c=a(e("../EmptyStateFooter")),d=a(e("../EmptyStateHeader")),f=a(e("../EmptyStateIllustration"));n.propTypes={onButtonClick:o.default.func};var p=n;r.default=p},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],594:[function(e,t,r){"use strict";function n(){var e=[_("Focus on <b>@work</b> tasks only."),_("See your most <b>@important</b> tasks."),_("Find out what's <b>@in_progress</b>."),_("Get a quick view of your <b>@errand</b> tasks.")];return i.default.createElement(o.default,null,i.default.createElement(c.default,{path:"label.svg"}),i.default.createElement(u.default,null,_("No tasks with this label at the moment")),i.default.createElement(l.default,null,_("Categorize your tasks with labels so you can focus on the right tasks at the right time.")),i.default.createElement(d.default,{tips:e},_("How can I use labels?")),i.default.createElement(s.default,{link:"https://support.todoist.com/hc/articles/360000029000"},_("How to best use labels")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("../EmptyState")),l=a(e("../EmptyStateBody")),s=a(e("../EmptyStateFooter")),u=a(e("../EmptyStateHeader")),c=a(e("../EmptyStateIllustration")),d=a(e("../EmptyStateTooltip"))},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateTooltip":582,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],595:[function(e,t,r){"use strict";function n(){return i.default.createElement(o.default,null,i.default.createElement(u.default,{path:"label.svg"}),i.default.createElement(s.default,null,_("No tasks with this label at the moment")),i.default.createElement(l.default,{link:"https://support.todoist.com/hc/articles/360000029000"},_("How to best use labels")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("../EmptyState")),l=a(e("../EmptyStateFooter")),s=a(e("../EmptyStateHeader")),u=a(e("../EmptyStateIllustration"))},{"../EmptyState":573,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],596:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("../../../stores/store")),d=n(e("../EmptyState")),f=n(e("../EmptyStateBody")),p=n(e("../EmptyStateFooter")),m=n(e("../EmptyStateHeader")),h=n(e("../EmptyStateIllustration")),v=e("../../../reducers/tooltip"),b=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){c.default.dispatch((0,v.markSeen)(v.TOOLTIP_EMPTY_STATE_NEXT_7DAYS))}},{key:"render",value:function(){return u.default.createElement(d.default,{className:"empty-state-7days",isWindowCentered:!1},u.default.createElement(h.default,{path:"next7_days.svg"}),u.default.createElement(m.default,null,_("Get a bird's eye view of your week")),u.default.createElement(f.default,null,_("This is your timeline for the next 7 days. You can drag and drop tasks between days to change their due date.")),u.default.createElement(p.default,{link:"https://support.todoist.com/hc/articles/360000031019"},_("How to plan your week")))}}]),t}(u.default.PureComponent);r.default=b},{"../../../reducers/tooltip":1040,"../../../stores/store":1048,"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,react:"react"}],597:[function(e,t,r){"use strict";function n(){return i.default.createElement(o.default,{isWindowCentered:!1},i.default.createElement(c.default,{path:"notifications.svg"}),i.default.createElement(u.default,null,_("Stay up-to-date")),i.default.createElement(l.default,null,_("Get notified here about changes in your shared projects.")),i.default.createElement(s.default,{link:"https://support.todoist.com/hc/articles/360000269065"},_("Learn about notifications")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("../EmptyState")),l=a(e("../EmptyStateBody")),s=a(e("../EmptyStateFooter")),u=a(e("../EmptyStateHeader")),c=a(e("../EmptyStateIllustration"))},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],598:[function(e,t,r){"use strict";function n(e){return i.default.createElement(l.default,{className:"empty-state-productivity",isWindowCentered:!1},i.default.createElement(f.default,{path:"productivity.svg"}),i.default.createElement(d.default,null,_("See tangible progress")),i.default.createElement(s.default,null,_("Set daily and weekly goals, review your productivity trends, and watch your Karma points grow.")),i.default.createElement(u.default,{onClick:e.onButtonClick},_("Set your goals")),i.default.createElement(c.default,{link:"https://support.todoist.com/hc/articles/206209959"},_("Learn about Karma")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateBody")),u=a(e("../EmptyStateButton")),c=a(e("../EmptyStateFooter")),d=a(e("../EmptyStateHeader")),f=a(e("../EmptyStateIllustration"));n.propTypes={onButtonClick:o.default.func},n.defaultProps={onButtonClick:function(){}};var p=n;r.default=p},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],599:[function(e,t,r){"use strict";function n(e){var t=e.projectId,r=e.onAddItemClick,n=e.onArchiveClick,a=(0,
l.useSelector)(function(e){return(0,s.projectGetByID)(e,t)}),o=(0,l.useSelector)(u.totalCompleted),v=(0,l.useSelector)((0,_.get)("completed.projects.".concat(t,".completed_items")))||0,b=(0,l.useSelector)(function(e){return(0,c.isScheduled)(c.TOOLTIP_EMPTY_STATE_INBOX,e)});return a?a.inbox_project?b?i.default.createElement(d.default,{onButtonClick:r}):i.default.createElement(f.default,{onButtonClick:r}):o<20?i.default.createElement(m.default,null):v<20?i.default.createElement(h.default,{onButtonClick:r}):i.default.createElement(p.default,{onButtonClick:r,onLinkClick:n}):null}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=e("react-redux"),s=e("../../../reducers/projects"),u=e("../../../reducers/stats"),c=e("../../../reducers/tooltip"),d=a(e("./InboxNew")),f=a(e("./InboxZero")),p=a(e("./ProjectCelebration")),m=a(e("./ProjectNew")),h=a(e("./ProjectZero")),_=e("../../../utils/fp");n.propTypes={projectId:o.default.oneOfType([o.default.number,o.default.string]).isRequired,onAddItemClick:o.default.func,onArchiveClick:o.default.func}},{"../../../reducers/projects":1026,"../../../reducers/stats":1037,"../../../reducers/tooltip":1040,"../../../utils/fp":1083,"./InboxNew":592,"./InboxZero":593,"./ProjectCelebration":600,"./ProjectNew":602,"./ProjectZero":603,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],600:[function(e,t,r){"use strict";function n(e){var t=e.onButtonClick,r=e.onLinkClick;return i.default.createElement(l.default,null,i.default.createElement(d.default,{path:"project_celebration.svg"}),i.default.createElement(c.default,null,_("Nothing left to do in this project")),i.default.createElement(s.default,null,_("Nice work!")),t?i.default.createElement(u.default,{onClick:t},_("Add a task")):null,r?i.default.createElement(f.default,{onClick:r},_("Archive project")):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateBody")),u=a(e("../EmptyStateButton")),c=a(e("../EmptyStateHeader")),d=a(e("../EmptyStateIllustration")),f=a(e("../EmptyStateLink"));n.propTypes={onButtonClick:o.default.func,onLinkClick:o.default.func};var p=n;r.default=p},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateLink":581,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],601:[function(e,t,r){"use strict";function n(e){return e.isPremium?i.default.createElement(l.default,{isWindowCentered:!1},i.default.createElement(u.default,{path:"project_comments.svg"}),i.default.createElement(s.default,null,_("Keep high-level information organized in one place with project comments."))):i.default.createElement(l.default,{isWindowCentered:!1},i.default.createElement(u.default,{path:"task_comments.svg"}),i.default.createElement(s.default,null,_("Add notes, file uploads, and voice memos to your project, so you always have the information you need right when you need it."),i.default.createElement(c.default,null,i.default.createElement(d.default,null,_("Go Premium")),i.default.createElement(f.default,{link:"https://get.todoist.help/hc/articles/205348311",target:"_blank"},_("Learn more")))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateBody")),u=a(e("../EmptyStateIllustration")),c=a(e("../EmpyStateActions")),d=a(e("../EmptyStateButton")),f=a(e("../EmptyStateLink"));n.propTypes={isPremium:o.default.bool};var p=n;r.default=p},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateIllustration":580,"../EmptyStateLink":581,"../EmpyStateActions":584,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],602:[function(e,t,r){"use strict";function n(){var e=[_("Separate work tasks from personal ones."),_("Create a step-by-step plan toward a goal."),_("Collaborate with teammates."),_("Share a to-do list with a loved one."),_("Save things to read or watch later.")];return i.default.createElement(o.default,{className:"empty-state-project-new"},i.default.createElement(c.default,{path:"project_new.svg"}),i.default.createElement(u.default,null,_("Keep your tasks organized in projects")),i.default.createElement(l.default,null,_("Group your tasks by goal or area of your life. Drag and drop to rearrange tasks or create sub-tasks.")),i.default.createElement(d.default,{tips:e},_("How can I use projects?")),i.default.createElement(s.default,{link:"https://support.todoist.com/hc/articles/360000031039"},_("How to best use projects")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("../EmptyState")),l=a(e("../EmptyStateBody")),s=a(e("../EmptyStateFooter")),u=a(e("../EmptyStateHeader")),c=a(e("../EmptyStateIllustration")),d=a(e("../EmptyStateTooltip"))},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateTooltip":582,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],603:[function(e,t,r){"use strict";function n(e){return i.default.createElement(l.default,null,i.default.createElement(d.default,{path:"project_zero.svg"}),i.default.createElement(c.default,null,_("What will you accomplish?")),e.onButtonClick?i.default.createElement(s.default,{onClick:e.onButtonClick},_("Add a task")):null,i.default.createElement(u.default,{link:"https://support.todoist.com/hc/articles/360000031039"},_("How to best use projects")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateButton")),u=a(e("../EmptyStateFooter")),c=a(e("../EmptyStateHeader")),d=a(e("../EmptyStateIllustration/"));n.propTypes={onButtonClick:o.default.func};var f=n;r.default=f},{"../EmptyState":573,"../EmptyStateButton":575,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration/":580,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],604:[function(e,t,r){"use strict";function n(e){var t=e.headerText,r=e.onButtonClick,n=e.shouldFadeIn,a=e.withAction,o=e.errorCode,p=e.loading,m=[_("<b>date</b> to find all tasks with that due date"),_("<b>p1</b> to find all tasks with priority 1"),_("<b>@label</b> to find all tasks with that label")];return i.default.createElement(l.default,{className:"empty-state-search",isWindowCentered:!1,shouldFadeIn:n,isStickyFooterForced:!0},i.default.createElement(c.default,{path:"search_results.svg"}),i.default.createElement(u.default,null,t),o&&i.default.createElement("code",{className:"empty-state-error-code"},o),a&&i.default.createElement(f.ActionButton,{onClick:r,loading:p},_("Search completed tasks")),i.default.createElement(d.default,{tips:m},_("Refine your search with queries")),i.default.createElement(s.default,{link:"https://support.todoist.com/hc/articles/360000394949"},_("How to best use search")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateFooter")),u=a(e("../EmptyStateHeader")),c=a(e("../EmptyStateIllustration")),d=a(e("../EmptyStateTooltip")),f=e("../../buttons");n.propTypes={headerText:o.default.string.isRequired,withAction:o.default.bool,shouldFadeIn:o.default.bool,errorCode:o.default.string,loading:o.default.bool,onButtonClick:o.default.func},n.defaultProps={withAction:!0,shouldFadeIn:!0,onButtonClick:function(){}};var p=n;r.default=p},{"../../buttons":499,"../EmptyState":573,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateTooltip":582,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],605:[function(e,t,r){"use strict";function n(){return i.default.createElement(o.default,{isWindowCentered:!1},i.default.createElement(c.default,{path:"sharing.svg"}),i.default.createElement(u.default,null,_("Organize work together")),i.default.createElement(l.default,null,_("Assign tasks and due dates, discuss details in task comments, and keep everyone on the same page.")),i.default.createElement(s.default,{link:"https://support.todoist.com/hc/articles/360000031079"},_("How to collaborate with others")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("../EmptyState")),l=a(e("../EmptyStateBody")),s=a(e("../EmptyStateFooter")),u=a(e("../EmptyStateHeader")),c=a(e("../EmptyStateIllustration"))},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],606:[function(e,t,r){"use strict";function n(e){return e.isPremium?i.default.createElement(l.default,{isWindowCentered:!1},i.default.createElement(u.default,{path:"task_comments.svg"}),i.default.createElement(s.default,null,_("Add relevant notes, links, files, photos, or anything else here."))):i.default.createElement(l.default,{isWindowCentered:!1},i.default.createElement(u.default,{path:"task_comments.svg"}),i.default.createElement(s.default,null,_("Add notes, file uploads, and voice memos to your tasks, so you always have the information you need right when you need it."),i.default.createElement(c.default,null,i.default.createElement(d.default,{onClick:function(){return window.open("/premium")}},_("Go Premium")),i.default.createElement(f.default,{link:"https://get.todoist.help/hc/articles/205348311",target:"_blank"},_("Learn more")))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateBody")),u=a(e("../EmptyStateIllustration")),c=a(e("../EmpyStateActions")),d=a(e("../EmptyStateButton")),f=a(e("../EmptyStateLink"));n.propTypes={isPremium:o.default.bool};var p=n;r.default=p},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateIllustration":580,"../EmptyStateLink":581,"../EmpyStateActions":584,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],607:[function(e,t,r){"use strict";function n(e){var t=e.onAddClick,r=(0,s.useSelector)(u.completedToday),n=(0,s.useSelector)(u.totalCompleted),a=(0,s.useSelector)(c.countSevenDays),i=(0,s.useSelector)(function(e){return e.user.features.karma_vacation}),l=(0,s.useSelector)(d.isDayOff),_=o.default.createElement(p.default,{onButtonClick:t});return r>0&&(_=o.default.createElement(m.default,{completedTodayCount:r,uncompletedSevenDaysCount:a,onFacebookClick:function(){g({facebook:!0})},onProductivityClick:f.show,onTwitterClick:function(){g({twitter:!0})}})),i&&(_=o.default.createElement(v.default,{onButtonClick:t})),l&&(_=o.default.createElement(h.default,null)),0===r&&n<10&&(_=o.default.createElement(b.default,{onButtonClick:t})),o.default.createElement("div",{id:"completed_today_holder"},o.default.createElement("div",{id:"empty-state-holder",className:"completed_today"},_))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("react")),l=i(e("prop-types")),s=e("react-redux"),u=e("../../../reducers/stats"),c=e("../../../reducers/counts"),d=e("../../../reducers/user"),f=a(e("../../../containers/ProductivityStat")),p=i(e("./TodayDefault")),m=i(e("./TodayZero")),h=i(e("./TodayDayOff")),v=i(e("./TodayVacation")),b=i(e("./TodayNew")),y=e("../../../utils");n.propTypes={onAddClick:l.default.func.isRequired};var g=function(e){var t=e.facebook,r=e.twitter;(0,y.jsonAPI)("/completed/get_tdzero_share_urls",{withToken:!0}).then(function(e){if(r&&e.twitter)return window.open(e.twitter);if(t&&e.facebook)return window.open(e.facebook);throw new Error("response error")}).catch(function(){alert(_("Something went wrong sharing your productive day. We still think you're awesome though! Please try again!"))})}},{"../../../containers/ProductivityStat":98,"../../../reducers/counts":994,"../../../reducers/stats":1037,"../../../reducers/user":1042,"../../../utils":1094,"./TodayDayOff":608,"./TodayDefault":609,"./TodayNew":610,"./TodayVacation":611,"./TodayZero":614,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],608:[function(e,t,r){"use strict";function n(){return i.default.createElement(o.default,null,i.default.createElement(u.default,{path:"today_off.svg"}),i.default.createElement(s.default,null,_("Enjoy your day off")),i.default.createElement(l.default,{link:"https://support.todoist.com/hc/articles/360000410829#Settings"},_("Learn more about Days Off")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("../EmptyState")),l=a(e("../EmptyStateFooter")),s=a(e("../EmptyStateHeader")),u=a(e("../EmptyStateIllustration"))},{"../EmptyState":573,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],609:[function(e,t,r){"use strict";function n(e){return i.default.createElement(l.default,null,i.default.createElement(d.default,{path:"today.svg"}),i.default.createElement(c.default,null,_("What tasks are on your mind?")),i.default.createElement(s.default,{onClick:e.onButtonClick},_("Add a task")),i.default.createElement(u.default,{link:"https://support.todoist.com/hc/articles/360000030999"},_("How to plan your day")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateButton")),u=a(e("../EmptyStateFooter")),c=a(e("../EmptyStateHeader")),d=a(e("../EmptyStateIllustration"));n.propTypes={onButtonClick:o.default.func},n.defaultProps={onButtonClick:function(){}};var f=n;r.default=f},{"../EmptyState":573,"../EmptyStateButton":575,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],610:[function(e,t,r){"use strict";function n(e){var t=[_("Each morning, take a few minutes to clear your mind and plan your day."),_("Decide what you can do today and postpone the rest for later."),_("Set priorities and start with your most important task first.")];return i.default.createElement(l.default,null,i.default.createElement(f.default,{path:"today_new.svg"}),i.default.createElement(d.default,null,_("Get a clear view of the day ahead")),i.default.createElement(s.default,null,_("All your tasks that are due today will show up here.")),i.default.createElement(u.default,{onClick:e.onButtonClick},_("Add a task")),i.default.createElement(p.default,{tips:t},_("Establish a daily habit")),i.default.createElement(c.default,{link:"https://support.todoist.com/hc/articles/360000030999"},_("How to plan your day")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateBody")),u=a(e("../EmptyStateButton")),c=a(e("../EmptyStateFooter")),d=a(e("../EmptyStateHeader")),f=a(e("../EmptyStateIllustration")),p=a(e("../EmptyStateTooltip"));n.propTypes={onButtonClick:o.default.func},n.defaultProps={onButtonClick:function(){}};var m=n;r.default=m},{"../EmptyState":573,"../EmptyStateBody":574,"../EmptyStateButton":575,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateTooltip":582,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],611:[function(e,t,r){"use strict";function n(e){return i.default.createElement(l.default,null,i.default.createElement(c.default,{path:"today_vacation.svg"}),i.default.createElement(u.default,null,_("Enjoy your time away")),i.default.createElement(d.default,{onClick:e.onButtonClick},_("Turn off Vacation Mode")),i.default.createElement(s.default,{link:"https://support.todoist.com/hc/articles/208044525"},_("Learn more about Vacation Mode")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../EmptyState")),s=a(e("../EmptyStateFooter")),u=a(e("../EmptyStateHeader")),c=a(e("../EmptyStateIllustration")),d=a(e("../EmptyStateLink"));n.propTypes={onButtonClick:o.default.func},n.defaultProps={onButtonClick:function(){}};var f=n;r.default=f},{"../EmptyState":573,"../EmptyStateFooter":576,"../EmptyStateHeader":577,"../EmptyStateIllustration":580,"../EmptyStateLink":581,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],612:[function(e,t,r){"use strict";function n(e){var t,r,n,a=e.completedTodayCount,o=e.uncompletedSevenDaysCount,d=e.onFacebookClick,f=e.onProductivityClick,p=e.onTwitterClick,m=new Date,h=m.getHours();return t=h>=4&&h<12?_("Enjoy your day."):h>=12&&h<20?_("Enjoy your afternoon."):_("Enjoy your night."),a>=5?(r=t,n=i.default.createElement("span",{onClick:f},_("Today you completed %s tasks and reached #TodoistZero!").replace("%s",a))):(r=0===o?_("You're all done for the week! #TodoistZero"):_("You're all done for today! #TodoistZero"),n=t),i.default.createElement(l.default,null,i.default.createElement(c.default,{path:"today_zero.svg"}),i.default.createElement(s.default,null,r),n&&i.default.createElement(u.default,null,n),i.default.createElement("div",{className:"sharing"},i.default.createElement("span",{className:"sharing-twitter",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/twitter.svg")},onClick:p}),i.default.createElement("span",{className:"sharing-facebook",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/facebook.svg")},onClick:d})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../../EmptyState")),s=a(e("../../EmptyStateHeader")),u=a(e("../../EmptyStateBody")),c=a(e("../../EmptyStateIllustration"));n.propTypes={completedTodayCount:o.default.number,uncompletedSevenDaysCount:o.default.number,onFacebookClick:o.default.func,onProductivityClick:o.default.func,onTwitterClick:o.default.func},n.defaultProps={completedTodayCount:0,uncompletedSevenDaysCount:0,onFacebookClick:function(){},onProductivityClick:function(){},onTwitterClick:function(){}};var d=n;r.default=d},{"../../EmptyState":573,"../../EmptyStateBody":574,"../../EmptyStateHeader":577,"../../EmptyStateIllustration":580,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],613:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../../../../reducers/counts"),o=e("../../../../reducers/stats"),l=n(e("./TodayZero")),s=function(e){return{completedTodayCount:(0,o.completedToday)(e),uncompletedSevenDaysCount:(0,i.countSevenDays)(e)}},u=(0,a.connect)(s)(l.default);r.default=u},{"../../../../reducers/counts":994,"../../../../reducers/stats":1037,"./TodayZero":612,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],614:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./container")),i=a.default;r.default=i},{"./container":613,"@babel/runtime/helpers/interopRequireDefault":189}],615:[function(e,t,r){"use strict";function n(e){return(0,a.totalCompleted)(e)<20}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a=e("../../../reducers/stats")},{"../../../reducers/stats":1037}],616:[function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,r=u.default.useState(e),n=(0,s.default)(r,2),a=n[0],i=n[1];return void 0===t?[a,function(){return i(!a)}]:[e,t]}function a(e){var t=e.title,r=e.titleTooltip,a=e.className,i=e.children,c=e.animationProps,h=e.headerSideButton,_=e.track,v=e.initiallyExpanded,b=(0,l.default)(e,["title","titleTooltip","className","children","animationProps","headerSideButton","track","initiallyExpanded"]);void 0===v||void 0===b.isExpanded&&void 0===b.onToggleExpand||(console.warn("[ExpansionPanel]: cannot use initiallyExpanded in controlled mode"),v=void 0);var y=n(b.isExpanded||v,b.onToggleExpand),g=(0,s.default)(y,2),E=g[0],T=g[1],w=(0,d.default)(a,"expansion_panel",{"expansion_panel--expanded":E});return u.default.createElement("div",{className:w},u.default.createElement("header",{className:"expansion_panel__header"},u.default.createElement(f.default,{title:r,"data-track":_,onClick:T,"aria-expanded":E,className:"expansion_panel__toggle"},u.default.createElement("div",{"aria-hidden":"true",className:"expansion_panel__toggle_icon"},u.default.createElement(p.default,null)),t),null!=h?u.default.createElement("div",{className:"expansion_panel__actions"},h):null),u.default.createElement(m.default,(0,o.default)({timeout:"auto"},c,{in:E}),i))}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/objectWithoutProperties")),s=i(e("@babel/runtime/helpers/slicedToArray")),u=i(e("react")),c=i(e("prop-types")),d=i(e("classnames")),f=i(e("../Button")),p=i(e("../reactist/icon/Arrow")),m=i(e("../reactist/transitions/Collapse"));a.propTypes={title:c.default.node.isRequired,titleTooltip:c.default.string,children:c.default.node.isRequired,className:c.default.string,initiallyExpanded:c.default.bool,isExpanded:c.default.bool,onToggleExpand:c.default.func,animationProps:c.default.object,headerSideButton:c.default.node,track:c.default.string};var h=a;r.default=h},{"../Button":466,"../reactist/icon/Arrow":877,"../reactist/transitions/Collapse":883,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,classnames:"classnames","prop-types":"prop-types",react:"react"}],617:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./ExpansionPanel")),i=a.default;r.default=i},{"./ExpansionPanel":616,"@babel/runtime/helpers/interopRequireDefault":189}],618:[function(e,t,r){"use strict";function n(e){function t(){if(!m)return void(0,g.showFilter)();(0,E.openModal)(function(e){return s.default.createElement(T.default,{filter:n,onCreate:function(){},onUpdate:O,onClose:e})})}var r,n,a=e.filterId,c=e.query,m=e.isPremium,O=e.onFilterUpdate,C=(0,d.default)(),I=(0,u.useSelector)(function(e){return e});a?(n=(0,w.filterGetByID)(I,a),c=n.query,r=s.default.createElement(R.default,{text:n.name,withMarkdown:!1})):r=c;var A=(0,y.useFilterist)(c),S=(0,l.default)(A,2),k=S[0],M=S[1];if(M)return s.default.createElement("div",{className:"filter_view"},s.default.createElement(b.ViewHeader,{header:r}),s.default.createElement(h.EmptyStateFilterIncorrect,{symbol:M.badSymbol,query:M.queryString,onButtonClick:t}));if(0===(0,v.flatten)(k.map(function(e){return e.items})).length)return s.default.createElement("div",{className:"filter_view"},s.default.createElement(b.ViewHeader,{header:r}),s.default.createElement(h.EmptyStateFilter,null));var j=(0,v.flatten)(k.map(function(e){if(e.view===p.VIEW_TYPE_DAY_VIEW_SPAN)return P(e,I);var t=(0,o.default)(e.items);t.sort(D(e,I));var r,n=t.map(function(e){return e.id});if(e.view===p.VIEW_TYPE_OVERDUE){if(0===e.items.length)return null;r=_("Overdue")}else r=e.view===p.VIEW_TYPE_DAY_VIEW_FIXED?e.day_date:e.name;return{header:r,itemIds:n}},[]).filter(function(e){return Boolean(e)}));return s.default.createElement("div",{className:"filter_view"},s.default.createElement(b.ViewHeader,{header:r,largeBottomMargin:j.length>1}),1===j.length?s.default.createElement(f.default,(0,i.default)({},C,{rootItemIds:j[0].itemIds})):j.map(function(e,t){var r=e.header,n=e.itemIds;return s.default.createElement(b.Section,{key:t,header:r},s.default.createElement(f.default,(0,i.default)({},C,{rootItemIds:n})))}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/toConsumableArray")),l=a(e("@babel/runtime/helpers/slicedToArray")),s=a(e("react")),u=e("react-redux"),c=a(e("prop-types")),d=a(e("../item_list/useRootItemListProps")),f=a(e("../item_list/RootItemList")),p=e("../../filterist/section"),m=e("../../components/agenda/sort"),h=e("../emptyState"),v=e("../../utils"),b=e("../view"),y=e("../hooks"),g=e("../../containers/premium_promo/PremiumOnlyModal"),E=e("../reactist/modal"),T=a(e("../edit_filter_modal")),w=e("../../reducers/filters"),R=a(e("../formatter/FormattedText"));n.propTypes={filterId:c.default.oneOfType([c.default.number,c.default.string]),query:c.default.string};var P=function(e,t){var r=(0,v.groupBy)(e.items,function(e){return e.due.dateMin().getTime()});return(0,v.keys)(r).sort().map(function(n){var a=(0,o.default)(r[n]);return a.sort(D(e,t)),{header:a[0].due.toDate(),itemIds:a.map(function(e){return e.id})}})},D=function(e,t){switch(e.view){case p.VIEW_TYPE_OVERDUE:return(0,m.createOverdueViewSort)(t);case p.VIEW_TYPE_SEARCH:case p.VIEW_TYPE_FLAT:return(0,m.createFlatListSort)(t);case p.VIEW_TYPE_DAY_VIEW_FIXED:case p.VIEW_TYPE_DAY_VIEW_SPAN:return m.dayViewSortFn}}},{"../../components/agenda/sort":16,"../../containers/premium_promo/PremiumOnlyModal":104,"../../filterist/section":120,"../../reducers/filters":1e3,"../../utils":1094,"../edit_filter_modal":566,"../emptyState":588,"../formatter/FormattedText":621,"../hooks":628,"../item_list/RootItemList":759,"../item_list/useRootItemListProps":770,"../reactist/modal":880,"../view":975,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],619:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/objectWithoutProperties")),i=e("react-redux"),o=n(e("./FilterView")),l=e("../../reducers/user"),s=e("../../reducers/filters"),u=e("../../reducers/mainView"),c=function(e){return{isPremium:(0,l.isPremium)(e)}},d=function(e){return{onFilterUpdate:function(t){var r=t.id,n=(0,a.default)(t,["id"]);e((0,s.filterUpdate)(r,n)),e((0,u.showFilterView)(r,{bottomListSelected:!0}))}}},f=(0,i.connect)(c,d)(o.default);r.default=f},{"../../reducers/filters":1e3,"../../reducers/mainView":1015,"../../reducers/user":1042,"./FilterView":618,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"react-redux":"react-redux"}],620:[function(e,t,r){"use strict";function n(e){var t=e.id,r=e.show,n=void 0===r||r,a=e.children;return n?s.default.createElement("div",{id:t,className:"form_field_hint"},a):null}function a(e){var t=e.id,r=e.length,a=e.maxLength;return s.default.createElement(n,{id:t,show:a-r<=10},(0,c.format)(_("Character limit: {length}/{maxLength}"),{length:r,maxLength:a}))}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String,n=function(e){return null==e?e:r(e)},a=s.default.useState(n(t)),i=(0,l.default)(a,2),o=i[0],u=i[1];return{name:e,value:o,onChange:function(e){u(n(e.target.value))}}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.FormFieldHint=n,r.CharacterLengthHint=a,r.useField=i;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=o(e("react")),u=o(e("prop-types")),c=e("../../utils");n.propTypes={id:u.default.string,show:u.default.bool,children:u.default.node.isRequired},a.propTypes={id:u.default.string,length:u.default.number.isRequired,maxLength:u.default.number.isRequired}},{"../../utils":1094,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],621:[function(e,t,r){"use strict";function n(e){var t=e.text,r=e.simple,n=void 0!==r&&r,a=e.as,s=void 0===a?"span":a,c=e.withLinks,d=void 0===c||c,f=e.withMarkdown,p=void 0===f||f,m=e.withEmojis,h=void 0===m||m,_=(0,o.default)(e,["text","simple","as","withLinks","withMarkdown","withEmojis"]),v={as_html:p,with_links:d,with_emojis:h},b=n?u.default.formatSimple(t,v):u.default.format(t,v);return l.default.createElement(s,(0,i.default)({},_,{dangerouslySetInnerHTML:{__html:b}}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types")),u=a(e("../../components/formatter/Formatter"));n.propTypes={text:s.default.string.isRequired,as:s.default.string,simple:s.default.bool,withLinks:s.default.bool,withMarkdown:s.default.bool,withEmojis:s.default.bool};var c=n;r.default=c},{"../../components/formatter/Formatter":22,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],622:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=n(e("prop-types")),s=n(e("../../components/formatter/Formatter")),u=function(e){var t=e.text,r=(0,i.default)(e,["text"]),n=s.default.formatSimple(t,{only_text:!0,as_html:!1,with_links:!1,with_emojis:!0});return o.default.createElement("span",(0,a.default)({},r,{dangerouslySetInnerHTML:{__html:n}}))};u.propTypes={text:l.default.string};var c=u;r.default=c},{"../../components/formatter/Formatter":22,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],623:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),i=n(e("prop-types")),o=n(e("classnames")),l=n(e("../Button")),s=n(e("../reactist/modal")),u=function(e){var t=e.darkTheme,r=e.isShown,n=e.onClose;return a.default.createElement(s.default.Box,{className:"foundations_promotion",isOpen:r,onDismiss:n},a.default.createElement(s.default.Header,{title:"".concat(_("Announcing Todoist Foundations")," \ud83c\udf89")}),a.default.createElement(s.default.Body,{className:"foundations_promotion__content"
},a.default.createElement("p",null,_("A faster, more intuitive, and more reliable to-do list.")," ","\u2705"," ",_("Organize projects with Sections, manage every detail with Task View, and more\u2026")),a.default.createElement("img",{alt:"",src:t?"https://d3ptyyxy2at9ui.cloudfront.net/foundations_dark-e6fee4.jpg":"https://d3ptyyxy2at9ui.cloudfront.net/foundations-585d1e.jpg"})),a.default.createElement(s.default.Actions,{className:"foundations_promotion__actions"},a.default.createElement("a",{href:"https://get.todoist.help/hc/articles/360007080399",target:"_blank",rel:"noopener noreferrer"},_("Learn More")),a.default.createElement(l.default,{className:(0,o.default)("ist_button",{ist_button_red:t}),onClick:n},_("Thanks!"))))};u.propTypes={darkTheme:i.default.bool.isRequired,isShown:i.default.bool.isRequired,onClose:i.default.func.isRequired};var c=u;r.default=c},{"../Button":466,"../reactist/modal":880,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],624:[function(e,t,r){"use strict";function n(e){return{darkTheme:(0,c.getTheme)(e)===u.THEME_DARK,isShown:(0,s.isScheduled)(s.TOOLTIP_FOUNDATIONS,e)}}function a(e){return{onClose:function(){e((0,s.markSeen)(s.TOOLTIP_FOUNDATIONS))}}}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=e("react-redux"),l=i(e("./FoundationsPromotion")),s=e("../../reducers/tooltip"),u=e("../../constants/themes"),c=e("../../reducers/settings"),d=(0,o.connect)(n,a)(l.default);r.default=d},{"../../constants/themes":95,"../../reducers/settings":1036,"../../reducers/tooltip":1040,"./FoundationsPromotion":623,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],625:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=n(e("../reactist/TopNotifier")),f=n(e("../productivity_stat/MedalIcon")),p=n(e("../../utils/format")),m=e("../../constants/themes"),h=[_("Well done, {user_name}!"),_("You conquered the day, {user_name}!"),_("Nice work, {user_name}!"),_("Mischief managed.")],v=function(e){var t=(new Date).getDate()%h.length;return(0,p.default)(h[t],{user_name:e})},b=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.open!==e.open}},{key:"header",value:function(){var e=this.props.goal,t=void 0===e?0:e,r=_n("Daily goal completed: {num_completed}/{num_goal} task","Daily goal completed: {num_completed}/{num_goal} tasks",t);return(0,p.default)(r,{num_completed:t,num_goal:t})}},{key:"render",value:function(){var e=this.props,t=e.open,r=void 0!==t&&t,n=e.theme,a=void 0===n?0:n,i=e.userName,o=void 0===i?"":i,l=e.onClick,s=e.onClose,c=(0,m.colorInHex)(a);return a!==m.THEME_SUNFLOWER&&a!==m.THEME_NEUTRAL||(c=(0,m.colorInHex)(m.THEME_NOIR)),a===m.THEME_DARK&&(c=m.DARK_THEME_ICON_COLOR),u.default.createElement(d.default,{open:r,onClose:s,autoHideDuration:6e3,onClick:l},r?u.default.createElement("div",{className:"goal_notifier"},u.default.createElement(f.default,{className:"icon",width:50,color:c}),u.default.createElement("div",{className:"content"},u.default.createElement("h1",null,this.header()),u.default.createElement("p",null,v(o)),u.default.createElement("a",{className:"cta"},_("View Detailed Stats")))):null)}}]),t}(u.default.Component);b.propTypes={theme:c.default.number,userName:c.default.string,goal:c.default.number,onClick:c.default.func,onClose:c.default.func,open:c.default.bool};var y=b;r.default=y},{"../../constants/themes":95,"../../utils/format":1079,"../productivity_stat/MedalIcon":841,"../reactist/TopNotifier":876,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],626:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/assertThisInitialized")),c=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),f=e("../../utils/fp"),p=a(e("react")),m=a(e("prop-types")),h=e("react-redux"),_=a(e("./DailyGoalNotifier")),v=a(e("./WeeklyGoalNotifier")),b=n(e("../../containers/ProductivityStat")),y=e("../../reducers/stats"),g=e("../../reducers/settings"),E=function(e){return(0,f.get)("days_items.".concat((0,y.today)(),".goal_first_reached_at"),e)},T=function(e){return(0,f.get)("week_items.".concat((0,y.thisWeek)(),".goal_first_reached_at"),e)},w=function(e){function t(e){var r;return(0,i.default)(this,t),r=(0,l.default)(this,(0,s.default)(t).call(this,e)),(0,d.default)((0,u.default)(r),"onClose",function(){r.setState({openDay:!1,openWeek:!1})}),(0,d.default)((0,u.default)(r),"handleClick",function(){b.show(),r.setState({openDay:!1,openWeek:!1})}),r.state={openDay:!1,openWeek:!1},r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=E(e.stats);t&&Date.now()-t.getTime()<1e3&&this.setState({openDay:!0});var r=T(e.stats);r&&Date.now()-r.getTime()<1e3&&this.setState({openWeek:!0})}},{key:"render",value:function(){if(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<700)return null;var e=this.props,t=e.userName,r=e.stats,n=e.theme,a={userName:t,theme:n,open:this.state.openDay,goal:(0,y.dailyGoal)({stats:r}),onClose:this.onClose,onClick:this.handleClick},i={userName:t,theme:n,open:this.state.openWeek,goal:(0,y.weekGoal)({stats:r}),onClose:this.onClose,onClick:this.handleClick};return p.default.createElement(p.default.Fragment,null,p.default.createElement(_.default,a),p.default.createElement(v.default,i))}}]),t}(p.default.Component);(0,d.default)(w,"propTypes",{userName:m.default.string,stats:m.default.object});var R=function(e){return{userName:(0,f.get)("user.full_name",e),theme:(0,g.getTheme)(e),stats:e.stats}},P=(0,h.connect)(R)(w);r.default=P},{"../../containers/ProductivityStat":98,"../../reducers/settings":1036,"../../reducers/stats":1037,"../../utils/fp":1083,"./DailyGoalNotifier":625,"./WeeklyGoalNotifier":627,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],627:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=n(e("../reactist/TopNotifier")),f=n(e("../productivity_stat/TrophyIcon")),p=n(e("../../utils/format")),m=e("../../constants/themes"),h=[_("You did it, {user_name}!"),_("Nice work, {user_name}!"),_("Nicely done, {user_name}!"),_("You conquered the week!"),_("Treat yourself. You deserve it, {user_name}!")],v=function(e){var t=(new Date).getDate()%h.length;return(0,p.default)(h[t],{user_name:e})},b=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.open!==e.open}},{key:"header",value:function(){var e=this.props.goal,t=void 0===e?0:e,r=_n("Weekly goal completed: {num_completed}/{num_goal} task","Weekly goal completed: {num_completed}/{num_goal} tasks",t);return(0,p.default)(r,{num_completed:t,num_goal:t})}},{key:"render",value:function(){var e=this.props,t=e.open,r=void 0!==t&&t,n=e.theme,a=void 0===n?0:n,i=e.userName,o=void 0===i?"":i,l=e.onClick,s=e.onClose,c=(0,m.colorInHex)(a);return a!==m.THEME_SUNFLOWER&&a!==m.THEME_NEUTRAL||(c=(0,m.colorInHex)(m.THEME_NOIR)),a===m.THEME_DARK&&(c=m.DARK_THEME_ICON_COLOR),u.default.createElement(d.default,{open:r,onClose:s,autoHideDuration:6e3,onClick:l},r?u.default.createElement("div",{className:"goal_notifier"},u.default.createElement(f.default,{className:"icon",width:50,color:c}),u.default.createElement("div",{className:"content"},u.default.createElement("h1",null,this.header()),u.default.createElement("p",null,v(o)),u.default.createElement("a",{className:"cta"},_("View Detailed Stats")))):null)}}]),t}(u.default.Component);b.propTypes={theme:c.default.number,userName:c.default.string,goal:c.default.number,open:c.default.bool,onClick:c.default.func,onClose:c.default.func};var y=b;r.default=y},{"../../constants/themes":95,"../../utils/format":1079,"../productivity_stat/TrophyIcon":845,"../reactist/TopNotifier":876,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],628:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useCombinedRefs",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"usePrevious",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"useUpdateEffect",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"useLocalStorageState",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"useMenu",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"useFilterist",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"useTip",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"useGlobalEditorEffect",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"useRefCallback",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"useWindowDimensions",{enumerable:!0,get:function(){return p.default}});var a=n(e("./useCombinedRefs")),i=n(e("./usePrevious")),o=n(e("./useUpdateEffect")),l=n(e("./useLocalStorageState")),s=n(e("./useMenu")),u=n(e("./useFilterist")),c=n(e("./useTip")),d=n(e("./useGlobalEditorEffect")),f=n(e("./useRefCallback")),p=n(e("./useWindowDimensions"))},{"./useCombinedRefs":629,"./useFilterist":630,"./useGlobalEditorEffect":631,"./useLocalStorageState":632,"./useMenu":633,"./usePrevious":634,"./useRefCallback":635,"./useTip":636,"./useUpdateEffect":637,"./useWindowDimensions":638,"@babel/runtime/helpers/interopRequireDefault":189}],629:[function(e,t,r){"use strict";function n(e,t){t&&("function"==typeof t?t(e):t.current=e)}function a(e,t){return o.default.useCallback(function(r){n(r,e),n(r,t)},[e,t])}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=a;r.default=l},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],630:[function(e,t,r){"use strict";function n(e){var t=(0,o.useSelector)(function(e){return e});try{return[i.default.filter(e,t),null]}catch(e){if(e instanceof l.UnrecognizedSymbolError||e instanceof l.GrammarError)return[null,e];throw e}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("../../filterist")),o=e("react-redux"),l=e("../../filterist/errors")},{"../../filterist":117,"../../filterist/errors":114,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],631:[function(e,t,r){"use strict";function n(e){var t=e.editorShown,r=e.hideEditor,n=(0,o.default)(t),a=(0,i.useRef)();(0,i.useEffect)(function(){if(!n&&t){var e;"function"==typeof Event?e=new Event("itemeditorshow",{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent("itemeditorshow",!0,!1)),e.ref=a,document.dispatchEvent(e)}},[n,t]),(0,i.useEffect)(function(){var e=function(e){t&&e.ref!==a&&r(null)};return document.addEventListener("itemeditorshow",e),function(){document.removeEventListener("itemeditorshow",e)}},[t,r])}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=e("react"),o=a(e("./usePrevious"))},{"./usePrevious":634,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],632:[function(e,t,r){"use strict";function n(e){var t=localStorage.getItem(e);try{return"string"==typeof t?JSON.parse(t):void 0}catch(e){return}}function a(e,t){var r=t,a=(0,l.useRef)(!1);if(!a.current){var i=n(e);void 0!==i&&(r=i),a.current=!0}var s=(0,l.useState)(r),u=(0,o.default)(s,2),c=u[0],d=u[1];return(0,l.useEffect)(function(){void 0===c?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(c))},[e,c]),[c,d]}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=e("react"),s=a;r.default=s},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react"}],633:[function(e,t,r){"use strict";function n(){function e(){a(null),c(null)}var t=o.default.useState(null),r=(0,i.default)(t,2),n=r[0],a=r[1],l=o.default.useState(null),s=(0,i.default)(l,2),u=s[0],c=s[1];return{props:{anchor:n,mouseEvent:u,onHide:e},show:null!=n||null!=u,openOnClick:function(e){e.stopPropagation(),a(e.currentTarget),c(null)},openOnContextMenu:function(e){if(e.shiftKey)return!0;e.preventDefault(),e.persist(),c(e),a(e.currentTarget)},hideOnAction:function(t){return function(){t.apply(void 0,arguments),e()}},hide:e}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=a(e("react")),l=n;r.default=l},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react"}],634:[function(e,t,r){"use strict";function n(e){var t=(0,a.useRef)();return(0,a.useEffect)(function(){t.current=e},[e]),t.current}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a=e("react")},{react:"react"}],635:[function(e,t,r){"use strict";function n(e){var t=(0,a.useRef)(e);return(0,a.useLayoutEffect)(function(){t.current=e}),(0,a.useCallback)(function(e){return(0,t.current)(e)},[])}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a=e("react")},{react:"react"}],636:[function(e,t,r){"use strict";function n(e){var t=(0,l.useSelector)((0,s.createSelector)(function(t){return(0,u.isScheduled)(e,t)},function(t){return(0,u.hasSeen)(e,t)},function(e,t){return[e,t]})),r=(0,i.default)(t,2),n=r[0],a=r[1],c=(0,l.useDispatch)();return{isTipScheduled:n,hasSeenTip:a,markTipSeen:(0,o.useCallback)(function(){c((0,u.markSeen)(e))},[e,c])}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=e("react"),l=e("react-redux"),s=e("reselect"),u=e("../../reducers/tooltip")},{"../../reducers/tooltip":1040,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react","react-redux":"react-redux",reselect:"reselect"}],637:[function(e,t,r){"use strict";function n(e,t){null!=t&&0===t.length&&console.warn("useUpdateEffect running only on component mount will never be actually run. You should either add some meaningful dependencies to this effect or remove it altogether.");var r=i.default.useRef(!1);i.default.useEffect(function(){return r.current?e():void(r.current=!0)},t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],638:[function(e,t,r){"use strict";function n(){var e=(0,l.useState)(function(){return a()}),t=(0,o.default)(e,2),r=t[0],n=t[1];return(0,l.useEffect)(function(){var e=function(){var e=a();e.height===r.height&&e.width===r.width||n(e)};return window.addEventListener("resize",e,!1),function(){return window.removeEventListener("resize",e,!1)}},[r.height,r.width]),{height:r.height,width:r.width}}function a(){var e=window,t=e.innerHeight,r=e.innerWidth;return{height:"number"==typeof t?t:0,width:"number"==typeof r?r:0}}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=e("react"),s=n;r.default=s},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react"}],639:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("rect",{width:"15",height:"13",x:"4.5",y:"5.5",stroke:"currentColor",rx:"2"}),i.default.createElement("path",{fill:"currentColor",d:"M11.03 15.38a.5.5 0 0 0 .95-.04l1.64-5.89 1.5 3.26a.5.5 0 0 0 .45.29H20v-1h-4.11l-1.94-4.2a.5.5 0 0 0-.93.07l-1.58 5.7L10 9.64a.5.5 0 0 0-.91-.05L7.9 12H4v1h4.2a.5.5 0 0 0 .45-.28l.82-1.64 1.56 4.3z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],640:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",d:"M9 6.74L6.35 9.4a.5.5 0 0 1-.7-.7l3.53-3.54a.5.5 0 0 1 .7 0l3.55 3.53a.5.5 0 0 1-.71.7L10 6.69V18.5a.5.5 0 1 1-1 0V6.74zM17 15h2.5a.5.5 0 1 1 0 1H17v2.5a.5.5 0 1 1-1 0V16h-2.5a.5.5 0 1 1 0-1H16v-2.5a.5.5 0 1 1 1 0V15z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],641:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",d:"M9 17.26L6.35 14.6a.5.5 0 0 0-.7.7l3.53 3.54a.5.5 0 0 0 .7 0l3.55-3.53a.5.5 0 0 0-.71-.7L10 17.31V5.5a.5.5 0 1 0-1 0v11.76zM17 9h2.5a.5.5 0 1 0 0-1H17V5.5a.5.5 0 1 0-1 0V8h-2.5a.5.5 0 1 0 0 1H16v2.5a.5.5 0 1 0 1 0V9z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],642:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{fill:"currentColor",d:"M9 11V9a.5.5 0 0 1 1 0v2h2a.5.5 0 1 1 0 1h-2v2a.5.5 0 1 1-1 0v-2H7a.5.5 0 1 1 0-1h2zM4.5 21a.5.5 0 1 1 0-1h15a.5.5 0 1 1 0 1h-15zM6 6h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H6zM4.5 4a.5.5 0 0 1 0-1h15a.5.5 0 1 1 0 1h-15z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],643:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",d:"M11.67 17l-1-2.82H6.76L5.76 17H4.47l3.64-9.86h1.22L12.96 17h-1.29zm-3-8.27l-1.55 4.4h3.2l-1.55-4.4h-.1zm7.97 7.37c1.21 0 2.1-.8 2.1-1.85v-.68l-1.97.13c-1.12.08-1.62.47-1.62 1.2 0 .76.64 1.2 1.5 1.2zm-.22 1.03c-1.42 0-2.48-.85-2.48-2.2 0-1.31.97-2.07 2.68-2.17l2.13-.14v-.67c0-.9-.57-1.4-1.67-1.4-.88 0-1.5.33-1.66.91h-1.2c.17-1.18 1.33-1.96 2.9-1.96 1.8 0 2.8.92 2.8 2.45V17H18.8v-1.09h-.1a2.55 2.55 0 0 1-2.28 1.22z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],644:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{d:"M5 5h14v14H5z"}),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M8.5 15.5c0 .32.26.58.58.58h.59v2.04a.87.87 0 1 0 1.75 0v-2.04h1.16v2.04a.87.87 0 1 0 1.75 0v-2.04h.59c.32 0 .58-.26.58-.58V9.67h-7v5.83zM7.04 9.67a.87.87 0 0 0-.87.87v4.09a.87.87 0 1 0 1.75 0v-4.09a.87.87 0 0 0-.88-.87zm9.92 0a.87.87 0 0 0-.88.87v4.09a.87.87 0 1 0 1.75 0v-4.09a.87.87 0 0 0-.87-.87zm-2.9-3.41l.76-.76a.29.29 0 0 0 0-.41.29.29 0 0 0-.42 0l-.86.86A3.4 3.4 0 0 0 12 5.58c-.56 0-1.08.14-1.55.37l-.87-.86a.29.29 0 0 0-.41 0 .29.29 0 0 0 0 .41l.76.77A3.49 3.49 0 0 0 8.5 9.08h7a3.48 3.48 0 0 0-1.44-2.82zm-3.23 1.66h-.58v-.59h.58v.59zm2.92 0h-.58v-.59h.58v.59z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],645:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("g",{fill:"none"},i.default.createElement("path",{stroke:"currentColor",d:"M5.5 9.5V18A1.5 1.5 0 0 0 7 19.5h10a1.5 1.5 0 0 0 1.5-1.5V9.5h-13zm-1 0h15V7A1.5 1.5 0 0 0 18 5.5H6A1.5 1.5 0 0 0 4.5 7v2.5z"}),i.default.createElement("rect",{width:"6",height:"1",x:"9",y:"12",fill:"currentColor",rx:".5"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],646:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({viewBox:"0 0 24 24",width:"24",height:"24"},e),o.default.createElement("g",{fill:"none"},o.default.createElement("path",{fill:"currentColor",d:"M20 11v2a.5.5 0 1 1-1 0v-2h-2a.5.5 0 1 1 0-1h2V8a.5.5 0 1 1 1 0v2h2a.5.5 0 1 1 0 1h-2z"}),o.default.createElement("path",{stroke:"currentColor",d:"M12 5.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-6.5 12v.2c0 .4.6.8 1.5.8h10c.9 0 1.5-.4 1.5-.8v-.2c0-2.1-2.9-4-6.5-4s-6.5 1.9-6.5 4z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],647:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12.796 8.796l-4.325 4.325a2.162 2.162 0 0 0 3.058 3.058l6.825-6.825a3.328 3.328 0 0 0-4.708-4.708l-8.175 8.175a4.495 4.495 0 0 0 6.358 6.358l5.675-5.675a.5.5 0 0 0-.708-.708l-5.675 5.675A3.495 3.495 0 1 1 6.18 13.53l8.175-8.175a2.328 2.328 0 1 1 3.292 3.292l-6.825 6.825A1.162 1.162 0 0 1 9.18 13.83l4.325-4.325a.5.5 0 0 0-.708-.708z"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],648:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:"24",height:"24"},e),o.default.createElement("path",{fill:"currentColor",d:"M11 12.5v-5a.5.5 0 0 1 1 0V12h4.5a.5.5 0 1 1 0 1H11v-.5zm1 7.5a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],649:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24"},e),i.default.createElement("path",{fill:"currentColor",d:"M18.83 17a14.04 14.04 0 0 1-2.12-7.38C16.71 7.08 14.61 5 12 5S7.29 7.07 7.29 9.63c-.03 2.71-.69 4.9-2.13 7.37h13.68zM15 18a3 3 0 0 1-6 0H4v-1a13.41 13.41 0 0 0 2.29-7.38C6.29 6.53 8.85 4 12 4a5.67 5.67 0 0 1 5.71 5.63c.03 2.9.86 5.05 2.29 7.37v1h-5zm-1 0h-4a2 2 0 1 0 4 0z"}))},l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],650:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:"18",height:"18"},e),i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 6v7.077c0 .669-.07.911-.2 1.156a1.371 1.371 0 0 1-.567.567c-.245.13-.487.2-1.156.2H4.923c-.669 0-.911-.07-1.156-.2a1.363 1.363 0 0 1-.567-.567c-.13-.245-.2-.487-.2-1.156V4.5A1.5 1.5 0 0 1 4.5 3H5V1.5h1V3h6V1.5h1V3h.5A1.5 1.5 0 0 1 15 4.5V6zM5.117 6c-.473 0-.617.028-.764.108a.59.59 0 0 0-.247.252c-.078.15-.106.296-.106.777v5.726c0 .481.028.628.106.777a.59.59 0 0 0 .247.252c.147.08.291.108.764.108h7.766c.473 0 .617-.028.764-.108a.59.59 0 0 0 .247-.252c.078-.15.106-.296.106-.777V7.137c0-.481-.028-.628-.106-.777a.59.59 0 0 0-.247-.252C13.5 6.028 13.356 6 12.883 6H5.117z"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],651:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"medium":t,n=(0,o.default)(e,["size"]);return"small"===r?l.default.createElement("svg",(0,i.default)({width:"12",height:"12",viewBox:"0 0 12 12"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M9.5 1A1.5 1.5 0 0 1 11 2.5v7A1.5 1.5 0 0 1 9.5 11h-7A1.5 1.5 0 0 1 1 9.5v-7A1.5 1.5 0 0 1 2.5 1h7zm0 1h-7a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5zM8 7.25a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zM8.5 4a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5z"})):l.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm10 12a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM7 8h10a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types"));n.propTypes={size:s.default.oneOf(["small","medium"])}},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],652:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"medium":t,n=(0,o.default)(e,["size"]);return"large"===r?l.default.createElement("svg",(0,i.default)({width:"28",height:"28",viewBox:"0 0 28 28"},n),l.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},l.default.createElement("path",{d:"M6 3.5h16A2.5 2.5 0 0 1 24.5 6v2.5h-21V6A2.5 2.5 0 0 1 6 3.5z",opacity:".1"}),l.default.createElement("path",{d:"M22 3a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h16zm0 1H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm-3.109 12.188l.007.01-.004-.005-.003-.005zM21.5 8a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zM19 16.52a.504.504 0 0 1-.023.131l-.015.04a.494.494 0 0 1-.05.093l-.014.018a.503.503 0 0 1-.033.04l-3.511 3.512a.5.5 0 0 1-.765-.638l.057-.07L17.292 17H9.5a.5.5 0 0 1-.492-.41L9 16.5a.5.5 0 0 1 .41-.492L9.5 16h7.792l-2.646-2.646a.5.5 0 0 1 .638-.765l.07.057 3.511 3.513.017.019.009.01-.027-.03.03.035.029.04a.52.52 0 0 1 .066.162l.008.052v.007l-.002-.026.005.072v.02z"}))):l.default.createElement("svg",(0,i.default)({width:"24",height:"24",viewBox:"0 0 24 24"},n),l.default.createElement("g",{fill:"currentColor",fillRule:"evenodd"},l.default.createElement("path",{fillRule:"nonzero",d:"M6 4.5h12A1.5 1.5 0 0 1 19.5 6v2.5h-15V6A1.5 1.5 0 0 1 6 4.5z",opacity:".1"}),l.default.createElement("path",{fillRule:"nonzero",d:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm0 1H6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1zm-2.109 8.188l.007.01-.004-.005-.003-.005zM17 8a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1h10zm-1 5.52a.504.504 0 0 1-.023.131l-.015.04a.494.494 0 0 1-.05.093l-.014.018a.503.503 0 0 1-.033.04l-2.511 2.512a.5.5 0 0 1-.765-.638l.057-.07L14.292 14H8.5a.5.5 0 0 1-.492-.41L8 13.5a.5.5 0 0 1 .41-.492L8.5 13h5.792l-1.646-1.646a.5.5 0 0 1 .638-.765l.07.057 2.511 2.513.017.019.009.01-.027-.03.03.035.029.04a.52.52 0 0 1 .066.162l.008.052v.007l-.002-.026.005.072v.02z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],653:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm3.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],654:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:"24",height:"24"},e),o.default.createElement("path",{fill:"none",stroke:"currentColor",d:"M16 10l-4 4-4-4"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n
;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],655:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{fill:"currentColor",d:"M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm3.9-11.4a.5.5 0 0 1 .7.8l-6 6a.5.5 0 0 1-.7 0l-2.5-2.5a.5.5 0 0 1 .7-.8l2.1 2.2L16 8.6z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],656:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",width:"12",height:"12"},e),o.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.902 6.975l4.182-4.244a.74.74 0 0 1 1.06 0 .775.775 0 0 1 0 1.081L5.432 8.597a.74.74 0 0 1-1.06 0L1.78 5.975a.775.775 0 0 1 0-1.081.74.74 0 0 1 1.061 0l2.06 2.081z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],657:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 10l-4 4-4-4"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=n;r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],658:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:"24",height:"24",viewBox:"0 0 24 24"},e),o.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm3.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],659:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:"24",height:"24"},e),o.default.createElement("path",{fill:"currentColor",d:"M11 12.5v-5a.5.5 0 0 1 1 0V12h4.5a.5.5 0 1 1 0 1H11v-.5zm1 7.5a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],660:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=o.default.memo(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.small,r=(0,i.default)(e,["small"]),n=t?{width:"18",height:"18"}:{width:"24",height:"24"};return o.default.createElement("svg",(0,a.default)({viewBox:"0 0 24 24",className:"icon_close"},n,r),o.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M5.146 5.146a.5.5 0 0 1 .708 0L12 11.293l6.146-6.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 0 .708L12.707 12l6.147 6.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.708 0L12 12.707l-6.146 6.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1 0-.708L11.293 12 5.146 5.854a.5.5 0 0 1-.057-.638z"}))}),s=l;r.default=s},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],661:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{fill:"none",stroke:"currentColor",d:"M12 5.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-6.5 12v.2c0 .4.6.8 1.5.8h10c.9 0 1.5-.4 1.5-.8v-.2c0-2.1-2.9-4-6.5-4s-6.5 1.9-6.5 4z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],662:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12.5 6a.5.5 0 0 1 .5.5V12h5.5a.5.5 0 1 1 0 1H13v5.5a.5.5 0 1 1-1 0V13H6.5a.5.5 0 1 1 0-1H12V6.5a.5.5 0 0 1 .5-.5z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=n;r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],663:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"medium":t,n=(0,o.default)(e,["size"]);return"large"===r?l.default.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28"},l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12.996 2.532a.5.5 0 0 1-.431.56C7.12 3.803 3 8.46 3 14c0 6.075 4.925 11 11 11 5.54 0 10.198-4.12 10.907-9.564a.5.5 0 0 1 .992.13C25.125 21.505 20.045 26 14 26 7.373 26 2 20.627 2 14 2 7.955 6.495 2.875 12.436 2.101a.5.5 0 0 1 .56.431zM14 17.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zm0-9.498c.806 0 1.46.654 1.46 1.46l-.002.043-.464 5.825c-.098 1.223-1.89 1.223-1.988 0l-.46-5.752a1.46 1.46 0 0 1 1.198-1.553l.14-.018.116-.005zm7.305-3.523a11.988 11.988 0 0 1 4.594 7.957.5.5 0 0 1-.992.129 10.988 10.988 0 0 0-4.211-7.293.5.5 0 0 1 .609-.793zm-5.83-2.381l.09.003c1.047.137 2.064.41 3.03.81a.5.5 0 1 1-.384.924 10.921 10.921 0 0 0-2.775-.742.5.5 0 0 1-.048-.983l.087-.012z"})):l.default.createElement("svg",(0,i.default)({width:"24",height:"24",viewBox:"0 0 24 24"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M10.992 3.544a.5.5 0 0 1-.404.58A8.002 8.002 0 0 0 4 12a8 8 0 0 0 8 8c3.892 0 7.201-2.8 7.876-6.588a.5.5 0 1 1 .984.176A9.002 9.002 0 0 1 12 21a9 9 0 0 1-9-9 9.002 9.002 0 0 1 7.412-8.86.5.5 0 0 1 .58.404zM12 14.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-7c.545 0 .986.442.986.986l-.001.055-.236 4.25c-.053.945-1.445.945-1.498 0l-.236-4.25a.986.986 0 0 1 .93-1.04L12 7.5zm5.805-2.378a8.99 8.99 0 0 1 3.055 5.29.5.5 0 1 1-.984.176 7.99 7.99 0 0 0-2.716-4.702.5.5 0 0 1 .645-.764zM13.588 3.14c.5.089.991.22 1.467.392a.5.5 0 0 1-.34.94 7.938 7.938 0 0 0-1.303-.348.5.5 0 0 1 .176-.984z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],664:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"medium":t,n=e.date,a=(0,o.default)(e,["size","date"]);return"large"===r?l.default.createElement("svg",(0,i.default)({width:"28",height:"28"},a),l.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},l.default.createElement("path",{d:"M12.996 2.532a.5.5 0 0 1-.431.56C7.12 3.803 3 8.46 3 14c0 6.075 4.925 11 11 11 5.54 0 10.198-4.12 10.907-9.564a.5.5 0 0 1 .992.13C25.125 21.505 20.045 26 14 26 7.373 26 2 20.627 2 14 2 7.955 6.495 2.875 12.436 2.101a.5.5 0 0 1 .56.431zm8.309 1.947a11.988 11.988 0 0 1 4.594 7.957.5.5 0 0 1-.992.129 10.988 10.988 0 0 0-4.211-7.293.5.5 0 0 1 .609-.793zm-5.83-2.381l.09.003c1.047.137 2.064.41 3.03.81a.5.5 0 1 1-.384.924 10.921 10.921 0 0 0-2.775-.742.5.5 0 0 1-.048-.983l.087-.012z"}),l.default.createElement("text",{fontFamily:"-apple-system, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol",fontSize:"12",fontWeight:"500"},l.default.createElement("tspan",{x:"14",y:"18",textAnchor:"middle"},n)))):l.default.createElement("svg",(0,i.default)({width:"24",height:"24",viewBox:"0 0 24 24"},a),l.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},l.default.createElement("path",{d:"M10.992 3.544a.5.5 0 0 1-.404.58A8.002 8.002 0 0 0 4 12a8 8 0 0 0 8 8c3.892 0 7.201-2.8 7.876-6.588a.5.5 0 1 1 .984.176A9.002 9.002 0 0 1 12 21a9 9 0 0 1-9-9 9.002 9.002 0 0 1 7.412-8.86.5.5 0 0 1 .58.404zm6.813 1.578a8.99 8.99 0 0 1 3.055 5.29.5.5 0 1 1-.984.176 7.99 7.99 0 0 0-2.716-4.702.5.5 0 0 1 .645-.764zM13.588 3.14c.5.089.991.22 1.467.392a.5.5 0 0 1-.34.94 7.938 7.938 0 0 0-1.303-.348.5.5 0 0 1 .176-.984z"}),l.default.createElement("text",{fontFamily:"-apple-system, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",fontSize:9,transform:"translate(4 2)"},l.default.createElement("tspan",{x:8,y:13,textAnchor:"middle",fontWeight:"500"},n))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],665:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{d:"M0 0h24v24H0z"}),i.default.createElement("rect",{width:"14",height:"1",x:"5",y:"6",fill:"currentColor",rx:".5"}),i.default.createElement("path",{fill:"currentColor",d:"M10 9h1v8h-1V9zm3 0h1v8h-1V9z"}),i.default.createElement("path",{stroke:"currentColor",d:"M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"})))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],666:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24"},e),i.default.createElement("g",{fill:"currentColor",fillRule:"evenodd"},i.default.createElement("g",{transform:"translate(4 3)"},i.default.createElement("rect",{width:"17",height:"1",y:"14",rx:".5"}),i.default.createElement("path",{d:"M9 10.293l2.146-2.147a.5.5 0 0 1 .708.708L9.207 11.5a1 1 0 0 1-1.414 0L5.146 8.854a.5.5 0 0 1 .708-.708L8 10.293V1a.5.5 0 0 1 1 0v9.293z"}))))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],667:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:24,height:24},e),i.default.createElement("path",{d:"M9.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-5-5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z",fill:"currentColor",fillRule:"evenodd"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],668:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:"24",height:"24"},e),o.default.createElement("path",{d:"M9.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-5-5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z",fill:"currentColor"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],669:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("g",{fill:"none"},i.default.createElement("path",{fill:"currentColor",d:"M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V14H7.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"}),i.default.createElement("rect",{width:"12",height:"12",x:"4.5",y:"7.5",stroke:"currentColor",rx:"2"}),i.default.createElement("path",{fill:"currentColor",d:"M19 16.7V6a1 1 0 0 0-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],670:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24"},e),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{fill:"currentColor",d:"M9.5 19h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z"}),i.default.createElement("path",{stroke:"currentColor",d:"M4.42 16.03a1.5 1.5 0 0 0-.43.9l-.22 2.02a.5.5 0 0 0 .55.55l2.02-.21a1.5 1.5 0 0 0 .9-.44L18.7 7.4a1.5 1.5 0 0 0 0-2.12l-.7-.7a1.5 1.5 0 0 0-2.13 0L4.42 16.02z"})))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],671:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{fill:"currentColor",d:"M6 6h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H6zm10.7 1.6a.5.5 0 0 1 .6.8L12 13.1 6.7 9.4a.5.5 0 1 1 .6-.8l4.7 3.3 4.7-3.3z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=n;r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],672:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24"},e),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 4a8 8 0 1 1 0 16 8 8 0 0 1 0-16zm0 1a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm2.45 8a.5.5 0 0 1 .49.6 3 3 0 0 1-5.88 0 .5.5 0 0 1 .49-.6h4.9zm.05-4a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],673:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{fill:"currentColor",d:"M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V14H7.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"}),i.default.createElement("rect",{width:"12",height:"12",x:"4.5",y:"7.5",stroke:"currentColor",rx:"2"}),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M19 16.7V6a1 1 0 0 0-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"})))},l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],674:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:24,height:24},e),i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.12 20h-4.08v-6.2h2.08l.31-2.41h-2.39V9.85c0-.7.2-1.18 1.2-1.18h1.27V6.51c-.22-.03-.98-.1-1.86-.1-1.84 0-3.1 1.13-3.1 3.2v1.78h-2.09v2.41h2.09V20H4.88a.88.88 0 0 1-.88-.88V4.88c0-.49.4-.88.88-.88h14.24c.48 0 .88.4.88.88v14.24a.88.88 0 0 1-.88.88z"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],675:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 3a9 9 0 0 1 0 18 9.002 9.002 0 0 1-8.86-7.411.5.5 0 0 1 .984-.176A8.002 8.002 0 0 0 12 20 8 8 0 1 0 4.614 8.922L4.582 9H7.5a.5.5 0 0 1 .492.41L8 9.5a.5.5 0 0 1-.41.492L7.5 10h-4a.5.5 0 0 1-.492-.41L3 9.5v-4a.5.5 0 0 1 .992-.09L4 5.5v2.373A9.002 9.002 0 0 1 12 3zm3.646 5.896a.5.5 0 0 1 .708.708l-5.5 5.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708l2.146 2.147z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],676:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),i=a.default.memo(function(){return a.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 19a5 5 0 0 0 5-5c0-1.102-.345-2-1.064-3.03-.259-.371-1.414-1.832-1.697-2.225-.775-1.077-1.338-2.124-1.765-3.403a.5.5 0 0 0-.948 0c-.427 1.28-.99 2.326-1.765 3.403-.283.393-1.438 1.854-1.697 2.225C7.344 12 7 12.898 7 14a5 5 0 0 0 5 5z"}))}),o=i;r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],677:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("path",{fill:"none",stroke:"currentColor",d:"M12 18.345c5.642-4.767 6.354-5.448 7.099-6.988a3.79 3.79 0 0 0 .401-1.69c0-2.307-1.772-4.167-3.944-4.167-1.252 0-2.407.62-3.15 1.657L12 7.725l-.407-.568C10.851 6.12 9.696 5.5 8.444 5.5 6.272 5.5 4.5 7.36 4.5 9.667c0 .582.13 1.13.401 1.69.745 1.54 1.457 2.221 7.099 6.988z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=n;r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],678:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:24,height:24},e),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{fill:"currentColor",d:"M11.9 16.5c-.46 0-.8-.35-.8-.85s.34-.86.8-.86c.48 0 .8.36.8.86s-.32.85-.8.85zM9.5 9.87c.06-1.32.9-2.37 2.54-2.37 1.46 0 2.46.95 2.46 2.21 0 .96-.47 1.64-1.22 2.11-.73.46-.94.8-.94 1.45v.4h-1.02v-.57c0-.8.37-1.36 1.16-1.86.68-.43.94-.82.94-1.47 0-.76-.56-1.32-1.43-1.32-.87 0-1.43.55-1.5 1.42H9.5z"}),i.default.createElement("circle",{cx:12,cy:12,r:7.5,stroke:"currentColor"})))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],679:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:"24",height:"24"},e),o.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 12h4v1h-5V8h1v4zm-7 0h2l-2.5 3L2 12h2a8 8 0 1 1 8 8v-1a7 7 0 1 0-7-7z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],680:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 14.22c-.22.7-.58 1.4-1.06 2.1-.74 1.1-1.48 1.66-2.21 1.66-.28 0-.69-.1-1.21-.27a3.9 3.9 0 0 0-1.3-.27c-.35 0-.76.09-1.22.27-.47.2-.85.29-1.14.29-.87 0-1.74-.73-2.6-2.18A8.47 8.47 0 0 1 6 11.59c0-1.28.32-2.33.97-3.15a3 3 0 0 1 2.45-1.2c.41 0 .92.08 1.52.24.6.17 1 .26 1.2.26.25 0 .66-.1 1.22-.29.6-.19 1.09-.29 1.5-.29.68 0 1.3.19 1.83.55a4.4 4.4 0 0 1 .9.84c-.46.38-.79.7-.99 1a2.95 2.95 0 0 0-.56 1.74c0 .7.2 1.32.6 1.87.4.56.85.91 1.36 1.06zm-3.24-9.87c0 .35-.08.73-.25 1.15a3.45 3.45 0 0 1-.8 1.16c-.31.3-.62.5-.93.6-.21.07-.51.11-.9.15.02-.84.24-1.56.68-2.17.42-.6 1.14-1.01 2.15-1.24a.8.8 0 0 1 .02.1.8.8 0 0 0 .02.08v.09l.01.08z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],681:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=o.default.memo(function(e){var t=e.size,r=void 0===t?"medium":t,n=(0,i.default)(e,["size"]);return"small"===r?o.default.createElement("svg",(0,a.default)({width:"16",height:"16",viewBox:"0 0 16 16"},n),o.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},o.default.createElement("path",{d:"M13.5 9.5V12a1.5 1.5 0 0 1-1.5 1.5H4A1.5 1.5 0 0 1 2.5 12V9.5h3.75a1.75 1.75 0 0 0 3.5 0h3.75z",opacity:".1"}),o.default.createElement("path",{d:"M10.491 2a2 2 0 0 1 1.923 1.45l1.509 5.28a2 2 0 0 1 .077.55V12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.28a2 2 0 0 1 .077-.55l1.509-5.28A2 2 0 0 1 5.509 2h4.982zm0 1H5.51a1 1 0 0 0-.962.725l-1.509 5.28A1 1 0 0 0 3 9.28V12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9.28a1 1 0 0 0-.038-.275l-1.51-5.28a1 1 0 0 0-.96-.725zM6.25 9a.5.5 0 0 1 .5.5 1.25 1.25 0 0 0 2.5 0 .5.5 0 0 1 .5-.5h1.75a.5.5 0 1 1 0 1h-1.306a2.25 2.25 0 0 1-4.388 0H4.5a.5.5 0 0 1 0-1z"}))):o.default.createElement("svg",(0,a.default)({width:"24",height:"24",viewBox:"0 0 24 24"},n),o.default.createElement("g",{fill:"currentColor",fillRule:"evenodd"},o.default.createElement("path",{fillRule:"nonzero",d:"M10 14.5a2 2 0 1 0 4 0h5.5V18a1.5 1.5 0 0 1-1.5 1.5H6A1.5 1.5 0 0 1 4.5 18v-3.5H10z",opacity:".1"}),o.default.createElement("path",{fillRule:"nonzero",d:"M8.062 4h7.876a2 2 0 0 1 1.94 1.515l2.062 8.246a2 2 0 0 1 .06.485V18a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3.754a2 2 0 0 1 .06-.485L6.12 5.515A2 2 0 0 1 8.061 4zm0 1a1 1 0 0 0-.97.757L5.03 14.004a1 1 0 0 0-.03.242V18a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-3.754a1 1 0 0 0-.03-.242L16.91 5.757a1 1 0 0 0-.97-.757H8.061zM12 17.25A2.75 2.75 0 0 1 9.295 15H7a.5.5 0 1 1 0-1h2.75a.5.5 0 0 1 .5.5 1.75 1.75 0 0 0 3.5 0 .5.5 0 0 1 .5-.5H17a.5.5 0 1 1 0 1h-2.295A2.75 2.75 0 0 1 12 17.25z"})))}),s=l;r.default=s},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],682:[function(e,t,r){"use strict";function n(e){var t=Object.assign({},e);return o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},t),o.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm.5 6a.5.5 0 0 1 .5.5V15h1a.5.5 0 1 1 0 1h-3a.5.5 0 1 1 0-1h1v-4h-1a.5.5 0 1 1 0-1h1.5zm-.16-2.68a.84.84 0 1 1 0 1.68.84.84 0 0 1 0-1.68z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],683:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M4.5 2A2.5 2.5 0 0 1 5 6.95V8.5a2.5 2.5 0 0 0 2.336 2.495L7.5 11h1.55a2.5 2.5 0 1 1 0 1H7.5a3.5 3.5 0 0 1-3.495-3.308L4 8.5V6.95A2.5 2.5 0 0 1 4.5 2zm7 8a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-7-7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],684:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",d:"M16 8H6a1 1 0 0 0-1 1v2h14V9a1 1 0 0 0-1-1h-2zM8 7V6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h2zm1 0h6V6a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v1zm10 5H5v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],685:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"currentColor",fillRule:"evenodd"},i.default.createElement("path",{d:"M6.5 14h2v1h-2v-1zm10-2h1v1h-1v-1zm0-2h1v1h-1v-1zm-10 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm1 4h2v1h-2v-1zm-6 0h5v1h-5v-1z"}),i.default.createElement("path",{fillRule:"nonzero",d:"M6.56 7c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C5.04 7.7 5 7.9 5 8.56v6.88c0 .66.04.86.15 1.07a.82.82 0 0 0 .34.34c.21.11.41.15 1.07.15h10.88c.66 0 .86-.04 1.07-.15a.82.82 0 0 0 .34-.35c.11-.2.15-.4.15-1.06V8.56c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56zm0-1h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v6.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 0 1-.75.75c-.33.18-.65.27-1.54.27H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 0 1-.75-.75c-.18-.33-.27-.65-.27-1.54V8.56c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],686:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),i=a.default.memo(function(){return a.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M5.914 11.086l4.5-4.5A2 2 0 0 1 11.828 6H16a2 2 0 0 1 2 2v4.172a2 2 0 0 1-.586 1.414l-4.5 4.5a2 2 0 0 1-2.828 0l-4.172-4.172a2 2 0 0 1 0-2.828zM14 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}))}),o=i;r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],687:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{fill:"none",stroke:"currentColor",d:"M4.5 8v8c0 .82.72 1.5 1.62 1.5h9.31c.44 0 1.04-.29 1.28-.61l3.32-4.38c.2-.27.2-.75 0-1.02L16.7 7.11a1.86 1.86 0 0 0-1.28-.61H6.12c-.9 0-1.62.69-1.62 1.5z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],688:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{stroke:"currentColor",d:"M6.5 8.3V5.63c0-1.17.9-2.13 2-2.13h7c1.1 0 2 .95 2 2.13v11.74c0 1.17-.9 2.13-2 2.13h-7c-1.1 0-2-.95-2-2.13V14.7"}),i.default.createElement("path",{fill:"currentColor",d:"M12.8 11l-2.15-2.15a.5.5 0 1 1 .7-.7L14 10.79a1 1 0 0 1 0 1.42l-2.65 2.64a.5.5 0 0 1-.7-.7L12.79 12H4.5a.5.5 0 0 1 0-1h8.3z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],689:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",id:"lightbulb_outline",d:"M12 6c3.052 0 5.5 2.448 5.5 5.5 0 1.32-.393 2.274-1.266 3.562l-.425.615c-.588.856-.891 1.411-1.078 2.02l-.468 2.338a1.2 1.2 0 0 1-1.177.965h-2.172a1.2 1.2 0 0 1-1.177-.965l-.458-2.291c-.21-.68-.512-1.23-1.088-2.067l-.425-.615C6.893 13.774 6.5 12.819 6.5 11.5 6.5 8.448 8.948 6 12 6zm1.65 12h-3.3l.368 1.84a.2.2 0 0 0 .196.16h2.172a.2.2 0 0 0 .196-.16L13.65 18zM12 7c-2.5 0-4.5 2-4.5 4.5 0 2.326 1.73 3.353 2.576 5.498h3.848c.845-2.145 2.576-3.172 2.576-5.498C16.5 9 14.5 7 12 7zm7.582 7.1l1.848.765a.5.5 0 1 1-.383.924l-1.847-.766a.5.5 0 0 1 .382-.923zm-14.511.27a.5.5 0 0 1-.27.653l-1.848.766a.5.5 0 0 1-.383-.924l1.848-.765a.5.5 0 0 1 .653.27zM21.7 7.482a.5.5 0 0 1-.27.653l-1.849.765a.5.5 0 0 1-.382-.923l1.847-.766a.5.5 0 0 1 .654.27zm-18.748-.27l1.847.765a.5.5 0 0 1-.382.923L2.57 8.135a.5.5 0 1 1 .383-.924zm13.065-5.413a.5.5 0 0 1 .27.654L15.524 4.3a.5.5 0 0 1-.923-.382l.765-1.848a.5.5 0 0 1 .653-.27zm-7.383.27l.766 1.85a.5.5 0 0 1-.923.382L7.71 2.453a.5.5 0 1 1 .924-.383z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],690:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"
},i.default.createElement("path",{fill:"currentColor",d:"M7.39 12.339l.706.707-1.768 1.768a2 2 0 1 0 2.829 2.828l3.535-3.535a2 2 0 0 0 0-2.829l.707-.707a3 3 0 0 1 0 4.243l-3.535 3.535a3 3 0 0 1-4.243-4.242l1.768-1.768zm8.838-.354l-.707-.707 1.768-1.768a2 2 0 1 0-2.829-2.828l-3.535 3.536a2 2 0 0 0 0 2.828l-.707.707a3 3 0 0 1 0-4.243l3.535-3.535a3 3 0 0 1 4.243 4.243l-1.768 1.767z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],691:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",d:"M10 11.5c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm0 4c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm0-8c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm-4 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],692:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:"24",height:"24"},e),o.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 19c-3.3-4.2-5-7.2-5-9a5 5 0 1 1 10 0c0 1.8-1.7 4.8-5 9zm0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],693:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("rect",{width:"13",height:"9",x:"5.5",y:"6.5",stroke:"currentColor",rx:"2"}),i.default.createElement("path",{fill:"currentColor",d:"M14.02 18H10v-1.72c0-.44.05-.6.13-.77a.9.9 0 0 1 .38-.38c.17-.08.33-.13.77-.13h1.46c.44 0 .6.05.77.13.16.1.29.22.38.38.08.17.13.33.13.77V18z"}),i.default.createElement("path",{fill:"currentColor",d:"M15 18H9a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1zM5 13h14a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],694:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 11.4l4.7-3.8a.5.5 0 1 1 .6.8L12 12.6 6.7 8.4a.5.5 0 0 1 .6-.8l4.7 3.8z"}),i.default.createElement("rect",{width:"15",height:"13",x:"4.5",y:"5.5",stroke:"currentColor",rx:"2"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],695:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24"},e),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M17.5 10a.5.5 0 0 1 .492.41l.008.09V12a6 6 0 0 1-5.5 5.98V20h3a.5.5 0 0 1 .492.41l.008.09a.5.5 0 0 1-.41.492L15.5 21h-7a.5.5 0 0 1-.09-.992L8.5 20h3v-2.02a6 6 0 0 1-5.495-5.745L6 12v-1.5a.5.5 0 0 1 .992-.09L7 10.5V12a5 5 0 0 0 9.995.217L17 12v-1.5a.5.5 0 0 1 .5-.5zM12 3a4 4 0 0 1 4 4v5a4 4 0 1 1-8 0V7a4 4 0 0 1 4-4zm0 1a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V7a3 3 0 0 0-3-3z"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],696:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"medium":t,n=(0,o.default)(e,["size"]);return"large"===r?l.default.createElement("svg",(0,i.default)({width:"28",height:"28",viewBox:"0 0 28 28"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M21 11.5a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm-7 0a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm-7 0a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm14 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-7 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-7 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"})):l.default.createElement("svg",{width:"24",height:"24"},l.default.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",transform:"translate(3 10)"},l.default.createElement("circle",{cx:"2",cy:"2",r:"2"}),l.default.createElement("circle",{cx:"9",cy:"2",r:"2"}),l.default.createElement("circle",{cx:"16",cy:"2",r:"2"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],697:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:15,height:3},e),i.default.createElement("path",{d:"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z",fill:"currentColor",fillRule:"evenodd"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],698:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("g",{fill:"none",transform:"translate(4 4)"},i.default.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"currentColor"}),i.default.createElement("path",{fill:"currentColor",d:"M10.11 7.82L8.15 5.85a.5.5 0 1 1 .7-.7l2.83 2.82a.5.5 0 0 1 0 .71l-2.83 2.83a.5.5 0 1 1-.7-.7l1.98-1.99H4.5a.5.5 0 1 1 0-1h5.61z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],699:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("g",{fill:"currentColor",fillRule:"evenodd"},i.default.createElement("path",{fillRule:"nonzero",d:"M6 4.5h12A1.5 1.5 0 0 1 19.5 6v2.5h-15V6A1.5 1.5 0 0 1 6 4.5z",opacity:".1"}),i.default.createElement("path",{fillRule:"nonzero",d:"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm10 12a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm8-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM7 8h10a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1z"})))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],700:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),o.default.createElement("g",{fill:"none",fillRule:"evenodd"},o.default.createElement("path",{d:"M0 24V0h24v24z"}),o.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M13.293 12L9.646 8.354a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 12z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],701:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","data-svgs-path":"sm1/comments.svg"},e),o.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react")),l=n;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],702:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"medium":t,n=(0,o.default)(e,["size"]);return"small"===r?l.default.createElement("svg",(0,i.default)({width:"12",height:"12",viewBox:"0 0 12 12"},n),l.default.createElement("g",{fill:"none",fillRule:"evenodd"},l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M9.5 1A1.5 1.5 0 0 1 11 2.5v5A1.5 1.5 0 0 1 9.5 9H7.249L5.28 10.97A.75.75 0 0 1 4 10.44V9H2.5A1.5 1.5 0 0 1 1 7.5v-5A1.5 1.5 0 0 1 2.5 1h7zm0 1h-7a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5H5v1.836L6.835 8H9.5a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5z"}))):l.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","data-svgs-path":"sm1/comments.svg"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793zM11 20.086L14.086 17H19a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h6v3.086z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=n;r.default=s},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],703:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:13,height:13},e),i.default.createElement("path",{d:"M6 6V.5a.5.5 0 0 1 1 0V6h5.5a.5.5 0 1 1 0 1H7v5.5a.5.5 0 1 1-1 0V7H.5a.5.5 0 0 1 0-1H6z",fill:"currentColor",fillRule:"evenodd"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],704:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("rect",{width:"12",height:"12",x:"4.5",y:"7.5",stroke:"currentColor",rx:"2"}),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M19 16.72V6a1 1 0 0 0-1-1H7.28c.17-.32.43-.56.74-.73.33-.18.65-.27 1.54-.27h7.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v7.88c0 .89-.1 1.21-.27 1.54-.17.31-.41.57-.73.74zm-1.56.28H9.56h7.88z"}),i.default.createElement("path",{fill:"currentColor",d:"M12.3 11H9.5a.5.5 0 1 1 0-1h4a.5.5 0 0 1 .5.5v4a.5.5 0 1 1-1 0v-2.8l-4.15 4.15a.5.5 0 0 1-.7-.7L12.29 11z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],705:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"medium":t,n=(0,o.default)(e,["size"]);return"large"===r?l.default.createElement("svg",(0,i.default)({width:"28",height:"28"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M19.646 1.146a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L22.792 6H14a9.5 9.5 0 0 0-9.496 9.23l-.004.27A9.5 9.5 0 0 0 14 25a9.504 9.504 0 0 0 9.065-6.649.5.5 0 1 1 .954.3A10.504 10.504 0 0 1 14 26C8.201 26 3.5 21.299 3.5 15.5S8.201 5 14 5h8.792l-3.146-3.146a.5.5 0 0 1-.057-.638z"})):l.default.createElement("svg",(0,i.default)({width:"24",height:"24"},n),l.default.createElement("path",{fill:"currentColor",d:"M18.121 4l-1.939-1.94a.5.5 0 0 1 .707-.706l2.829 2.828a.5.5 0 0 1 0 .707l-2.829 2.829a.5.5 0 0 1-.707-.708L18.192 5H12a7 7 0 1 0 6.929 8h1.009A8 8 0 1 1 12 4h6.121z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],706:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),o.default.createElement("g",{fill:"none",fillRule:"evenodd"},o.default.createElement("path",{d:"M24 0v24H0V0z"}),o.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M10.707 12l3.647 3.646a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 0 1 .708.708L10.707 12z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],707:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M15 18v-1h2.44c.66 0 .86-.04 1.07-.15a.82.82 0 0 0 .34-.35c.11-.2.15-.4.15-1.06v-4.88c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C5.04 9.7 5 9.9 5 10.56v4.88c0 .66.04.86.15 1.07a.82.82 0 0 0 .34.34c.21.11.41.15 1.07.15H9v1H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 0 1-.75-.75c-.18-.33-.27-.65-.27-1.54v-4.88c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v4.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 0 1-.75.75c-.33.18-.65.27-1.54.27H15z"}),i.default.createElement("path",{stroke:"currentColor",d:"M15.5 13.5h-7v3.94c0 .73.05 1.01.2 1.3.14.24.32.42.56.55.29.16.57.21 1.3.21h2.88c.73 0 1.01-.05 1.3-.2.24-.14.42-.32.55-.56.16-.29.21-.57.21-1.3V13.5z"}),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M17 7h-1v-.44c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.34-.34C15.3 5.04 15.1 5 14.44 5H9.56c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C8.04 5.7 8 5.9 8 6.57V7H7v-.44c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27h4.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54V7z"}),i.default.createElement("path",{fill:"currentColor",d:"M16 11h1v1h-1z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],708:[function(e,t,r){"use strict";function n(e){var t=e.priority;if(1===t)return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("g",{fill:"#808080"},i.default.createElement("path",{d:"M5 5.5L6 5v14.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5v-14z"}),i.default.createElement("path",{d:"M5 13.51V5.29l.26-.15c.17-.09.46-.21.88-.33 1.62-.47 3.65-.46 6.02.31a11.9 11.9 0 0 0 6.91.15l.21-.06.09-.02.1-.01c.18-.05.18-.05.51.5l.01 8.29-.32.12c-.2.08-.58.2-1.09.31a12.7 12.7 0 0 1-6.74-.33 9.2 9.2 0 0 0-5.43-.3 3.66 3.66 0 0 0-.67.25.5.5 0 0 1-.74-.47.5.5 0 0 1 0-.04zm1.14-.7a10.2 10.2 0 0 1 6.02.31 11.72 11.72 0 0 0 6.83.15V6.32a12.63 12.63 0 0 1-.47.11c-2.08.43-4.34.4-6.68-.36A9.2 9.2 0 0 0 6 5.91v6.94l.14-.04z"})));var r=l.PRIORITY_COLORS[t];return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("g",{fill:r},i.default.createElement("path",{d:"M5 5.5L6 5v14.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5v-14z"}),i.default.createElement("path",{stroke:r,d:"M5.5 13.58s2.42-1.32 6.5.02 7.5.03 7.5.03l-.02-7.95c.01-.05-3.4 1.26-7.48-.08s-6.5-.02-6.5-.02v7.93"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=e("../../models/Colors");n.propTypes={priority:o.default.oneOf([1,2,3,4])}},{"../../models/Colors":151,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],709:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-svgs-path":"sm1/priority_flag.svg"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{d:"M0 0h24v24H0z"}),i.default.createElement("g",{fill:"currentColor"},i.default.createElement("path",{d:"M5 5.5L6 5v14.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5v-14z"}),i.default.createElement("path",{fillRule:"nonzero",d:"M5 13.51V5.29l.26-.15c.17-.09.46-.21.88-.33 1.62-.47 3.65-.46 6.02.31a11.9 11.9 0 0 0 6.91.15l.21-.06.09-.02.1-.01c.18-.05.18-.05.51.5l.01 8.29-.32.12c-.2.08-.58.2-1.09.31a12.7 12.7 0 0 1-6.74-.33 9.2 9.2 0 0 0-5.43-.3 3.66 3.66 0 0 0-.67.25.5.5 0 0 1-.74-.47.5.5 0 0 1 0-.04zm1.14-.7a10.2 10.2 0 0 1 6.02.31 11.72 11.72 0 0 0 6.83.15V6.32a12.63 12.63 0 0 1-.47.11c-2.08.43-4.34.4-6.68-.36A9.2 9.2 0 0 0 6 5.91v6.94l.14-.04z"}))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],710:[function(e,t,r){"use strict";function n(e){var t=e.size,r=(0,s.default)(e,["size"]),n=(0,u.useMemo)(function(){return(0,f.UUID)()},[]);return"xsmall"===t?u.default.createElement("svg",(0,l.default)({width:"12",height:"12",viewBox:"0 0 12 12"},r),u.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 7c2.517 0 4.083.76 4.7 2.28A1.25 1.25 0 0 1 9.542 11H2.458A1.25 1.25 0 0 1 1.3 9.28C1.917 7.76 3.483 7 6 7zm0-6a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5z"})):"small"===t?u.default.createElement("svg",(0,l.default)({width:"16",height:"16",viewBox:"0 0 16 16"},r),u.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M8 9c2.517 0 4.083.76 4.7 2.28A1.25 1.25 0 0 1 11.542 13H4.458A1.25 1.25 0 0 1 3.3 11.28C3.917 9.76 5.483 9 8 9zm0-6a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5z"})):u.default.createElement("svg",(0,l.default)({width:"24",height:"24"},r),u.default.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(5 5)"},u.default.createElement("mask",{id:n,fill:"#fff"},u.default.createElement("path",{d:"M0 12.3C0 9.8 3.2 8 7 8s7 1.8 7 4.3c0 1-.7 1.7-2 1.7H2c-1.3 0-2-.6-2-1.8zM7 0a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7z"})),u.default.createElement("g",{mask:"url(#".concat(n,")")},u.default.createElement("path",{fill:"currentColor",d:"M-5-5h24v24H-5z"}))))}function a(e){var t=e.size,r=(0,s.default)(e,["size"]);return"xsmall"===t?u.default.createElement("svg",(0,l.default)({width:"12",height:"12",viewBox:"0 0 12 12"},r),u.default.createElement("circle",{cx:"6",cy:"6",r:"4",fill:"currentColor",fillRule:"nonzero"})):"small"===t?u.default.createElement("svg",(0,l.default)({width:"16",height:"16",viewBox:"0 0 16 16"},r),u.default.createElement("circle",{cx:"8",cy:"8",r:"3.5",fill:"currentColor",fillRule:"nonzero"})):u.default.createElement("svg",(0,l.default)({width:"24",height:"24"},r),u.default.createElement("path",{d:"M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10z",fill:"currentColor",fillRule:"nonzero"}))}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("@babel/runtime/helpers/extends")),s=o(e("@babel/runtime/helpers/objectWithoutProperties")),u=i(e("react")),c=o(e("prop-types")),d=i(e("../../models/Colors")),f=e("../../components/misc/Util"),p=u.default.memo(function(e){var t=e.color,r=e.isShared,i=void 0!==r&&r,o=e.size,l=void 0===o?"medium":o,s=t?{color:d.getHex("project",t)}:{};return i?u.default.createElement(n,{size:l,style:s}):u.default.createElement(a,{size:l,style:s})});p.propTypes={color:c.default.number.isRequired,isShared:c.default.bool,size:c.default.oneOf(["xsmall","small","medium"])};var m=p;r.default=m},{"../../components/misc/Util":47,"../../models/Colors":151,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],711:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{fill:"currentColor",d:"M11.9 16.5c-.46 0-.8-.35-.8-.85s.34-.86.8-.86c.48 0 .8.36.8.86s-.32.85-.8.85zM9.5 9.87c.06-1.32.9-2.37 2.54-2.37 1.46 0 2.46.95 2.46 2.21 0 .96-.47 1.64-1.22 2.11-.73.46-.94.8-.94 1.45v.4h-1.02v-.57c0-.8.37-1.36 1.16-1.86.68-.43.94-.82.94-1.47 0-.76-.56-1.32-1.43-1.32-.87 0-1.43.55-1.5 1.42H9.5z"}),i.default.createElement("circle",{cx:"12",cy:"12",r:"7.5",stroke:"currentColor"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],712:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e),i.default.createElement("g",{fill:"currentColor"},i.default.createElement("path",{d:"M9.375 11.75a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm5.25 0a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm.603 1.75a3.335 3.335 0 0 1-6.456 0h6.456z"}),i.default.createElement("path",{d:"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 1a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"})))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],713:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"small":t,n=(0,o.default)(e,["size"]);return"medium"===r?l.default.createElement("svg",(0,i.default)({width:"24",height:"24",viewBox:"0 0 24 24"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M5.146 10.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L6 11.707V14a5 5 0 0 0 4.783 4.995L11 19h4.5a.5.5 0 1 1 0 1H11a6 6 0 0 1-\n6-6v-2.293l-2.146 2.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1 0-.708zM13 4a6 6 0 0 1 6 6v2.292l2.146-2.146a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-\n.708 0l-3-3a.5.5 0 0 1 .708-.708L18 12.292V10a5 5 0 0 0-4.783-4.995L13 5H8.5a.5.5 0 0 1 0-1z"})):l.default.createElement("svg",(0,i.default)({width:"12",height:"12",viewBox:"0 0 12 12"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M2.784 4.589l.07.057 1.5 1.5a.5.5 0 0 1-.638.765l-.07-.057L3 6.207V7a2 2 0 0 0 1.85 1.995L5 9h2.5a.5.5 0 0 1 .09.992L7.5 10H5a3\n3 0 0 1-2.995-2.824L2 7v-.793l-.646.647a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07 1.5-1.5a.5.5 0 0 1 .638-.057zM7 2a3 3 0 0 1 3 3v.792l.646-.646a.5.5 0 0 1 .765.638l-.057.07-1.5 1.5a.5.5 0 0 1-.638.057l-.07-.057-1.5-1.5a.5.5 0 0 1 .638-.765l.07.057.646.646V5a2 2 0 0 0-1.85-1.995L7 3H4.5a.5.5 0 0 1 0-1z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types"));n.propTypes={size:s.default.string}},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],714:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"small":t,n=(0,o.default)(e,["size"]);return"medium"===r?l.default.createElement("svg",(0,i.default)({width:"16",height:"16",viewBox:"0 0 16 16"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M8 2.499a5.5 5.5 0 0 1 4.446 8.738l1.408 1.408a.5.5 0 0 1-.638.765l-.07-.058-1.362-1.362A5.481 5.481 0 0 1 8 13.5a5.481 5.481 0 0 1-3.784-1.509l-1.362 1.362a.5.5 0 0 1-.765-.638l.057-.069 1.408-1.408A5.5 5.5 0 0 1 8 2.498zm0 1a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zM7.5 4.5a.5.5 0 0 1 .492.41L8 5v3h2a.5.5 0 0 1 .09.992L10 9H7.5a.5.5 0 0 1-.492-.41L7 8.5V5a.5.5 0 0 1 .5-.5zm6.284-2.414l.13.12.379.378a2 2 0 0 1 .117 2.702l-.117.127-.094.094a.5.5 0 0 1-.765-.638l.058-.07.094-.093a1 1 0 0 0 .083-1.32l-.083-.094-.379-.38a1 1 0 0 0-1.381-.03.5.5 0 1 1-.676-.738 2 2 0 0 1 2.634-.058zm-11.698.12a2 2 0 0 1 2.764-.062.5.5 0 0 1-.676.738 1 1 0 0 0-1.381.03l-.379.38a1 1 0 0 0 0 1.414l.094.093a.5.5 0 0 1-.707.708l-.094-.094a2 2 0 0 1 0-2.829z"})):l.default.createElement("svg",(0,i.default)({width:"12",height:"12",viewBox:"0 0 12 12"},n),l.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 1.502a4.5 4.5 0 0 1 3.728 7.021l1.126 1.126a.5.5 0 0 1-.638.765l-.07-.058-1.07-1.069A4.484 4.484 0 0 1 6 10.502a4.484 4.484 0 0 1-3.076-1.215l-1.07 1.07a.5.5 0 0 1-.765-.639l.057-.07 1.126-1.125A4.5 4.5 0 0 1 6 1.503zm0 1a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm-.5 1a.5.5 0 0 1 .492.41l.008.09v2h1.5a.5.5 0 0 1 .09.992l-.09.008h-2a.5.5 0 0 1-.492-.41L5 6.502v-2.5a.5.5 0 0 1 .5-.5zm5.368-2.328l.12.109.232.232a1.75 1.75 0 0 1 .092 2.375.5.5 0 1 1-.76-.65.75.75 0 0 0 .036-.93l-.075-.088-.233-.232a.75.75 0 0 0-.922-.11.5.5 0 1 1-.526-.85 1.75 1.75 0 0 1 2.036.144zM3.17 1.03a.5.5 0 1 1-.526.85.75.75 0 0 0-.922.11l-.232.232a.75.75 0 0 0-.04 1.017.5.5 0 0 1-.76.65 1.75 1.75 0 0 1 .093-2.374l.232-.232A1.75 1.75 0 0 1 3.17 1.03z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types"));n.propTypes={size:s.default.oneOf(["small","medium"])}},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],715:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6.355 17.438a7.5 7.5 0 1 1 11.29 0l1.709 1.708a.5.5 0 0 1-.708.708l-1.708-1.709A7.471 7.471 0 0 1 12 20c-1.891 0-3.619-.7-4.938-1.855l-1.708 1.709a.5.5 0 0 1-.708-.708l1.709-1.708zM12 19a6.5 6.5 0 1 0 0-13 6.5 6.5 0 0 0 0 13zm0-7h2.5a.5.5 0 1 1 0 1h-3a.5.5 0 0 1-.5-.5V8a.5.5 0 1 1 1 0v4zm4.604-6.896a.5.5 0 0 1-.708-.708l.336-.335a2.5 2.5 0 0 1 3.536 0l.671.671a2.5 2.5 0 0 1 0 3.536l-.335.336a.5.5 0 0 1-.708-.708l.336-.335a1.5 1.5 0 0 0 0-2.122l-.671-.671a1.5 1.5 0 0 0-2.122 0l-.335.336zM4.605 7.898a.5.5 0 0 1-.707.707l-.337-.337a2.5 2.5 0 0 1 0-3.536l.671-.671a2.5 2.5 0 0 1 3.536 0l.337.337a.5.5 0 0 1-.707.707l-.337-.337a1.5 1.5 0 0 0-2.122 0l-.671.671a1.5 1.5 0 0 0 0 2.122l.337.337z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],716:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{d:"M3 3h18v18H3z"}),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M8.82 6.62l-.33.2-.82-.83a.63.63 0 0 0-.9 0L6 6.79a.62.62 0 0 0-.01.89l.82.82-.2.34a6.21 6.21 0 0 0-.66 1.6l-.1.38H4.69a.63.63 0 0 0-.63.64v1.1c0 .36.28.64.63.64h1.16l.1.37a6.21 6.21 0 0 0 .66 1.61l.2.34-.82.82a.63.63 0 0 0 0 .9l.79.77a.62.62 0 0 0 .89.01l.82-.82.34.2a6.21 6.21 0 0 0 1.6.66l.38.1v1.16c0 .35.28.63.64.63h1.1a.62.62 0 0 0 .64-.63v-1.16l.37-.1a6.21 6.21 0 0 0 1.61-.67l.34-.2.82.83c.25.25.64.24.9 0l.77-.79a.62.62 0 0 0 .01-.89l-.82-.82.2-.33a6.21 6.21 0 0 0 .66-1.62l.1-.37h1.16a.63.63 0 0 0 .63-.64v-1.1a.62.62 0 0 0-.63-.64h-1.16l-.1-.37a6.21 6.21 0 0 0-.67-1.61l-.2-.34.83-.82a.63.63 0 0 0 0-.9L17.21 6a.62.62 0 0 0-.89-.01l-.82.82-.33-.2a6.21 6.21 0 0 0-1.62-.66l-.37-.1V4.69a.63.63 0 0 0-.64-.63h-1.1a.62.62 0 0 0-.64.63v1.16l-.37.1a6.21 6.21 0 0 0-1.61.66zm1-1.53v-.4c0-.9.72-1.63 1.63-1.63h1.1c.9 0 1.64.72 1.64 1.63v.4c.4.12.78.28 1.15.48l.28-.29a1.62 1.62 0 0 1 2.3.01l.79.78c.64.64.65 1.67 0 2.3l-.28.29c.2.37.36.75.48 1.15h.4c.9 0 1.63.73 1.63 1.64v1.1c0 .9-.73 1.64-1.63 1.64h-.4a7.2 7.2 0 0 1-.48 1.15l.29.28a1.62 1.62 0 0 1-.01 2.3l-.78.79a1.63 1.63 0 0 1-2.3 0l-.29-.28c-.37.2-.75.36-1.15.48v.4c0 .9-.73 1.63-1.64 1.63h-1.1A1.63 1.63 0 0 1 9.8 19.3v-.4a7.2 7.2 0 0 1-1.15-.48l-.29.29a1.62 1.62 0 0 1-2.3-.01l-.78-.78a1.63 1.63 0 0 1 0-2.3l.27-.29a7.2 7.2 0 0 1-.47-1.15h-.4c-.9 0-1.63-.73-1.63-1.64v-1.1c0-.9.72-1.64 1.63-1.64h.4c.12-.4.28-.78.47-1.15l-.28-.29a1.62 1.62 0 0 1 .01-2.3l.78-.78a1.63 1.63 0 0 1 2.3 0l.29.27c.37-.19.75-.35 1.15-.47z"}),i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],717:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",d:"M10.992 3.544a.5.5 0 01-.404.58A8.002 8.002 0 004 12a8 8 0 008 8c3.892 0 7.201-2.8 7.876-6.588a.5.5 0 11.984.176A9.002 9.002 0 0112 21a9 9 0 01-9-9 9.002 9.002 0 017.412-8.86.5.5 0 01.58.404zm1.339 3.684c.298-.46 1.011-.174.91.364L12.602 11H14.5a.5.5 0 01.42.772l-3.25 5c-.3.46-1.012.174-.911-.364L11.398 13H9.5a.5.5 0 01-.42-.772zm5.474-2.106a8.99 8.99 0 013.055 5.29.5.5 0 11-.984.176 7.99 7.99 0 00-2.716-4.702.5.5 0 01.645-.764zM13.588 3.14c.5.089.991.22 1.467.392a.5.5 0 01-.34.94 7.938 7.938 0 00-1.303-.348.5.5 0 01.176-.984z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],718:[function(e,t,r){"use strict"
;var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:24,height:24},e),i.default.createElement("path",{d:"M15.724 13.603l-.707-.708L16.739 11h-3.618l-.5-.501.77-4.243-2.387 2.626-.708-.707L15 3l-1.09 6-.033.179-.15.821H19l-3.276 3.603zm-2.02 2.222L9 21l1.09-6 .033-.179.15-.821H5l3.276-3.603.707.708L7.261 13h3.618l.5.501-.77 4.243 2.387-2.626.708.707zm5.442 4.029a.5.5 0 0 0 .708-.708l-15-15a.5.5 0 0 0-.708.708l15 15z",fill:"currentColor"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],719:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{fill:"#FEBA07",fillOpacity:".1",stroke:"#ED9D04",strokeLinejoin:"square",d:"M8.2 18.6l3.8-2.3 3.8 2.3a.8.8 0 0 0 1-.9l-.9-4.2 3.3-2.8a.8.8 0 0 0-.4-1.3L14.4 9l-1.7-4a.8.8 0 0 0-1.4 0L9.6 9l-4.4.4a.8.8 0 0 0-.4 1.3l3.3 2.8-1 4.2a.8.8 0 0 0 1.1.9z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],720:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.06 11.085l-1.17.955a.5.5 0 1 1-.633-.774l1.68-1.372a1 1 0 0 1 1.379.11l1.44 1.615a.5.5 0 0 1-.747.665l-.957-1.074a6 6 0 0 0 10.934 4.13l.718.718A7 7 0 0 1 5.06 11.085zm13.905 1.62l1.07-.936a.5.5 0 0 1 .66.752l-1.618 1.415a1 1 0 0 1-1.4-.082l-1.359-1.502a.5.5 0 0 1 .742-.67l.902.997A6 6 0 0 0 7.014 8.661l-.718-.719a7 7 0 0 1 12.67 4.764z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],721:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=o.default.memo(function(e){var t=e.size,r=void 0===t?"medium":t,n=(0,i.default)(e,["size"]);return"small"===r?o.default.createElement("svg",(0,a.default)({width:"16",height:"16",viewBox:"0 0 16 16"},n),o.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},o.default.createElement("path",{d:"M13.5 9.5V12a1.5 1.5 0 0 1-1.5 1.5H4A1.5 1.5 0 0 1 2.5 12V9.5h3.75a1.75 1.75 0 0 0 3.5 0h3.75z",opacity:".1"}),o.default.createElement("path",{d:"M10.491 2a2 2 0 0 1 1.923 1.45l1.509 5.28a2 2 0 0 1 .077.55V12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.28a2 2 0 0 1 .077-.55l1.509-5.28A2 2 0 0 1 5.509 2h4.982zm0 1H5.51a1 1 0 0 0-.962.725l-1.509 5.28A1 1 0 0 0 3 9.28V12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9.28a1 1 0 0 0-.038-.275l-1.51-5.28a1 1 0 0 0-.96-.725zM6.25 9a.5.5 0 0 1 .5.5 1.25 1.25 0 0 0 2.5 0 .5.5 0 0 1 .41-.492L9.75 9h1.75a.5.5 0 0 1 .09.992L11.5 10h-1.306a2.25 2.25 0 0 1-4.347.156L5.806 10H4.5a.5.5 0 0 1-.09-.992L4.5 9h1.75zM8 6.5c.952 0 1.564.255 1.836.764a.5.5 0 0 1-.35.728L9.395 8H6.604a.5.5 0 0 1-.441-.736C6.436 6.754 7.048 6.5 8 6.5zM8 4a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}))):o.default.createElement("svg",(0,a.default)({width:"24",height:"24",viewBox:"0 0 24 24"},n),o.default.createElement("g",{fill:"currentColor",fillRule:"evenodd"},o.default.createElement("path",{fillRule:"nonzero",d:"M10 14.5a2 2 0 1 0 4 0h5.5V18a1.5 1.5 0 0 1-1.5 1.5H6A1.5 1.5 0 0 1 4.5 18v-3.5H10z",opacity:".1"}),o.default.createElement("path",{fillRule:"nonzero",d:"M8.062 4h7.876a2 2 0 0 1 1.94 1.515l2.062 8.246a2 2 0 0 1 .06.485V18a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3.754a2 2 0 0 1 .06-.485L6.12 5.515A2 2 0 0 1 8.061 4zm0 1a1 1 0 0 0-.97.757L5.03 14.004a1 1 0 0 0-.03.242V18a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-3.754a1 1 0 0 0-.03-.242L16.91 5.757a1 1 0 0 0-.97-.757H8.061zM12 17.25A2.75 2.75 0 0 1 9.295 15H7a.5.5 0 1 1 0-1h2.75a.5.5 0 0 1 .5.5 1.75 1.75 0 0 0 3.5 0 .5.5 0 0 1 .5-.5H17a.5.5 0 1 1 0 1h-2.295A2.75 2.75 0 0 1 12 17.25zm-2.665-5.89C9.6 10.453 10.488 10 12 10s2.4.453 2.665 1.36a.5.5 0 0 1-.48.64h-4.37a.5.5 0 0 1-.48-.64zM12 9.5A1.25 1.25 0 1 1 12 7a1.25 1.25 0 0 1 0 2.5z"})))}),s=l;r.default=s},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],722:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"16",height:"16"},i.default.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},i.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.default.createElement("path",{d:"M14.9333333,5.64705882 L16,5.64705882 L16,6.58823529 L14.9333333,6.58823529 L14.9333333,5.64705882 Z M14.9333333,7.52941176 L16,7.52941176 L16,8.47058824 L14.9333333,8.47058824 L14.9333333,7.52941176 Z M14.9333333,9.41176471 L16,9.41176471 L16,10.3529412 L14.9333333,10.3529412 L14.9333333,9.41176471 Z M14.9333333,11.2941176 L16,11.2941176 L16,12.2352941 L14.9333333,12.2352941 L14.9333333,11.2941176 Z M14.9333333,13.1764706 L16,13.1764706 L16,14.1176471 L14.9333333,14.1176471 L14.9333333,13.1764706 Z M14.9333333,3.76470588 L16,3.76470588 L16,4.70588235 L14.9333333,4.70588235 L14.9333333,3.76470588 Z M6.4,15.0588235 L7.46666667,15.0588235 L7.46666667,16 L6.4,16 L6.4,15.0588235 Z M4.26666667,15.0588235 L5.33333333,15.0588235 L5.33333333,16 L4.26666667,16 L4.26666667,15.0588235 Z M8.53333333,15.0588235 L9.6,15.0588235 L9.6,16 L8.53333333,16 L8.53333333,15.0588235 Z M10.6666667,15.0588235 L11.7333333,15.0588235 L11.7333333,16 L10.6666667,16 L10.6666667,15.0588235 Z M12.8,15.0588235 L13.8666667,15.0588235 L13.8666667,16 L12.8,16 L12.8,15.0588235 Z"}),i.default.createElement("path",{d:"M2.13333333,0.941176471 C1.5442296,0.941176471 1.06666667,1.36255553 1.06666667,1.88235294 L1.06666667,12.2352941 C1.06666667,12.7550915 1.5442296,13.1764706 2.13333333,13.1764706 L11.7333333,13.1764706 C12.322437,13.1764706 12.8,12.7550915 12.8,12.2352941 L12.8,1.88235294 C12.8,1.36255553 12.322437,0.941176471 11.7333333,0.941176471 L2.13333333,0.941176471 Z M2.13333333,0 L11.7333333,0 C12.9115408,0 13.8666667,0.842758118 13.8666667,1.88235294 L13.8666667,12.2352941 C13.8666667,13.2748889 12.9115408,14.1176471 11.7333333,14.1176471 L2.13333333,14.1176471 C0.955125867,14.1176471 0,13.2748889 0,12.2352941 L0,1.88235294 C0,0.842758118 0.955125867,0 2.13333333,0 Z"}))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],723:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("g",{fill:"currentColor",fillRule:"evenodd"},i.default.createElement("path",{fillRule:"nonzero",d:"M14.505 19.09c.345.617.733.84 1.464.842.653.001 1.417-.43 2.015-1.104C19.418 17.173 20 15.383 20 12.23 20 7.679 16.413 4 12 4s-8 3.68-8 8.23c0 2.465.59 4.183 1.727 4.675.765.332 1.37.33 2.306.068.175-.049.217-.061.685-.207 1.168-.362 1.85-.503 2.761-.483 1.595.022 2.237.71 2.772 2.192l.028.078c.099.273.157.414.226.536zm-.873.488c-.528-.943-.44-2.271-2.166-2.295-2.407-.053-3.783 1.558-6.136.54C3.467 17.017 3 14.459 3 12.23 3 7.133 7.03 3 12 3s9 4.133 9 9.23c0 3.528-.734 5.492-2.26 7.253-.678.764-1.693 1.45-2.773 1.449-1.08-.003-1.807-.411-2.335-1.354z"}),i.default.createElement("path",{d:"M11.909 7.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3.214 1.17a1 1 0 1 1 1.286-1.532 1 1 0 0 1-1.286 1.532zm1.71 2.962a1 1 0 1 1 1.97-.348 1 1 0 0 1-1.97.348zM16.24 15a1 1 0 1 1 1.732 1 1 1 0 0 1-1.732-1zm-9.254-3.368a1 1 0 1 1-1.97-.348 1 1 0 0 1 1.97.348zm1.71-2.962A1 1 0 1 1 7.41 7.138 1 1 0 0 1 8.695 8.67z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],724:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=o.default.memo(function(e){var t=e.size,r=void 0===t?"medium":t,n=e.dateString,l=(0,i.default)(e,["size","dateString"]),s=n.split("-"),u=s[s.length-1];return"large"===r?o.default.createElement("svg",(0,a.default)({width:"28",height:"28",viewBox:"0 0 28 28"},l),o.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},o.default.createElement("path",{d:"M6 3.5h16A2.5 2.5 0 0 1 24.5 6v2.5h-21V6A2.5 2.5 0 0 1 6 3.5z",opacity:".1"}),o.default.createElement("path",{d:"M22 3a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h16zm0 1H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm-.5 4a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1z"}),o.default.createElement("text",{fontFamily:"-apple-system, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",fontSize:11,transform:"translate(4 2)",fontWeight:"500"},o.default.createElement("tspan",{x:9.5,y:18,textAnchor:"middle"},u)))):o.default.createElement("svg",(0,a.default)({width:"24",height:"24",viewBox:"0 0 24 24"},l),o.default.createElement("g",{fill:"currentColor",fillRule:"evenodd"},o.default.createElement("path",{fillRule:"nonzero",d:"M6 4.5h12A1.5 1.5 0 0 1 19.5 6v2.5h-15V6A1.5 1.5 0 0 1 6 4.5z",opacity:".1"}),o.default.createElement("path",{fillRule:"nonzero",d:"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm1 3h10a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1z"}),o.default.createElement("text",{fontFamily:"-apple-system, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",fontSize:9,transform:"translate(4 2)",fontWeight:"500"},o.default.createElement("tspan",{x:8,y:15,textAnchor:"middle"},u))))});r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],725:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"medium":t,n=(0,o.default)(e,["size"]);return"large"===r?l.default.createElement("svg",(0,i.default)({width:"28",height:"28",viewBox:"0 0 28 28"},n),l.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},l.default.createElement("path",{d:"M14 19a5 5 0 1 1 0-10 5 5 0 0 1 0 10z",opacity:".1"}),l.default.createElement("path",{d:"M10.939 21.391a.5.5 0 0 1 .27.653L9.68 25.74a.5.5 0 1 1-.924-.383l1.53-3.695a.5.5 0 0 1 .654-.271zm6.776.27l1.53 3.696a.5.5 0 0 1-.923.383l-1.531-3.696a.5.5 0 0 1 .924-.382zM14 8a6 6 0 1 1 0 12 6 6 0 0 1 0-12zm-7.391 9.061a.5.5 0 0 1-.27.654l-3.696 1.53a.5.5 0 0 1-.383-.923l3.696-1.531a.5.5 0 0 1 .653.27zm15.435-.27l3.696 1.53a.5.5 0 0 1-.383.924l-3.695-1.53a.5.5 0 1 1 .382-.924zM14 9a5 5 0 1 0 0 10 5 5 0 0 0 0-10zM2.643 8.755l3.695 1.53a.5.5 0 1 1-.382.924L2.26 9.68a.5.5 0 1 1 .383-.924zm23.367.27a.5.5 0 0 1-.27.653l-3.696 1.531a.5.5 0 0 1-.382-.924l3.695-1.53a.5.5 0 0 1 .653.27zM9.678 2.26l1.531 3.696a.5.5 0 0 1-.924.382l-1.53-3.695a.5.5 0 1 1 .923-.383zm9.297-.27a.5.5 0 0 1 .27.653l-1.53 3.695a.5.5 0 1 1-.924-.382l1.53-3.696a.5.5 0 0 1 .654-.27z"}))):l.default.createElement("svg",(0,i.default)({width:"24",height:"24",viewBox:"0 0 24 24"},n),l.default.createElement("g",{fill:"currentColor",fillRule:"nonzero"},l.default.createElement("path",{d:"M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z",opacity:".1"}),l.default.createElement("path",{d:"M9.704 17.543a.5.5 0 0 1 .27.654l-.956 2.31a.5.5 0 0 1-.924-.383l.957-2.31a.5.5 0 0 1 .653-.27zm5.245.27l.957 2.31a.5.5 0 0 1-.924.383l-.956-2.31a.5.5 0 0 1 .923-.382zM12 7.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zm-5.543 6.796a.5.5 0 0 1-.27.653l-2.31.957a.5.5 0 0 1-.383-.924l2.31-.956a.5.5 0 0 1 .653.27zm11.74-.27l2.31.956a.5.5 0 0 1-.383.924l-2.31-.957a.5.5 0 0 1 .383-.923zM12 8.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm-8.124-.406l2.31.957a.5.5 0 0 1-.383.923l-2.31-.956a.5.5 0 0 1 .383-.924zm16.9.27a.5.5 0 0 1-.27.654l-2.31.956a.5.5 0 0 1-.382-.923l2.31-.957a.5.5 0 0 1 .653.27zM9.019 3.495l.956 2.31a.5.5 0 0 1-.923.382l-.957-2.31a.5.5 0 1 1 .924-.382zm6.617-.27a.5.5 0 0 1 .271.652l-.957 2.31a.5.5 0 0 1-.923-.383l.956-2.31a.5.5 0 0 1 .653-.27z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],726:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:24,height:24},e),i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.92 4.3a7.85 7.85 0 0 1-2.54 1A3.94 3.94 0 0 0 15.47 4a4.04 4.04 0 0 0-3.89 5.02 11.23 11.23 0 0 1-8.23-4.27 4.17 4.17 0 0 0-.54 2.06c0 1.42.7 2.67 1.78 3.4a3.92 3.92 0 0 1-1.81-.5v.04a4.07 4.07 0 0 0 3.2 4.01 3.89 3.89 0 0 1-1.8.08 4 4 0 0 0 3.73 2.84A7.88 7.88 0 0 1 2 18.38a11.11 11.11 0 0 0 6.12 1.83c7.34 0 11.35-6.23 11.35-11.64v-.53a8.19 8.19 0 0 0 1.98-2.12 7.82 7.82 0 0 1-2.29.64 4.08 4.08 0 0 0 1.76-2.26"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],727:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24"},i.default.createElement("g",{fill:"none"},i.default.createElement("path",{fill:"currentColor",d:"M12 5.5L9.85 7.65a.5.5 0 1 1-.7-.71l2.64-2.65a1 1 0 0 1 1.42 0l2.64 2.65a.5.5 0 0 1-.7.7L13 5.5v9.3a.5.5 0 0 1-1 0V5.5z"}),i.default.createElement("path",{stroke:"currentColor",strokeLinecap:"round",d:"M20.5 11.5v4.44c0 .89-.1 1.21-.28 1.54a1.88 1.88 0 0 1-.81.75c-.35.18-.7.27-1.65.27H7.24c-.95 0-1.3-.1-1.64-.27a1.88 1.88 0 0 1-.8-.75c-.2-.33-.29-.65-.29-1.54V11.5"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],728:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:24,height:24},e),i.default.createElement("path",{fill:e.color,d:"M12.707 12.707l-1.414-1.414-2.117-2.117c3.646-3.484 7.75-4.978 9.188-3.54 1.438 1.438-.056 5.542-3.54 9.188l-2.117-2.117zM10.586 12L12 13.414l-4.95 4.95a1 1 0 0 1-1.414-1.414l4.95-4.95zm5.763-7.882c-2.254.192-5.208 1.79-7.88 4.35L5.635 5.636a9.004 9.004 0 0 1 10.713-1.518zm3.533 3.533a9.004 9.004 0 0 1-1.518 10.713l-2.832-2.832c2.56-2.673 4.158-5.627 4.35-7.88z"}))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],729:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=i.default.memo(function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24"},e),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{fill:"#FF9801",d:"M13.77 4.8l7.3 12.17A2 2 0 0 1 19.36 20H4.75a2 2 0 0 1-1.72-3.03l7.3-12.17a2 2 0 0 1 3.44 0z"}),i.default.createElement("path",{fill:"#FFF",d:"M10.88 8.41h2.35l-.2 5.92h-1.95l-.2-5.92zm-.07 7.91c0-.7.45-1.11 1.24-1.11s1.26.4 1.26 1.11c0 .7-.47 1.11-1.26 1.11s-1.24-.4-1.24-1.1z"})))}),l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],730:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.95 12.37v4.72L6 16.41v-4.04h4.95zm0-5.39v4.78H6v-4.1l4.95-.68zm7.12 5.39v5.7l-6.58-.9v-4.8h6.58zm0-6.37v5.76H11.5V6.91L18.07 6z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],731:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ActivityLogIcon",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"AddAboveIcon",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"AddBelowIcon",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"AddSectionIcon",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"AlphabetIcon",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"AndroidIcon",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"ArchiveIcon",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"AssigneeIcon",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"AttachmentIcon",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"BeforeIcon",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"BellIcon",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"CalendarIcon",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"CalendarIconB",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(r,"CalendarMoveIcon",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"CancelCheckedIcon",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(r,"CaretIcon",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(r,"CheckboxCheckedIcon",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(r,"CheckmarkIcon",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(r,"ClearIcon",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(r,"ClockIcon",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(r,"CloseIcon",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(r,"ChevronDownIcon",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(r,"CollaboratorIcon",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(r,"CreateIcon",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(r,"DateSuggestionIcon",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(r,"DateSuggestionErrorIcon",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(r,"DeleteIcon",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(r,"DownloadIcon",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(r,"DragAndDropIcon",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(r,"DragHandleIcon",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(r,"DuplicateIcon",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(r,"EditIcon",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(r,"EmailIcon",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(r,"EmojiIcon",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(r,"ExternalAttachmentIcon",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(r,"FacebookIcon",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(r,"FetchCompletedIcon",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(r,"FilterIcon",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(r,"HeartIcon",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(r,"HelpIcon",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(r,"HistoryIcon",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(r,"InboxIcon",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(r,"InfoIcon",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(r,"IPhoneIcon",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(r,"ItemHierachyIcon",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(r,"JobIcon",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(r,"KeyboardIcon",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(r,"LabelIcon",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(r,"LabelOutlinedIcon",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(r,"LeaveIcon",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(r,"LightbulbOutlineIcon",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(r,"LinkIcon",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(r,"ListIcon",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(r,"LocationIcon",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(r,"MacOSIcon",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(r,"MailIcon",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(r,"MicrophoneIcon",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(r,"MoreIcon",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(r,"MoreSmallIcon",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(r,"MoveIcon",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(r,"NextIcon",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(r,"Next7DaysIcon",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(r,"NotesIcon",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(r,"NotesFilledIcon",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(r,"PlusIcon",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(r,"PopoutIcon",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(r,"PostponeIcon",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(r,"PreviousIcon",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(r,"PrintIcon",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(r,"PriorityIcon",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(r,"PriorityIconB",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(r,"ProjectIcon",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(r,"QuestionIcon",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(r,"ReactionIcon",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(r,"RecurringIcon",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(r,"ReminderAlarmIcon",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(r,"ReminderIcon",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(r,"SettingsIcon",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(r,"SmartScheduleIcon",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(r,"SmartScheduleStrikeIcon",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(r,"StarredIcon",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(r,"SyncIcon",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(r,"TeamInboxIcon",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(r,"TemplateIcon",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(r,"ThemeIcon",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(r,"TodayIcon",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(r,"TomorrowIcon",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(r,"TwitterIcon",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(r,"UploadIcon",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(r,"VocationModeIcon",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(r,"WarningIcon",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(r,"WindowsIcon",{enumerable:!0,get:function(){return Fe.default}});var a=n(e("./ActivityLogIcon")),i=n(e("./AddAboveIcon")),o=n(e("./AddBelowIcon")),l=n(e("./AddSectionIcon")),s=n(e("./AlphabetIcon")),u=n(e("./AndroidIcon")),c=n(e("./ArchiveIcon")),d=n(e("./AssigneeIcon")),f=n(e("./AttachmentIcon")),p=n(e("./BeforeIcon")),m=n(e("./BellIcon")),h=n(e("./CalendarIcon")),_=n(e("./CalendarIconB")),v=n(e("./CalendarMoveIcon")),b=n(e("./CancelCheckedIcon")),y=n(e("./CaretIcon")),g=n(e("./CheckboxCheckedIcon")),E=n(e("./CheckmarkIcon")),T=n(e("./ClearIcon")),w=n(e("./ClockIcon")),R=n(e("./CloseIcon")),P=n(e("./ChevronDownIcon")),D=n(e("./CollaboratorIcon")),O=n(e("./CreateIcon")),C=n(e("./DateSuggestionIcon")),I=n(e("./DateSuggestionErrorIcon")),A=n(e("./DeleteIcon")),S=n(e("./DownloadIcon")),k=n(e("./DragAndDropIcon")),M=n(e("./DragHandleIcon")),j=n(e("./DuplicateIcon")),N=n(e("./EditIcon")),x=n(e("./EmailIcon")),L=n(e("./EmojiIcon")),q=n(e("./ExternalAttachmentIcon")),U=n(e("./FacebookIcon")),$=n(e("./FetchCompletedIcon")),F=n(e("./FilterIcon")),z=n(e("./HeartIcon")),B=n(e("./HelpIcon")),H=n(e("./HistoryIcon")),V=n(e("./InboxIcon")),W=n(e("./InfoIcon")),G=n(e("./IPhoneIcon")),Y=n(e("./ItemHierachyIcon")),K=n(e("./JobIcon")),X=n(e("./KeyboardIcon")),J=n(e("./LabelIcon")),Q=n(e("./LabelOutlinedIcon")),Z=n(e("./LeaveIcon")),ee=n(e("./LightbulbOutlineIcon")),te=n(e("./LinkIcon")),re=n(e("./ListIcon")),ne=n(e("./LocationIcon")),ae=n(e("./MacOSIcon")),ie=n(e("./MailIcon")),oe=n(e("./MicrophoneIcon")),le=n(e("./MoreIcon")),se=n(e("./MoreSmallIcon")),ue=n(e("./MoveIcon")),ce=n(e("./NextIcon")),de=n(e("./Next7DaysIcon")),fe=n(e("./NotesIcon")),pe=n(e("./NotesFilledIcon")),me=n(e("./PlusIcon")),he=n(e("./PopoutIcon")),_e=n(e("./PostponeIcon")),ve=n(e("./PreviousIcon")),be=n(e("./PrintIcon")),ye=n(e("./PriorityIcon")),ge=n(e("./PriorityIconB")),Ee=n(e("./ProjectIcon")),Te=n(e("./QuestionIcon")),we=n(e("./ReactionIcon")),Re=n(e("./RecurringIcon")),Pe=n(e("./ReminderAlarmIcon")),De=n(e("./ReminderIcon")),Oe=n(e("./SettingsIcon")),Ce=n(e("./SmartScheduleIcon")),Ie=n(e("./SmartScheduleStrikeIcon")),Ae=n(e("./StarredIcon")),Se=n(e("./SyncIcon")),ke=n(e("./TeamInboxIcon")),Me=n(e("./TemplateIcon")),je=n(e("./ThemeIcon")),Ne=n(e("./TodayIcon")),xe=n(e("./TomorrowIcon")),Le=n(e("./TwitterIcon")),qe=n(e("./UploadIcon")),Ue=n(e("./VocationModeIcon")),$e=n(e("./WarningIcon")),Fe=n(e("./WindowsIcon"))},{"./ActivityLogIcon":639,"./AddAboveIcon":640,"./AddBelowIcon":641,"./AddSectionIcon":642,"./AlphabetIcon":643,"./AndroidIcon":644,"./ArchiveIcon":645,"./AssigneeIcon":646,"./AttachmentIcon":647,"./BeforeIcon":648,"./BellIcon":649,"./CalendarIcon":650,"./CalendarIconB":651,"./CalendarMoveIcon":652,"./CancelCheckedIcon":653,"./CaretIcon":654,"./CheckboxCheckedIcon":655,"./CheckmarkIcon":656,"./ChevronDownIcon":657,"./ClearIcon":658,"./ClockIcon":659,"./CloseIcon":660,"./CollaboratorIcon":661,"./CreateIcon":662,"./DateSuggestionErrorIcon":663,"./DateSuggestionIcon":664,"./DeleteIcon":665,"./DownloadIcon":666,"./DragAndDropIcon":667,"./DragHandleIcon":668,"./DuplicateIcon":669,"./EditIcon":670,"./EmailIcon":671,"./EmojiIcon":672,"./ExternalAttachmentIcon":673,"./FacebookIcon":674,"./FetchCompletedIcon":675,"./FilterIcon":676,"./HeartIcon":677,"./HelpIcon":678,"./HistoryIcon":679,"./IPhoneIcon":680,"./InboxIcon":681,"./InfoIcon":682,"./ItemHierachyIcon":683,"./JobIcon":684,"./KeyboardIcon":685,"./LabelIcon":686,"./LabelOutlinedIcon":687,"./LeaveIcon":688,"./LightbulbOutlineIcon":689,"./LinkIcon":690,"./ListIcon":691,"./LocationIcon":692,"./MacOSIcon":693,"./MailIcon":694,"./MicrophoneIcon":695,"./MoreIcon":696,"./MoreSmallIcon":697,"./MoveIcon":698,"./Next7DaysIcon":699,"./NextIcon":700,"./NotesFilledIcon":701,"./NotesIcon":702,"./PlusIcon":703,"./PopoutIcon":704,"./PostponeIcon":705,"./PreviousIcon":706,"./PrintIcon":707,"./PriorityIcon":708,"./PriorityIconB":709,"./ProjectIcon":710,"./QuestionIcon":711,"./ReactionIcon":712,"./RecurringIcon":713,"./ReminderAlarmIcon":714,"./ReminderIcon":715,"./SettingsIcon":716,"./SmartScheduleIcon":717,"./SmartScheduleStrikeIcon":718,"./StarredIcon":719,"./SyncIcon":720,"./TeamInboxIcon":721,"./TemplateIcon":722,"./ThemeIcon":723,"./TodayIcon":724,"./TomorrowIcon":725,"./TwitterIcon":726,"./UploadIcon":727,"./VocationModeIcon":728,"./WarningIcon":729,"./WindowsIcon":730,"@babel/runtime/helpers/interopRequireDefault":189}],732:[function(e,t,r){"use strict";function n(e){var t=e.onIndentLeft,r=e.onIndentRight,n=e.onHide,i=void 0===n?function(){}:n;return o.default.createElement(u.MenuList,{className:"item_menu_list","aria-label":_x("a11y","task editor menu")},o.default.createElement(a,{content:_("Sub-task"),subcontent:_("Indent Right"),shortcut:o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:"keyboard_key"},$isMac()?"\u2318":"CTRL"),o.default.createElement("span",{className:"plus"},"+"),o.default.createElement("span",{className:"keyboard_key"},"\u2192")),track:"task_form|more_indent_right",onClick:function(){i(),r()}}),o.default.createElement(a,{content:_("Parent task"),subcontent:_("Indent Left"),shortcut:o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:"keyboard_key"},$isMac()?"\u2318":"CTRL"),o.default.createElement("span",{className:"plus"},"+"),o.default.createElement("span",{className:"keyboard_key"},"\u2190")),track:"task_form|more_indent_left",onClick:function(){i(),t()}}))}function a(e){var t=e.content,r=e.subcontent,n=e.shortcut,a=e.track,i=e.onClick;return o.default.createElement("li",{role:"menuitem",tabIndex:"0",onClick:i,onKeyDown:(0,s.createKeyboardClickHandler)(i),className:"menu_item indent_menu_item","data-track":a},o.default.createElement("div",{className:"indent_menu_desc"},o.default.createElement("span",null,t),o.default.createElement("br",null),o.default.createElement("span",{className:"indent_menu_sub"},r)),o.default.createElement("div",{className:"indent_menu_shortcut"},n))}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=i(e("prop-types")),s=e("../../utils"),u=e("../../menu_list");n.propTypes={onIndentLeft:l.default.func.isRequired,onIndentRight:l.default.func.isRequired,onHide:l.default.func},a.propTypes={content:l.default.string.isRequired,
subcontent:l.default.string.isRequired,shortcut:l.default.node.isRequired,track:l.default.string,onClick:l.default.func.isRequired};var c=n;r.default=c},{"../../menu_list":801,"../../utils":972,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],733:[function(e,t,r){"use strict";function n(e){var t=e.onIndentLeft,r=e.onIndentRight,n=(0,l.useState)(null),a=(0,o.default)(n,2),i=a[0],s=a[1],p=function(e){s(e.currentTarget)};return l.default.createElement(l.default.Fragment,null,l.default.createElement(d.default,{className:"item_action item_actions_indent","aria-label":_x("a11y","show indent menu"),onClick:p},l.default.createElement(u.default,null)),i?l.default.createElement(c.default,{align:"bottom",anchor:i,onHide:function(){return s(null)}},l.default.createElement(f.default,{onIndentLeft:t,onIndentRight:r,onHide:function(){return s(null)}})):null)}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=i(e("../../icons/MoreSmallIcon")),c=i(e("../../Dialog")),d=i(e("../../Button")),f=i(e("./IndentMenu"));n.propTypes={onIndentLeft:s.default.func,onIndentRight:s.default.func}},{"../../Button":466,"../../Dialog":467,"../../icons/MoreSmallIcon":697,"./IndentMenu":732,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],734:[function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case 2:return t?svgs.getString("sm1/priority_3_hc.svg"):svgs.getString("sm1/priority_3.svg");case 3:return t?svgs.getString("sm1/priority_2_hc.svg"):svgs.getString("sm1/priority_2.svg");case 4:return t?svgs.getString("sm1/priority_1_hc.svg"):svgs.getString("sm1/priority_1.svg");default:return svgs.getString("sm1/priority_flag.svg")}}function a(e){function t(e,t){var r=P&&null!=t;return l.default.createElement("div",{className:"item_actions__tooltip"},r?l.default.createElement("b",null,e):e,r?l.default.createElement("span",null,_("Shortcut: {shortcut}").replace("{shortcut}",t)):null)}var r=e.user,a=e.labels,i=e.reminders,s=e.priority,y=e.item,g=e.sectionId,E=e.projectId,T=e.withMoreMenu,w=e.quickNote,R=e.inEditor,P=void 0!==R&&R,D=e.withIndentMenu,O=e.withQuickNote,C=e.withSectionSelection,I=void 0!==C&&C,A=e.onLabelsSelect,S=void 0===A?function(){}:A,k=e.onProjectSelect,M=void 0===k?function(){}:k,j=e.onPrioritySelect,N=void 0===j?function(){}:j,x=e.onReminderAdd,L=e.onReminderDelete,q=e.onArchive,U=e.onDelete,$=e.onLinkCopy,F=e.onEmailComments,z=e.onIndentLeft,B=void 0===z?function(){}:z,H=e.onIndentRight,V=void 0===H?function(){}:H,W=e.onQuickNoteChange,G=e.onQuickNoteClose,Y=e.showCompleted,K=e.onCompletedShow,X=e.onCompletedHide,J=r&&r.theme===b.THEME_DARK;return l.default.createElement("div",{className:"item_actions"},l.default.createElement(p.default,{selectedProjectId:E,selectedSectionId:g,onSelect:M,withSectionSelection:I},function(e){var r=e.toggle,n=e.buttonProps;return l.default.createElement(u.default,(0,o.default)({},n,{className:"item_action",onClick:r,"aria-label":_("Select a project"),title:t(_("Select a project"),"#")}),l.default.createElement("span",{dangerouslySetInnerHTML:{__html:svgs.getString("sm1/project.svg")}}))}),l.default.createElement(c.default,{value:a,onChange:function(e){var t=e.target;return S(t.value)},"aria-label":_("Add label(s)"),tooltip:t(_("Add label(s)"),"@")},l.default.createElement("span",{dangerouslySetInnerHTML:{__html:svgs.getString("sm1/label_outline.svg")}})),l.default.createElement(d.default,{className:"item_action item_actions_priority",darkTheme:J,priority:s,onSelect:N,"aria-label":_("Set the priority"),tooltip:t(_("Set the priority"),"p1, p2, p3, p4")},l.default.createElement("span",{dangerouslySetInnerHTML:{__html:n(s,J)}})),l.default.createElement(f.default,{onReminderAdd:x,onReminderDelete:L,reminders:i,item:y},function(e){return l.default.createElement(u.default,(0,o.default)({},e,{"aria-label":_("Add reminder(s)"),title:t(_("Add reminder(s)")),className:"item_action item_action__reminders"}),l.default.createElement("span",{dangerouslySetInnerHTML:{__html:svgs.getString("sm1/reminder.svg")}}))}),O?l.default.createElement(h.default,{value:w,onChange:W,onClose:G,tooltip:t(_("Add a comment"),"CMD + M / CTRL + M")}):null,T?l.default.createElement(m.default,{item:y,user:r,onArchive:q,onDelete:U,onLinkCopy:$,onEmailComments:F,showCompleted:Y,onCompletedShow:K,onCompletedHide:X}):null,D?l.default.createElement(v.default,{onIndentLeft:B,onIndentRight:V}):null)}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("react")),s=i(e("prop-types")),u=i(e("../Button")),c=i(e("../label_picker")),d=i(e("../priority_picker")),f=i(e("../reminders_picker")),p=i(e("../project_picker")),m=i(e("./MoreMenuButton")),h=i(e("./QuickNote")),v=i(e("./IndentMenu/IndentMenuButton")),b=e("../../constants/themes");a.propTypes={reminders:s.default.array,item:s.default.object.isRequired,labels:s.default.arrayOf(s.default.string.isRequired),priority:s.default.number,projectId:s.default.oneOfType([s.default.number,s.default.string]),withQuickNote:s.default.bool,quickNote:s.default.string,sectionId:s.default.number,inEditor:s.default.bool,withIndentMenu:s.default.bool,withMoreMenu:s.default.bool,withSectionSelection:s.default.bool,onLabelsSelect:s.default.func,onProjectSelect:s.default.func,onPrioritySelect:s.default.func,onReminderAdd:s.default.func,onReminderDelete:s.default.func,onArchive:s.default.func,onDelete:s.default.func,onLinkCopy:s.default.func,onEmailComments:s.default.func,onQuickNoteChange:s.default.func,onQuickNoteClose:s.default.func};var y=a;r.default=y},{"../../constants/themes":95,"../Button":466,"../label_picker":792,"../priority_picker":835,"../project_picker":854,"../reminders_picker":896,"./IndentMenu/IndentMenuButton":733,"./MoreMenuButton":736,"./QuickNote":737,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],735:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.onArchive,n=e.onDelete,a=e.onLinkCopy,o=e.onEmailComments,p=e.onCompletedShow,m=e.onCompletedHide,h=e.showCompleted;return i.default.createElement(l.MenuList,{className:"item_menu_list","aria-label":_x("a11y","task edit menu")},t.due&&t.due.is_recurring?i.default.createElement(l.IconMenuItem,{text:_("Complete forever"),icon:i.default.createElement(s.default,null),onClick:function(){return r(t.id)}}):null,i.default.createElement(l.IconMenuItem,{text:_("Add comments via email"),icon:i.default.createElement(f.default,null),onClick:function(){return o(t.id)}}),i.default.createElement(l.IconMenuItem,{text:_("Copy link to task"),icon:i.default.createElement(u.default,null),onClick:function(){return a(t.id)}}),h?i.default.createElement(l.IconMenuItem,{text:_("Hide completed sub-tasks"),icon:i.default.createElement(c.default,null),onClick:m}):i.default.createElement(l.IconMenuItem,{text:_("Show completed sub-tasks"),icon:i.default.createElement(c.default,null),onClick:p}),i.default.createElement(l.MenuSeparator,null),i.default.createElement(l.IconMenuItem,{className:"danger_menu",text:_("Delete task"),icon:i.default.createElement(d.default,null),onClick:function(){return n(t)}}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=e("../menu_list"),s=a(e("../icons/ArchiveIcon")),u=a(e("../icons/LinkIcon")),c=a(e("../icons/CheckboxCheckedIcon")),d=a(e("../icons/DeleteIcon")),f=a(e("../icons/EmailIcon"));n.propTypes={item:o.default.object.isRequired,showCompleted:o.default.bool.isRequired,onArchive:o.default.func.isRequired,onDelete:o.default.func.isRequired,onLinkCopy:o.default.func.isRequired,onEmailComments:o.default.func.isRequired,onCompletedShow:o.default.func.isRequired,onCompletedHide:o.default.func.isRequired}},{"../icons/ArchiveIcon":645,"../icons/CheckboxCheckedIcon":655,"../icons/DeleteIcon":665,"../icons/EmailIcon":671,"../icons/LinkIcon":690,"../menu_list":801,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],736:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.user,n=e.onArchive,a=e.onDelete,i=e.onLinkCopy,s=e.onEmailComments,p=e.showCompleted,m=e.onCompletedShow,h=e.onCompletedHide,_=(0,l.useState)(null),v=(0,o.default)(_,2),b=v[0],y=v[1],g=function(e){y(e.currentTarget)},E=function(e){return function(){y(null);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.apply(null,r)}};return l.default.createElement(l.default.Fragment,null,l.default.createElement(f.default,{className:"item_action item_actions_more",onClick:g},l.default.createElement(u.default,null)),b?l.default.createElement(c.default,{align:"bottom",anchor:b,onHide:function(){return y(null)}},l.default.createElement(d.default,{item:t,user:r,onArchive:E(n),onDelete:E(a),onLinkCopy:E(i),onEmailComments:E(s),showCompleted:p,onCompletedShow:m,onCompletedHide:h})):null)}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=i(e("../icons/MoreSmallIcon")),c=i(e("../Dialog")),d=i(e("./MoreMenu")),f=i(e("../Button"));n.propTypes={item:s.default.object.isRequired,showCompleted:s.default.bool.isRequired,user:s.default.object.isRequired,onArchive:s.default.func,onDelete:s.default.func,onLinkCopy:s.default.func,onEmailComments:s.default.func,onCompletedShow:s.default.func,onCompletedHide:s.default.func}},{"../Button":466,"../Dialog":467,"../icons/MoreSmallIcon":697,"./MoreMenu":735,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],737:[function(e,t,r){"use strict";function n(e){var t=e.referenceElement,r=e.onClose,n=e.value,a=e.onChange,i=(0,s.useState)(!1),o=(0,l.default)(i,2),u=o[0],c=o[1],d=(0,s.useRef)(null),b=function(e){c(!1),r&&r(e)},y=function(){d.current&&d.current.focus()},g=function(e){event&&"Enter"===event.key&&(event.ctrlKey||event.metaKey)&&b(e)};return s.default.createElement(f.default,{placement:"bottom",modifiers:v,referenceElement:function(e){var r=e.ref;return t({ref:r,onClick:function(){return c(!u)}})},isShown:u,onClose:b,onShown:y},s.default.createElement("div",{className:"quick_note popover_dialog"},s.default.createElement("div",{className:"head"},s.default.createElement("label",{htmlFor:"quick_comment_input"},_("Quick Comment")),s.default.createElement(p.default,{className:"close_btn",onClick:b,"aria-label":_("Close")},s.default.createElement(h.CloseIcon,{small:!0}))),s.default.createElement(m.default,{onKeyDown:g,id:"quick_comment_input",placeholder:_("Write a comment"),nodeRef:d,value:n,onChange:a})))}function a(e){var t=e.value,r=e.onChange,a=e.onClose,i=e.tooltip;return s.default.createElement(n,{referenceElement:function(e){var r=e.ref,n=e.onClick;return s.default.createElement(p.default,{ref:r,className:"item_action quick_note_action",onClick:n,title:i},t?s.default.createElement(d.default,null):s.default.createElement(c.default,null))},onClose:a,value:t,onChange:r})}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=i(e("react")),u=o(e("prop-types")),c=o(e("../icons/NotesIcon")),d=o(e("../icons/NotesFilledIcon")),f=o(e("../popper/Popper")),p=o(e("../Button")),m=o(e("../ResizableTextArea")),h=e("../icons"),v={preventOverflow:{boundariesElement:"viewport",padding:20}};n.propTypes={referenceElement:u.default.func.isRequired,value:u.default.string,onChange:u.default.func.isRequired,onClose:u.default.func},a.propTypes={value:u.default.string,onChange:u.default.func,onClose:u.default.func,tooltip:u.default.node}},{"../Button":466,"../ResizableTextArea":474,"../icons":731,"../icons/NotesFilledIcon":701,"../icons/NotesIcon":702,"../popper/Popper":831,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],738:[function(e,t,r){"use strict";function n(e){function t(t){i(!0),o.current&&clearTimeout(o.current),o.current=setTimeout(function(){i(!1),t()},e)}var r=(0,s.useState)(!1),n=(0,l.default)(r,2),a=n[0],i=n[1],o=(0,s.useRef)(null);return(0,s.useEffect)(function(){return function(){return clearTimeout(o.current)}},[]),[a,t]}function a(e){function t(e){e.stopPropagation(),e.persist(),p(function(){i(r?0:1,e)})}var r=e.checked,a=e.priority,i=e.onChange,o=n(250),c=(0,l.default)(o,2),f=c[0],p=c[1],m=(0,u.default)("item_checkbox","priority_".concat(a),{checked:r,with_check_animation:f});return s.default.createElement(d.default,{className:m,onClick:t,role:"checkbox","aria-checked":Boolean(r)},s.default.createElement("svg",{width:"24",height:"24"},s.default.createElement("path",{fill:"currentColor",d:"M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z"})))}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=i(e("react")),u=o(e("classnames")),c=o(e("prop-types")),d=o(e("../Button"));a.propTypes={big:c.default.bool,checked:c.default.oneOf([0,1]).isRequired,priority:c.default.oneOf([1,2,3,4]).isRequired,onChange:c.default.func.isRequired};var f=a;r.default=f},{"../Button":466,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,classnames:"classnames","prop-types":"prop-types",react:"react"}],739:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./ItemCheckbox")),i=a.default;r.default=i},{"./ItemCheckbox":738,"@babel/runtime/helpers/interopRequireDefault":189}],740:[function(e,t,r){"use strict";function n(e){var t=e.item;return i.default.createElement("div",{className:"task_content"},i.default.createElement(l.default,{text:t.content.replace(/^\*\s+/g,"")}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ItemContent=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../formatter/FormattedText"));n.propTypes={item:o.default.shape({content:o.default.string.isRequired}).isRequired}},{"../formatter/FormattedText":621,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],741:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/assertThisInitialized")),d=i(e("@babel/runtime/helpers/inherits")),f=i(e("@babel/runtime/helpers/defineProperty")),p=i(e("react")),m=i(e("prop-types")),h=e("../../utils"),v=i(e("../side_panel/SidePanel")),b=e("../reactist/tabs"),y=i(e("../../containers/Notes")),g=e("../../reducers/notes"),E=i(e("../../containers/ErrorBoundary")),T=e("../item_list/containers"),w=i(e("./item_overview")),R=i(e("../item_editor")),P=i(e("../activity_log")),D=i(e("../tab_title")),O=i(e("./ItemDetailHeader")),C=function(e){function t(){var e,r;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return r=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i))),(0,f.default)((0,c.default)(r),"detailRef",p.default.createRef()),(0,f.default)((0,c.default)(r),"state",{isEditing:!1,isSidePanelShown:!0,showCompleted:!0}),(0,f.default)((0,c.default)(r),"handleKeyPress",function(e){var t=(0,h.resolveKeyboardKey)(e.key);if(!("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"textbox"===e.target.getAttribute("role")||e.target.classList.contains("dialog")||e.target.closest(".dialog-content")||e.target.closest(".reactist_modal_box")||document.querySelector("#item_selecter"))&&("Escape"===t&&r.setState({isSidePanelShown:!1}),"a"===t||"A"===t||"\u0444"===t||"\u0424"===t)){if("comments"===r.state.tab){var n=r.detailRef.current.querySelector(".comments_editor_container .comments_textarea_holder textarea");n&&(n.focus(),e.preventDefault())}if("subtasks"===r.state.tab){var a=r.detailRef.current.querySelector(".task_actions .plus_add_button");a&&a.click()}}}),(0,f.default)((0,c.default)(r),"handleClose",function(){r.setState({isSidePanelShown:!1})}),(0,f.default)((0,c.default)(r),"handleEditorCancel",function(){r.setState({isEditing:!1})}),(0,f.default)((0,c.default)(r),"handleEditorSubmit",function(e){var t=r.props.item,n=(0,h.getObjectDifference)(e,t);(0,h.keys)(n).length>0&&(r.props.onItemUpdate(a({id:t.id},n)),(n.section_id||null===n.section_id)&&r.props.onItemMove({id:t.id,project_id:e.project_id,section_id:n.section_id})),r.setState({isEditing:!1})}),(0,f.default)((0,c.default)(r),"handleContentClick",function(){r.setState({isEditing:!0})}),(0,f.default)((0,c.default)(r),"handleOverviewSizeChange",function(e){r.setState({overviewHeight:e})}),(0,f.default)((0,c.default)(r),"handleSidePanelExited",function(){r.props.onClosed()}),(0,f.default)((0,c.default)(r),"handleTabChange",function(e){r.setState({tab:e})}),(0,f.default)((0,c.default)(r),"handleError",function(){r.props.onClosed()}),(0,f.default)((0,c.default)(r),"handleCompletedShow",function(){r.setState({showCompleted:!0})}),(0,f.default)((0,c.default)(r),"handleCompletedHide",function(){r.setState({showCompleted:!1})}),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.detailRef.current&&"comments"!==this.props.activeTab&&this.detailRef.current.focus(),document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.state,t=e.overviewHeight,r=e.isEditing,n=e.isSidePanelShown,a=e.showCompleted,i=this.props,o=i.activeTab,l=i.assignedUser,s=i.creator,u=i.highlightedNoteId,c=i.labels,d=i.item,f=i.subItems,m=i.parentItem,h=i.project,C=i.collaboratorsByPID,I=i.user,A=i.isProjectShared,S=i.notesCount,k=i.hasMoreNotes,M=i.itemsCount,j=i.isPremium,N=i.onItemComplete,x=i.onItemUncomplete,L=i.onItemUpdate,q=i.onItemMove,U=i.onLabelClick,$=i.onNoteHighlighted,F=i.onParentClick,z=i.onArchive,B=i.onDelete,H=i.onLinkCopy,V=i.reminders,W=i.onEmailComments;return p.default.createElement(v.default,{isShown:n,onClickOutside:this.handleClose,onExited:this.handleSidePanelExited},p.default.createElement("div",{className:"item_detail",ref:this.detailRef,tabIndex:"-1"},p.default.createElement(E.default,{onErrorCaught:this.handleError},p.default.createElement(O.default,{item:d,parentItem:m,project:h,isProjectShared:A,onClose:this.handleClose,onParentClick:F}),p.default.createElement(E.default,{showErrorMsg:!0},r?p.default.createElement("div",{className:"item_detail_editor",style:{minHeight:t}},p.default.createElement(R.default,{item:d,reminders:V,user:I,isPremium:j,withQuickNote:!1,onSubmit:this.handleEditorSubmit,onCancel:this.handleEditorCancel})):p.default.createElement(w.default,{assignedUser:l,labels:c,reminders:V,item:d,projectCollaborators:C[d.project_id],user:I,isProjectShared:A,isProjectArchived:!!h.is_archived,isPremium:j,onContentClick:this.handleContentClick,onLabelClick:U,onSizeChange:this.handleOverviewSizeChange,onItemComplete:N,onItemUncomplete:x,onItemUpdate:L,onItemMove:q,onArchive:z,onDelete:B,onLinkCopy:H,onEmailComments:W,showCompleted:a,onCompletedShow:this.handleCompletedShow,onCompletedHide:this.handleCompletedHide})),p.default.createElement(b.Tabs,{onChange:this.handleTabChange,activeTab:o,key:d.id},d.in_history||d.indent>=5?null:p.default.createElement(b.Tab,{value:"subtasks",title:p.default.createElement(D.default,{label:_("Sub-tasks"),count:M}),className:"sub_items_tab_container"},p.default.createElement(E.default,{showErrorMsg:!0},p.default.createElement(T.SubItemList,{showSubitems:!1,showCompleted:a,item:d,items:f,project:h}))),p.default.createElement(b.Tab,{prerender:!1,className:"notes_tab_container",value:"comments",title:p.default.createElement(D.default,{label:_("Comments"),count:S,hasMore:k})},p.default.createElement(E.default,{showErrorMsg:!0},p.default.createElement(y.default,{item:d,highlightedNoteId:u,type:g.TYPE_ITEM_NOTE,projectId:h.id,parentId:d.id,onNoteHighlighted:$}))),p.default.createElement(b.Tab,{value:"activity",title:_("Activity"),className:"activity_tab_container"},p.default.createElement(E.default,{showErrorMsg:!0},p.default.createElement(P.default,{item:d,creator:s,filterBy:{annotate_notes:!0,parent_item_id:d.id,include_parent_object:!0}})))))))}}]),t}(p.default.Component);r.default=C,(0,f.default)(C,"propTypes",{activeTab:m.default.oneOf(["subtasks","comments","activity"]),assignedUser:m.default.object,creator:m.default.object,highlightedNoteId:m.default.number,labels:m.default.object.isRequired,reminders:m.default.array,item:m.default.object.isRequired,subItems:m.default.array.isRequired,parentItem:m.default.object,project:m.default.object.isRequired,collaboratorsByPID:m.default.object,user:m.default.object.isRequired,isProjectShared:m.default.bool.isRequired,notesCount:m.default.number.isRequired,hasMoreNotes:m.default.bool.isRequired,itemsCount:m.default.number.isRequired,isPremium:m.default.bool.isRequired,onClosed:m.default.func.isRequired,onItemComplete:m.default.func.isRequired,onItemUncomplete:m.default.func.isRequired,onItemUpdate:m.default.func.isRequired,onItemMove:m.default.func.isRequired,onLabelClick:m.default.func.isRequired,onNoteHighlighted:m.default.func.isRequired,onParentClick:m.default.func.isRequired,onArchive:m.default.func.isRequired,onDelete:m.default.func.isRequired,onLinkCopy:m.default.func.isRequired,onEmailComments:m.default.func.isRequired})},{"../../containers/ErrorBoundary":96,"../../containers/Notes":97,"../../reducers/notes":1021,"../../utils":1094,"../activity_log":485,"../item_editor":756,"../item_list/containers":763,"../reactist/tabs":882,"../side_panel/SidePanel":946,"../tab_title":967,"./ItemDetailHeader":742,"./item_overview":747,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],742:[function(e,t,r){"use strict";function n(e){var t,r,n=e.item,a=e.parentItem,o=e.project,c=e.isProjectShared,d=e.onClose,f=e.onParentClick;return a?(t=i.default.createElement(u.ItemHierachyIcon,null),r=a.content):(t=o.inbox_project?i.default.createElement(u.InboxIcon,{size:"small",className:"item_detail_parent_icon__inbox_icon"}):o.team_inbox?i.default.createElement(u.TeamInboxIcon,{size:"small",className:"item_detail_parent_icon__team_inbox_icon"}):i.default.createElement(u.ProjectIcon,{size:"small",color:o.color,isShared:c}),r=o.name),i.default.createElement("div",{className:"item_detail_header"},i.default.createElement(s.default,{className:"item_detail_parent_info",onClick:function(){f(n)}},i.default.createElement("div",{className:"item_detail_parent_icon"},t),i.default.createElement(l.default,{className:"item_detail_parent_name",text:r})),i.default.createElement(s.default,{onClick:d,className:"item_detail_close","aria-label":_("Close")},i.default.createElement(u.CloseIcon,null)))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../formatter/PlainText")),s=a(e("../Button")),u=e("../icons");n.propTypes={item:o.default.object.isRequired,parentItem:o.default.object,project:o.default.object.isRequired,isProjectShared:o.default.bool.isRequired,onClose:o.default.func.isRequired,onParentClick:o.default.func.isRequired};var c=n;r.default=c},{"../Button":466,"../formatter/PlainText":622,"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],743:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("reselect"),o=e("../../reducers/detailView"),l=e("../../reducers/items"),s=e("../../reducers/reminders"),u=e("../../reducers/labels"),c=e("../../reducers/mainView"),d=e("../../reducers/notes"),f=n(e("../../logger/Logger")),p=e("../../reducers/collaborators"),m=n(e("../../components/project_editor/ProjectExtraActions")),h=e("../../reducers/user"),_=n(e("./ItemDetail")),v=(0,i.createSelector)(function(e){return e.detailView},u.labelGetAllByName,function(e){return e.reminders},function(e){return(0,p.getAllCollaboratorsWithUser)(e)},function(e){return(0,p.getAllCollaboratorsGroupByPID)(e)},function(e){return e.user},function(e){return(0,h.isPremium)(e)},function(e){return e.notes},function(e){return e.moreNotes},function(e,t){return{item:t.item,parentItem:t.parentItem}},function(e,t,r,n,a,i,o,l,u,c){var p=c.item,m=c.parentItem;try{if(!e||"item"!==e.type)return{};var h=p.responsible_uid,_=n[h];_||h!==i.id||(_=i),r=(0,s.getRemindersByItemID)(p.id,{reminders:r});var v=(0,d.noteGetByItem)({notes:l},p.id).length,b=(0,d.hasMoreItemNotes)({moreNotes:u},p.id);return{activeTab:e.activeTab,assignedUser:_,collaboratorsByPID:a,item:p,labels:t,reminders:r,user:i,notesCount:v,hasMoreNotes:b,isPremium:o,highlightedNoteId:e.highlightedNoteId,parentItem:m}}catch(e){return f.default.captureError(e,{tags:{detail_view:1}}),{}}}),b=function(e){return{onClosed:function(){return e((0,o.detailViewClose)())},onItemComplete:function(t){e((0,l.itemComplete)(t.id)),Signals.sendSignal("refresh_interface")},onItemUpdate:function(t){t.reminders&&e((0,s.reminderUpdate)(t.id,t.reminders)),e((0,l.itemUpdate)(t)),Signals.sendSignal("refresh_interface")},onItemMove:function(t){e((0,l.itemMoveAndReorder)(t)),Signals.sendSignal("refresh_interface")},onItemUncomplete:function(t){e((0,l.itemUncomplete)(t.id,[t])),Signals.sendSignal("refresh_interface")},onLabelClick:function(t){e((0,c.showLabelView)(t.name)),e((0,o.detailViewClose)())},onArchive:function(t){return e((0,l.itemArchive)(t))},onDelete:function(e){return Signals.sendSignal("show_item_delete_confirm",e)},onLinkCopy:function(e){return Signals.sendSignal("item_copy_link",e)},onEmailComments:function(e){return m.default.showItemEmail(e)},onNoteHighlighted:function(){return e((0,o.detailViewUnmarkNote)())},onParentClick:function(t){t.parent_id?e((0,o.detailViewShowItem)(t.parent_id)):(e((0,c.showProjectView)([t.project_id])),e((0,o.detailViewClose)()))}}},y=(0,a.connect)(v,b)(_.default);r.default=y},{"../../components/project_editor/ProjectExtraActions":63,"../../logger/Logger":132,"../../reducers/collaborators":983,"../../reducers/detailView":996,"../../reducers/items":1005,"../../reducers/labels":1010,"../../reducers/mainView":1015,"../../reducers/notes":1021,"../../reducers/reminders":1029,"../../reducers/user":1042,"./ItemDetail":741,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux",reselect:"reselect"}],744:[function(e,t,r){"use strict";function n(e){var t=e.user,r=e.id,n=e.syncId;return(0,g.jsonAPI)("/get_item",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t.token,item_id:r,sync_id:n,all_data:!0})})}function a(e){var t=e.storedItem,r=e.storedParentItem,a=e.storedProject,i=e.storedSubItems,o=e.renderItemDetail,d=e.user,f=e.isSharedProject,p=e.allCollaborators,g=e.id,E=e.syncId,T=e.onDetailViewClose,w=e.onNotesLoaded,R=e.onFetchArchivedProject,P=(0,u.default)(e,["storedItem","storedParentItem","storedProject","storedSubItems","renderItemDetail","user","isSharedProject","allCollaborators","id","syncId","onDetailViewClose","onNotesLoaded","onFetchArchivedProject"]),D=(0,c.useState)(),O=(0,s.default)(D,2),C=O[0],I=O[1],A=(0,c.useState)(),S=(0,s.default)(A,2),k=S[0],M=S[1],j=(0,c.useState)(),N=(0,s.default)(j,2),x=N[0],L=N[1],q=(0,c.useState)(),U=(0,s.default)(q,2),$=U[0],F=U[1],z=(0,c.useState)(null),B=(0,s.default)(z,2),H=B[0],V=B[1];(0,c.useEffect)(function(){!o||t||C||n({user:d,id:g,syncId:E}).then(function(e){var t=e.item,r=e.notes;I((0,b.deserializeItemFields)(t)),w(r)}).catch(function(e){y.default.captureError(e,{tags:{where:"_openTaskDetail"}}),V(!0)})},[t,o,g,E,d,C,w]),(0,c.useEffect)(function(){V(null),I(null),M(null),L(null),F(null)},[g,E]),(0,c.useEffect)(function(){var e=t||C;o&&!r&&e&&e.parent_id&&!$&&n({user:d,id:e.parent_id}).then(function(e){var t=e.item;F(t)}).catch(function(){})},[C,o,t,r,d,$]),(0,c.useEffect)(function(){var e=t||C;!a&&e&&R(e.project_id).then(function(t){L(t.project),M(t.items.filter(function(t){return t.parent_id===e.id}).map(b.deserializeItemFields))})},[t,C,a,R]);var W=(0,c.useCallback)(function(){V(null),T()},[T]);if(!o)return null;if(H)return c.default.createElement(h.default.Box,{size:"small",onDismiss:W,isOpen:!0,closeOnOverlayClick:!0},c.default.createElement(h.default.Body,null,_("This task couldn\u2019t be found. It may have been moved or deleted.")),c.default.createElement(h.default.Actions,null,c.default.createElement(v.default,{className:"ist_button",onClick:W},_("OK"))));if(!t&&!C)return null;if(!a&&!x)return null;var G=t||C,Y=a||x,K=i||k||[],X=!Y.is_archived&&f(G.project_id),J=X?p[G.added_by_uid]:null,Q=!G||G.in_history||G.checked?0:K.filter(function(e){return!e.in_history&&!e.checked}).length;return c.default.createElement(m.default,(0,l.default)({},P,{item:G,parentItem:r||$,subItems:K,project:Y,isProjectShared:X,creator:J,itemsCount:Q}))}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("@babel/runtime/helpers/extends")),s=o(e("@babel/runtime/helpers/slicedToArray")),u=o(e("@babel/runtime/helpers/objectWithoutProperties")),c=i(e("react")),d=e("react-redux"),f=e("reselect"),p=e("../../reducers/detailView"),m=o(e("./container")),h=o(e("../reactist/modal")),v=o(e("../Button")),b=e("../../reducers/items"),y=o(e("../../logger/Logger")),g=e("../../utils"),E=e("../../reducers/notes"),T=e("../../reducers/projects"),w=e("../../reducers/collaborators"),R=(0,f.createSelector)(function(e){return e.detailView},function(e){return e.items
},function(e){return e.projects},function(e){return e.archived.items},function(e){return e.user},function(e){return(0,w.isSharedProject)(e)},function(e){return(0,w.getAllCollaboratorsWithUser)(e)},function(e,t,r,n,a,i,o){if(!e||"item"!==e.type)return{renderItemDetail:!1};var l=t[e.id]||n[e.id];return{storedItem:l,storedParentItem:l&&t[l.parent_id],storedProject:l&&r[l.project_id],storedSubItems:l&&(0,b.itemGetChildren)(l.id,{items:t}),user:a,isSharedProject:i,allCollaborators:o,id:e.id,syncId:e.syncId,renderItemDetail:!0}}),P={onDetailViewClose:p.detailViewClose,onNotesLoaded:function(e){return function(t){return t({type:E.NOTE_FETCH,payload:e})}},onFetchArchivedProject:function(e){return function(t){return t((0,T.projectFetchArchived)(e))}}},D=(0,d.connect)(R,P)(a);r.default=D},{"../../logger/Logger":132,"../../reducers/collaborators":983,"../../reducers/detailView":996,"../../reducers/items":1005,"../../reducers/notes":1021,"../../reducers/projects":1026,"../../utils":1094,"../Button":466,"../reactist/modal":880,"./container":743,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,react:"react","react-redux":"react-redux",reselect:"reselect"}],745:[function(e,t,r){"use strict";function n(e){function t(e){var t=e.target;k({id:a.id,responsible_uid:t.value})}function r(e){"A"!==e.target.tagName&&I(e)}var n=e.showCompleted,a=e.item,i=e.assignedUser,l=e.labels,w=e.reminders,R=void 0===w?[]:w,P=e.user,D=e.isProjectShared,O=e.isProjectArchived,C=e.isPremium,I=e.onContentClick,A=e.onItemComplete,S=e.onItemUncomplete,k=e.onItemUpdate,M=e.onItemMove,j=e.onLabelClick,N=e.onArchive,x=e.onDelete,L=e.onLinkCopy,q=e.onEmailComments,U=e.onSizeChange,$=void 0===U?function(){}:U,F=e.onCompletedShow,z=e.onCompletedHide,B=(0,o.useRef)(null),H=function(e){e?A(a):S(a)},V=function(e){k({id:a.id,due:e})},W=function(e){k({id:a.id,labels:e})},G=function(e){k({id:a.id,priority:e})},Y=function(e){var t=e.project_id,r=e.section_id;M({id:a.id,project_id:t,section_id:r})};(0,o.useEffect)(function(){requestAnimationFrame(function(){var e=B.current.getBoundingClientRect();$(e.height)})},[$]);var K=(0,s.default)("item_overview",{"item_overview--completed":!!a.in_history||a.checked}),X=(0,c.isSection)(a.content),J=(0,s.default)("item_overview_main",{no_checkbox:X});return o.default.createElement("div",{className:K},X||O?null:o.default.createElement(p.default,{checked:a.checked,priority:a.priority,onChange:H}),o.default.createElement("div",{ref:B,className:J},o.default.createElement(d.default,{className:"item_overview_content",disabled:!!a.in_history||O,onClick:r,as:"div"},o.default.createElement(T.ItemContent,{item:a})),o.default.createElement("div",{className:"item_overview_sub"},O?null:o.default.createElement(m.default,{item:a,onSelect:V}),R.length>0&&!O?o.default.createElement("span",null,o.default.createElement(u.default,{tooltipClassName:"item_due_tooltip",delayShow:0,text:function(){return o.default.createElement(v.default,{item:a,reminders:R})},position:"bottom"},o.default.createElement(h.ReminderAlarmIcon,{size:"medium"}))):null,D?o.default.createElement(y.PersonPicker,{projectId:a.project_id,onChange:t,value:i?i.id:null,tooltip:y.getAssigneeTooltip,disabled:O},i?o.default.createElement(g.Avatar,{user:i,size:"small"}):o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:"person_picker_pill",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/person_small.svg")}}),o.default.createElement("span",{className:"person_picker_text"},a.responsible_uid?_("Someone"):_("Assign To")))):null,C?(0,E.sortLabels)(a.labels,l).map(function(e){return o.default.createElement(b.default,{key:e,label:l[e],onClick:j})}):null),O?null:o.default.createElement("div",{className:"item_overview_footer"},o.default.createElement(f.default,{showCompleted:n,onCompletedShow:F,onCompletedHide:z,user:P,labels:a.labels,item:a,priority:a.priority,projectId:a.project_id,sectionId:a.section_id,withMoreMenu:!0,withSectionSelection:!0,onLabelsSelect:W,onPrioritySelect:G,onProjectSelect:Y,onArchive:N,onDelete:x,onLinkCopy:L,onEmailComments:q}))))}var a=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=a(e("prop-types")),s=a(e("classnames")),u=a(e("@doist/reactist/lib/Tooltip")),c=e("../../../utils"),d=a(e("../../Button")),f=a(e("../../item_actions/ItemActions")),p=a(e("../../item_checkbox")),m=a(e("../../item_due_selector")),h=e("../../icons"),v=a(e("../../reminders_picker/RemindersList")),b=a(e("./ItemOverviewLabel")),y=e("../../person_picker"),g=e("../../Avatar"),E=e("../../../reducers/labels"),T=e("../../item_content");n.propTypes={assignedUser:l.default.object,showCompleted:l.default.bool.isRequired,item:l.default.object.isRequired,isProjectShared:l.default.bool.isRequired,isPremium:l.default.bool.isRequired,isProjectArchived:l.default.bool.isRequired,labels:l.default.object.isRequired,reminders:l.default.array,user:l.default.object.isRequired,onContentClick:l.default.func,onArchive:l.default.func,onDelete:l.default.func,onLinkCopy:l.default.func,onItemComplete:l.default.func,onItemUncomplete:l.default.func,onItemUpdate:l.default.func,onItemMove:l.default.func,onLabelClick:l.default.func,onSizeChange:l.default.func,onEmailComments:l.default.func,onCompletedShow:l.default.func,onCompletedHide:l.default.func};var w=n;r.default=w},{"../../../reducers/labels":1010,"../../../utils":1094,"../../Avatar":465,"../../Button":466,"../../icons":731,"../../item_actions/ItemActions":734,"../../item_checkbox":739,"../../item_content":740,"../../item_due_selector":749,"../../person_picker":826,"../../reminders_picker/RemindersList":890,"./ItemOverviewLabel":746,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@doist/reactist/lib/Tooltip":203,classnames:"classnames","prop-types":"prop-types",react:"react"}],746:[function(e,t,r){"use strict";function n(e){var t=e.label,r=e.onClick,n=void 0===r?function(){}:r,a=(0,l.useState)(!1),i=(0,o.default)(a,2),s=i[0],d=i[1],f=(0,u.getHex)("label",t.color),p="app#"+encodeURIComponent("agenda/@".concat(t.name));return l.default.createElement("a",{href:p,className:"item_overview_label",onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:function(){return n(t)},style:{backgroundColor:(0,c.hexToRGB)(f,s?.5:.2)}},t.name)}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=e("../../../models/Colors"),c=e("../../../utils");n.propTypes={label:s.default.object.isRequired,onClick:s.default.func};var d=n;r.default=d},{"../../../models/Colors":151,"../../../utils":1094,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],747:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./ItemOverview")),i=a.default;r.default=i},{"./ItemOverview":745,"@babel/runtime/helpers/interopRequireDefault":189}],748:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.onSelect,n=void 0===r?function(){}:r;return i.default.createElement(u.default,{selectedItems:[t],selectedDate:t.due,placement:"bottom-start",onDateSelect:n,referenceElement:function(e){var r=e.ref,n=e.onClick;return i.default.createElement(s.default,{ref:r,className:"item_due_selector",onClick:n},i.default.createElement(d.default,{item:t},i.default.createElement("div",{className:(0,l.default)("calendar_icon",(0,f.getDueClassName)(t.due)),dangerouslySetInnerHTML:{__html:svgs.getString("sm1/calendar_small.svg")}}),t.due?i.default.createElement(c.default,{date:t.due}):i.default.createElement("span",{className:"item_due_selector_text"},_("Schedule"))))}})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("classnames")),s=a(e("../Button")),u=a(e("../scheduler/SchedulerPopper")),c=a(e("../ItemDueDate")),d=a(e("../item_due_tooltip")),f=e("../../utils");n.propTypes={item:o.default.object.isRequired,onSelect:o.default.func};var p=n;r.default=p},{"../../utils":1094,"../Button":466,"../ItemDueDate":471,"../item_due_tooltip":751,"../scheduler/SchedulerPopper":917,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],749:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./ItemDueSelector")),i=a.default;r.default=i},{"./ItemDueSelector":748,"@babel/runtime/helpers/interopRequireDefault":189}],750:[function(e,t,r){"use strict";function n(e){var t=e.children,r=e.item,n=e.reminders,i=e.fallbackText;return r.due||0!==n.length?l.default.createElement(c.default,{wrapperClassName:"item_due_tooltip_anchor",tooltipClassName:"item_due_tooltip",delayShow:0,text:function(){return l.default.createElement(a,{item:r,reminders:n})},position:"bottom"},t):i?l.default.createElement(c.default,{delayShow:0,text:i,position:"bottom"},t):t}function a(e){var t=e.item,r=e.reminders,n=(0,u.useSelector)(function(e){return t.due?(0,m.itemGetDueByDate)(t.due,e):null}),a=(0,u.useSelector)(function(e){return e.projects});if(!t.due&&0===r.length)return null;if(!t.due)return l.default.createElement("span",null,l.default.createElement(h.default,{item:t,reminders:r}));var o=(0,p.formatDate)(t.due,{withWeekday:!0,withTime:t.due.with_time}),s=(0,d.getDaysDifference)(t);return l.default.createElement("span",null,o,s?l.default.createElement(l.default.Fragment,null,l.default.createElement("br",null),l.default.createElement("small",null,s)):null,t.due.is_recurring?l.default.createElement(l.default.Fragment,null,l.default.createElement("br",null),l.default.createElement("small",null,t.due.string)):null,l.default.createElement(h.default,{item:t,reminders:r}),l.default.createElement(i,{items:n,projects:a}))}function i(e){var t=e.items,r=e.projects,n=0===t.length?_("No tasks due"):(0,p.format)(_n("{count} task due","{count} tasks due",t.length),{count:t.length});return l.default.createElement("div",{className:"project_bar_holder"},n,l.default.createElement(f.default,{items:t,projects:r,maxWidth:100}))}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var l=o(e("react")),s=o(e("prop-types")),u=e("react-redux"),c=o(e("@doist/reactist/lib/Tooltip")),d=e("./utils"),f=o(e("../item_stat_bar/ItemStatBar")),p=e("../../utils"),m=e("../../reducers/items"),h=o(e("../reminders_picker/RemindersList"));n.propTypes={children:s.default.node.isRequired,item:s.default.object.isRequired,reminders:s.default.array.isRequired,fallbackText:s.default.string},a.propTypes={item:s.default.object.isRequired,reminders:s.default.array.isRequired},i.propTypes={projects:s.default.object.isRequired,items:s.default.array.isRequired}},{"../../reducers/items":1005,"../../utils":1094,"../item_stat_bar/ItemStatBar":784,"../reminders_picker/RemindersList":890,"./utils":752,"@babel/runtime/helpers/interopRequireDefault":189,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],751:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../../reducers/reminders"),o=e("../../reducers/user"),l=n(e("./ItemDueTooltip")),s=function(e,t){return{reminders:t.item?(0,i.getRemindersByItemID)(t.item.id,e):[],isPremium:(0,o.isPremium)(e)}},u=(0,a.connect)(s)(l.default);r.default=u},{"../../reducers/reminders":1029,"../../reducers/user":1042,"./ItemDueTooltip":750,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],752:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getDaysDifference=void 0;var a=n(e("../../utils/format")),i=function(e){var t=DateistDateHelpers.day_diff(new Date,e.due);return 0===t?null:(t>0?t=(0,a.default)(_n("1 day left","{num} days left",t),{num:t}):t<0&&(t=Math.abs(t),t=(0,a.default)(_n("1 day ago","{num} days ago",t),{num:t})),t)};r.getDaysDifference=i},{"../../utils/format":1079,"@babel/runtime/helpers/interopRequireDefault":189}],753:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.item,r=void 0===t?{}:t,n=e.reminders,i=void 0===n?[]:n,o=e.forwardedRef,l=e.user,u=e.isPremium,f=e.onCancel,T=void 0===f?function(){}:f,w=e.onChange,R=e.onIndentLeft,P=e.onIndentRight,D=e.onKeyDown,O=void 0===D?function(){}:D,C=e.onMultilinePaste,I=e.onSubmit,A=void 0===I?function(){}:I,S=e.withCancelButton,k=void 0===S||S,M=e.withQuickNote,j=void 0===M||M,N=e.withIndentMenu,x=void 0!==N&&N,L=e.withIgnoredInitialMatches,q=void 0===L||L,U=(0,d.useState)((0,p.getContentExtensionInfo)(r.content)),$=(0,c.default)(U,2),F=$[0],z=$[1],B=(0,d.useState)(a({},(0,E.getDefaultItemFields)(l),{},r,{reminders:i,content:F.title})),H=(0,c.default)(B,2),V=H[0],W=H[1],G=(0,d.useState)(null),Y=(0,c.default)(G,2),K=Y[0],X=Y[1],J=(0,d.useState)(null),Q=(0,c.default)(J,2),Z=Q[0],ee=Q[1],te=(0,d.useState)(null),re=(0,c.default)(te,2),ne=re[0],ae=re[1],ie=(0,d.useState)(!1),oe=(0,c.default)(ie,2),le=oe[0],se=oe[1],ue=(0,d.useRef)(null),ce=(0,d.useRef)(V),de=Z?V.due:r.due,fe=function(){return a({},V,{content:(0,p.parseContentWithExtensionsInfo)(V.content,F)})},pe=function(){return 0===fe().content.trim().length},me=function(e){var t=e.target;X(!0),W(a({},V,{responsible_uid:t.value}))},he=function(e){ee(!0),W(a({},V,{due:e})),se(!1),ue.current.focus()},_e=function(e){var t=a({},V,{},e);null===t.project_id&&(t.project_id=r.project_id||l.inbox_project),!Z&&null===t.due&&r.due&&(t.due=r.due),Z||t.due!==h.MATCH_VALUE_NO_DATE||(t.due=null),ne||null!==t.priority||(t.priority=r.priority||1),!K&&null===t.responsible_uid&&r.responsible_uid&&(t.responsible_uid=r.responsible_uid),ce.current=t,W(t)},ve=function(e){e.preventDefault(),se(!0)},be=function(e){if("Escape"===(0,g.resolveKeyboardKey)(e.key))return void T();j&&(e.ctrlKey||e.metaKey)&&77===e.keyCode&&(e.preventDefault(),document.querySelector(".item_editor .quick_note_action").click()),ue.current.getEditorRef().editor.contains(e.target)&&O(e,fe)},ye=function(e){W(a({},V,{labels:e}))},ge=function(e){ue.current.focus(),ae(!0),W(a({},V,{priority:e}))},Ee=function(e){var t=e.project_id,r=e.section_id;W(a({},V,{project_id:t,section_id:r}))},Te=function(e){e.preventDefault(),pe()||A(fe(),e)},we=function(e){W(a({},V,{note:e}))},Re=function(){ue.current.focus()},Pe=function(){R(),ue.current.focus()},De=function(){P(),ue.current.focus()};(0,d.useEffect)(function(){w&&w(a({},V,{content:(0,p.parseContentWithExtensionsInfo)(V.content,F)}))},[F,V,w]),(0,d.useEffect)(function(){o&&(o.current.focusInput=function(){ue.current.focus()},o.current.insertText=function(e){var t=(0,p.getContentExtensionInfo)(e);z(t),ue.current.insertAtCursor(t.title)})},[o]);var Oe=d.default.useMemo(function(){return K?V.responsible_uid:r.responsible_uid},[K,r.responsible_uid,V.responsible_uid]),Ce=function(e){W(a({},V,{reminders:[].concat((0,s.default)(V.reminders),[e])}))},Ie=function(e){W(a({},V,{reminders:V.reminders.filter(function(t){return t!==e})}))};return d.default.createElement("form",{ref:o,className:"item_editor",onKeyDown:be},d.default.createElement("div",{className:"item_editor_details"},F.type?d.default.createElement("div",{className:"item_editor_extension",dangerouslySetInnerHTML:{__html:svgs.getString("twist"===F.type?"sm1/twist.svg":"sm1/email.svg")}}):null,d.default.createElement(h.default,{autoFocus:!0,className:"item_editor_input",forwardRef:ue,item:V,isAssigneeDisabled:K,isDateistDisabled:Z,isPriorityDisabled:ne,isLabelsDisabled:!u,withIgnoredInitialMatches:q,onChange:_e,onEnter:function(e){w&&w(ce.current),Te(e)},onTab:ve,onEscape:T,onMultilinePaste:C}),d.default.createElement("div",{className:"item_editor_assign"},d.default.createElement(y.default,{isOpen:le,setOpen:se,item:r,schedulerDue:de,onDateSelect:he}),d.default.createElement(b.PersonPicker,{className:"item_editor_assign_people",projectId:V.project_id,value:Oe,onChange:me,tooltip:_("Assign a person")}))),d.default.createElement("div",{className:"item_editor_actions"},d.default.createElement(v.default,{labels:V.labels,item:r,user:l,reminders:V.reminders,priority:ne?V.priority:r.priority,projectId:V.project_id,sectionId:V.section_id,inEditor:!0,withMoreMenu:!1,withSectionSelection:!1,withIndentMenu:x,withQuickNote:j,quickNote:V.note,onReminderAdd:Ce,onReminderDelete:Ie,onLabelsSelect:ye,onIndentLeft:Pe,onIndentRight:De,onPrioritySelect:ge,onProjectSelect:Ee,onQuickNoteChange:we,onQuickNoteClose:Re}),d.default.createElement(m.default,{className:"item_editor_submit ist_button ist_button_red",type:"submit",onClick:Te,disabled:pe()},r&&r.id?_("Save"):_("Add Task")),k?d.default.createElement(m.default,{className:"cancel",onClick:T},_("Cancel")):null))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/toConsumableArray")),u=l(e("@babel/runtime/helpers/defineProperty")),c=l(e("@babel/runtime/helpers/slicedToArray")),d=o(e("react")),f=l(e("prop-types")),p=e("./utils"),m=l(e("../Button")),h=o(e("../rich_text_input")),v=l(e("../item_actions/ItemActions")),b=e("../person_picker"),y=l(e("./ItemEditorScheduler")),g=e("../../utils"),E=e("../../reducers/items");i.propTypes={item:f.default.object,reminders:f.default.array,forwardedRef:f.default.object,user:f.default.object.isRequired,isPremium:f.default.bool,withCancelButton:f.default.bool,withIndentMenu:f.default.bool,withIgnoredInitialMatches:f.default.bool,withQuickNote:f.default.bool,onCancel:f.default.func,onChange:f.default.func,onIndentLeft:f.default.func,onIndentRight:f.default.func,onKeyDown:f.default.func,onMultilinePaste:f.default.func,onSubmit:f.default.func};var T=i;r.default=T},{"../../reducers/items":1005,"../../utils":1094,"../Button":466,"../item_actions/ItemActions":734,"../person_picker":826,"../rich_text_input":901,"./ItemEditorScheduler":755,"./utils":757,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react"}],754:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("react")),l=n(e("react-dom")),s=e("react-redux"),u=n(e("../../stores/store")),c=n(e("./ItemEditor")),d=e("../../reducers/reminders"),f=e("../../reducers/user"),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),this.opts=t,this.holder=t.holder,this.resultItem=null,this.editor=o.default.createRef()}return(0,i.default)(e,[{key:"show",value:function(){var e=this,t=this.opts,r=t.item,n=t.withIgnoredInitialMatches,a=t.withIndentMenu,i=t.withQuickNote,p=t.onCancel,m=void 0===p?function(){}:p,h=t.onSubmit,_=void 0===h?function(){}:h,v=t.onKeyDown,b=void 0===v?function(){}:v,y=t.onIndentLeft,g=void 0===y?function(){}:y,E=t.onIndentRight,T=void 0===E?function(){}:E,w=t.onMultilinePaste;if(this.holder){var R=u.default.getState(),P=(0,d.getRemindersByItemID)(r&&r.id,R);l.default.render(o.default.createElement(s.Provider,{store:u.default},o.default.createElement(c.default,{item:r,forwardedRef:this.editor,reminders:P,user:R.user,isPremium:(0,f.isPremium)(R),withIgnoredInitialMatches:n,withIndentMenu:a,withQuickNote:i,onChange:function(t){e.resultItem=t},onSubmit:function(t){e.resultItem=t,_(t)},onCancel:m,onKeyDown:b,onIndentLeft:g,onIndentRight:T,onMultilinePaste:w})),this.holder)}}},{key:"insertText",value:function(e){this.editor.current.insertText(e)}},{key:"remove",value:function(){l.default.unmountComponentAtNode(this.holder),$remove(this.holder)}},{key:"reset",value:function(){this.remove(),this.opts.onReset&&this.opts.onReset()}},{key:"focusInput",value:function(){this.editor.current.focusInput()}},{key:"getResultItem",value:function(){return this.resultItem}},{key:"getCurrentMode",value:function(){return this.resultItem.id?"edit":"add"}}]),e}(),m=p;r.default=m},{"../../reducers/reminders":1029,"../../reducers/user":1042,"../../stores/store":1048,"./ItemEditor":753,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],755:[function(e,t,r){"use strict";function n(e){var t=e.isOpen,r=e.setOpen,n=e.item,a=e.schedulerDue,c=e.onDateSelect,d=i.default.useRef(null);i.default.useEffect(function(){!t&&d.current&&d.current.focus()},[t]);var f=(0,o.default)("item_editor_assign_due",{"item_editor_assign_due--has_date":null!=a});return i.default.createElement(i.default.Fragment,null,i.default.createElement(u.default,{ref:d,className:f,onClick:function(){return r(!t)}},(0,s.formatDueDate)(a)||_("Schedule")),t?i.default.createElement(l.default,{placement:"bottom",referenceElement:d.current,selectedDate:a,selectedItems:[n],onClose:function(){return r(!1)},onDateSelect:c}):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("classnames")),l=a(e("../scheduler/SchedulerPopper")),s=e("./utils"),u=a(e("../Button")),c=n;r.default=c},{"../Button":466,"../scheduler/SchedulerPopper":917,"./utils":757,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames",react:"react"}],756:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./ItemEditor")),i=a.default;r.default=i},{"./ItemEditor":753,"@babel/runtime/helpers/interopRequireDefault":189}],757:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseContentWithExtensionsInfo=r.getContentExtensionInfo=r.formatDueDate=void 0;var n=function(e){return e?e.is_recurring?e.string:DateUtils.format(e):""};r.formatDueDate=n;var a=function(e){var t=null,r="",n=e;if(!e)return{type:t,linkId:r,title:n};var a=e.match(/mail.google.com\/mail/g);return a&&1===a.length&&(a=e.match(/(https?:\/\/mail.google.com\/mail\/[^\s]+) \(([^)]+)\)/),a&&a[0]===e?(r=a[1],n=e.replace(a[0],a[2]),t="gmail_new"):(a=e.match(/\[([^\]]+)\]\((https?:\/\/mail.google.com\/mail(?:\/|\?)[^\s]+)\)/))&&a[0]===e&&(r=a[2],n=a[1],t="gmail_new")),a=e.match(/twist(?:app)?.com\/a/g),a&&1===a.length&&(a=e.match(/(https?:\/\/[^\s]*twist(?:app)?.com\/a\/[^\s]+) \(([^)]+)\)/),a&&a[0]===e?(r=a[1],n=e.replace(a[0],a[2]),t="twist"):(a=e.match(/\[([^\]]+)\]\((https?:\/\/[^\s]*twist(?:app)?.com\/a\/[^\s]+)\)/))&&a[0]===e&&(r=a[2],n=a[1],t="twist")),-1!==e.indexOf("[[gmail=")&&(a=e.match(/\[\[gmail=(.+?),\s*(.+?)\]\]/))&&a[0]===e&&(r=a[1],n=a[2],t="gmail"),-1!==e.indexOf("[[thunderbird")&&(a=e.match(/\[\[thunderbird\n?([^\n]+)\n([^\n]+)\n\s*\]\]/))&&a[0]===e&&(r=a[2],n=a[1],t="thunderbird"),-1!==e.indexOf("[[outlook=")&&(a=e.match(/\[\[outlook=(.+?),\s*(.+?)\]\]/))&&a[0]===e&&(r=a[1],n=a[2],t="outlook"),a=e.match(/readdle-?spark:\/\//g),a&&1===a.length&&(a=e.match(/(.+)\s(\[\(.+\)\]\(readdle-?spark:[^\s]+\))/))&&(r=a[2],n=a[1],t="spark"),{type:t,linkId:r,title:n}};r.getContentExtensionInfo=a;var i=function(e,t){var r=t.type,n=t.linkId;return e=(e||"").trim(),-1!==e.indexOf("@")&&(e=" ".concat(e," ")),"gmail"===r?"[[gmail=".concat(n,", ").concat(e," ]]"):"thunderbird"===r?"[[thunderbird\n ".concat(e.replace(/\n/g,""),"\n").concat(n.replace(/\n/g,"")," \n ]]"):"outlook"===r?"[[outlook=".concat(n,", ").concat(e," ]]"):"spark"===r?"".concat(e," ").concat(n):r?(e=e.replace(/\[/g,"("),e=e.replace(/\]/g,")"),n=n.replace(/\(/g,"["),n=n.replace(/\)/g,"]"),"[".concat(e,"](").concat(n,")")):e};r.parseContentWithExtensionsInfo=i},{}],758:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return"".concat(e,"-").concat(t,"-").concat(r)}function o(e){var t=e.children,r=(0,d.useState)(null),n=(0,c.default)(r,2),i=n[0],o=n[1],l=(0,d.useCallback)(function(e,t){o({treeListId:e,mode:g,key:T(),id:t})},[]),s=(0,d.useCallback)(function(e,t,r){o({treeListId:e,mode:E,completedItem:t,parentIds:r})},[]),u=(0,d.useCallback)(function(e){o({treeListId:e,mode:v,key:T()})},[]),f=(0,d.useCallback)(function(e){o({treeListId:e,mode:b,key:T()})},[]),p=(0,d.useCallback)(function(e){o({treeListId:e,mode:y,key:T()})},[]),w=(0,d.useCallback)(function(){o(null)},[]),R=(0,d.useCallback)(function(e,t){o({treeListId:e,mode:h,key:T(),id:t})},[]),P=(0,d.useCallback)(function(e,t){o({treeListId:e,mode:_,key:T(),id:t})},[]),D=(0,d.useCallback)(function(e){o(function(t){return a({},t,{id:e})})},[]),O=(0,d.useCallback)(function(e,t){i&&i.treeListId===e&&o(function(e){return a({},e,{treeListId:t})})},[i]),C=(0,d.useCallback)(function(){o(null)},[]),I=(0,d.useCallback)(function(e){o(function(t){return a({},t,{indent:e})})},[]);return d.default.createElement(m.Provider,{value:{editorState:i,onEditItem:l,onEditCompletedItem:s,onAddBottom:u,onAddBottomWebsite:f,onAddTop:p,onAddCancel:w,onAddAbove:R,onAddBelow:P,onTempIdResolval:D,onResetEditorState:C,onChangeIndent:I,onTreeListIdResolval:O}},t)}var l=e("@babel/runtime/helpers/interopRequireWildcard"),s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getTreeListId=i,r.EditorStateContext=r.default=void 0;var u=s(e("@babel/runtime/helpers/defineProperty")),c=s(e("@babel/runtime/helpers/slicedToArray")),d=l(e("react")),f=s(e("prop-types")),p=e("../../utils"),m=d.default.createContext({});r.EditorStateContext=m;var h="add_above",_="add_below",v="add_bottom",b="add_bottom_website",y="add_top",g="edit",E="edit_completed",T=function(){return(0,p.generateElementId)("editor")};o.propTypes={children:f.default.node};var w=o;r.default=w},{"../../utils":1094,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],759:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.rootItemIds,r=e.user,n=e.projects,i=e.labels,o=e.items,l=e.notes,c=e.reminders,p=e.moreNotes,C=e.collaborators,S=e.tempIds,k=e.allowAdd,M=e.allowWebsiteAdd,j=e.showDue,N=void 0===j||j,x=e.showTime,L=void 0===x||x,q=e.showDragHandle,U=void 0!==q&&q,$=e.onUpdate,F=e.onEditorToggle,z=e.onAdd,B=e.onCheckedChange,H=e.onArchive,V=e.onDuplicate,W=e.onLinkCopy,G=e.onMoveToProject,Y=e.onDelete,K=e.onGoToProject,X=(0,d.default)(e,["rootItemIds","user","projects","labels","items","notes","reminders","moreNotes","collaborators","tempIds","allowAdd","allowWebsiteAdd","showDue","showTime","showDragHandle","onUpdate","onEditorToggle","onAdd","onCheckedChange","onArchive","onDuplicate","onLinkCopy","onMoveToProject","onDelete","onGoToProject"]),J=k?a({},k.defaultFields):{},Q=(0,f.useState)(J),Z=(0,u.default)(Q,2),ee=Z[0],te=Z[1],re=(0,f.useState)(null),ne=(0,u.default)(re,2),ae=ne[0],ie=ne[1],oe=(0,f.useCallback)(function(e){ie(e),F&&F(Boolean(e))},[F]);(0,P.useGlobalEditorEffect)({editorShown:Boolean(ae),hideEditor:(0,f.useCallback)(function(){return oe(null)},[oe])});var le=[];t.forEach(function(e){var t=o[e];if(t){var r=(0,m.itemGetChildren)(t.id,{items:o},{sorted:!0});le.push({item:t,key:D({id:t.id}),indent:1,showCollapser:r.length>0,inCollapsed:!1});var n=(0,m.itemGetIndent)(t.id,{items:o}),a=function e(r){var n=o[r],a=o[n.parent_id];return!!a&&(a.id===t.id?Boolean(t.collapsed):!!a.collapsed||e(a.id))};r.forEach(function(e,i){var l=r[i+1],s=l&&l.parent_id===e.id;le.push({key:D({rootId:t.id,id:e.id}),item:e,indent:1+(0,m.itemGetIndent)(e.id,{items:o})-n,showCollapser:s,inCollapsed:a(e.id)})})}});var se=le.reduce(function(e,t,r){return e[t.key]=r,e},{});if(ae&&!A(ae)){var ue=O(ae),ce=ue.id,de=ue.rootId;ce=S[ce]||ce,de=S[de]||de;var fe=D({id:ce,rootId:de});if(ae!==fe)return ie(fe),null}var pe;pe=void 0!==se[ae]?se[ae]:A(ae)?le.length:null;var me=function(e,t){var r=(0,E.resolveKeyboardKey)(e.key),n=(0,E.invert)(se),a=t(),i=(0,R.isSubmittable)(a);if("ArrowDown"===r&&(e.ctrlKey||e.metaKey))if(A(ae)){if(!i)return;z(a),oe(I())}else{i&&$(a);var o=se[ae],l=le.slice(o+1).find(function(e){return!e.inCollapsed});l?oe(l.key):k&&oe(I())}if("ArrowUp"===r&&(e.ctrlKey||e.metaKey))if(A(ae)){i&&z(a);var s=le.length-1;oe(n[s])}else{var u=se[ae];if(0===u)return;i&&$(a);var c=le.slice(0,u).reverse().find(function(e){return!e.inCollapsed});c&&oe(c.key)}},he=(0,w.isPremium)({user:r}),_e=le.map(function(e,t){var a=e.key,o=e.item,s=e.indent,u=e.inCollapsed,d=e.showCollapser;return pe===t?f.default.createElement("li",{className:"manager indent_".concat(s),"data-item-indent":s,key:"".concat(ae,":editor")},f.default.createElement(g.default,{user:r,item:o,reminders:(0,v.getRemindersByItemID)(o.id,{reminders:c}),isPremium:he,withQuickNote:!1,onKeyDown:me,onCancel:function(){oe(null)},onSubmit:function(e){oe(null),$(e)}})):f.default.createElement(b.default,{key:a,componentKey:a,item:o,project:n[o.project_id],labels:i,reminders:(0,v.getRemindersByItemID)(o.id,{reminders:c}),collaborators:C,user:r,indent:s,showCollapser:d,noteCount:(0,h.noteGetByItem)({notes:l},o.id).length,noteHasMore:(0,y.hasMoreItemNotes)({moreNotes:p},o.id),showDue:N,showTime:L,showProject:!0,showDragHandle:1===s&&U,inCollapsed:u,
onUpdate:$,onAdd:z,onCheckedChange:B,onEditClick:oe,onArchive:H,onDuplicate:V,onLinkCopy:W,onMoveToProject:G,onGoToProject:K,onDelete:Y})}),ve=function(){oe(I())},be=function(){oe(I()),te(a({},k.defaultFields,{},M.defaultFields))};if(k&&!A(ae)&&_e.push(f.default.createElement("li",{className:"task_actions",key:"add_item_button"},f.default.createElement(T.PlusAddButton,{onClick:ve},_("Add task")),M?f.default.createElement(T.PlusAddButton,{onClick:be},_("Add website as task")):null)),A(ae)){var ye=(0,R.getMultilinePasteHandler)(a({},(0,m.getDefaultItemFields)(r),{},ee),z,function(){return oe(null)});_e.push(f.default.createElement("li",{className:"manager",key:ae,"data-item-indent":"1"},f.default.createElement(g.default,{user:r,item:ee,isPremium:he,withQuickNote:he,onKeyDown:me,onCancel:function(){oe(null),te(J)},onSubmit:function(e){z(e),oe(I()),te(J)},onMultilinePaste:ye})))}return f.default.createElement("ul",(0,s.default)({className:"items"},X),_e)}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/slicedToArray")),c=l(e("@babel/runtime/helpers/defineProperty")),d=l(e("@babel/runtime/helpers/objectWithoutProperties")),f=o(e("react")),p=l(e("prop-types")),m=e("../../reducers/items"),h=e("../../reducers/notes"),v=e("../../reducers/reminders"),b=l(e("../item_list_item")),y=e("../../reducers/moreNotes"),g=l(e("../item_editor/index")),E=e("../../utils"),T=e("../buttons"),w=e("../../reducers/user"),R=e("./utils"),P=e("../hooks"),D=function(e){var t=e.id,r=e.rootId;return r?"".concat(r,"/").concat(t):"".concat(t)},O=function(e){var t=e.split("/").map(E.parseId);return 1===t.length?{id:t[0]}:{rootId:t[0],id:t[1]}},C=-1,I=function(){return C--},A=function(e){return e<0};i.propTypes={rootItemIds:p.default.array.isRequired,projects:p.default.object.isRequired,items:p.default.object.isRequired,labels:p.default.object.isRequired,notes:p.default.object.isRequired,moreNotes:p.default.object.isRequired,reminders:p.default.object.isRequired,collaborators:p.default.object.isRequired,user:p.default.object.isRequired,tempIds:p.default.object.isRequired,listRef:p.default.object,showDue:p.default.bool,showTime:p.default.bool,allowAdd:p.default.shape({defaultFields:p.default.object}),allowWebsiteAdd:p.default.shape({defaultFields:p.default.object}),defaultAddFields:p.default.object,onUpdate:p.default.func.isRequired,onCheckedChange:p.default.func.isRequired,onAdd:p.default.func.isRequired,onArchive:p.default.func.isRequired,onDelete:p.default.func.isRequired,onDuplicate:p.default.func.isRequired,onLinkCopy:p.default.func.isRequired,onMoveToProject:p.default.func.isRequired,onEditorToggle:p.default.func}},{"../../reducers/items":1005,"../../reducers/moreNotes":1018,"../../reducers/notes":1021,"../../reducers/reminders":1029,"../../reducers/user":1042,"../../utils":1094,"../buttons":499,"../hooks":628,"../item_editor/index":756,"../item_list_item":775,"./utils":771,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],760:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("@babel/runtime/helpers/extends")),s=a(e("react")),u=i(e("prop-types")),c=e("../../utils"),d=i(e("./item_tree_list")),f=i(e("../drag_and_drop/useSortable")),p=i(e("./EditorStateContext")),m=function(e){var t=e.onMoveAndReorder,r=e.parentID;return(0,f.default)({listIdAttr:"data-subitem-list-id",itemIdAttr:"data-item-id",handleSelector:".task_list_item__drag_handle",scrollSelector:".item_detail .tabs__body",onSort:(0,s.useCallback)(function(e){var n,a=e.dragItemId,i=e.orders,o=i.findIndex(function(e){return e.id===a}),l=i[o].indent;if(1===l)n={id:(0,c.parseId)(a),parent_id:(0,c.parseId)(r)};else for(var s=o;s>=0;s--)if(i[s].indent<l){n={id:(0,c.parseId)(a),parent_id:(0,c.parseId)(i[s].id)};break}i=i.map(function(e){return{id:(0,c.parseId)(e.id),child_order:e.item_order}}),t(n,i)},[t,r])}),s.default.createElement(p.default,null,s.default.createElement(d.default,(0,l.default)({},e,{listProps:{"data-subitem-list-id":r},addItemButton:_("Add sub-task")})))};m.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},d.default.propTypes,{onMoveAndReorder:u.default.func});var h=m;r.default=h},{"../../utils":1094,"../drag_and_drop/useSortable":549,"./EditorStateContext":758,"./item_tree_list":766,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],761:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.item,r=e.user,n=e.editorState,i=e.editorComponent,o=e.isCollapsed,l=e.completed,s=e.indent,c=e.labels,f=e.project,p=e.collaborators,m=e.onCheckedChange,h=e.onDelete,_=e.onLinkCopy,v=e.completedParents,b=e.completedSection,y=e.hintState,g=void 0===y?{}:y,E=e.noteCount,T=e.updateHint,w=e.MoreItemsHint,R=(0,u.useRef)(null),P=function(e){R.current=e},D=n&&n.completedItem?n.completedItem.id:null,O=void 0===g.collapsed?1:g.collapsed,C=l.items[t.id]&&l.items[t.id].completed_items>0?u.default.createElement(w,{user:r,editorState:n,editorComponent:i,onDelete:h,project:f,labels:c,collaborators:p,onCheckedChange:m,onLinkCopy:_,itemId:t.id,completedInfo:l.items[t.id],indent:s+1,isCollapsed:o||Boolean(O),type:"items",completedParents:v,completedSection:b,setFetch:P}):null,I=function(e){var r=e.collapsed,n=r?1:0;T({id:t.id,data:{collapsed:n}}),0===n&&R.current&&R.current()},A=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];m.apply(void 0,t.concat([v,b]))};return u.default.createElement(u.default.Fragment,null,D===t.id?i:null,D!==t.id?u.default.createElement(d.default,{user:r,noteCount:E,onDelete:h,onLinkCopy:_,onCheckedChange:A,withDnD:!1,showDragHandle:!1,project:f,collaborators:p,inCollapsed:o,onUpdate:I,showCollapser:Boolean(C),indent:s,item:a({},t,{collapsed:O}),labels:c}):null,C)}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var s=l(e("@babel/runtime/helpers/defineProperty")),u=o(e("react")),c=l(e("prop-types")),d=l(e("../../item_list_item"));i.propTypes={item:c.default.object.isRequired,isCollapsed:c.default.bool,completed:c.default.object.isRequired,indent:c.default.number.isRequired,labels:c.default.object.isRequired,project:c.default.object.isRequired,onCheckedChange:c.default.func.isRequired,user:c.default.object.isRequired,editorState:c.default.object,editorComponent:c.default.any,completedParents:c.default.array,completedSection:c.default.object,onDelete:c.default.func.isRequired,onLinkCopy:c.default.func.isRequired}},{"../../item_list_item":775,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],762:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../../../reducers/completed_items"),o=e("../../../reducers/notes"),l=n(e("./CompletedItem")),s=function(e,t){return{noteCount:(0,o.noteGetByItem)(e,t.item.id).length,hintState:(0,i.getHint)(e,{type:"items",id:t.item.id})}},u={updateHint:i.updateHint},c=(0,a.connect)(s,u)(l.default);r.default=c},{"../../../reducers/completed_items":988,"../../../reducers/notes":1021,"./CompletedItem":761,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],763:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.SubItemList=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("react-redux"),s=i(e("./SubItemList")),u=e("../../reducers/items"),c=e("../../reducers/labels"),d=e("../../reducers/user"),f=i(e("../item_list/mapDispatchToItemListItemProps")),p=e("../../reducers/externalServices"),m=function(e,t){var r=t.item;return{parentID:r.id,sectionId:r.section_id,labels:(0,c.labelGetAllByName)(e),reminders:e.reminders,notes:e.notes,moreNotes:e.moreNotes,collaborators:e.collaborators,tempIds:e.tempIds,user:e.user,isPremium:(0,d.isPremium)(e),completed:e.completed,allowWebsiteAdd:(0,p.getAllowWebsiteAddDefaultFields)(e)}},h=function(e){return a({},(0,f.default)(e),{onMoveAndReorder:function(t,r){e((0,u.itemMoveAndReorder)(t,r))}})},_=(0,l.connect)(m,h,null,{pure:!1})(s.default);r.SubItemList=_},{"../../reducers/externalServices":998,"../../reducers/items":1005,"../../reducers/labels":1010,"../../reducers/user":1042,"../item_list/mapDispatchToItemListItemProps":767,"./SubItemList":760,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],764:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RootItemList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"useRootItemListProps",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"ItemTreeList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"SubItemList",{enumerable:!0,get:function(){return l.SubItemList}}),Object.defineProperty(r,"EditorStateContextProvider",{enumerable:!0,get:function(){return s.default}});var a=n(e("./RootItemList")),i=n(e("./useRootItemListProps")),o=n(e("./item_tree_list")),l=e("./containers"),s=n(e("./EditorStateContext"))},{"./EditorStateContext":758,"./RootItemList":759,"./containers":763,"./item_tree_list":766,"./useRootItemListProps":770,"@babel/runtime/helpers/interopRequireDefault":189}],765:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.parentID,r=e.items,n=e.showSubitems,i=void 0===n||n,o=e.project,l=e.sectionID,s=e.labels,c=e.reminders,p=e.notes,w=e.moreNotes,D=e.user,A=e.collaborators,S=e.tempIds,k=e.addItemButton,M=e.allowWebsiteAdd,x=e.listProps,L=void 0===x?{}:x,q=e.onUpdate,U=e.onAdd,$=e.onArchive,F=e.onDuplicate,z=e.onLinkCopy,B=e.onMoveToProject,H=e.onDelete,V=e.onCheckedChange,W=e.showProject,G=e.completed,Y=e.showCompleted,K=e.onGoToProject,X=e.id,J=e.updateCompletedItem,Q=e.onItemComplete,Z=(0,d.useContext)(O.EditorStateContext),ee=Z.onTempIdResolval,te=Z.onChangeIndent,re=Z.onAddBottom,ne=Z.onAddBottomWebsite,ae=Z.onEditItem,ie=Z.onAddCancel,oe=Z.onAddAbove,le=Z.onAddBelow,se=Z.onResetEditorState,ue=(0,d.useCallback)(function(e){return ae(X,e)},[ae,X]),ce=(0,d.useCallback)(function(){return ie(X)},[ie,X]),de=(0,d.useCallback)(function(e){return oe(X,e)},[oe,X]),fe=(0,d.useCallback)(function(e){return le(X,e)},[le,X]),pe=(0,d.useCallback)(function(){return se(X)},[se,X]),me=Z.editorState,he=(0,C.usePrevious)(me),_e=(0,d.useRef)(null),ve=(0,d.useMemo)(function(){var e,n=(0,v.byID)(r),a=(0,m.groupBy)("parent_id",r),o={};t&&i?e=(0,T.itemGetChildren)(t,{items:n}):t?(e=a[t]||[],e.forEach(function(e){var t=e.id;o[t]=(a[t]||[]).length})):e=r;var l=(0,E.deriveOrderIndent)(t,e);return e=(0,m.sortBy)(function(e){return l[e.id].order},e),{itemsSorted:e,itemByID:n,byParentID:a,orderIndent:l,subitemsCount:o}},[r,t,i]),be=ve.itemsSorted,ye=ve.itemByID,ge=ve.byParentID,Ee=ve.orderIndent,Te=ve.subitemsCount;_e.current=ye;var we=5-N(t,ye),Re=function e(r,n){return n||(n=ye[ye[r].parent_id]),!!n&&(n.id!==t&&(!!n.collapsed||e(n.id)))},Pe=(0,d.useCallback)(function(e,t,r){var n=_e.current[e],a=(0,T.itemGetChildren)(n.id,{items:_e.current});V(e,t,r),n.due&&n.due.is_recurring||t&&Q(n,a)},[V,Q]),De=(0,d.useCallback)(function(e){var t=_e.current[e],r=(0,T.itemGetChildren)(t.id,{items:_e.current});$(e),Q(t,r)},[$,Q]);if(me&&me.treeListId===X&&"add_top"!==me.mode&&"add_bottom"!==me.mode&&"add_bottom_website"!==me.mode&&"edit_completed"!==me.mode&&!ye[me.id])if(S[me.id]){var Oe=S[me.id];me=a({},me,{id:Oe}),ee(Oe)}else pe();he&&he.id&&S[he.id]&&(he=a({},he,{id:S[he.id]})),me&&me.treeListId===X&&me.id&&!S[me.id]&&!be.find(function(e){return e.id===me.id})&&pe();var Ce,Ie=(0,d.useRef)(null),Ae=function(e){Ie.current=e};if(he&&me&&he.treeListId==X&&he.key!==me.key&&("edit"==he.mode&&"edit"==me.mode||"edit"==he.mode&&me.mode.includes("add")||he.mode.includes("add")&&"edit"==me.mode)){var Se=j(Ie.current,he,ge,ye,we,Ee,be,o.id,l,t),ke=Se.fields,Me=Se.reorder,je=Se.note,Ne=Se.reminders;"edit"===he.mode?(0,E.isSubmittable)(ke)&&(Ce=function(){return q(ke,Me,Ne,null)}):(0,E.isSubmittable)(ke)&&(Ce=function(){return U(ke,Me,je,Ne)})}(0,d.useEffect)(function(){Ce&&Ce()},[Ce]);var xe,Le=[],qe=[];me&&me.treeListId==X&&(xe=I(D,me,Ae,te,fe,ue,de,pe,be,c,Ee,ye,ge,we,t,l,o,q,U,ce,Re,J,M));var Ue=function(e){return d.default.createElement(b.default,(0,u.default)({editorState:me,editorComponent:xe,index:Le.length,onDelete:H,onLinkCopy:z,onCheckedChange:V,project:o,labels:s,user:D,collaborators:A,type:"items"},e))},$e=function(){var e=qe.pop();Le.push(Ue({completedInfo:G.items[e],isCollapsed:Re(null,ye[e]),key:"hint_for_".concat(e),itemId:e,indent:Ee[e].indent+1}))},Fe={};me&&"add_top"===me.mode&&Le.push(xe),be.forEach(function(e){var t=me&&me.id===e.id;if(t&&"add_above"===me.mode&&Le.push(xe),!e.checked&&!e.in_history){if(Fe[e.id]=e.parent_id,Y&&i){for(;qe.length;){for(var r=e.parent_id;r&&r!==qe[qe.length-1];)r=Fe[r];if(r)break;$e()}G.items[e.id]&&G.items[e.id].completed_items>0&&qe.push(e.id)}if(t&&"edit"===me.mode)return Le.push(xe),null;var n=ge[e.id]&&ge[e.id].some(function(e){return!e.in_history&&!e.checked}),a=Y&&G.items[e.id]&&G.items[e.id].completed_items>0,l=(0,g.reminderGetGroupByItemID)({reminders:c})[e.id]||null,f=i&&n,m=Ee[e.id].indent,_=!i&&Te[e.id]?Te[e.id]:void 0,v=(0,y.noteGetByItem)({notes:p},e.id).length,b=(0,P.hasMoreItemNotes)({moreNotes:w},e.id),E=o.is_archived?"displayOnly":"normal",T={item:e,indent:m,subitemsCount:_,project:o,labels:s,user:D,collaborators:A,noteCount:v,noteHasMore:b,reminders:l,responsible:e.responsible_uid?A[e.responsible_uid]:null,inCollapsed:Re(e.id),showCollapser:f||i&&a,showProject:W,renderMode:E,onCheckedChange:Pe,onSelectAddAbove:de,onSelectAddBelow:fe,onEditClick:ue,onMoveToProject:B,onUpdate:q,onArchive:De,onDuplicate:F,onLinkCopy:z,onDelete:H,onGoToProject:K};Le.push(d.default.createElement(h.default,(0,u.default)({key:e.id},T))),t&&"add_below"===me.mode&&Le.push(xe)}});var ze=[];if(Y){for(;qe.length>0;)$e();t&&ze.push(Ue({completedInfo:G.items[t],itemId:t,indent:1,isCollapsed:!1,key:"hint_for_".concat(t),prefetch:!0})),!t&&l&&G.sections[l]&&ze.push(Ue({completedInfo:G.sections[l],itemId:l,indent:1,isCollapsed:!1,key:"hint_for_".concat(l),type:"sections"})),t||l||!G.projects[o.id]||ze.push(Ue({completedInfo:G.projects[o.id],itemId:o.id,indent:1,isCollapsed:!1,key:"hint_for_".concat(o.id),type:"projects"}))}!me||"add_bottom"!==me.mode&&"add_bottom_website"!==me.mode||Le.push(xe);var Be=!(me&&"edit"!==me.mode||o.is_archived);return d.default.createElement("div",{className:(0,f.default)("list_holder",{editor_on:me})},d.default.createElement("ul",(0,u.default)({className:"items"},L),Le),Be?d.default.createElement("div",{className:(0,f.default)("controller actions task_actions",{full_width_actions:!M})},d.default.createElement(R.PlusAddButton,{onClick:function(){return re(X)}},k||_("Add task")),M?d.default.createElement(R.PlusAddButton,{onClick:function(){return ne(X)}},_("Add website as task")):null):null,ze.length>0?d.default.createElement("ul",{className:"items"},ze):null)}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var s=l(e("@babel/runtime/helpers/slicedToArray")),u=l(e("@babel/runtime/helpers/extends")),c=l(e("@babel/runtime/helpers/defineProperty")),d=o(e("react")),f=l(e("classnames")),p=l(e("prop-types")),m=e("../../../utils/fp"),h=l(e("../../item_list_item")),v=e("../../../utils"),b=l(e("../more_items_hint")),y=e("../../../reducers/notes/selectors"),g=e("../../../reducers/reminders"),E=e("../utils"),T=e("../../../reducers/items"),w=l(e("../../item_editor")),R=e("../../buttons"),P=e("../../../reducers/moreNotes"),D=e("../../../reducers/user"),O=e("../EditorStateContext"),C=e("../../hooks"),I=function(e,t,r,n,i,o,l,u,c,f,p,m,h,_,b,y,R,P,O,C,I,M){var N=arguments.length>22&&void 0!==arguments[22]?arguments[22]:{defaultFields:{}};if(!t)return null;var x=S(t,m,c,p,h,_),L=(0,s.default)(x,2),q=L[0],U=L[1],$=k(b,y,R.id,t,m,N),F=function(e){for(var t,r=e;r<c.length;r++){var n=c[r];if(!I(n.id)){t=n;break}}return t},z=function(e){for(var t,r=e;r>=0;r--){var n=c[r];if(!I(n.id)){t=n;break}}return t},B=function(e){return j(e,t,h,m,_,p,c,R.id,y,b)},H=function(e,r){if("edit_completed"!==t.mode){var a=(0,v.resolveKeyboardKey)(e.key);if("ArrowRight"===a&&(e.metaKey||e.ctrlKey)&&0!==q){var s=c[q-1];if(U>p[s.id].indent||U>=_)return;return void n(U+1)}if("ArrowLeft"===a&&(e.metaKey||e.ctrlKey)){if(1===U)return;var u=c[q+1];if(u&&p[u.id].indent>=U)return;return void n(U-1)}if("ArrowDown"===a&&(e.ctrlKey||e.metaKey)){var d=B(r()),f=d.fields,m=d.reorder,h=d.reminders;if("edit"===t.mode){if(""!==f&&P(f,m,h),q===c.length-1)return void i(t.id);var b=F(q+1);return void o(b.id)}var y;if(""!==f.content&&(y=O(f,m)),q===c.length)return void i(y?y.id:t.id);var g=F(q+1);return void o(g.id)}if("ArrowUp"===a&&(e.ctrlKey||e.metaKey)){var E=B(r()),T=E.fields,w=E.reorder,R=E.reminders;if("edit"===t.mode){if(""!==T.content&&P(T,w,R),0===q)return void l(t.id);var D=z(q-1);return void o(D.id)}var C;if(""!==T.content&&(C=O(T,w)),0===q)return void l(C?C.id:t.id);var I=z(q-1);return void o(I.id)}}},V=function(e,r){if("edit_completed"===t.mode)return P(e,null,null,t.completedItem),u(),void M(e);var n=B(e),a=n.fields,o=n.reorder,s=n.note,c=n.reminders;if("edit"===t.mode)(0,E.isSubmittable)(a)&&P(a,o,c,null),A({event:r,mode:t.mode,id:t.id,onAddAbove:l,onAddBelow:i,onResetEditorState:u});else{if(!(0,E.isSubmittable)(a))return;var d=O(a,o,s,c);A({event:r,mode:t.mode,id:d.id,onAddAbove:l,onAddBelow:i,onResetEditorState:u})}},W=(0,E.getMultilinePasteHandler)(a({},(0,T.getDefaultItemFields)(e),{},$),O,u),G="edit"===t.mode?(0,g.reminderGetGroupByItemID)({reminders:f})[t.id]:[],Y=(0,D.isPremium)({user:e});return d.default.createElement("li",{className:"manager indent_".concat(U),"data-item-indent":U,key:t.key},d.default.createElement(w.default,{user:e,item:$,reminders:G,isPremium:Y,withQuickNote:"edit"!==t.mode&&Y,onKeyDown:H,onCancel:C,onSubmit:V,onChange:r,onMultilinePaste:"edit"!==t.mode&&"edit_completed"!==t.mode?W:void 0}))},A=function(e){var t=e.event,r=e.mode,n=e.id,a=e.onAddAbove,i=e.onAddBelow,o=e.onResetEditorState,l=(0,v.resolveKeyboardKey)(t.key);return"Enter"===l&&t.shiftKey?void i(n):"Enter"===l&&t.ctrlKey?void a(n):void("edit"===r?o():i(n))},S=function(e,t,r,n,a,i){var o,l,s=e.mode,u=e.id,c=e.completedItem;switch(s){case"edit_completed":l=c.indent;break;case"edit":o=r.findIndex(function(e){return e.id===u}),l=e.indent||n[u].indent;break;case"add_below":var d=n[u];if(o=r.findIndex(function(e){return e.id===u})+1,e.indent)l=e.indent;else if(d){var f=t[u],p=d.indent,m=Boolean(a[f.id]);l=m?Math.min(p+1,i):p}else l=1,o=r.length;break;case"add_above":o=r.findIndex(function(e){return e.id===u}),l=e.indent||n[u].indent;break;case"add_bottom":case"add_bottom_website":o=r.length,l=e.indent||1;break;case"add_top":o=0,l=1}return[o,l]},k=function(e,t,r,n,i,o){var l={parent_id:e,section_id:t,project_id:r};switch(n.mode){case"edit_completed":return n.completedItem;case"edit":return i[n.id];case"add_bottom_website":return a({},l,{},o.defaultFields)}return l},M=function(e,t,r,n,a,i,o){var l,s;if(0===e)0===a.length?(l=n,s=1):(l=a[0].parent_id,s=a[0].child_order);else{var u=a[e-1],c=o[u.id].indent;if(t>c)l=u.id,s=1;else if(t==c)l=u.parent_id,s=u.child_order+1;else if(t<c){var d=a.slice(0,e).reverse().find(function(e){return o[e.id].indent===t});l=d.parent_id,s=d.child_order+1}}var f="edit"===r?a[e]:null,p=(i[l]||[]).filter(function(e){return!f||e.id!==f.id}).filter(function(e){return e.child_order>=s}).sort(function(e,t){return e.child_order-t.child_order}),m=p.map(function(e,t){return{id:e.id,child_order:s+t+1}});return{parent_id:l,child_order:s,reorder:m}},j=function(e,t,r,n,i,o,l,u,c,d){var f=S(t,n,l,o,r,i),p=(0,s.default)(f,2),h=p[0],_=p[1],b=M(h,_,t.mode,d,l,r,o),y=b.parent_id,g=b.child_order,E=b.reorder,T=(0,v.omitBy)(e,function(e){return void 0===e});T=a({project_id:u,section_id:c},e,{child_order:g,parent_id:y});var w=e.note,R=e.reminders;return delete T.note,delete T.reminders,"edit"===t.mode&&u!==T.project_id&&(T=a({},T,{parent_id:null,section_id:null}),T=(0,m.omit)("child_order",T),E=null),{fields:T,reorder:E,note:w,reminders:R}},N=function e(t,r){if(null===t)return 0;var n=r[t];if(!n||null===n.parent_id)return 1;e(n.parent_id,r)};i.defaultProps={showProject:!1},i.propTypes={parentID:p.default.oneOfType([p.default.number,p.default.string]),sectionID:p.default.oneOfType([p.default.number,p.default.string]),showSubitems:p.default.bool,id:p.default.oneOfType([p.default.number,p.default.string]),items:p.default.array.isRequired,project:p.default.object.isRequired,showCompleted:p.default.bool.isRequired,allowWebsiteAdd:p.default.shape({defaultFields:p.default.object}),labels:p.default.object.isRequired,reminders:p.default.object.isRequired,notes:p.default.object.isRequired,moreNotes:p.default.object.isRequired,collaborators:p.default.object.isRequired,tempIds:p.default.object.isRequired,user:p.default.object.isRequired,completed:p.default.object.isRequired,showProject:p.default.bool,addItemButton:p.default.string,onCheckboxClick:p.default.func,onComplete:p.default.func,onUncomplete:p.default.func,onUpdate:p.default.func,onAdd:p.default.func,onArchive:p.default.func,onDuplicate:p.default.func,onMoveToProject:p.default.func,onLinkCopy:p.default.func,onCheckedChange:p.default.func,onDelete:p.default.func}},{"../../../reducers/items":1005,"../../../reducers/moreNotes":1018,"../../../reducers/notes/selectors":1023,"../../../reducers/reminders":1029,"../../../reducers/user":1042,"../../../utils":1094,"../../../utils/fp":1083,"../../buttons":499,"../../hooks":628,"../../item_editor":756,"../../item_list_item":775,"../EditorStateContext":758,"../more_items_hint":769,"../utils":771,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,classnames:"classnames","prop-types":"prop-types",react:"react"}],766:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../../../reducers/completed_items"),o=n(e("./ItemTreeList")),l={updateHint:i.updateHint,updateCompletedItem:i.updateCompletedItem,onItemComplete:i.onItemComplete},s=(0,a.connect)(null,l)(o.default);r.default=s},{"../../../reducers/completed_items":988,"./ItemTreeList":765,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],767:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return{onAdd:function(t,r,n,i){var o=e((0,u.itemAdd)(t));return r&&e((0,u.itemMoveAndReorder)(null,r,{allowUndo:!1})),n&&""!==n.trim()&&e((0,d.noteAdd)({parentId:o.id,content:n,type:d.TYPE_ITEM_NOTE})),i&&i.length>0&&i.forEach(function(e){e.type?f.RemindersModel.add(a({},e,{item_id:o.id})):f.RemindersModel.addLocation(a({},e,{item_id:o.id}))}),o},onUpdate:function(t,r,n,a){var i=(0,c.omit)(["parent_id","section_id","project_id","child_order"],t);if(n&&e((0,m.reminderUpdate)(t.id,n)),e((0,u.itemUpdate)(i,{item:a})),!a){var o,s=t.id,d=t.parent_id,f=t.section_id,p=t.project_id,h=t.child_order;void 0===d&&void 0===f&&void 0===p||(o={id:s,parent_id:d,section_id:f,project_id:p}),h&&(r=r?[{id:s,child_order:h}].concat((0,l.default)(r)):[{id:s,child_order:h}]),(r||o)&&e((0,u.itemMoveAndReorder)(o,r))}},onMoveToProject:function(t){return e((0,u.itemMoveAndReorder)(t))},onArchive:function(t){return e((0,u.itemArchive)(t))},onDuplicate:function(t,r){return e((0,u.itemDuplicate)([t],r))},onGoToProject:function(t,r){return e((0,p.showProjectView)([t],{focusedItemId:r}))},onDelete:function(e,t){return Signals.sendSignal("show_item_delete_confirm",e,t)},onLinkCopy:function(e){return Signals.sendSignal("item_copy_link",e)},onMoveAndReorder:function(t,r){e((0,u.itemMoveAndReorder)(t,r))},onCheckedChange:function(t,r,n,a,i){if(r){var o=n.shiftKey;e((0,u.itemComplete)(t,o))}else e((0,u.itemUncomplete)(t,a,i))},onUnarchive:function(t){return e((0,u.itemUnarchive)(t))}}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/toConsumableArray")),s=o(e("@babel/runtime/helpers/defineProperty")),u=e("../../reducers/items"),c=e("../../utils/fp"),d=e("../../reducers/notes"),f=e("../../models/Reminders"),p=e("../../reducers/mainView"),m=e("../../reducers/reminders")},{"../../models/Reminders":163,"../../reducers/items":1005,"../../reducers/mainView":1015,"../../reducers/notes":1021,"../../reducers/reminders":1029,"../../utils/fp":1083,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],768:[function(e,t,r){"use strict";function n(e){var t=e.completedInfo,r=void 0===t?{}:t,n=e.user,i=e.editorState,o=e.editorComponent,u=e.isCollapsed,p=e.indent,h=void 0===p?1:p,_=e.labels,v=e.project,b=e.type,y=e.collaborators,g=e.onCheckedChange,E=e.itemId,T=e.prefetch,w=e.onDelete,R=e.onLinkCopy,P=e.completedParents,D=void 0===P?[]:P,O=e.completedSection,C=e.hintState,I=void 0===C?{}:C,A=e.updateHint,S=e.fetchCompletedItems,k=e.setFetch,M=e.MoreItemsHint,j=I.completedItems||[],N=!1!==I.showHint,x=(0,s.useState)(!1),L=(0,l.default)(x,2),q=L[0],U=L[1],$=(0,s.useState)(null),F=(0,l.default)($,2),z=F[0],B=F[1],H=(0,s.useCallback)(function(){B(null),U(!0),S({hintState:I,completedInfo:r,completedItems:j,itemId:E,type:b}).then(function(){U(!1)},function(){B(!0),U(!1)})},[j,b,E,S,r,I]);(0,s.useEffect)(function(){var e=r.completed_items>0,t=I.completedItems&&I.completedItems.length>0;T&&e&&!t&&!q&&H()},[]);var V=(0,s.useCallback)(function(){I.completedItems||q||H()},[I.completedItems,q,H]);if(k&&k(V),u)return null;var W=j.length>0?j.map(function(e){var t=e.item;return s.default.createElement(c.default,{user:n,editorState:i,editorComponent:o,completedParents:D.concat(t),onLinkCopy:R,onDelete:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];w.apply(void 0,r.concat([function(e){if(e){var r={completedItems:j.filter(function(e){return e.item.id!==t.id})};A({id:E,data:r})}}]))},parentId:E,onCheckedChange:g,isCollapsed:u,labels:_,project:v,collaborators:y,indent:h,key:t.id,item:t,completed:e.completed,completedSection:O,MoreItemsHint:M})}):null,G=void 0!==I.tasksLeft?I.tasksLeft:r.completed_items-j.length,Y=N&&0!==G&&!isNaN(G)||I.updating?s.default.createElement(m.default,{as:"li",onClick:I.updating?void 0:H,className:"task_list_item moreItemsHint","data-item-indent":h},s.default.createElement("div",{className:"moreItemsHint_icon"},q?s.default.createElement(f.RingSpinner,null):s.default.createElement(d.FetchCompletedIcon,null)),s.default.createElement("div",null,a({error:z,isLoading:q,completedTaskNumber:G,updating:I.updating}))):null;return s.default.createElement(s.default.Fragment,null,W,Y)}function a(e){var t=e.error,r=e.isLoading,n=e.updating,a=e.completedTaskNumber;return t?_("Something went wrong! Please try again."):r?_("Fetching tasks\u2026"):n?_("Updating completed info\u2026"):(0,p.format)(_n("+1 completed task","+{num} completed tasks",a),{num:a})}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=i(e("react")),u=o(e("prop-types")),c=o(e("../completed_item")),d=e("../../icons"),f=e("../../spinners"),p=e("../../../utils"),m=o(e("../../Button"));n.propTypes={completedInfo:u.default.object,isCollapsed:u.default.bool,indent:u.default.number,type:u.default.oneOf(["items","sections","projects"]),labels:u.default.object.isRequired,project:u.default.object.isRequired,onCheckedChange:u.default.func,itemId:u.default.oneOfType([u.default.string,u.default.number]).isRequired,fetchOnExpand:u.default.bool,onDelete:u.default.func.isRequired,onLinkCopy:u.default.func.isRequired,completedParents:u.default.array,user:u.default.object.isRequired,
editorState:u.default.object,editorComponent:u.default.any,setFetch:u.default.func,updateHint:u.default.func.isRequired,fetchCompletedItems:u.default.func.isRequired}},{"../../../utils":1094,"../../Button":466,"../../icons":731,"../../spinners":961,"../completed_item":762,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],769:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,i=e("react-redux"),o=n(e("./MoreItemsHint")),l=e("../../../reducers/completed_items"),s=function(e,t){return{MoreItemsHint:a,hintState:(0,l.getHint)(e,{type:t.type,id:t.itemId})}},u={updateHint:l.updateHint,fetchCompletedItems:l.fetchCompletedItems};a=(0,i.connect)(s,u)(o.default);var c=a;r.default=c},{"../../../reducers/completed_items":988,"./MoreItemsHint":768,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],770:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(){var e=(0,d.useSelector)(function(e){var t=(0,b.getAllowWebsiteAddDefaultFields)(e);return{items:e.items,tempIds:e.tempIds,labels:(0,f.labelGetAllByName)(e),notes:e.notes,projects:e.projects,reminders:e.reminders,sections:e.sections,user:e.user,moreNotes:e.moreNotes,collaborators:e.collaborators,allowWebsiteAdd:t}}),t=(0,d.useDispatch)();return a({},e,{},(0,c.useMemo)(function(){return{onAdd:function(e,r){var n=e.note,i=e.reminders,o=(0,u.default)(e,["note","reminders"]),l=t((0,p.itemAdd)(o));return r&&t((0,p.itemMoveAndReorder)(null,r,{allowUndo:!1})),n&&""!==n.trim()&&t((0,h.noteAdd)({parentId:l.id,content:n,type:h.TYPE_ITEM_NOTE})),i&&i.length>0&&i.forEach(function(e){e.type?_.RemindersModel.add(a({},e,{item_id:l.id})):_.RemindersModel.addLocation(a({},e,{item_id:l.id}))}),l},onUpdate:function(e,r){var n=(0,m.omit)(["parent_id","section_id","project_id","child_order"],e);t((0,p.itemUpdate)(n));var a,i=e.id,o=e.parent_id,s=e.section_id,u=e.project_id,c=e.child_order;void 0===o&&void 0===s&&void 0===u||(a={id:i,parent_id:o,section_id:s,project_id:u}),c&&(r=r?[{id:i,child_order:c}].concat((0,l.default)(r)):[{id:i,child_order:c}]),(r||a)&&t((0,p.itemMoveAndReorder)(a,r,{allowUndo:!1}))},onMoveToProject:function(e){return t((0,p.itemMoveAndReorder)(e))},onGoToProject:function(e,r){return t((0,v.showProjectView)([e],{focusedItemId:r}))},onArchive:function(e){return t((0,p.itemArchive)(e))},onDuplicate:function(e,r){return t((0,p.itemDuplicate)([e],r))},onDelete:function(e){return Signals.sendSignal("show_item_delete_confirm",e)},onLinkCopy:function(e){return Signals.sendSignal("item_copy_link",e)},onCheckedChange:function(e,r,n){if(r){var a=n.shiftKey;t((0,p.itemComplete)(e,a))}else t((0,p.itemUncomplete)(e))}}},[t]))}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/toConsumableArray")),s=o(e("@babel/runtime/helpers/defineProperty")),u=o(e("@babel/runtime/helpers/objectWithoutProperties")),c=e("react"),d=e("react-redux"),f=e("../../reducers/labels"),p=e("../../reducers/items"),m=e("../../utils/fp"),h=e("../../reducers/notes"),_=e("../../models/Reminders"),v=e("../../reducers/mainView"),b=e("../../reducers/externalServices")},{"../../models/Reminders":163,"../../reducers/externalServices":998,"../../reducers/items":1005,"../../reducers/labels":1010,"../../reducers/mainView":1015,"../../reducers/notes":1021,"../../utils/fp":1083,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/toConsumableArray":200,react:"react","react-redux":"react-redux"}],771:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return function(n,i){if(n=n.filter(function(e){return""!==e}),n.length>1){var o=_("Do you want to add %s tasks?").replace("%s",n.length);(0,p.openModal)(function(l){return u.default.createElement(f.default,{isOpen:!0,confirmLabel:_("Add tasks"),onConfirm:function(){n.forEach(function(r){t(a({},e,{content:r.replace(/^[-*] /g,"")}))}),r(),l()},onCancel:function(){i(),l()}},o)})}else i()}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getMultilinePasteHandler=i,r.getArchivedItemsQueryParams=r.isSubmittable=r.deriveOrderIndent=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("@babel/runtime/helpers/toConsumableArray")),u=o(e("react")),c=e("../../utils/fp"),d=e("../../utils"),f=o(e("../confirm_dialog")),p=e("../reactist/modal"),m=function(e,t){var r=(0,c.groupBy)("parent_id",t),n=(0,d.byID)(t),a=function t(r){var a=n[r],i=n[a.parent_id];return i&&i.id!==e?t(i.id)+1:1},i=function e(t){var n=r[t],a=(0,c.compose)(c.flatten,(0,c.map)(function(t){return e(t)}),(0,c.map)(function(e){return e.id}),(0,c.sortBy)("child_order"))(n);return[t].concat((0,s.default)(a))}(e).slice(1),o=i.reduce(function(e,t,r){return e[t]=r+1,e},{});return(0,d.mapValues)(o,function(e,t){return{order:e,indent:a(t)}})};r.deriveOrderIndent=m;var h=function(e){return""!==e.content};r.isSubmittable=h;var v=function(e){return e.project_id?{project_id:e.project_id}:e.section_id?{section_id:e.section_id}:{parent_id:e.item_id}};r.getArchivedItemsQueryParams=v},{"../../utils":1094,"../../utils/fp":1083,"../confirm_dialog":509,"../reactist/modal":880,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200,react:"react"}],772:[function(e,t,r){"use strict";function n(e){var t=e.children,r=e.item,n=e.reminders,a=e.onDueUpdate,o=e.onSchedulerToggle,c=e.fallbackTooltip;return i.default.createElement(l.default,{selectedItems:[r],selectedDate:r.due,placement:"bottom",onDateSelect:a,onToggle:o,referenceElement:function(e){var a=e.ref,o=e.isExpanded,l=e.onClick;return i.default.createElement(s.default,{ref:a,className:"due_date_controls",onClick:l,"aria-expanded":o},o?t:i.default.createElement(u.default,{item:r,reminders:n,fallbackText:c},t))}})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../scheduler/SchedulerPopper")),s=a(e("../Button")),u=a(e("../item_due_tooltip"));n.propTypes={children:o.default.node.isRequired,item:o.default.object.isRequired,reminders:o.default.array,onDueUpdate:o.default.func.isRequired,onSchedulerToggle:o.default.func,fallbackTooltip:o.default.string}},{"../Button":466,"../item_due_tooltip":751,"../scheduler/SchedulerPopper":917,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],773:[function(e,t,r){"use strict";function n(e){var t=e.label,r=(0,s.getHex)("label",t.color),n="app#"+encodeURIComponent("agenda/@".concat(t.name));return o.default.createElement("a",{href:n,style:{color:r}},t.name)}function a(e){var t=e.item,r=e.subitemsCount,a=e.reminders,i=e.labels,l=e.isPremium,h=e.onOpenTaskDetails,_=e.onDueDateSelect,v=e.showDue,b=e.showTime,y=e.showNotes,g=e.noteCount,E=e.noteHasMore,T=t.due&&(v||b&&t.due.with_time||t.due.is_recurring);return o.default.createElement("div",{className:"task_list_item__info_tags",onClick:function(e){return e.stopPropagation()}},r?o.default.createElement("span",{className:"task_list_item__info_tags__subtasks",onClick:function(){return h({activeTab:"subtasks"})}},o.default.createElement(u.ItemHierachyIcon,null),r):null,T?o.default.createElement("span",null,o.default.createElement(p.default,{item:t,reminders:a,onDueUpdate:_},o.default.createElement(f.default,{date:t.due,showDue:v,showTime:b,showIcon:!0}))):null,a&&a.length>0?o.default.createElement("span",null,o.default.createElement(d.default,{item:t,reminders:a},o.default.createElement(u.ReminderAlarmIcon,null))):null,y&&(g>0||E)?o.default.createElement("span",null,o.default.createElement(c.default,{onClick:function(){return h({activeTab:"comments"})}},o.default.createElement(u.NotesIcon,{size:"small",className:"notes_icon"}),E?"".concat(g,"+"):g)):null,l?(0,m.sortLabels)(t.labels,i).map(function(e){var t=i[e]||{name:e,color:s.DEFAULT_COLOR};return o.default.createElement("span",{key:e,className:"task_list_item__info_tags__label"},o.default.createElement(n,{label:t}))}):null)}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=i(e("prop-types")),s=e("../../models/Colors"),u=e("../icons"),c=i(e("../Button")),d=i(e("../item_due_tooltip/ItemDueTooltip")),f=i(e("../ItemDueDate")),p=i(e("./ItemDue")),m=e("../../reducers/labels");a.propTypes={item:l.default.object.isRequired,subitemsCount:l.default.number,reminders:l.default.array,labels:l.default.object.isRequired,isPremium:l.default.bool.isRequired,onOpenTaskDetails:l.default.func.isRequired,onDueDateSelect:l.default.func.isRequired,showDue:l.default.bool.isRequired,showTime:l.default.bool,showNotes:l.default.bool.isRequired,noteCount:l.default.number,noteHasMore:l.default.bool};var h=a;r.default=h},{"../../models/Colors":151,"../../reducers/labels":1010,"../Button":466,"../ItemDueDate":471,"../icons":731,"../item_due_tooltip/ItemDueTooltip":750,"./ItemDue":772,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],774:[function(e,t,r){"use strict";function n(e){function t(e){$isMac()&&e.metaKey||!$isMac()&&e.ctrlKey||e.shiftKey||"A"!==e.target.tagName&&(e.stopPropagation(),ne&&ne(void 0!==ie?ie:s.id,e))}function r(e){var t=e.target;G({id:s.id,responsible_uid:t.value})}function n(e){G({id:s.id,due:e})}function a(e){e.stopPropagation(),G({id:s.id,collapsed:s.collapsed?0:1})}function i(e){e.stopPropagation()}var s=e.item,D=e.subitemsCount,O=e.project,C=e.labels,I=e.reminders,A=e.collaborators,S=e.user,k=e.clock,M=e.showCollapser,j=e.showProject,N=e.showNotes,x=void 0===N||N,L=e.showDragHandle,q=void 0===L||L,U=e.showDue,$=void 0===U||U,F=e.showTime,z=void 0===F||F,B=e.noteCount,H=e.noteHasMore,V=e.onOpenTaskDetails,W=e.onCheckedChange,G=e.onUpdate,Y=e.onArchive,K=e.onDelete,X=e.onDuplicate,J=e.onLinkCopy,Q=e.onMoveToProject,Z=e.onSelectAddAbove,ee=e.onSelectAddBelow,te=e.indent,re=e.inCollapsed,ne=e.onEditClick,ae=e.onGoToProject,ie=e.componentKey,oe=e.renderMode,le=void 0===oe?"normal":oe,se=(0,h.usePopover)(),ue=!(0,c.isSection)(s.content),ce=(0,d.isShared)({collaborators:A},O.id),de="displayOnly"===le,fe=(0,R.useConfirmDialog)({confirmLabel:_("Duplicate comments"),cancelLabel:_("Exclude comments"),message:_("Duplicate comments?"),onConfirm:function(){return X(s.id,{withNotes:!0})},onCancel:function(){return X(s.id,{withNotes:!1})}}),pe=B>0?fe:function(){return X(s.id,{withNotes:!1})},me=(0,u.default)(["task_list_item",{"task_list_item--completed":s.checked,"task_list_item--with_subtasks":M,"task_list_item--project_hidden":!j,"task_list_item--shared":ce,"task_list_item--ctx_menu_opened":se.isOpenedByContextMenu,"task_list_item--assigned":ce&&null!=s.responsible_uid}]),he=ce?(0,u.default)("task_list_item__person_picker",{"task_list_item__person_picker--assigned":null!=s.responsible_uid}):void 0,_e=(0,l.useState)(!1),ve=(0,o.default)(_e,2),be=ve[0],ye=ve[1],ge=(0,l.useState)(!1),Ee=(0,o.default)(ge,2),Te=Ee[0],we=Ee[1],Re=s.in_history||s.checked;return l.default.createElement(l.default.Fragment,null,l.default.createElement("li",{className:me,hidden:re,onClick:de?null:t,onContextMenu:se.openOnContextMenu,"data-item-id":s.id,"data-item-indent":te},q&&!de?l.default.createElement("span",{className:"task_list_item__drag_handle item_dnd_handle",onClick:function(e){return e.stopPropagation()}},l.default.createElement(p.DragHandleIcon,null)):null,M&&!de?l.default.createElement(v.default,{className:(0,u.default)(["arrow",s.collapsed?"right":"down"]),"aria-label":s.collapsed?_x("a11y","expand"):_x("a11y","collapse"),"aria-expanded":s.collapsed?"false":"true",onClick:a},l.default.createElement(p.CaretIcon,null)):null,ue&&!de?l.default.createElement(g.default,{checked:s.checked,priority:s.priority,onChange:function(e,t){t.stopPropagation(),W(s.id,e,t)}}):null,l.default.createElement(v.default,{as:"div",className:"task_list_item__content",onClick:t,disabled:de},l.default.createElement(P.ItemContent,{item:s}),l.default.createElement(E.default,{item:s,subitemsCount:D,labels:C,reminders:I,isPremium:(0,w.isPremium)({user:S}),onDueDateSelect:n,showNotes:x,showDue:$&&!de,showTime:z&&!de,noteCount:B,noteHasMore:H,onOpenTaskDetails:V}),j?l.default.createElement("span",{className:"task_list_item__project"},l.default.createElement("a",{onClick:i,href:"app#project/".concat(O.id)},l.default.createElement(f.default,{text:O.name}),l.default.createElement(p.ProjectIcon,{size:"xsmall",color:O.color,isShared:ce}))):null),l.default.createElement("div",{className:(0,u.default)({task_list_item__actions:!0,task_list_item__actions__active:se.isOpen||be||Te}),onClick:function(e){return e.stopPropagation()}},l.default.createElement(v.default,{onClick:function(){return V()},title:_("Open task view"),"aria-label":_("Open task view")},l.default.createElement(p.InfoIcon,null)),Re||de?null:l.default.createElement(T.default,{item:s,reminders:I,onDueUpdate:n,fallbackTooltip:_("Schedule"),onSchedulerToggle:ye},l.default.createElement(p.CalendarIconB,null)),l.default.createElement(v.default,{className:"task_list_item__comments_button","aria-label":_("Comment"),title:_("Comment"),onClick:function(){return V({activeTab:"comments"})}},l.default.createElement(p.NotesIcon,null)),!ce||Re||de?null:l.default.createElement(m.PersonPicker,{className:he,projectId:s.project_id,value:s.responsible_uid,onChange:r,onToggle:we,tooltip:m.getAssigneeTooltip}),de?null:l.default.createElement(v.default,{onClick:se.openOnClick,"aria-expanded":se.isOpen,"data-testid":"more_menu",title:_("More task actions"),"aria-label":_("More task actions"),className:"more_actions_button"},l.default.createElement(p.MoreSmallIcon,null)))),se.isOpen&&l.default.createElement(h.Popover,se.props,Re?l.default.createElement(y.default,{item:s,onDelete:se.close(K),onLinkCopy:se.close(J)}):l.default.createElement(b.default,{item:s,user:S,clock:k,onUpdate:se.close(G),onArchive:se.close(Y),onDelete:se.close(K),onDuplicate:se.close(pe),onLinkCopy:se.close(J),onMoveToProject:se.close(Q),onSelectEdit:se.close(ne),onGoToProject:ae&&j?se.close(ae):void 0,onSelectAddAbove:se.close(Z),onSelectAddBelow:se.close(ee)})))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=i(e("classnames")),c=e("../../utils"),d=e("../../reducers/collaborators"),f=i(e("../formatter/PlainText")),p=e("../icons"),m=e("../person_picker"),h=e("../popover"),v=i(e("../Button")),b=i(e("../item_menu_list")),y=i(e("../completed_item_menu_list")),g=i(e("../item_checkbox")),E=i(e("./ItemInfoTags")),T=i(e("./ItemDue")),w=e("../../reducers/user"),R=e("../confirm_dialog"),P=e("../item_content");n.propTypes={item:s.default.object.isRequired,project:s.default.object.isRequired,subitemsCount:s.default.number,reminders:s.default.array,indent:s.default.oneOf([1,2,3,4,5]).isRequired,collaborators:s.default.object.isRequired,labels:s.default.object.isRequired,user:s.default.object.isRequired,inCollapsed:s.default.bool.isRequired,showProject:s.default.bool,showDue:s.default.bool,showTime:s.default.bool,showCollapser:s.default.bool,showNotes:s.default.bool,showDragHandle:s.default.bool,noteCount:s.default.number,noteHasMore:s.default.bool,renderMode:s.default.oneOf(["normal","displayOnly"]),onOpenTaskDetails:s.default.func.isRequired,onEditClick:s.default.func,onGoToProject:s.default.func,onCheckedChange:s.default.func,onSelectAddAbove:s.default.func,onSelectAddBelow:s.default.func,onUpdate:s.default.func,onArchive:s.default.func,onDuplicate:s.default.func,onLinkCopy:s.default.func,onMoveToProject:s.default.func,onDelete:s.default.func};var D=l.default.memo(n);r.default=D},{"../../reducers/collaborators":983,"../../reducers/user":1042,"../../utils":1094,"../Button":466,"../completed_item_menu_list":507,"../confirm_dialog":509,"../formatter/PlainText":622,"../icons":731,"../item_checkbox":739,"../item_content":740,"../item_menu_list":783,"../person_picker":826,"../popover":829,"./ItemDue":772,"./ItemInfoTags":773,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,classnames:"classnames","prop-types":"prop-types",react:"react"}],775:[function(e,t,r){"use strict";function n(e,t){var r=t.item;return{onOpenTaskDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.activeTab,a=void 0===n?null:n;e((0,o.detailViewShowItem)(r.id,{activeTab:a}))}}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("react-redux"),o=e("../../reducers/detailView"),l=a(e("./ItemListItem")),s=(0,i.connect)(function(e){return{clock:e.clock}},n)(l.default);r.default=s},{"../../reducers/detailView":996,"./ItemListItem":774,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],776:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.user,n=e.clock,a=e.onSelectAddAbove,o=e.onSelectAddBelow,p=e.onSelectEdit,m=e.onGoToProject,h=e.onMoveToProject,v=e.onArchive,b=e.onDelete,y=e.onDuplicate,g=e.onLinkCopy,E=e.onUpdate;return i.default.createElement(l.MenuList,{className:"item_menu_list","aria-label":_x("a11y","task edit menu")},a?i.default.createElement(l.IconMenuItem,{text:_("Add task above"),icon:i.default.createElement(s.AddAboveIcon,null),onClick:function(){return a(t.id)}}):null,o?i.default.createElement(l.IconMenuItem,{text:_("Add task below"),icon:i.default.createElement(s.AddBelowIcon,null),onClick:function(){return o(t.id)}}):null,i.default.createElement(l.IconMenuItem,{text:_("Edit task"),icon:i.default.createElement(s.EditIcon,null),onClick:function(){return p(t.id)}}),null!=m?i.default.createElement(l.IconMenuItem,{text:_("Go to project"),icon:i.default.createElement(s.ListIcon,null),onClick:function(){return m(t.project_id,t.id)}}):null,i.default.createElement(l.MenuSeparator,null),i.default.createElement(c.default,{item:t,user:r,onSelect:function(e){return E({id:t.id,due:e})},clock:n}),i.default.createElement(u.default,{selected:t.priority,onSelect:function(e){return E({id:t.id,priority:e})}}),i.default.createElement(l.MenuSeparator,null),i.default.createElement(f.default,{item:t}),i.default.createElement(l.MenuSeparator,null),i.default.createElement(d.default,{onMoveToProject:h,item:t}),t.due&&t.due.is_recurring?i.default.createElement(l.IconMenuItem,{text:_("Complete forever"),icon:i.default.createElement(s.ArchiveIcon,null),onClick:function(){return v(t.id)}}):null,i.default.createElement(l.IconMenuItem,{text:_("Duplicate"),icon:i.default.createElement(s.DuplicateIcon,null),onClick:function(){return y(t.id)}}),i.default.createElement(l.IconMenuItem,{text:_("Copy link to task"),icon:i.default.createElement(s.LinkIcon,null),onClick:function(){return g(t.id)}}),i.default.createElement(l.MenuSeparator,null),i.default.createElement(l.IconMenuItem,{className:"danger_menu",text:_("Delete task"),icon:i.default.createElement(s.DeleteIcon,null),onClick:function(){return b(t)}}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=e("../menu_list"),s=e("../icons"),u=a(e("./PrioritySelectorMenu")),c=a(e("./ScheduleMenu")),d=a(e("./MoveToProjectMenu")),f=a(e("./RemindersMenu"));n.propTypes={item:o.default.object.isRequired,user:o.default.object.isRequired,clock:o.default.string.isRequired,onSelectAddAbove:o.default.func,onSelectAddBelow:o.default.func,onSelectEdit:o.default.func.isRequired,onGoToProject:o.default.func,onArchive:o.default.func.isRequired,onMoveToProject:o.default.func.isRequired,onDelete:o.default.func.isRequired,onUpdate:o.default.func.isRequired,onLinkCopy:o.default.func.isRequired,onDuplicate:o.default.func.isRequired}},{"../icons":731,"../menu_list":801,"./MoveToProjectMenu":777,"./PrioritySelectorMenu":778,"./RemindersMenu":779,"./ScheduleMenu":780,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],777:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.onMoveToProject;return o.default.createElement(c.default,{onSelect:function(e){var n=e.project_id,a=e.section_id;r({id:t.id,project_id:n,section_id:a})},selectedProjectId:t.project_id,selectedSectionId:t.section_id,withSectionSelection:!0},function(e){var t=e.toggle,r=e.buttonProps;return o.default.createElement(u.IconMenuItem,(0,i.default)({text:_("Move to project"),icon:o.default.createElement(s.MoveIcon,null)},r,{onClick:t}))})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react")),l=a(e("prop-types")),s=e("../icons"),u=e("../menu_list"),c=a(e("../project_picker"));n.propTypes={item:l.default.object,onMoveToProject:l.default.func}},{"../icons":731,"../menu_list":801,"../project_picker":854,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],778:[function(e,t,r){"use strict";function n(e){var t=e.selected,r=e.onSelect,n=function(e){return i.default.createElement(f,{key:e,priority:e,selected:t===e,onSelect:r})};return i.default.createElement(u.default,{title:_("Priority")},i.default.createElement("div",{className:"priority_list",role:"menu","aria-label":_("Priority")},[1,2,3,4].map(function(e){return n(e)})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("classnames")),s=a(e("../icons/PriorityIcon")),u=a(e("../menu_list/SectionMenuItem")),c=a(e("@doist/reactist/lib/Tooltip")),d=e("../utils"),f=function(e){var t,r=e.priority,n=e.selected,a=e.onSelect,o=(0,l.default)(["priority_item","icon_priority_".concat(r),n?"is_selected":null]);switch(r){case 1:t=_("Priority 4");break;case 2:t=_("Priority 3");break;case 3:t=_("Priority 2");break;case 4:t=_("Priority 1")}var u=function(){return a(r)};return i.default.createElement(c.default,{delayShow:0,text:t,position:"bottom"},i.default.createElement("span",{className:o,role:"menuitemradio","aria-checked":n,"aria-label":t,tabIndex:"0",onKeyDown:(0,d.createKeyboardClickHandler)(u),onClick:u},i.default.createElement(s.default,{priority:r})))};f.propTypes={onSelect:o.default.func,priority:o.default.oneOf([1,2,3,4]),selected:o.default.bool},n.propTypes={onSelect:o.default.func.isRequired,selected:o.default.oneOf([1,2,3,4])}},{"../icons/PriorityIcon":708,"../menu_list/SectionMenuItem":800,"../utils":972,"@babel/runtime/helpers/interopRequireDefault":189,"@doist/reactist/lib/Tooltip":203,classnames:"classnames","prop-types":"prop-types",react:"react"}],779:[function(e,t,r){"use strict";function n(e){var t=e.item;return o.default.createElement(c.default,{item:t},function(e){return o.default.createElement(u.IconMenuItem,(0,i.default)({text:_("Reminders"),icon:o.default.createElement(s.default,null)},e))})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../icons/ReminderIcon")),u=e("../menu_list"),c=a(e("../reminders_picker"));n.propTypes={item:l.default.object}},{"../icons/ReminderIcon":715,"../menu_list":801,"../reminders_picker":896,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],780:[function(e,t,r){"use strict";function n(e){function t(e){if(!e)return void o(null);o(null!=n.due?n.due.inheritDate({year:e.getFullYear(),month:e.getMonth(),day:e.getDate()},{withTime:!1,timezone:n.due.timezone}):d.default.fromDate(e))}var r=e.user,n=e.item,a=e.clock,o=e.onSelect,f=new Date,p=new Date;return p.setDate(p.getDate()+1),i.default.createElement(l.default,{title:_("Schedule")},i.default.createElement("div",{className:"scheduler_holder"},i.default.createElement("div",{className:"icon_list",role:"menu","aria-label":_("Schedule")},i.default.createElement(m.default,{tip:_("Today"),onClick:function(){return t(f)},icon:i.default.createElement(s.TodayIcon,{size:"large",dateString:a,className:"icon_today"})}),i.default.createElement(m.default,{tip:_("Tomorrow"),icon:i.default.createElement(s.TomorrowIcon,{size:"large",className:"icon_tomorrow"}),onClick:function(){return t(p)}}),i.default.createElement(m.default,{tip:_("Next week"),onClick:function(){return t((0,u.nextWeek)(r))},icon:i.default.createElement(s.CalendarMoveIcon,{size:"large",className:"icon_next_week"})}),null!=n.due?i.default.createElement(v,{item:n,onSelect:o}):i.default.createElement(c.default,{item:n,onOptionSelect:t}),null!=n.due?i.default.createElement(m.default,{tip:_("No Date"),onClick:function(){return t(null)},icon:i.default.createElement(s.ClearIcon,null)}):null,i.default.createElement(h,{item:n,onSelect:o}))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../menu_list/SectionMenuItem")),s=e("../icons"),u=e("../../utils"),c=a(e("./SmartScheduleMenuItem")),d=a(e("../../models/DateExt")),f=a(e("../scheduler/SchedulerPopper")),p=a(e("../TemplateText")),m=a(e("./ScheduleMenuItem"));n.propTypes={item:o.default.object.isRequired,user:o.default.object.isRequired,onSelect:o.default.func.isRequired,clock:o.default.string.isRequired};var h=function(e){var t=e.item,r=e.onSelect;return i.default.createElement(f.default,{selectedDate:t.due,selectedItems:[t],onDateSelect:r,referenceElement:function(e){var t=e.ref,r=e.onClick;return i.default.createElement(m.default,{forwardRef:t,tip:_("More"),icon:i.default.createElement(s.MoreIcon,{size:"large"}),onClick:r})}})};h.propTypes={item:o.default.object.isRequired,onSelect:o.default.func.isRequired};var v=function(e){var t=e.item,r=e.onSelect,n=t.due.postpone();if("END_REACHED"===n)return null;var a=i.default.createElement(p.default,{text:_("Postpone to {date}"),keyval:{date:i.default.createElement("b",null,n.relativeFormat())}}),o=(0,u.format)(_("Postpone to {date}"),{date:n.relativeFormat()});return i.default.createElement(m.default,{tip:a,"aria-label":o,icon:i.default.createElement(s.PostponeIcon,{size:"large",className:"icon_postpone"}),onClick:function(){return r(n)}})};v.propTypes={item:o.default.object.isRequired,onSelect:o.default.func.isRequired}},{"../../models/DateExt":154,"../../utils":1094,"../TemplateText":475,"../icons":731,"../menu_list/SectionMenuItem":800,"../scheduler/SchedulerPopper":917,"./ScheduleMenuItem":781,"./SmartScheduleMenuItem":782,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],781:[function(e,t,r){"use strict";function n(e){var t=e.forwardRef,r=e.tip,n=e.icon,a=e.className,s=(0,o.default)(e,["forwardRef","tip","icon","className"]),f=l.default.createElement(c.default,(0,i.default)({ref:t,role:"menuitem","aria-label":s["aria-label"]||r,className:(0,u.default)("icon_scheduler",a)},s),n);return r?l.default.createElement(d.default,{text:r,delayShow:0,position:"bottom"},f):f}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types")),u=a(e("classnames")),c=a(e("../Button")),d=a(e("@doist/reactist/lib/Tooltip"));n.propTypes={forwardRef:s.default.oneOfType([s.default.object,s.default.func]),tip:s.default.node,icon:s.default.node.isRequired}},{"../Button":466,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@doist/reactist/lib/Tooltip":203,classnames:"classnames","prop-types":"prop-types",react:"react"}],782:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.onOptionSelect,n=(0,l.useState)(null),a=(0,o.default)(n,2),i=a[0],s=a[1];if((0,l.useEffect)(function(){(0,p.predictItemDuedate)([t],function(e,t){if(e){var r=c.default.fromDate(e[0],{with_time:!0});s(r)}t&&s(t)})},[t]),!i)return l.default.createElement(m.default,{className:"smart_schedule_item_loading",icon:l.default.createElement(u.default,null)});if(i instanceof Error)return l.default.createElement(h.Transition,{in:!0,appear:!0,timeout:225},function(e){return l.default.createElement(m.default,{tip:_("No suggestions available"),className:"smart_schedule_item_error ".concat(e),icon:l.default.createElement(v.DateSuggestionErrorIcon,{size:"large"})})});var b=i.getDate();return l.default.createElement(h.Transition,{in:!0,appear:!0,timeout:225},function(e){return l.default.createElement(m.default,{onClick:function(){return r(i.toDate())},tip:l.default.createElement(d.default,{text:_("Suggested date: {date}"),keyval:{date:l.default.createElement("b",null,i.relativeFormat())}}),"aria-label":(0,f.format)(_("Suggested date: {date}"),{date:i.relativeFormat()}),className:"smart_schedule_item_result ".concat(e),icon:l.default.createElement(v.DateSuggestionIcon,{size:"large",date:b,className:"icon_suggestion"})})})}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=i(e("../spinners/RingSpinner")),c=i(e("../../models/DateExt")),d=i(e("../TemplateText")),f=e("../../utils"),p=e("../../models/SmartSchedule"),m=i(e("./ScheduleMenuItem")),h=e("react-transition-group"),v=e("../icons");n.propTypes={item:s.default.object.isRequired,onOptionSelect:s.default.func.isRequired}},{"../../models/DateExt":154,"../../models/SmartSchedule":166,"../../utils":1094,"../TemplateText":475,"../icons":731,"../spinners/RingSpinner":960,"./ScheduleMenuItem":781,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-transition-group":"react-transition-group"}],783:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0
;var a=n(e("./ItemMenuList")),i=a.default;r.default=i},{"./ItemMenuList":776,"@babel/runtime/helpers/interopRequireDefault":189}],784:[function(e,t,r){"use strict";function n(e){var t=e.projects,r=e.items,n=e.unitHeight,a=void 0===n?4:n,l=e.unitWidth,u=void 0===l?4:l,c=e.maxWidth,d=function(e){return t[e]?t[e].color:s.DEFAULT_COLOR},f=function(e,t){return d(e.project_id)-d(t.project_id)},p=(0,i.default)(r);return p.sort(f),c&&p.length*u>c&&(u=c/p.length),o.default.createElement("div",{className:"item_stat_bar"},p.map(function(e){var t={backgroundColor:(0,s.getHex)("project",d(e.project_id)),height:"".concat(a,"px"),width:"".concat(u,"px")};return o.default.createElement("div",{key:e.id,className:"color_block",style:t})}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/toConsumableArray")),o=a(e("react")),l=a(e("prop-types")),s=e("../../models/Colors");n.propTypes={projects:l.default.object.isRequired,items:l.default.array.isRequired,unitHeight:l.default.number,unitWidth:l.default.number,maxWidth:l.default.number}},{"../../models/Colors":151,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react"}],785:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),i=n(e("prop-types")),o=e("../icons"),l=function(e){var t=e.karmaLv,r=e.lang,n=s(e),i=n.title,o=n.subtitle,l=n.content,c=n.facebookText,d=n.twitterText;return a.default.createElement("div",{className:"karma_promo karma_cls_1 GB_iframe_html"},a.default.createElement("h1",null,i),a.default.createElement("h2",null,o),a.default.createElement("h3",null,l),a.default.createElement("div",{className:"bottom_holder"},a.default.createElement("div",{className:"share_icons"},u({facebook:!0,karmaLv:t,text:c,lang:r}),u({twitter:!0,karmaLv:t,lang:r,text:d}))),a.default.createElement("a",{href:"/karma",className:"karma_help",target:"_blank"},_("Todoist Karma Help")))};l.propTypes={karmaLv:i.default.number,totalCompletedCount:i.default.number,lastMonthCompletedCount:i.default.number,topPercent:i.default.number,lang:i.default.string};var s=function(e){var t,r,n,a,i,o=e.karmaLv,l=e.totalCompletedCount,s=e.lastMonthCompletedCount,u=e.topPercent;return 1===o?(t=_("Novice Level"),r=_("You keep progressing- great work!"),n=_("With 500 points, you've reached the Novice Todoist Karma level."),a=_("My @Todoist Karma gets better everyday :) With 500 points, I'm now a Novice!"),i=_("My Todoist Karma gets better everyday :) With 500 points, I'm now a Novice. What about you?")):2===o?(t=_("Intermediate Level"),r=_("Congratulations, you completed a total of %s tasks!").replace("%s",l),n=_("Be proud, your productivity is increasing every day! Keep it up and achieve anything."),a=_("I've completed %s tasks to reach Intermediate @Todoist Karma!").replace("%s",l),i=_("I've completed %s tasks to reach Todoist Karma's Intermediate level! Try Todoist and become more productive.").replace("%s",l)):3===o?(t=_("Professional Level"),r=_("You completed %s tasks last month").replace("%s",s),n=_("Feeling more productive than ever? Don't quit now, you're nearly half way to Enlightened!"),a=_("In the last month, I completed %s tasks to reach @Todoist Karma's Professional level!").replace("%s",s),i=_("Last month, I completed %s tasks and reached Todoist Karma's Professional level. Don't stop me now!").replace("%s",s)):4===o?(t=_("Expert Level"),r=_("Your productivity truly has no bounds"),n=_("Stay focused, be productive and keep progressing. You'll be Enlightened in no time!"),a=_("I've completed %s tasks, and now I'm a productivity @Todoist Expert!").replace("%s",l),i=_("Last month, I completed %s tasks and reached Todoist Karma's Professional level. Don't stop me now!")):5===o?(t=_("Master Level"),r=_("We salute you, Master Todoist user!"),n=_("You've reached an important threshold\u2013 over 10,000 impressive karma points."),a=_("With more than 10,000 points, I'm now a @Todoist Karma Master! #ProductivityMaster"),i=_("With more than 10,000 points, I'm now a Todoist Karma Master! #ProductivityMaster")):6===o?(t=_("Grand Master Level"),r=_("You're just one level from Enlightenment"),n=_("Be proud- your Karma has skyrocketed to over 20,000 points after completing %s tasks.").replace("%s",l),a=_("I'm the #productivity Grand Master \u2013 with over 20k @Todoist Karma points!"),i=_("I'm the #productivity Grand Master \u2013 with over 20k Todoist Karma points and %s completed tasks!").replace("%s",l)):7===o&&(t=_("Enlightened Level"),r=_("You did it. You're now in the exclusive %s%% of Todoist users!").replace("%s",u).replace("%%","%"),n=_("You've completed an impressive total of %s tasks!").replace("%s",l),a=_("I have joined the exclusive %s of Todoist users! Reaching @Todoist Karma Enlightenment!").replace("%s",u),i=_("I have joined the exclusive %s of Todoist users! Reaching Todoist Karma Enlightenment!").replace("%s",u)),{title:t,subtitle:r,content:n,twitterText:a,facebookText:i}},u=function(e){var t,r,n,i=e.facebook,l=e.twitter,s=e.karmaLv,u=e.text,c=e.lang,d="https://".concat(location.host,"/karma/").concat(c,"/").concat(s,"/2?lang=").concat(c),f={FacebookIcon:o.FacebookIcon,TwitterIcon:o.TwitterIcon};return i&&(t="https://www.facebook.com/sharer.php?u=".concat(d),r="facebook",n=f.FacebookIcon),l&&(t=u+" "+d,t=$urlencode(t),t="https://twitter.com/intent/tweet?text=".concat(t),r="twitter",n=f.TwitterIcon),a.default.createElement("a",{href:t,className:r,target:"_blank",rel:"noopener noreferrer"},a.default.createElement(n,null))},c=l;r.default=c},{"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],786:[function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s.default.getTotalCompletedCount(),n=DIV(),a={karmaLv:e,totalCompletedCount:r,lang:window.LANG,lastMonthCompletedCount:t.completed_last_month,topPercent:t.top_procent};GB_showHTML("",n,300,450,{close_validator_fn:function(){return o.default.unmountComponentAtNode(n),!0}}),o.default.render(i.default.createElement(l.default,a),n)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.show=n,r.default=void 0;var i=a(e("react")),o=a(e("react-dom")),l=a(e("./KarmaPromotion")),s=a(e("../../models/ItemsModel.js"));window.showKarmaPromotion=function(e,t){n(e,t)};var u={show:n};r.default=u},{"../../models/ItemsModel.js":157,"./KarmaPromotion":785,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom"}],787:[function(e,t,r){"use strict";function n(e){var t=e.onClose;return s.default.createElement(c.default.Box,{isOpen:!0,onDismiss:t,closeOnOverlayClick:!0},s.default.createElement(c.default.Body,{showCloseIcon:!0},s.default.createElement("h2",{className:"kbsc__header"},_x("shortcuts","Keyboard Shortcuts")),s.default.createElement("div",{className:""},s.default.createElement("p",{className:"kbsc__desc"},_x("shortcuts","Shortcuts can save you time! Some can be used anywhere in the app, while others only work when adding or editing tasks.")," ",s.default.createElement("a",{className:"kbsc__link",href:"https://get.todoist.help/hc/articles/205063212",target:"_blank",rel:"noopener noreferrer"},_x("shortcuts","Learn more")))),s.default.createElement(a,{header:_x("shortcuts","Task Quick Add shortcuts"),items:d.quickAddItems}),s.default.createElement(a,{header:_x("shortcuts","Used anywhere"),items:d.anywhereItems}),s.default.createElement(a,{header:_x("shortcuts","Adding or editing tasks"),items:d.addingEditingItems}),s.default.createElement(a,{header:_x("shortcuts","Creating and completing sub-tasks"),items:d.subtasksItems}),s.default.createElement(a,{header:_x("shortcuts","Sorting tasks inside a project"),items:d.sortingItems})))}function a(e){var t=e.header,r=e.items;return s.default.createElement("div",null,s.default.createElement("h3",{className:"kbsc__section"},t),r.map(function(e){return s.default.createElement(i,(0,l.default)({},e,{key:e.label}))}))}function i(e){var t=e.label,r=e.shortcut;return s.default.createElement("div",{className:"kbsc__row"},s.default.createElement("div",{className:"kbsc__label"},t),s.default.createElement("div",{className:"kbsc__shortcut"},r))}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var l=o(e("@babel/runtime/helpers/extends")),s=o(e("react")),u=o(e("prop-types")),c=o(e("../reactist/modal")),d=e("./list");n.propTypes={onClose:u.default.func.isRequired},a.propTypes={header:u.default.node.isRequired,items:u.default.arrayOf(u.default.shape({label:u.default.node.isRequired,shortcut:u.default.node.isRequired}).isRequired).isRequired},i.propTypes={label:u.default.node.isRequired,shortcut:u.default.node.isRequired}},{"../reactist/modal":880,"./list":788,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],788:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.sortingItems=r.subtasksItems=r.addingEditingItems=r.anywhereItems=r.multipleTasks=r.quickAddItems=void 0;var a=n(e("react")),i=n(e("../TemplateText")),o=e("./utils"),l=[{label:_x("shortcuts","Add a label"),shortcut:a.default.createElement("pre",null,"@")},{label:_x("shortcuts","Pick a project"),shortcut:a.default.createElement("pre",null,"#")},{label:_x("shortcuts","Add an assignee"),shortcut:a.default.createElement("pre",null,"+")},{label:_x("shortcuts","Set a priority level"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,"p1")," , ",a.default.createElement("pre",null,"p2")," , ",a.default.createElement("pre",null,"p3")," , ",a.default.createElement("pre",null,"p4"))},{label:_x("shortcuts","Add a quick comment"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,(0,o.getKeySymbol)("control"))," + ",a.default.createElement("pre",null,"m"))}];r.quickAddItems=l;var s=a.default.createElement(i.default,{text:_x("shortcuts","{shortcut1} or {shortcut2}"),keyval:{shortcut1:a.default.createElement("span",{key:"ctrl"},a.default.createElement("pre",null,(0,o.getKeySymbol)("command"))," +"," ",a.default.createElement("pre",null,_("Click"))),shortcut2:a.default.createElement("span",{key:"\u21e7"},a.default.createElement("pre",null,"\u21e7")," + ",a.default.createElement("pre",null,_("Click")))}});r.multipleTasks=s;var u=a.default.createElement(i.default,{text:_x("shortcuts","{shortcut1} or {shortcut2}"),keyval:{shortcut1:a.default.createElement("pre",{key:"/"},"/"),shortcut2:a.default.createElement("pre",{key:"f"},"f")}}),c=[{label:_x("shortcuts","Select and change multiple tasks at once"),shortcut:s},{label:_x("shortcuts","Add task"),shortcut:a.default.createElement("pre",null,"q")},{label:_x("shortcuts","Add new task at the bottom of the list"),shortcut:a.default.createElement("pre",null,"a")},{label:_x("shortcuts","Add new task at the top of the list"),shortcut:a.default.createElement("pre",null,"A")},{label:_x("shortcuts","Open search"),shortcut:u}];r.anywhereItems=c;var d=[{label:_x("shortcuts","Cancel current changes"),shortcut:a.default.createElement("pre",null,"Esc")},{label:_x("shortcuts","Save a newly created task and create a new one below it"),shortcut:a.default.createElement("pre",null,(0,o.getKeySymbol)("enter"))},{label:_x("shortcuts","Save changes to an existing task and create a new task below it"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,"\u21e7")," + ",a.default.createElement("pre",null,(0,o.getKeySymbol)("enter")))},{label:_x("shortcuts","Save a new task or save changes to an existing one and create a new task above it"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,(0,o.getKeySymbol)("control"))," +"," ",a.default.createElement("pre",null,(0,o.getKeySymbol)("enter")))},{label:_x("shortcuts","Move to the task above the task currently being edited"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,(0,o.getKeySymbol)("command"))," + ",a.default.createElement("pre",null,"\u2191"))},{label:_x("shortcuts","Move to the task below the task currently being edited"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,(0,o.getKeySymbol)("command"))," + ",a.default.createElement("pre",null,"\u2193"))}];r.addingEditingItems=d;var f=[{label:_x("shortcuts","Increase task indent (Works only inside projects)"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,(0,o.getKeySymbol)("command"))," + ",a.default.createElement("pre",null,"\u2192"))},{label:_x("shortcuts","Decrease task indent (Works only inside projects)"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,(0,o.getKeySymbol)("command"))," + ",a.default.createElement("pre",null,"\u2190"))},{label:_x("shortcuts","Complete a sub-task or recurring task and archive it"),shortcut:a.default.createElement("div",null,a.default.createElement("pre",null,"\u21e7")," + ",a.default.createElement("pre",null,_("Click"))," ",_x("shortcuts","(hold down \u21e7)"))}];r.subtasksItems=f;var p=[{label:_x("shortcuts","Sort by date"),shortcut:a.default.createElement("pre",null,"d")},{label:_x("shortcuts","Sort by priority"),shortcut:a.default.createElement("pre",null,"p")},{label:_x("shortcuts","Sort by name"),shortcut:a.default.createElement("pre",null,"n")},{label:_x("shortcuts","Sort by assignee"),shortcut:a.default.createElement("pre",null,"r")}];r.sortingItems=p},{"../TemplateText":475,"./utils":789,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],789:[function(e,t,r){"use strict";function n(e){switch(e){case"command":return a.isMac?"\u2318":"Ctrl";case"alt":return a.isMac?"\u2325":"Alt";case"control":return a.isMac?"\u2303":"Ctrl";case"enter":return a.isMac?"\u21a9\ufe0e":"Enter"}}Object.defineProperty(r,"__esModule",{value:!0}),r.getKeySymbol=n;var a=e("../../utils/Env")},{"../../utils/Env":1057}],790:[function(e,t,r){"use strict";function n(e){var t=e.label;return d.default.createElement(v.Option,{value:t.name,label:t.name,className:"label_picker_option"},function(e){var r=e.checkedStatus;return d.default.createElement(d.default.Fragment,null,d.default.createElement("span",{"aria-hidden":"true",style:{color:(0,p.getHex)("label",t.color)}},d.default.createElement(g.LabelIcon,null)),d.default.createElement("span",{className:"label_picker_option_name"},t.name),d.default.createElement("span",{className:"label_picker_option_box","aria-hidden":"true"},d.default.createElement(E.default,{checkedStatus:r})))})}function a(e){function t(e){e.stopPropagation();var t=i(l);s({type:v.ACTION.SELECT_OPTION,optionValue:t.name})}var r=e.personalLabels,a=e.sharedLabels,i=e.onLabelAdd,o=d.default.useContext(v.Context),l=o.searchText,s=o.dispatch,u=0===l.trim().length,c=u||0===r.length?r:(0,m.labelGetBySearch)({labels:r},l),f=u||0===a.length?a:(0,m.labelGetBySearch)({labels:a},l);return 0!==c.length||0!==f.length||u?d.default.createElement(v.Options,null,c.map(function(e){return d.default.createElement(n,{key:e.name,label:e})}),f.length>0&&d.default.createElement(v.OptionSeparator,null,_("Shared")),f.map(function(e){return d.default.createElement(n,{key:e.name,label:e})})):d.default.createElement(v.Options,{className:"label_picker_empty"},d.default.createElement(v.OptionSeparator,null,_("Label not found")),d.default.createElement("li",null,d.default.createElement(h.default,{onClick:t},d.default.createElement(g.CreateIcon,null),_('Create "{query}"').replace("{query}",l))))}function i(e){function t(e){E({name:e,item_order:R})}function r(){I(!1)}function n(e){if(!m)return void I(!0);e()}var i=e.children,o=e.personalLabels,l=e.sharedLabels,f=e.value,p=e.partiallySelectedValues,m=e.isPremium,g=e.onLabelAdd,E=void 0===g?function(){}:g,T=e.onChange,w=e.tooltip,R=e.maxLabelItemOrder,P=(0,c.default)(e,["children","personalLabels","sharedLabels","value","partiallySelectedValues","isPremium","onLabelAdd","onChange","tooltip","maxLabelItemOrder"]),D=(0,d.useState)(!1),O=(0,u.default)(D,2),C=O[0],I=O[1];return d.default.createElement(d.default.Fragment,null,d.default.createElement(v.Select,{multiple:!0,value:f,partiallySelectedValues:p,onChange:T},d.default.createElement(v.Toggle,{tooltip:w},function(e){var t=e.toggleDropdown,r=e.buttonProps;return d.default.createElement(h.default,(0,s.default)({},r,P,{className:"item_action",onClick:function(){return n(t)}}),i)}),d.default.createElement(v.Popup,{className:"label_picker"},d.default.createElement(v.Search,{placeholder:_("Type a label")}),d.default.createElement(a,{personalLabels:o,sharedLabels:l,onLabelAdd:t}))),d.default.createElement(b.default.Box,{className:"label_picker__premium",isOpen:C,onDismiss:r,closeOnOverlayClick:!0},d.default.createElement(b.default.Body,null,d.default.createElement(y.PremiumModal,{feature:"FEATURE_LABEL",onClose:r}))))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/slicedToArray")),c=l(e("@babel/runtime/helpers/objectWithoutProperties")),d=o(e("react")),f=l(e("prop-types")),p=e("../../models/Colors"),m=e("../../reducers/labels"),h=l(e("../Button")),v=o(e("../dropdown")),b=l(e("../reactist/modal")),y=e("../../containers/premium_promo/PremiumOnlyModal"),g=e("../icons"),E=l(e("./OptionIcon"));n.propTypes={label:f.default.object.isRequired},a.propTypes={personalLabels:f.default.array.isRequired,sharedLabels:f.default.array.isRequired,onLabelAdd:f.default.func.isRequired},i.propTypes={personalLabels:f.default.array.isRequired,sharedLabels:f.default.array.isRequired,value:f.default.arrayOf(f.default.string.isRequired).isRequired,partiallySelectedValues:f.default.arrayOf(f.default.string.isRequired),isPremium:f.default.bool,onLabelAdd:f.default.func,tooltip:f.default.node,onChange:f.default.func.isRequired};var T=i;r.default=T},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/Colors":151,"../../reducers/labels":1010,"../Button":466,"../dropdown":556,"../icons":731,"../reactist/modal":880,"./OptionIcon":791,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],791:[function(e,t,r){"use strict";function n(e){var t=e.checkedStatus;return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:l[t]}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l={true:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm-2.457 4.293l-5.293 5.293-1.793-1.793a1 1 0 1 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l6-6a1 1 0 1 0-1.414-1.414z",mixed:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm-2 7H8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2z",false:"M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zm0 1H6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"};n.propTypes={checkedStatus:o.default.oneOf(["true","false","mixed"]).isRequired};var s=n;r.default=s},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],792:[function(e,t,r){"use strict";function n(e){return{personalLabels:(0,l.labelGetAllPersonal)(e),sharedLabels:(0,l.labelGetAllShared)(e),maxLabelItemOrder:(0,l.labelGetMaxOrder)(e)+1,isPremium:(0,s.isPremium)(e)}}function a(e){return{onLabelAdd:function(t){e((0,l.labelAdd)(t))}}}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=e("react-redux"),l=e("../../reducers/labels"),s=e("../../reducers/user"),u=i(e("./LabelPicker")),c=(0,o.connect)(n,a)(u.default);r.default=c},{"../../reducers/labels":1010,"../../reducers/user":1042,"./LabelPicker":790,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],793:[function(e,t,r){"use strict";function n(e){var t=e.labelName,r=(0,p.default)(),n=r,a=(0,c.itemGetUncompleted)(n).filter(function(e){return e.labels&&e.labels.some(function(e){return e===t})}),u=(0,o.useSelector)(s.totalCompleted);return 0===a.length?l.default.createElement("div",{id:"agenda_view"},u<20?l.default.createElement(d.EmptyStateLabelNew,null):l.default.createElement(d.EmptyStateLabelZero,null)):l.default.createElement("div",{id:"agenda_view"},l.default.createElement(m.ViewHeader,{header:l.default.createElement(h.default,{text:t,withMarkdown:!1})}),l.default.createElement(f.default,(0,i.default)({rootItemIds:a.map(function(e){return e.id}),allowAdd:{defaultFields:{labels:[t]}}},r)))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=e("react-redux"),l=a(e("react")),s=e("../../reducers/stats"),u=a(e("prop-types")),c=e("../../reducers/items"),d=e("../emptyState"),f=a(e("../item_list/RootItemList")),p=a(e("../item_list/useRootItemListProps")),m=e("../view"),h=a(e("../formatter/FormattedText"));n.propTypes={labelName:u.default.string.isRequired}},{"../../reducers/items":1005,"../../reducers/stats":1037,"../emptyState":588,"../formatter/FormattedText":621,"../item_list/RootItemList":759,"../item_list/useRootItemListProps":770,"../view":975,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],794:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./LabelView")),i=a.default;r.default=i},{"./LabelView":793,"@babel/runtime/helpers/interopRequireDefault":189}],795:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=e("../../utils"),f=e("react-redux"),p=n(e("react")),m=n(e("prop-types")),h=n(e("../top_menu")),v=n(e("../icons/PlusIcon")),b=n(e("../expansion_panel")),y=n(e("../../components/projects_list/ProjectList")),g=e("../../reducers/selectors"),E=n(e("../Button")),T=n(e("../sidebar_filters_panel")),w=n(e("../sidebar_labels_panel")),R=e("../edit_project_modal"),P=function(e){function t(e){var r;(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),(0,c.default)((0,s.default)(r),"oldComponentRendered",!1),(0,c.default)((0,s.default)(r),"savePanelState",(0,d.debounce)(function(){localStorage.setItem("panels",JSON.stringify(r.state))},1e3)),(0,c.default)((0,s.default)(r),"createPanelHandler",function(e){return function(){r.setState(function(t){return(0,c.default)({},e,!t[e])}),r.savePanelState();for(var t=0,n=[0,100,200,300,400];t<n.length;t++){var a=n[t];setTimeout(r.handleStickyHeaders,a)}}}),(0,c.default)((0,s.default)(r),"handleFilterChange",r.createPanelHandler("filterOn")),(0,c.default)((0,s.default)(r),"handleLabelChange",r.createPanelHandler("labelOn")),(0,c.default)((0,s.default)(r),"handleProjectChange",r.createPanelHandler("projectOn")),(0,c.default)((0,s.default)(r),"handleProjectAddClick",function(){(0,R.showAddProjectModal)({addAbove:!0})}),(0,c.default)((0,s.default)(r),"showEditorStream",function(e){r.showEditorStreamCallback=e}),r.state={projectOn:!0,filterOn:!1,labelOn:!1},r.leftMenuHolder=p.default.createRef(),r.handleStickyHeaders=r.handleStickyHeaders.bind((0,s.default)(r));var n=r.loadPanelState();return n&&(r.state=n),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.loaded&&!this.oldComponentRendered&&this.renderOldComponent(),this.panelSummaries=this.leftMenuHolder.current.getElementsByClassName("expansion_panel__header"),this.leftMenuHolder.current.addEventListener("click",this.handleStickyHeaders),this.leftMenuHolder.current.addEventListener("scroll",this.handleStickyHeaders),Signals.connect("filterlist_open_edit",function(){e.setState({filterOn:!0})})}},{key:"componentWillUnmount",value:function(){this.panelSummaries=null,this.leftMenuHolder.current.removeEventListener("click",this.handleStickyHeaders),this.leftMenuHolder.current.removeEventListener("scroll",this.handleStickyHeaders)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.loaded&&!this.oldComponentRendered&&this.renderOldComponent()}},{key:"renderOldComponent",value:function(){this.oldComponentRendered||(y.default.initWithData(),y.default.render(),this.oldComponentRendered=!0)}},{key:"loadPanelState",value:function(){try{var e=localStorage.getItem("panels");return e?JSON.parse(e):null}catch(e){}}},{key:"handleStickyHeaders",value:function(){var e=window.MINI_VERSION?0:44,t=document.getElementById("top_filters"),r=t.offsetTop+t.offsetHeight-e,n=this.leftMenuHolder.current.scrollTop;if(n<r){var a=!0,i=!1,o=void 0;try{for(var l,s=this.panelSummaries[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){l.value.style.top="auto"}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}}else{var u=!0,c=!1,d=void 0;try{for(var f,p=this.panelSummaries[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value,h=m.nextSibling.offsetTop-m.offsetHeight-e,_=h+m.nextSibling.offsetHeight;m.style.top=n>=h&&n<=_?n-h+"px":n>=_?_-h+"px":"auto"}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}},{key:"render",value:function(){var e=this.props.loaded,t=this.state,r=t.projectOn,n=t.filterOn,a=t.labelOn;return p.default.createElement("div",{id:"left_menu",className:"left_menu",ref:this.leftMenuHolder},p.default.createElement("div",{id:"list_holder"},e?p.default.createElement(h.default,null):null,p.default.createElement(b.default,{title:_("Projects"),isExpanded:r,onToggleExpand:this.handleProjectChange,track:"navigation|projects_panel",headerSideButton:p.default.createElement(E.default,{className:"adder_icon",onClick:this.handleProjectAddClick,"data-track":"navigation|projects_quick_add"},p.default.createElement(v.default,null))},p.default.createElement("ul",{id:"projects_list",className:"items generic_left_list"}),p.default.createElement("div",{id:"projects_list_manager",className:"left_list_manager_holder"})),e&&p.default.createElement(w.default,{isExpanded:a,onToggleExpand:this.handleLabelChange}),e&&p.default.createElement(T.default,{isExpanded:n,onToggleExpand:this.handleFilterChange})))}}]),t}(p.default.Component);(0,c.default)(P,"propTypes",{loaded:m.default.bool.isRequired});var D=function(e){return{loaded:(0,g.dataLoaded)(e)}},O=(0,f.connect)(D)(P);r.default=O},{"../../components/projects_list/ProjectList":69,"../../reducers/selectors":1035,"../../utils":1094,"../Button":466,"../edit_project_modal":570,"../expansion_panel":617,"../icons/PlusIcon":703,"../sidebar_filters_panel":950,"../sidebar_labels_panel":955,"../top_menu":969,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],796:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=n(e("prop-types")),s=e("../utils"),u=n(e("classnames")),c=o.default.forwardRef(function(e,t){var r=e.text,n=e.icon,l=e.className,c=(0,i.default)(e,["text","icon","className"]),d=null!=c.href?"a":"li";return o.default.createElement(d,(0,a.default)({role:"menuitem",tabIndex:0,ref:t,onKeyDown:(0,s.createKeyboardClickHandler)(c.onClick),className:(0,u.default)("menu_item","icon_menu_item",l)},c),o.default.createElement("div",{className:"icon_menu_item__icon","aria-hidden":!0},n),o.default.createElement("div",{className:"icon_menu_item__content"},r))});c.propTypes={text:l.default.string.isRequired,icon:l.default.node.isRequired};var d=c;r.default=d},{"../utils":972,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,classnames:"classnames","prop-types":"prop-types",react:"react"}],797:[function(e,t,r){"use strict";function n(e){var t=e.children,r=(0,o.default)(e,["children"]);return l.default.createElement("li",(0,i.default)({className:"menu_item",role:"menuitem",tabIndex:0},r),t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types"));n.propTypes={children:s.default.node.isRequired}},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],798:[function(e,t,r){"use strict";function n(e){var t=e.children,r=e.className,n=(0,o.default)(e,["children","className"]);return l.default.createElement(c.Transition,{in:!0,appear:!0,timeout:80},function(e){return l.default.createElement("ul",(0,i.default)({role:"menu",className:(0,u.default)("menu_list",r,e)},n),t)})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types")),u=a(e("classnames")),c=e("react-transition-group");n.propTypes={children:s.default.node.isRequired,className:s.default.string}},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,classnames:"classnames","prop-types":"prop-types",react:"react","react-transition-group":"react-transition-group"}],799:[function(e,t,r){"use strict";function n(){return i.default.createElement("li",{className:"menu_separator","aria-hidden":!0})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],800:[function(e,t,r){"use strict";function n(e){var t=e.title,r=e.children;return i.default.createElement("li",{className:"section_menu_item prority_selector_menu"},t?i.default.createElement("div",{className:"section_menu_label"},t):null,r)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types"));n.propTypes={title:o.default.string,children:o.default.node.isRequired}},{"@babel/runtime/helpers/interopRequireDefault":189,
"prop-types":"prop-types",react:"react"}],801:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"IconMenuItem",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"MenuItem",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"MenuList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"MenuSeparator",{enumerable:!0,get:function(){return l.default}});var a=n(e("./IconMenuItem")),i=n(e("./MenuItem")),o=n(e("./MenuList")),l=n(e("./MenuSeparator"))},{"./IconMenuItem":796,"./MenuItem":797,"./MenuList":798,"./MenuSeparator":799,"@babel/runtime/helpers/interopRequireDefault":189}],802:[function(e,t,r){"use strict";function n(e){var t=e.onClose,r=e.showActivityView,n=e.user,o=e.isPremium,l=e.newVersion,c=(0,u.useState)(w.DateUtils.prettyDate(b.default.last_synced.getTime(),!0)),d=(0,s.default)(c,2),m=d[0],O=d[1],C=(0,u.useState)(!1),I=(0,s.default)(C,2),A=I[0],S=I[1],k=(0,u.useRef)(null),M=window.MINI_VERSION||window.HAS_MINI_ARGUMENT,j=R.default.isSupported(),N=n.is_biz_admin,x=!h.isMacApp&&!n.business_account_id;(0,u.useEffect)(function(){S(!0)},[]),(0,u.useEffect)(function(){var e=setInterval(function(){O(w.DateUtils.prettyDate(b.default.last_synced.getTime(),!0))},1e3);return function(){clearInterval(e)}},[]);var L=function(){b.default.sync(null,!0,!0),t()},q=function(){y.default.showPrefs(),t()},U=function(){y.default.showPrefs("theme"),t()},$=function(){r(),t()},F=function(){D.sendSignal("open_print_mode"),t()},z=function(){(0,T.openModal)(function(e){return u.default.createElement(E.default,{onClose:e})}),t()},B=function(){g.default.logout()},H=function(){R.default.launch(),t()};return u.default.createElement("div",{ref:k},A?u.default.createElement(f.default,{width:276,nose:!0,anchor:k.current,onHide:t,position:"bottom"},u.default.createElement("div",{className:"usermenu__container"},u.default.createElement(a,{Icon:p.SyncIcon,text:_("Sync"),onClick:L}),j?u.default.createElement(a,{Icon:p.PopoutIcon,text:_("Popout in a window"),onClick:H}):null,M||j?u.default.createElement("div",{className:"usermenu__separator"}):null,N?u.default.createElement(u.default.Fragment,null,u.default.createElement(a,{Icon:p.JobIcon,text:_("Todoist Business Admin"),href:"/business/users"}),u.default.createElement("div",{className:"usermenu__separator"})):null,u.default.createElement(a,{Icon:p.SettingsIcon,text:_("Settings"),onClick:q}),M?null:u.default.createElement(a,{Icon:p.ThemeIcon,text:_("Theme"),onClick:U}),u.default.createElement(a,{Icon:p.ActivityLogIcon,text:_("View activity log"),onClick:$}),u.default.createElement(a,{Icon:p.PrintIcon,text:_("Print"),onClick:F}),u.default.createElement("div",{className:"usermenu__separator"}),o?null:u.default.createElement(a,{Icon:p.StarredIcon,text:_("Todoist Premium"),description:_("Reminders, Comments and more\u2026"),href:"/premium"}),x?u.default.createElement(u.default.Fragment,null,u.default.createElement(a,{Icon:p.JobIcon,text:_("Todoist Business"),href:"/business"}),u.default.createElement("div",{className:"usermenu__separator"})):null,u.default.createElement(a,{Icon:p.QuestionIcon,text:_("Support"),href:"https://get.todoist.help"}),M?null:u.default.createElement(a,{Icon:p.TemplateIcon,text:_("Templates"),href:"https://todoist.com/templates/"}),u.default.createElement(a,{Icon:p.EditIcon,text:_("Blog"),href:"https://blog.doist.com/"}),u.default.createElement(a,{Icon:p.KeyboardIcon,text:_("Keyboard shortcuts"),onClick:z}),u.default.createElement(a,{Icon:p.LightbulbOutlineIcon,text:_("What\u2019s new"),href:"https://get.todoist.help/hc/articles/360007080399"}),u.default.createElement("div",{className:"usermenu__separator"}),u.default.createElement(a,{Icon:p.LeaveIcon,text:_("Log out"),onClick:B}),u.default.createElement("div",{className:"usermenu__separator"}),u.default.createElement("div",{className:"usermenu__apps"},u.default.createElement("h4",{className:"usermenu__apps-header"},_("Apps")),u.default.createElement(i,{Icon:p.AndroidIcon,text:_("Android"),link:"https://play.google.com/store/apps/details?id=com.todoist"}),u.default.createElement(i,{Icon:p.IPhoneIcon,text:_("iPhone"),link:"https://geo.itunes.apple.com/us/app/todoist-to-do-list-task-manager/id572688855"}),u.default.createElement(i,{Icon:p.MacOSIcon,text:_("macOS"),link:"https://geo.itunes.apple.com/us/app/todoist-to-do-list-task-manager/id585829637?mt=12"}),h.isMacApp?null:u.default.createElement(u.default.Fragment,null,u.default.createElement(i,{Icon:p.WindowsIcon,text:_("Windows"),link:"/windows"}),u.default.createElement(i,{Icon:p.MoreIcon,text:_("More")+"...",link:"/downloads"}))),u.default.createElement("div",{className:"usermenu__separator"}),l?u.default.createElement(u.default.Fragment,null,u.default.createElement(a,{text:u.default.createElement("span",{className:"usermenu__version-new"},_("New version available")," (",l,")"),onClick:P.default.loadNewVersion}),u.default.createElement("div",{className:"usermenu__separator"})):null,u.default.createElement("div",{className:"usermenu__version"},u.default.createElement("span",null,_("Version ")+" "+v.default.version),"."," ",u.default.createElement("a",{className:"usermenu__version-link",href:v.default.isBeta?"https://get.todoist.help/hc/articles/360008804540":"/changelog",rel:"noopener noreferrer",target:"_blank"},_("View changelog")),u.default.createElement("br",null),u.default.createElement("span",null,_("Last successful sync:")," ",m)))):null)}function a(e){var t=e.Icon,r=e.text,n=e.description,a=e.onClick,i=e.href,o=u.default.createElement(u.default.Fragment,null,t?u.default.createElement("div",{className:"usermenu__row-icon"},u.default.createElement(t,null)):null,u.default.createElement("div",{className:"usermenu__row-label"},r,n?u.default.createElement("div",{className:"usermenu__row-label-description"},n):null));return i?u.default.createElement(m.default,{href:i,className:"usermenu__row"},o):u.default.createElement("div",{className:"usermenu__row",onClick:a},o)}function i(e){var t=e.Icon,r=e.text,n=e.link;return u.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n,className:"usermenu__apps-app"},u.default.createElement(d.default,{text:r,position:"bottom",delayShow:0},u.default.createElement(t,null)))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var s=l(e("@babel/runtime/helpers/slicedToArray")),u=o(e("react")),c=l(e("prop-types")),d=l(e("@doist/reactist/lib/Tooltip")),f=l(e("../Dialog")),p=e("../icons"),m=l(e("../ExternalLink")),h=e("../../utils/Env"),v=l(e("../../models/Config")),b=l(e("../../models/SyncEngine")),y=l(e("../../components/opener/WindowOpener")),g=l(e("../../models/LoadEngine")),E=l(e("../../react_components/keyboard_shortcuts_modal")),T=e("../../react_components/reactist/modal"),w=e("../../utils"),R=l(e("../../mini/Popout")),P=l(e("../../models/VersionUpdater")),D=window.Signals;n.propTypes={onClose:c.default.func.isRequired,user:c.default.object.isRequired,isPremium:c.default.bool.isRequired,showActivityView:c.default.func.isRequired,newVersion:c.default.number},a.propTypes={Icon:c.default.oneOfType([c.default.func,c.default.object]),text:c.default.node.isRequired,description:c.default.string,onClick:c.default.func,href:c.default.string},i.propTypes={Icon:c.default.oneOfType([c.default.func,c.default.object]).isRequired,text:c.default.string.isRequired,link:c.default.string.isRequired}},{"../../components/opener/WindowOpener":53,"../../mini/Popout":149,"../../models/Config":152,"../../models/LoadEngine":159,"../../models/SyncEngine":171,"../../models/VersionUpdater":176,"../../react_components/keyboard_shortcuts_modal":787,"../../react_components/reactist/modal":880,"../../utils":1094,"../../utils/Env":1057,"../Dialog":467,"../ExternalLink":469,"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],803:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=n(e("./MenuUser")),o=e("../../reducers/mainView"),l=e("../../reducers/user"),s=e("../../reducers/version"),u=function(e){return{user:(0,l.getUser)(e),isPremium:(0,l.isPremium)(e),newVersion:(0,s.getNewVersion)(e)}},c={showActivityView:o.showActivityView},d=(0,a.connect)(u,c)(i.default);r.default=d},{"../../reducers/mainView":1015,"../../reducers/user":1042,"../../reducers/version":1044,"./MenuUser":802,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],804:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/assertThisInitialized")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("@babel/runtime/helpers/defineProperty")),f=n(e("react")),p=n(e("prop-types")),m=n(e("@doist/reactist/lib/Tooltip")),h=n(e("../Button")),v=e("../icons"),b=e("../../plugin_version/ContentTransformers"),y=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return r=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o))),(0,d.default)((0,u.default)(r),"handleClick",function(){var e=r.props,t=e.options,n=e.onFileUpload,i=new window.GFile,o=new TEXTAREA;t.annotate_fn(o);var l,s=o.value,u=b.ContentTransformers.onContentSave(s),c=b.ContentTransformers.type;if("gmail_new"==c)l="td/gmail";else if("outlook"==c)l="td/outlook";else if("thunderbird"==c)l="td/thunderbird";else{l="td/hyperlink";var d=window.PluginVersion.getTitleAndUrl(),f=(0,a.default)(d,2);s=f[0],u=f[1]}return i.setUploadContent({file_url:u,file_name:s,file_type:l}),n(i),b.ContentTransformers.onContollerHide(),!1}),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getTooltipText",value:function(){var e=this.props.options;return e.annotate_attach_text?e.annotate_attach_text:e.is_email?_("Attach email to comment"):_("Attach website to comment")}},{key:"render",value:function(){return this.props.options?f.default.createElement(m.default,{delayShow:0,text:this.getTooltipText(),position:"top"},f.default.createElement(h.default,{onClick:this.handleClick,className:"ist_button ist_button_upload_btn ist_button_mini"},f.default.createElement(v.ExternalAttachmentIcon,null))):null}}]),t}(f.default.Component);r.default=y,(0,d.default)(y,"propTypes",{options:p.default.object,onFileUpload:p.default.func.isRequired})},{"../../plugin_version/ContentTransformers":459,"../Button":466,"../icons":731,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/slicedToArray":199,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],805:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("react")),d=n(e("prop-types")),f=n(e("./Website")),p=n(e("./Image")),m=n(e("./Icon")),h=n(e("./Audio")),_=n(e("../../../containers/ErrorBoundary")),v=e("../utils"),b=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"getFileType",value:function(){var e=this.props.attachment;return e.file_underlying_type||e.file_type||""}},{key:"getFileName",value:function(){var e=this.props.attachment;return"string"==typeof e.file_name?e.file_name.toLowerCase()||"":""}},{key:"getFileURL",value:function(){var e=this.props.attachment;return"string"==typeof e.file_url?e.file_url.toLowerCase()||"":""}},{key:"renderIconAttachment",value:function(e){var t=this.props.attachment;return c.default.createElement(m.default,{attachment:t,icon:e})}},{key:"isWebsite",value:function(e){var t=e.resourceType,r=e.attachment;return("website"===t||"rich"===t)&&r.title&&r.url}},{key:"isImage",value:function(e){var t=e.attachment;return(t.file_url||t.url)&&(t.image||t.tn_m)}},{key:"isOutlook",value:function(e){var t=e.resourceType,r=e.ftype;return"outlook/mail"===t||"td/outlook"===r}},{key:"isLink",value:function(e){return 0===e.ftype.indexOf("td/hyperlink")}},{key:"isEmail",value:function(e){return 0===e.ftype.indexOf("td/")}},{key:"isAudio",value:function(e){var t=e.attachment,r=e.ftype,n=t.file_url;return n&&(-1!==n.indexOf("cloudfront.net")||-1!==n.indexOf("files.todoist.com")||-1!==n.indexOf("local.todoist.com"))&&(0,v.canPlayAudio)(r)}},{key:"isPDF",value:function(e){return-1!==e.ftype.indexOf("pdf")}},{key:"isExcel",value:function(e){var t=e.fname,r=e.ftype;return-1!==t.indexOf(".xl")||-1!==r.indexOf("spreadsheet")}},{key:"isCode",value:function(e){var t=e.fname;return-1!==t.indexOf(".py")||-1!==t.indexOf(".php")||-1!==t.indexOf(".java")||-1!==t.indexOf(".rb")||-1!==t.indexOf(".js")}},{key:"isExtemail",value:function(e){var t=e.ftype,r=e.furl,n=e.attachment;return-1!==t.indexOf("/extemail")||-1!==r.indexOf(".email.")||"email"===n.resource_type}},{key:"renderContent",value:function(){var e=this.props.attachment;if(!e)return null;var t=this.getFileType(),r=this.getFileName(),n=this.getFileURL(),a=e.resource_type||"file",i={ftype:t,fname:r,furl:n,resourceType:a,attachment:e};return this.isWebsite(i)?c.default.createElement(f.default,{attachment:e}):this.isImage(i)?c.default.createElement(p.default,{attachment:e}):this.isOutlook(i)?this.renderIconAttachment("ft_outlook_mail"):this.isLink(i)?this.renderIconAttachment("ft_link"):this.isEmail(i)?this.renderIconAttachment("ft_email"):this.isAudio(i)?c.default.createElement(h.default,{attachment:e}):this.isPDF(i)?this.renderIconAttachment("ft_pdf"):this.isExcel(i)?this.renderIconAttachment("ft_excel"):-1!==r.indexOf(".doc")||-1!==t.indexOf("document")?this.renderIconAttachment("ft_word"):-1!==r.indexOf(".pp")?this.renderIconAttachment("ft_pp"):-1!==r.indexOf(".zip")?this.renderIconAttachment("ft_zip"):-1!==r.indexOf(".psd")?this.renderIconAttachment("ft_psd"):-1!==r.indexOf(".sketch")?this.renderIconAttachment("ft_sketch"):-1!==r.indexOf(".aep")?this.renderIconAttachment("ft_aep"):-1!==r.indexOf(".ai")?this.renderIconAttachment("ft_ai"):this.isCode(i)?this.renderIconAttachment("ft_code"):this.isExtemail(i)?this.renderIconAttachment("ft_extemail"):0===t.indexOf("text/")?this.renderIconAttachment("ft_text"):this.renderIconAttachment("ft_generic")}},{key:"render",value:function(){return c.default.createElement(_.default,{showErrorMsg:!1},this.renderContent())}}]),t}(c.default.Component);r.default=b,(0,u.default)(b,"propTypes",{attachment:d.default.object})},{"../../../containers/ErrorBoundary":96,"../utils":824,"./Audio":806,"./Icon":807,"./Image":808,"./Website":809,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],806:[function(e,t,r){"use strict";function n(e){var t=e.attachment;return i.default.createElement("div",{className:"audio_attachment"},i.default.createElement("audio",{volume:1,controls:!0,src:t.file_url}),i.default.createElement("a",{href:t.file_url,className:"audio_link",rel:"noopener noreferrer",target:"_blank",dangerouslySetInnerHTML:l}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l={__html:svgs.getString("sm1/link.svg")};n.propTypes={attachment:o.default.object.isRequired}},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],807:[function(e,t,r){"use strict";function n(e){var t=e.attachment,r=e.icon;if("ft_email"===r||"ft_outlook_mail"===r){var n=s.default.format(t.file_url,{as_html:!0,attachment:t});return o.default.createElement("div",{className:"file_attachment link_attachment",dangerouslySetInnerHTML:{__html:n}})}var i="ft_link"===r?"sm1/link.svg":"ft/".concat(r,".svg"),l="ft_link"===r?"link_icon":"file_icon",u=svgs.getString(i,{className:l});return o.default.createElement("div",{className:"file_attachment ".concat("ft_link"===r?"link_attachment":"")},o.default.createElement("a",{onClick:"ft_extemail"===r?function(){return a(t)}:void 0,href:t.file_url,target:"_blank",rel:"noopener noreferrer"},o.default.createElement("span",{dangerouslySetInnerHTML:{__html:u}}),o.default.createElement("span",{className:"text"},$trim(t.file_name||"",50))))}function a(e){GB_show(e.file_name,e.file_url,500,800);var t=DIV({c:"orginal_link"},A({href:e.file_url,target:"_blank"},_("View in another window"))),r=$last(GB_CURRENT);return $addAfter(t,r.iframe),!1}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("react")),l=i(e("prop-types")),s=i(e("../../../components/formatter/Formatter"));n.propTypes={attachment:l.default.object,icon:l.default.string}},{"../../../components/formatter/Formatter":22,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],808:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/assertThisInitialized")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("@babel/runtime/helpers/defineProperty")),f=n(e("react")),p=n(e("@doist/reactist/lib/Tooltip")),m=n(e("prop-types")),h=n(e("../../reactist/modal")),v=e("../../icons"),b=e("../utils"),y=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(a))),(0,d.default)((0,u.default)(r),"state",{showBigImage:!1}),(0,d.default)((0,u.default)(r),"showBigImage",function(e){e.preventDefault(),r.setState({showBigImage:!0})}),(0,d.default)((0,u.default)(r),"hideBigImage",function(){r.setState({showBigImage:!1})}),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"renderBigImage",value:function(){var e=this.props.attachment,t=this.state.showBigImage,r=this.getBigImageSource();return f.default.createElement(h.default.Box,{overlayProps:{className:"comments_attachment_big_image_modal"},width:"auto",isOpen:t,onDismiss:this.hideBigImage,closeOnOverlayClick:!0},f.default.createElement("div",{className:"comments_attachment_big_image_container"},f.default.createElement("img",{onClick:this.hideBigImage,className:"comments_attachment_big_image",src:r}),f.default.createElement("div",null,f.default.createElement("a",{href:e.file_url,rel:"noreferrer noopener",target:"_blank"},_("View full size in another window")))))}},{key:"getBigImageSource",value:function(){var e=this.props.attachment,t=e.file_url||e.url;return-1===t.indexOf("resizeist")?"https://image-resize.todoist.com/?url=".concat(encodeURIComponent(t),"&maxheight=1600&maxwidth=1600&fallback=true"):t}},{key:"getPreviewSource",value:function(){var e,t=this.props.attachment;if(e="image/svg+xml"===t.file_type?t.file_url:t.image?t.image:t.tn_m[0]){if(-1===e.indexOf("image-resize")&&"image/svg+xml"!==t.file_type){var r=Array.from((0,b.calculateOptimalDimension)(t.image_width||300,t.image_height||200,300,200)),n=(0,a.default)(r,2),i=n[0],o=n[1];return"https://image-resize.todoist.com/?url=".concat(encodeURIComponent(e),"&width=").concat(i,"&height=").concat(o,"&fallback=true")}return e}}},{key:"render",value:function(){var e=this.props.attachment,t=e.file_url||e.url,r=this.getPreviewSource();return r?f.default.createElement(f.default.Fragment,null,this.renderBigImage(),f.default.createElement("div",{className:"comments_attachment_container"},f.default.createElement("a",{href:t,onClick:this.showBigImage,className:"file_attachment with_preview",rel:"noreferrer noopener",target:"_blank"},f.default.createElement("img",{className:"comments_attachment_image",src:r})),f.default.createElement("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"comments_attachment_download"},f.default.createElement(p.default,{delayShow:0,text:_("Download"),position:"bottom"},f.default.createElement(v.DownloadIcon,null))))):null}}]),t}(f.default.Component);r.default=y,(0,d.default)(y,"propTypes",{attachment:m.default.object})},{"../../icons":731,"../../reactist/modal":880,"../utils":824,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/slicedToArray":199,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],809:[function(e,t,r){"use strict";function n(e){var t=e.attachment,r=s.default.createElement(i,{attachment:t}),n=s.default.createElement(a,{attachment:t}),o="file_attachment ".concat(r?"has_image":""," ").concat(n?"has_content":"");return s.default.createElement("div",{className:o},s.default.createElement("a",{href:t.url,target:"_blank",rel:"noreferrer noopener"},r,n))}function a(e){var t=e.attachment;return t.image&&-1!==t.image.indexOf(".gif")?null:s.default.createElement("div",{className:"content_holder"},t.title&&s.default.createElement("div",{className:"text"},$trim(t.title,65)),t.description&&s.default.createElement("div",{className:"desc_text"},$trim(t.description,200)))}function i(e){var t=e.attachment;if(!t.image)return null;var r=Array.from((0,c.calculateOptimalDimension)(t.image_width,t.image_height,120,90)),n=(0,l.default)(r,2),a=n[0],i=n[1],o=-1===t.image.indexOf("resizeist")?"https://image-resize.todoist.com/?url=".concat(encodeURIComponent(t.image),"&width=").concat(a,"&height=").concat(i,"&fallback=true"):t.image;return s.default.createElement("div",{className:"image_holder"},s.default.createElement("img",{src:o}))}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=o(e("react")),u=o(e("prop-types")),c=e("../utils");n.propTypes={attachment:u.default.object},a.propTypes={attachment:u.default.object},i.propTypes={attachment:u.default.object}},{"../utils":824,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],810:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./Attachment")),i=a.default;r.default=i},{"./Attachment":805,"@babel/runtime/helpers/interopRequireDefault":189}],811:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("../reactist/modal")),m=n(e("../Button")),h=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"state",{duration:0,error:null,showError:!1,isPlaying:!1,time:0}),(0,c.default)((0,s.default)(r),"audioRef",d.default.createRef()),(0,c.default)((0,s.default)(r),"handleError",function(){r.setState({error:!0})}),(0,c.default)((0,s.default)(r),"handleLoading",function(){r.setState({duration:r.audioRef.current.duration})}),(0,c.default)((0,s.default)(r),"handleStop",function(){clearInterval(r.timer);var e=r.audioRef.current;if(e)try{r.setState({isPlaying:!1,time:0}),e.pause(),e.currentTime=0}catch(e){}}),(0,c.default)((0,s.default)(r),"handlePlay",function(){if(r.state.error)return void r.setState({showError:!0});var e=r.audioRef.current;e&&(e.play(),r.setState({isPlaying:!0}),r.handleStartTimer())}),(0,c.default)((0,s.default)(r),"handleErrorModalClosing",function(){r.setState({showError:!1})}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.audioRef.current&&(this.audioRef.current.addEventListener("error",this.handleError),this.audioRef.current.addEventListener("loadedmetadata",this.handleLoading))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.audioRef.current&&(this.audioRef.current.removeEventListener("error",this.handleError),this.audioRef.current.removeEventListener("loadedmetadata",this.handleLoading))}},{key:"getDuration",value:function(){return this.props.duration||this.state.duration}},{key:"handleStartTimer",value:function(){var e=this,t=this.getDuration();this.timer=setInterval(function(){e.setState(function(r){var n=r.time,a=n+1;return a>=Math.ceil(t)?(setTimeout(e.handleStop,0),void clearInterval(e.timer)):{time:a}})},1e3)}},{key:"renderErrorModal",value:function(){var e=this.props.src,t=this.state.showError;return d.default.createElement(p.default.Box,{isOpen:t},d.default.createElement(p.default.Body,null,d.default.createElement("span",null,_("There was an error loading the audio file. Maybe your browser does not support audio playback.")," ",d.default.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},_("Direct link to the file.")))),d.default.createElement(p.default.Actions,null,d.default.createElement(m.default,{onClick:this.handleErrorModalClosing},_("OK"))))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.src,n=this.state,a=n.isPlaying,i=n.time,o=n.duration,l=t({time:i,isPlaying:a,play:this.handlePlay,stop:this.handleStop,duration:o});return d.default.createElement(d.default.Fragment,null,l,d.default.createElement("audio",{volume:1,controls:!1,style:{display:"none"},ref:this.audioRef,src:r}))}}]),t}(d.default.Component);r.default=h,(0,c.default)(h,"propTypes",{duration:f.default.number,src:f.default.string,children:f.default.func})},{"../Button":466,"../reactist/modal":880,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],812:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("../confirm_dialog")),m=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"state",{showDeleteConfirmation:!1}),(0,c.default)((0,s.default)(r),"handleDeleteConfirmationShow",function(){r.setState({showDeleteConfirmation:!0})}),(0,c.default)((0,s.default)(r),"handleDeleteConfirmationHide",function(){r.setState({showDeleteConfirmation:!1})}),(0,c.default)((0,s.default)(r),"handleDelete",function(){r.props.onDelete(),r.handleDeleteConfirmationHide()}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"renderDeleteConfirmation",value:function(){var e=this.state.showDeleteConfirmation;return d.default.createElement(p.default,{isOpen:e,confirmLabel:_("Delete"),onConfirm:this.handleDelete,onCancel:this.handleDeleteConfirmationHide},_("Are you sure you want to delete this?"))}},{key:"render",value:function(){var e=this.props.children;return d.default.createElement(d.default.Fragment,null,e({showDeleteConfirmation:this.handleDeleteConfirmationShow}),this.renderDeleteConfirmation())}}]),t}(d.default.Component);r.default=m,(0,c.default)(m,"propTypes",{children:f.default.func,onDelete:f.default.func})},{"../confirm_dialog":509,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],813:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("classnames")),m=n(e("../ResizableTextArea")),h=e("../icons"),v=n(e("../popper/Popper")),b=n(e("./Emojis")),y=n(e("../DropFiles")),g=n(e("../FileUploader")),E=n(e("./AttachButton")),T=n(e("./Recorder")),w=n(e("../reactist/modal")),R=n(e("./File")),P=n(e("./NotifySelector")),D=n(e("../Button")),O=e("../../containers/premium_promo/PremiumOnlyModal"),C=e("../../reducers/notes"),I=e("./utils"),A=e("../../utils"),S=function(e){function t(e){var r;(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),(0,c.default)((0,s.default)(r),"textarea",d.default.createRef()),(0,c.default)((0,s.default)(r),"emojisButton",d.default.createRef()),(0,c.default)((0,s.default)(r),"handleClosing",function(){var e=r.state.text,t=r.props,n=t.type,a=t.draft,i=t.parentId,o=t.onCloseWithoutSubmit;(e&&e!==a||!e&&a)&&o({text:e,parentId:i,parentType:n})}),(0,c.default)((0,s.default)(r),"focusTextarea",function(){
r.textarea.current&&r.textarea.current.focus()}),(0,c.default)((0,s.default)(r),"handleNotifyExpandedChange",function(e){r.setState({notifySelectorExpanded:e})}),(0,c.default)((0,s.default)(r),"handleSubmit",function(e){var t=r.props,n=t.onSubmit,a=t.isPremium,i=t.isProjectShared,o=t.type,l=r.state,s=l.text,u=l.files,c=l.usersToNotify;if(e.preventDefault(),!a&&!i)return void r.setState({premiumError:o===C.TYPE_PROJECT_NOTE?"FEATURE_PROJECT_COMMENT":"FEATURE_TASK_COMMENT"});n({text:s,usersToNotify:c,files:u}),r.setState({text:"",files:[],notifySelectorExpanded:!1},r.focusTextarea),Signals.sendSignal("instant_refresh_interface")}),(0,c.default)((0,s.default)(r),"handleTextChange",function(e){r.setState({text:e})}),(0,c.default)((0,s.default)(r),"handleEmojisTooltip",function(){r.setState(function(e){return{showEmojisTooltip:!e.showEmojisTooltip}})}),(0,c.default)((0,s.default)(r),"handleFileAttaching",function(){r.setState(function(e){return{showFileAttaching:!e.showFileAttaching}})}),(0,c.default)((0,s.default)(r),"handleRecording",function(){if(!r.props.isPremium)return void r.setState({premiumError:"FEATURE_AUDIO_RECORDING"});r.setState(function(e){return{showRecording:!e.showRecording}})}),(0,c.default)((0,s.default)(r),"handleEmojiSelect",function(e){var t=r.textarea.current,n=t.value,a=t.selectionStart,i=t.selectionEnd,o=n.slice(0,a)+e+n.slice(i);r.setState({text:o,showEmojisTooltip:!1},function(){t.focus(),t.selectionStart=t.selectionEnd=a+e.length})}),(0,c.default)((0,s.default)(r),"handleUpload",function(e){r.setState(function(t){return{showFileAttaching:!1,showRecording:!1,files:t.files.concat(e)}})}),(0,c.default)((0,s.default)(r),"handleFileUploadError",function(){r.setState({premiumError:"FEATURE_SHARED_PROJECT_FILE_UPLOAD"})}),(0,c.default)((0,s.default)(r),"handlePremiumModalClosing",function(){r.setState({premiumError:null})}),(0,c.default)((0,s.default)(r),"handlePaste",function(e,t){if(e&&e.clipboardData){var r=e.clipboardData;if(r.types&&r.items){var n=[];r.types.forEach(function(e,t){if("text/plain"!==e){var a=r.items[t].getAsFile();a&&n.push(a)}}),n.length>0&&(e.preventDefault(),t(n))}}}),(0,c.default)((0,s.default)(r),"handleKeydown",function(e){var t=(0,A.resolveKeyboardKey)(event.key);if((e.ctrlKey||e.metaKey)&&"Enter"===t)return e.preventDefault(),r.handleSubmit(e),!1;"Escape"===t&&r.textarea.current&&r.textarea.current.blur()}),(0,c.default)((0,s.default)(r),"handleNotifyUsersUpdate",function(e){r.setState({usersToNotify:e})});var n=(0,I.getUsersToNotify)(e);return r.state={text:r.props.draft||"",showFileAttaching:!1,showRecording:!1,showEmojisTooltip:!1,files:[],premiumError:null,notifySelectorExpanded:!1,usersToNotify:n},r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleClosing)}},{key:"componentWillUnmount",value:function(){this.handleClosing(),window.removeEventListener("beforeunload",this.handleClosing)}},{key:"renderCommentActions",value:function(){var e=this.state.showEmojisTooltip;return d.default.createElement("div",{className:"comments_textarea_buttons textarea_buttons"},d.default.createElement("div",null,d.default.createElement(D.default,{onClick:this.handleFileAttaching,className:"ist_button ist_button_upload_btn ist_button_mini"},d.default.createElement(h.AttachmentIcon,null)),d.default.createElement(D.default,{onClick:this.handleRecording,className:"ist_button ist_button_upload_btn ist_button_mini"},d.default.createElement(h.MicrophoneIcon,null)),d.default.createElement(E.default,{onFileUpload:this.handleUpload,options:window.CURRENT_EXERNAL_SERVICE}),d.default.createElement("div",{style:{position:"relative"},className:"comments_textarea_button"},d.default.createElement(D.default,{ref:this.emojisButton,onClick:this.handleEmojisTooltip,className:"ist_button ist_button_upload_btn ist_button_mini"},d.default.createElement(h.EmojiIcon,null)),d.default.createElement(v.default,{referenceElement:this.emojisButton.current,hasArrow:!1,isShown:e,onClose:this.handleEmojisTooltip},d.default.createElement("div",{className:"comments_tooltip"},d.default.createElement(b.default,{onClick:this.handleEmojiSelect}))))),d.default.createElement("div",{className:"comments_textarea_submit"},d.default.createElement(D.default,{type:"submit",className:"ist_button ist_button_red sel_submit_note","data-track":"comments|add_comment"},_("Add Comment"))))}},{key:"renderRecording",value:function(){return d.default.createElement("div",{className:"comments_drop_container"},d.default.createElement(T.default,{onUpload:this.handleUpload,onClose:this.handleRecording}))}},{key:"renderFileAttaching",value:function(){var e=this,t=this.props.isPremium,r=t?void 0:this.handleFileUploadError;return d.default.createElement(g.default,{onUpload:this.handleUpload},function(n){var a=n.uploadFiles,i=n.uploadFromGoogleDrive,o=n.uploadFromDropBox;return d.default.createElement("div",{className:"comments_drop_container"},d.default.createElement(D.default,{className:"comments_drop_close",onClick:e.handleFileAttaching},d.default.createElement(h.CloseIcon,{small:!0})),d.default.createElement("h4",{className:"comments_drop_title"},_("Drag & drop files here")),d.default.createElement("ul",{className:"comments_drop_links"},d.default.createElement("li",{onClick:r,className:"comments_drop_link"},t&&d.default.createElement("input",{onChange:function(e){return a(e.target.files)},className:"comments_drop_computer",name:"file",type:"file",multiple:!0}),_("Computer")),d.default.createElement("li",{className:"comments_drop_link",onClick:o},_("Dropbox")),d.default.createElement("li",{onClick:i,className:"comments_drop_link"},_("Google Drive"))))})}},{key:"renderFiles",value:function(){var e=this,t=this.state.files;return 0===t.length?null:t.map(function(r){var n=function(){e.setState({files:t.filter(function(e){return e!==r})})};return d.default.createElement(R.default,{key:r.temporaryId,fileObject:r,onDelete:n})})}},{key:"renderPremiumModal",value:function(){var e=this.state.premiumError;return d.default.createElement(w.default.Box,{isOpen:Boolean(e),onDismiss:this.handlePremiumModalClosing,closeOnOverlayClick:!0},d.default.createElement(w.default.Body,null,d.default.createElement("div",null,d.default.createElement(O.PremiumModal,{feature:e,onClose:this.handlePremiumModalClosing}))))}},{key:"renderDragging",value:function(e){var t=e?"comments_drop_container__hover":"";return d.default.createElement("div",{className:"comments_drop_container ".concat(t)},d.default.createElement("h4",{className:"comments_drop_title"},_("Drag & drop files here")))}},{key:"render",value:function(){var e=this,t=this.state,r=t.text,n=t.showFileAttaching,a=t.showRecording,i=t.usersToNotify,o=this.props,l=o.user,s=o.collaborators;return d.default.createElement(g.default,{onUpload:this.handleUpload},function(t){var o=t.uploadFiles;return d.default.createElement("div",{className:"note_submit"},e.renderPremiumModal(),d.default.createElement("form",{onSubmit:e.handleSubmit},d.default.createElement(y.default,{onDrop:o},function(t){var u=t.isDragging,c=t.isHovering;return d.default.createElement("div",null,d.default.createElement("div",{className:(0,p.default)("comments_textarea_holder",{"comments_textarea_holder--dragging":u&&!n})},d.default.createElement(m.default,{onPaste:function(t){return e.handlePaste(t,o)},onKeyDown:e.handleKeydown,onChange:e.handleTextChange,nodeRef:e.textarea,placeholder:_("Write a comment"),value:r,autoFocus:!0}),d.default.createElement("div",{className:"files_view"},e.renderFiles()),a&&e.renderRecording(),n&&e.renderFileAttaching(),e.renderCommentActions(),u&&e.renderDragging(c)),d.default.createElement("div",null,d.default.createElement(P.default,{expanded:e.state.notifySelectorExpanded,onChange:e.handleNotifyUsersUpdate,onExpandedChange:e.handleNotifyExpandedChange,user:l,collaborators:s,usersToNotify:i})))})))})}}]),t}(d.default.Component);r.default=S,(0,c.default)(S,"propTypes",{type:f.default.oneOf([C.TYPE_PROJECT_NOTE,C.TYPE_ITEM_NOTE]).isRequired,isPremium:f.default.bool.isRequired,onSubmit:f.default.func.isRequired,user:f.default.object.isRequired,collaborators:f.default.array.isRequired,notes:f.default.array.isRequired,item:f.default.object,isProjectShared:f.default.bool.isRequired,parentId:f.default.oneOfType([f.default.number,f.default.string]).isRequired,onCloseWithoutSubmit:f.default.func.isRequired,draft:f.default.string})},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../reducers/notes":1021,"../../utils":1094,"../Button":466,"../DropFiles":468,"../FileUploader":470,"../ResizableTextArea":474,"../icons":731,"../popper/Popper":831,"../reactist/modal":880,"./AttachButton":804,"./Emojis":814,"./File":815,"./NotifySelector":819,"./Recorder":823,"./utils":824,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],814:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/assertThisInitialized")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("@babel/runtime/helpers/defineProperty")),f=n(e("react")),p=n(e("prop-types")),m=[[":-D","\ud83d\ude03"],[":-)","\ud83d\ude0a"],[";-)","\ud83d\ude09"],[";-D","\ud83d\ude02"],["^_^","\ud83d\ude01"],["(love)","\ud83d\ude0d"],[":-o","\ud83d\ude2e"],[":-P","\ud83d\ude0b"],[":-S","\ud83d\ude15"],[":-(","\ud83d\ude1e"],["-_-;","\ud83d\ude13"],["O:-)","\ud83d\ude07"],["X-(","\ud83d\ude21"],["}:-)","\ud83d\ude08"],[":-X","\ud83d\ude37"],[":-|","\ud83d\ude10"],[":'-(","\ud83d\ude22"],["(+1)","\ud83d\udc4d"],["(-1)","\ud83d\udc4e"],["(heart)","\u2764\ufe0f"],["(star)","\u2b50\ufe0f"],["(doh)","\ud83d\ude2b"]],h=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return r=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o))),(0,d.default)((0,u.default)(r),"renderEmoji",function(e){var t=(0,a.default)(e,2),n=t[0],i=t[1],o=r.props.onClick;return f.default.createElement("li",{onClick:function(){return o(n)},className:"comments_emojis_element",key:n},i)}),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=m.map(this.renderEmoji);return f.default.createElement("ul",{className:"comments_emojis_list"},e)}}]),t}(f.default.Component);r.default=h,(0,d.default)(h,"propTypes",{onClick:p.default.func})},{"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],815:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("react")),d=n(e("prop-types")),f=e("../icons"),p=e("../spinners"),m=n(e("@doist/reactist/lib/Tooltip")),h=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),r.cb=function(){return r.forceUpdate()},r.fv={remove:function(){},updateProgress:r.cb,uploadDone:function(){}},e.fileObject.addView(r.fv),e.fileObject.addCallback(r.cb),r}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentWillUnmount",value:function(){var e=this,t=this.props.fileObject;t.removeView(this.fv),t.callbacks=t.callbacks.filter(function(t){return t!==e.cb})}},{key:"getFileName",value:function(e){var t=e.file.name||e.file.fileName;return t||(e.file_server_info?e.file_server_info.title:"file")}},{key:"render",value:function(){var e=this.props,t=e.fileObject,r=e.onDelete,n=this.getFileName(t),a=!t.processed,i=t.progress_prct&&t.progress_prct<100&&c.default.createElement("b",{className:"progress_bar"},t.progress_prct,"%"),o=_("Could not upload the file due to an unknown error. Click to try again.");return c.default.createElement("div",{className:"file_to_upload"},c.default.createElement("span",{className:"icon"},c.default.createElement(f.DeleteIcon,{onClick:r})),c.default.createElement("span",{className:"filename"},n),a&&c.default.createElement("div",{className:"comments_drop_spinner"},c.default.createElement(p.RingSpinner,{width:16,height:16})),i,t.error&&c.default.createElement("b",{className:"progress_bar"},c.default.createElement(m.default,{delayShow:0,text:o,position:"top"},c.default.createElement(f.WarningIcon,{className:"comments_drop_warning",onClick:function(){return t.upload()},style:{marginRight:"8px"}}))))}}]),t}(c.default.Component);r.default=h,(0,u.default)(h,"propTypes",{fileObject:d.default.object,onDelete:d.default.func})},{"../icons":731,"../spinners":961,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],816:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("classnames")),m=n(e("../Button")),h=n(e("../Avatar")),v=n(e("./Attachment")),b=n(e("@doist/reactist/lib/Tooltip")),y=n(e("../Dialog")),g=n(e("./ReactionsList")),E=n(e("./Reactions")),T=n(e("./NoteEditing")),w=n(e("./DeleteConfirmation")),R=n(e("./PeopleList")),P=e("../icons"),D=e("./utils"),O=n(e("../../components/formatter/Formatter")),C=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"state",{showMenuReactions:!1}),(0,c.default)((0,s.default)(r),"reactionsRef",d.default.createRef()),(0,c.default)((0,s.default)(r),"toggleReactionsMenu",function(){r.setState(function(e){return{showMenuReactions:!e.showMenuReactions}})}),(0,c.default)((0,s.default)(r),"handleEdit",function(){var e=r.props,t=e.note;(0,e.onEditing)(t.id)}),(0,c.default)((0,s.default)(r),"handleRemoveNote",function(){var e=r.props;(0,e.onRemoveNote)(e.note.id)}),(0,c.default)((0,s.default)(r),"handleRemoveNote",function(){var e=r.props;(0,e.onRemoveNote)(e.note.id)}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"renderReactions",value:function(e){var t=this.props,r=t.allCollaborators,n=t.user,a=t.onAddReaction,i=t.onRemoveReaction;return d.default.createElement(E.default,{note:e,user:n,allCollaborators:r,onAddReaction:a,onRemoveReaction:i})}},{key:"renderPossibleReactions",value:function(e){var t=this.props,r=t.note,n=t.user,a=t.onAddReaction,i=t.onRemoveReaction;return d.default.createElement(g.default,{onSelect:e,note:r,user:n,onAddReaction:a,onRemoveReaction:i})}},{key:"renderCommentActions",value:function(e){var t=this.props,r=t.user,n=t.allCollaborators,a=this.state.showMenuReactions,i=e.posted_uid===r.id,o=i&&d.default.createElement(b.default,{delayShow:0,text:_("Edit"),position:"bottom"},d.default.createElement(m.default,{onClick:this.handleEdit,className:"menu_icon comments_actions_action"},d.default.createElement(P.EditIcon,{className:"comments_actions_icon"}))),l=i&&d.default.createElement(w.default,{onDelete:this.handleRemoveNote},function(e){var t=e.showDeleteConfirmation;return d.default.createElement(b.default,{delayShow:0,text:_("Delete"),position:"bottom"},d.default.createElement(m.default,{onClick:t,className:"menu_icon comments_actions_action"},d.default.createElement(P.DeleteIcon,{className:"comments_actions_icon"})))}),s=e.uids_to_notify&&e.uids_to_notify.length>0?d.default.createElement("span",{className:"menu_icon comments_actions_action"},d.default.createElement(b.default,{position:"bottom",delayShow:0,text:d.default.createElement("div",null,d.default.createElement("b",null,_("People notified")),d.default.createElement(R.default,{userIds:e.uids_to_notify,allCollaborators:n}))},d.default.createElement(P.BellIcon,{className:"comments_actions_icon"}))):null;return d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:"comments_actions"},o,l,d.default.createElement("span",{className:"menu_icon comments_actions_action",ref:this.reactionsRef},d.default.createElement(b.default,{delayShow:0,text:_("Add reaction"),position:"bottom"},d.default.createElement(m.default,{onClick:this.toggleReactionsMenu},d.default.createElement(P.ReactionIcon,{className:"comments_actions_icon"}))),a&&d.default.createElement(y.default,{nose:!0,anchor:this.reactionsRef.current,onHide:this.toggleReactionsMenu,width:258},d.default.createElement("div",{className:"comments_tooltip"},this.renderPossibleReactions(this.toggleReactionsMenu)))),s))}},{key:"renderNote",value:function(){var e=this.props,t=e.forwardedRef,r=e.note,n=e.isHighlighted,a=e.allCollaborators,i=a[r.posted_uid],o=(0,D.getShortName)(i)||_("Someone"),l=window.DateUtils.formatView(r.posted),s=O.default.format(r.content,{as_html:!0,attachment:r.file_attachment}),u={opacity:r.is_buffer_obj?.6:1},c=(0,p.default)("note_text has_avatar",{active:n});return d.default.createElement("div",{ref:t,style:u,className:c},d.default.createElement(h.default,{user:i,size:"medium"}),d.default.createElement("div",{className:"comments_meta note_meta"},d.default.createElement("span",{className:"user_name"},o),d.default.createElement("span",{className:"time"},l),this.renderCommentActions(r)),d.default.createElement("span",{className:"note_content",dangerouslySetInnerHTML:{__html:s}}),d.default.createElement(v.default,{attachment:r.file_attachment}),this.renderReactions(r))}},{key:"renderEditing",value:function(){var e=this.props,t=e.onEditingClose,r=e.note,n=e.onUpdateNote,a=e.allCollaborators,i=e.user,o=r.posted_uid===i.id?i:a[r.posted_uid];return d.default.createElement("div",{className:"note_text has_avatar"},d.default.createElement(h.default,{user:o,size:"medium"}),d.default.createElement("div",{style:{marginLeft:"40px"}},d.default.createElement(T.default,{onEditingClose:t,onUpdateNote:n,note:r})))}},{key:"render",value:function(){return this.props.editing?this.renderEditing():this.renderNote()}}]),t}(d.default.Component);r.default=C,(0,c.default)(C,"propTypes",{forwardedRef:f.default.object,user:f.default.object.isRequired,allCollaborators:f.default.object.isRequired,note:f.default.object.isRequired,isHighlighted:f.default.bool,onAddReaction:f.default.func.isRequired,onRemoveReaction:f.default.func.isRequired,onRemoveNote:f.default.func.isRequired,onUpdateNote:f.default.func.isRequired,editing:f.default.bool.isRequired,onEditing:f.default.func.isRequired,onEditingClose:f.default.func.isRequired})},{"../../components/formatter/Formatter":22,"../Avatar":465,"../Button":466,"../Dialog":467,"../icons":731,"./Attachment":810,"./DeleteConfirmation":812,"./NoteEditing":817,"./PeopleList":820,"./Reactions":821,"./ReactionsList":822,"./utils":824,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@doist/reactist/lib/Tooltip":203,classnames:"classnames","prop-types":"prop-types",react:"react"}],817:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("../ResizableTextArea")),m=n(e("../Button")),h=e("../../utils/escapeHandler"),v=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"state",{showConfirmUpdating:!1,editingText:r.props.note.content}),(0,c.default)((0,s.default)(r),"editTextarea",d.default.createRef()),(0,c.default)((0,s.default)(r),"handleSubmit",function(e){var t=r.props,n=t.onUpdateNote,a=t.note,i=r.state.editingText;e.preventDefault(),n(a.id,i)}),(0,c.default)((0,s.default)(r),"handleKeydown",function(e){if((e.ctrlKey||e.metaKey)&&13==e.keyCode)return e.preventDefault(),r.handleSubmit(e),!1}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.editTextarea.current;t&&(t.focus(),this.clean=(0,h.addEscapeHandler)(function(){e.props.onEditingClose()},{element:t}))}},{key:"componentWillUnmount",value:function(){this.clean&&this.clean()}},{key:"render",value:function(){var e=this,t=this.props.onEditingClose,r=this.state.editingText;return d.default.createElement("form",{onSubmit:this.handleSubmit},d.default.createElement("div",{className:"comments_textarea_holder"},d.default.createElement(p.default,{nodeRef:this.editTextarea,onKeyDown:this.handleKeydown,onChange:function(t){return e.setState({editingText:t})},placeholder:_("Write a comment"),value:r})),d.default.createElement("div",{className:"btn_area"},d.default.createElement(m.default,{className:"ist_button ist_button_red",type:"submit"},_("Update")),d.default.createElement(m.default,{className:"cancel comments_textarea_cancel",onClick:t},_("Cancel"))))}}]),t}(d.default.Component);r.default=v,(0,c.default)(v,"propTypes",{note:f.default.object.isRequired,onUpdateNote:f.default.func.isRequired,onEditingClose:f.default.func.isRequired})},{"../../utils/escapeHandler":1076,"../Button":466,"../ResizableTextArea":474,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],818:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=e("../emptyState"),m=n(e("./Note")),h=n(e("./Editor")),v=n(e("../Button")),b=e("../spinners"),y=e("../../reducers/notes"),g=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"state",{editing:null,loadingMore:!1,loadingMoreError:null}),(0,c.default)((0,s.default)(r),"notesContainer",d.default.createRef()),(0,c.default)((0,s.default)(r),"highlightedNoteEl",d.default.createRef()),(0,c.default)((0,s.default)(r),"state",{draft:r.props.draft,highlightedNoteId:r.props.highlightedNoteId}),(0,c.default)((0,s.default)(r),"scrollNotes",function(){var e=r.notesContainer.current;if(e){var t=r.highlightedNoteEl.current;t?(e.scrollTop=t.offsetTop-120,r.scrollListTimeout=setTimeout(function(){r.setState({highlightedNoteId:null}),r.props.onNoteHighlighted()},1500)):e.scrollTop=e.scrollHeight}}),(0,c.default)((0,s.default)(r),"handleSubmitNote",function(e){var t=e.text,n=e.usersToNotify,a=e.files,i=r.props,o=i.onAddNote,l=i.type,s=i.parentId;(t||a&&a.length>0)&&o({parentId:s,type:l,content:t,files:a,usersToNotify:n})}),(0,c.default)((0,s.default)(r),"handleEditing",function(e){r.setState({editing:e})}),(0,c.default)((0,s.default)(r),"handleEditingClose",function(){r.setState({editing:null})}),(0,c.default)((0,s.default)(r),"handleUpdateNote",function(){var e;r.setState({editing:null}),(e=r.props).onUpdateNote.apply(e,arguments)}),(0,c.default)((0,s.default)(r),"handleLoadMore",function(){var e=r.props,t=e.type,n=e.onFetchMoreNotes,a=e.item,i=e.project;r.setState({loadingMore:!0,loadingMoreError:null},function(){n({item:a,project:i,type:t}).then(function(){r.setState({loadingMore:!1})}).catch(function(e){r.setState({loadingMore:!1,loadingMoreError:e})})})}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.scrollNotes()}},{key:"componentDidUpdate",value:function(e,t){(e.notes.length<this.props.notes.length||this.state.highlightedNoteId&&t.highlightedNoteId!==this.state.highlightedNoteId)&&this.scrollNotes(),e.highlightedNoteId!==this.props.highlightedNoteId&&this.setState({highlightedNoteId:this.props.highlightedNoteId})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scrollListTimeout)}},{key:"renderEmpty",value:function(){var e=this.props,t=e.type,r=e.isPremium,n=t===y.TYPE_PROJECT_NOTE?d.default.createElement(p.EmptyStateProjectComments,{isPremium:r}):d.default.createElement(p.EmptyStateTaskComments,{isPremium:r});return d.default.createElement("div",{className:"comments_list_container"},n)}},{key:"renderLoadingMoreError",value:function(){var e=this.state.loadingMoreError;if(!e)return null;var t=e.error_tag?_("The project was not found, could be deleted or moved."):_("An unknown error happened. Please try again later. We're sorry for the trouble.");return d.default.createElement("div",{className:"comments_list_error"},t)}},{key:"renderContent",value:function(){var e=this,t=this.props,r=t.notes,n=t.allCollaborators,a=t.user,i=t.onAddReaction,o=t.onRemoveReaction,l=t.onRemoveNote,s=t.hasMore,u=this.state,c=u.editing,f=u.highlightedNoteId,p=u.loadingMore;return 0===r.length?this.renderEmpty():d.default.createElement("div",{ref:this.notesContainer,className:"comments_list_container"},this.renderLoadingMoreError(),p&&d.default.createElement("div",{style:{textAlign:"center"}},d.default.createElement(b.DotsSpinner,null)),s&&!p&&d.default.createElement(v.default,{onClick:this.handleLoadMore,className:"fetch_old"},_("Fetch older comments")),r.map(function(t){return d.default.createElement(m.default,{forwardedRef:t.id===f?e.highlightedNoteEl:null,key:t.id,editing:c===t.id,isHighlighted:t.id===f,onEditing:e.handleEditing,onEditingClose:e.handleEditingClose,onAddReaction:i,onRemoveReaction:o,onRemoveNote:l,onUpdateNote:e.handleUpdateNote,user:a,note:t,allCollaborators:n})}))}},{key:"render",value:function(){var e=this.props,t=e.type,r=e.isPremium,n=e.user,a=e.collaborators,i=e.notes,o=e.item,l=e.isProjectShared,s=e.onCloseWithoutSubmit,u=e.parentId,c=e.project,f=this.state.draft;return d.default.createElement("div",{className:"comments_container"},this.renderContent(),c&&!c.is_archived?d.default.createElement("div",{className:"comments_editor_container"},d.default.createElement(h.default,{item:o,isProjectShared:l,notes:i,user:n,collaborators:a,draft:f,parentId:u,type:t,isPremium:r,onSubmit:this.handleSubmitNote,onCloseWithoutSubmit:s})):null)}}]),t}(d.default.Component);r.default=g,(0,c.default)(g,"propTypes",{type:f.default.oneOf([y.TYPE_PROJECT_NOTE,y.TYPE_ITEM_NOTE]),parentId:f.default.oneOfType([f.default.number,f.default.string]),item:f.default.object,project:f.default.object,notes:f.default.array,user:f.default.object,allCollaborators:f.default.object,collaborators:f.default.array,isPremium:f.default.bool,isProjectShared:f.default.bool.isRequired,draft:f.default.string,hasMore:f.default.bool,highlightedNoteId:f.default.number,onAddReaction:f.default.func,onRemoveReaction:f.default.func,onRemoveNote:f.default.func,onAddNote:f.default.func,onUpdateNote:f.default.func,onFetchMoreNotes:f.default.func.isRequired,onCloseWithoutSubmit:f.default.func.isRequired,onNoteHighlighted:f.default.func}),(0,c.default)(g,"defaultProps",{onNoteHighlighted:function(){}})},{"../../reducers/notes":1021,"../Button":466,"../emptyState":588,"../spinners":961,"./Editor":813,"./Note":816,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],819:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("../Avatar")),m=n(e("../Button")),h=n(e("@doist/reactist/lib/Tooltip")),v=n(e("./PeopleList")),b=e("./utils"),y=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"handleExpanding",function(){r.props.onExpandedChange(!r.props.expanded)}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"renderUsers",value:function(e){var t=e.users,r=this.props,n=r.usersToNotify,a=r.onChange;return t.map(function(e){var t=n.some(function(t){return t===e.id}),r="user_".concat(e.id),i=function(){a(t?n.filter(function(t){return t!==e.id}):n.concat(e.id))};return d.default.createElement("div",{key:e.id,className:"user"},d.default.createElement("input",{id:r,type:"checkbox",checked:t,onChange:i}),d.default.createElement("label",{htmlFor:r},d.default.createElement(p.default,{user:e,size:"small"}),d.default.createElement("span",{className:"truncated"},(0,b.getShortName)(e))))})}},{
key:"renderTooltip",value:function(e){var t=this.props,r=t.usersToNotify,n=t.collaborators,a=(n||[]).reduce(function(e,t){return e[t.id]=t,e},{}),i=d.default.createElement(v.default,{userIds:r,allCollaborators:a});return d.default.createElement(h.default,{delayShow:0,text:d.default.createElement("div",null,i),position:"top"},e)}},{key:"renderText",value:function(e){var t,r,n=this,a=e.isEverybodyChecked,i=this.props,o=i.usersToNotify,l=i.collaborators;if(0===o.length)t=_("Notify <b>Nobody</b> about my comment");else if(a)t=_("Notify <b>Everybody</b> about my comment");else if(1===o.length){var s=l.find(function(e){return e.id===o[0]});t=_("Notify <b>%s</b> about my comment").replace("%s",(0,b.getShortName)(s))}else t=_("Notify <b>%s people</b> about my comment").replace("%s",o.length),r=!0;return t.replace(/(.*)<b>(.+)<\/b>(.*)/,function(e,a,i,o){var l=d.default.createElement("b",null,i);t=d.default.createElement(d.default.Fragment,null,a,r?n.renderTooltip(l):l,o)}),t}},{key:"renderSingleUserNotify",value:function(e){var t=this.props,r=t.usersToNotify,n=t.onChange,a=r.some(function(t){return t===e.id}),i=function(){var t=a?[]:[e.id];n(t)},o=_("Notify %s about my comment").replace("%s",(0,b.getShortName)(e));return d.default.createElement("div",{style:{textAlign:"right"}},d.default.createElement("div",{className:"who_to_notify"},d.default.createElement("input",{type:"checkbox",value:"notify_person",id:"notify_person",checked:a,onChange:i}),d.default.createElement("label",{htmlFor:"notify_person"},o)))}},{key:"render",value:function(){var e=this.props,t=e.expanded,r=e.collaborators,n=e.user,a=e.usersToNotify,i=e.onChange,o=r.filter(function(e){return e.id!==n.id});if(0===o.length)return null;if(1===o.length)return this.renderSingleUserNotify(o[0]);var l=o.some(function(e){return a.some(function(t){return t===e.id})}),s=o.every(function(e){return a.some(function(t){return t===e.id})}),u=function(){i(s?[]:o.map(function(e){return e.id}))},c=this.renderText({isEverybodyChecked:s});return d.default.createElement("div",{style:{textAlign:"right"}},d.default.createElement("div",{className:"who_to_notify ".concat(t?"expanded":"")},d.default.createElement("div",{className:"save_holder"},d.default.createElement(m.default,{onClick:this.handleExpanding,className:"hide_button"},_("Hide"))),d.default.createElement("span",{className:"desc_text"},c),d.default.createElement(m.default,{onClick:this.handleExpanding,className:"change"},_("Change")),d.default.createElement("div",{className:"selecter"},d.default.createElement("span",{className:"top_selecter"},d.default.createElement("input",{type:"checkbox",onChange:u,checked:l,id:"notify_toggle"}),d.default.createElement("label",{htmlFor:"notify_toggle"},_("Notify the following people"),":")),d.default.createElement("div",{className:"people people_holder"},this.renderUsers({users:o})))))}}]),t}(d.default.Component);r.default=y,(0,c.default)(y,"propTypes",{expanded:f.default.bool.isRequired,user:f.default.object.isRequired,collaborators:f.default.array.isRequired,usersToNotify:f.default.array.isRequired,onChange:f.default.func.isRequired,onExpandedChange:f.default.func.isRequired})},{"../Avatar":465,"../Button":466,"./PeopleList":820,"./utils":824,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],820:[function(e,t,r){"use strict";function n(e){var t=e.userIds,r=e.allCollaborators,n=t.map(function(e){var t=r[e],n=(0,s.getShortName)(t)||_("Someone");return i.default.createElement("div",{key:e,className:"people_holder reacted_people",style:{textAlign:"left"}},i.default.createElement("div",{className:"user"},i.default.createElement(l.default,{className:"comments_reactions_avatar",user:t,size:"small"}),i.default.createElement("span",null,n)))});return i.default.createElement(i.default.Fragment,null,n)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../Avatar")),s=e("./utils");n.propTypes={userIds:o.default.arrayOf(o.default.number).isRequired,allCollaborators:o.default.object.isRequired};var u=n;r.default=u},{"../Avatar":465,"./utils":824,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],821:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("../Button")),m=n(e("@doist/reactist/lib/Tooltip")),h=n(e("../Dialog")),v=n(e("./ReactionsList")),b=n(e("./PeopleList")),y=e("../icons"),g=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"reactionsContainer",d.default.createRef()),(0,c.default)((0,s.default)(r),"state",{showReactions:!1}),(0,c.default)((0,s.default)(r),"toggleReactionsMenu",function(){r.setState(function(e){return{showReactions:!e.showReactions}})}),(0,c.default)((0,s.default)(r),"closeReactionsMenu",function(){r.setState({showReactions:!1})}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"renderReactionsList",value:function(){var e=this.props,t=e.note,r=e.user,n=e.onAddReaction,a=e.onRemoveReaction;return this.state.showReactions?d.default.createElement(h.default,{nose:!0,anchor:this.reactionsContainer.current,onHide:this.closeReactionsMenu,position:"bottom",width:258,isPositionFluid:!0},d.default.createElement("div",{className:"comments_tooltip"},d.default.createElement(v.default,{onSelect:this.closeReactionsMenu,note:t,user:r,onAddReaction:n,onRemoveReaction:a}))):null}},{key:"render",value:function(){var e=this.props,t=e.note,r=e.allCollaborators,n=e.user,a=e.onAddReaction,i=e.onRemoveReaction;if(!t.reactions||t.reactions&&0===Object.keys(t.reactions).length)return null;var o=Object.keys(t.reactions).map(function(e){var o=t.reactions[e],l=o.includes(n.id),s="reaction_holder ".concat(l?"reacted":""),u=d.default.createElement("div",null,d.default.createElement(b.default,{userIds:o,allCollaborators:r}));return d.default.createElement("span",{onClick:function(){(l?i:a)(t.id,e)},key:e,className:s},d.default.createElement(m.default,{delayShow:0,text:u,position:"bottom"},d.default.createElement("span",{className:"only_emojis"},d.default.createElement("span",{className:"emoji"},e)),d.default.createElement("span",{className:"reactions_count"},o.length)))});return d.default.createElement("div",{className:"comments_actions_line reactions_line"},o,d.default.createElement(m.default,{delayShow:0,text:_("Add reaction"),position:"bottom"},d.default.createElement(p.default,{onClick:this.toggleReactionsMenu,ref:this.reactionsContainer,style:{position:"relative"},className:"comments_actions_button reaction_holder reaction_plus form_action_icon menu_icon"},d.default.createElement(y.PlusIcon,null))),this.renderReactionsList())}}]),t}(d.default.Component);r.default=g,(0,c.default)(g,"propTypes",{note:f.default.object.isRequired,user:f.default.object.isRequired,allCollaborators:f.default.object.isRequired,onAddReaction:f.default.func.isRequired,onRemoveReaction:f.default.func.isRequired})},{"../Button":466,"../Dialog":467,"../icons":731,"./PeopleList":820,"./ReactionsList":822,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],822:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=["\ud83d\udc4d","\ud83d\udc4e","\u2764\ufe0f\ufe0f","\ud83d\ude04","\ud83d\ude02","\ud83d\ude2e","\ud83d\ude22","\ud83d\ude21","\ud83d\udc4f","\ud83c\udf89"],m=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"renderReaction",function(e){var t=r.props,n=t.note,a=t.onSelect,i=t.user,o=t.onRemoveReaction,l=t.onAddReaction,s=function(){(n.reactions&&n.reactions[e]&&n.reactions[e].includes(i.id)?o:l)(n.id,e),a()};return d.default.createElement("li",{onClick:s,key:e,className:"comments_reactions_element"},d.default.createElement("span",{className:"only_emojis"},d.default.createElement("span",{className:"emoji"},e)))}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return d.default.createElement("ul",{className:"comments_reactions_list"},p.map(this.renderReaction))}}]),t}(d.default.Component);r.default=m,(0,c.default)(m,"propTypes",{note:f.default.object,onSelect:f.default.func,user:f.default.object,onRemoveReaction:f.default.func,onAddReaction:f.default.func})},{"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],823:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("../Button")),m=n(e("../reactist/modal")),h=n(e("./AudioPlayer")),v=e("../icons"),b=e("./utils");navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var y=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"state",{time:0,isRecording:!1,error:!1,audioURL:null}),(0,c.default)((0,s.default)(r),"handleAttach",function(){var e=r.props.onUpload,t=r.state.time;r.audioBlob.name="voice".concat((new Date).getTime(),".wav");var n=new window.GFile;n.file=r.audioBlob,n.duration=t,n.upload(),e(n)}),(0,c.default)((0,s.default)(r),"handleErrorClose",function(){r.setState({error:!1})}),(0,c.default)((0,s.default)(r),"handleRetake",function(){r.setState({time:0,audioURL:null},r.handleRecord)}),(0,c.default)((0,s.default)(r),"handleRecord",function(){var e=function(e){r.setState({isRecording:!0}),window.AudioContext=window.AudioContext||window.webkitAudioContext;var t=new window.AudioContext,n=t.createMediaStreamSource(e);r.recorder=new window.Recorder(n,e),r.recorder.record(),r.handleStartTimer()},t=function(){r.setState({error:!0})};navigator.getUserMedia?navigator.getUserMedia({audio:!0},e,t):t()}),(0,c.default)((0,s.default)(r),"handleStopRecord",function(){r.recorder.stop(),r.handleStopTimer(),r.recorder.exportWAV(function(e){r.audioBlob=e;var t=URL.createObjectURL(e);r.setState({audioURL:t,isRecording:!1}),r.recorder.stopStream()})}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentWillUnmount",value:function(){this.state.isRecording&&this.recorder&&(this.recorder.stop(),this.recorder.stopStream(),this.handleStopTimer())}},{key:"handleStartTimer",value:function(){var e=this;this.timer=setInterval(function(){e.setState(function(t){var r=t.time,n=r+1;return n>240?(e.handleStopTimer(),void e.handleStopRecord()):{time:n}})},1e3)}},{key:"handleStopTimer",value:function(){clearInterval(this.timer)}},{key:"renderErrorModal",value:function(){var e=this.state.error;return d.default.createElement(m.default.Box,{isOpen:e,onDismiss:this.handleErrorClose,closeOnOverlayClick:!0},d.default.createElement(m.default.Body,null,_("Your browser does not seem to support HTML5 Audio recording :-(")),d.default.createElement(m.default.Actions,null,d.default.createElement(p.default,{className:"ist_button ist_button_red",onClick:this.handleErrorClose},_("OK"))))}},{key:"renderButtons",value:function(e){var t=e.play,r=e.isPlaying,n=e.stop,a=this.state,i=a.isRecording,o=a.audioURL,l=!i&&!o&&d.default.createElement(p.default,{className:"comments_drop_link",onClick:this.handleRecord},_("Record")),s=i&&d.default.createElement(p.default,{className:"comments_drop_link",onClick:this.handleStopRecord},_("Stop")),u=o&&d.default.createElement(p.default,{className:"comments_drop_link",onClick:this.handleRetake},_("Retake")),c=o&&d.default.createElement(p.default,{className:"comments_drop_link",onClick:r?n:t},r?_x("audio_player","Stop"):_x("audio_player","Play")),f=o&&d.default.createElement(p.default,{className:"comments_drop_link",onClick:this.handleAttach},_("Attach"));return d.default.createElement("div",{className:"comments_drop_links"},l,s,u,c,f)}},{key:"render",value:function(){var e=this,t=this.props.onClose,r=this.state,n=r.audioURL,a=r.time,i=r.isRecording;return d.default.createElement(d.default.Fragment,null,d.default.createElement(h.default,{src:n,duration:a},function(r){var n=r.play,o=r.isPlaying,l=r.stop,s=r.time;return d.default.createElement(d.default.Fragment,null,e.renderErrorModal(),d.default.createElement(p.default,{className:"comments_drop_close",onClick:t},d.default.createElement(v.CloseIcon,{small:!0})),d.default.createElement("div",null,d.default.createElement("h4",{className:"comments_drop_title"},(0,b.formatTime)(o?s:a)),i?d.default.createElement("span",{className:"comments_drop_description"},"(",_("Max 4 min"),")"):null),e.renderButtons({play:n,isPlaying:o,stop:l}))}))}}]),t}(d.default.Component);r.default=y,(0,c.default)(y,"propTypes",{onUpload:f.default.func,onClose:f.default.func})},{"../Button":466,"../icons":731,"../reactist/modal":880,"./AudioPlayer":811,"./utils":824,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],824:[function(e,t,r){"use strict";function n(e){if(!e)return"";var t=e.full_name.split(" ");return t.length>1?t[0]+" "+t[1].substring(0,1)+".":t[0]}function a(e){var t=document.createElement("audio");return-1!==e.indexOf("audio/")&&Boolean(t.canPlayType&&t.canPlayType(e).replace(/no/,""))}function i(e,t,r,n){var a;return e/t>r/n?e<=r?[e,t]:(a=r/e,[r,Math.floor(t*a)]):t<=n?[e,t]:(a=n/t,[Math.floor(e*a),n])}function o(e){var t=Math.floor(e/60),r=Math.ceil(e%60),n=t<10?"0".concat(t):t,a=r<10?"0".concat(r):r;return"".concat(n,":").concat(a)}function l(e){var t=e.user,r=e.collaborators,n=e.notes,a=e.type,i=e.item,o=[],l=function(e){var n=r.map(function(e){return e.id});e&&e!==t.id&&n.includes(e)&&!o.includes(e)&&o.push(e)};if(0!==n.length){var u=n[n.length-1];(u.uids_to_notify||[]).concat(u.posted_uid).forEach(l)}else a===s.TYPE_ITEM_NOTE?(l(i.assigned_by_uid),l(i.responsible_uid),l(i.added_by_uid)):r.forEach(function(e){return l(e.id)});return o}Object.defineProperty(r,"__esModule",{value:!0}),r.getShortName=n,r.canPlayAudio=a,r.calculateOptimalDimension=i,r.formatTime=o,r.getUsersToNotify=l;var s=e("../../reducers/notes")},{"../../reducers/notes":1021}],825:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,p.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full_name";return e[r].localeCompare(t[r])}function o(e){return null==e?h.default.createElement(E.AssigneeIcon,null):h.default.createElement(g.default,{user:e,size:"small"})}function l(e){var t=e.text,r=e.searchText;if(0===r.trim().length)return t;var n=new RegExp("(".concat(r,")"),"gi");return t.replace(n,"<b>$1</b>")}function s(e){var t=e.user,r=e.text,n=h.default.useContext(T.Context),a=n.searchText.trim();if(0!==a.length&&!r.toLowerCase().includes(a))return null;var i=null!=t?String(t.id):w,s=l({text:r,searchText:a});return h.default.createElement(T.Option,{value:i,label:r},function(e){var r=e.isSelected;return h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:"person_picker__option_avatar","aria-hidden":"true"},o(t)),h.default.createElement("div",{className:"person_picker__option_text",dangerouslySetInnerHTML:{__html:s}}),r?h.default.createElement(E.CheckmarkIcon,{className:"dropdown_select_checkmark","aria-hidden":"true"}):null)})}function u(e){function t(e){var t=e.target.value===w?null:(0,y.parseId)(e.target.value),r=c.find(function(e){return e.id===t});n(a({},e,{target:a({},e.target,{value:t,selectedUser:r})}))}var r=e.value,n=e.onChange,l=e.children,u=void 0===l?function(e){return o(e.selectedUser)}:l,c=e.users,d=e.currentUser,p=e.showUnassignedOption,v=void 0===p||p,g=e.tooltip,E=e.className,R=e.disabled,P=void 0!==R&&R,D=(0,m.default)(e,["value","onChange","children","users","currentUser","showUnassignedOption","tooltip","className","disabled"]);if(0===c.length)return null;var O=c.find(function(e){return e.id===r}),C="function"==typeof g?g({selectedUser:O,currentUser:d}):g;return h.default.createElement(T.Select,(0,f.default)({},D,{value:null==r?w:String(r),onChange:t,disabled:P}),h.default.createElement(T.Toggle,{className:(0,b.default)(E,"person_picker__toggle"),tooltip:C},"function"==typeof u?u({selectedUser:O,currentUser:d}):u),h.default.createElement(T.Popup,{className:(0,b.default)(E,"person_picker__popup"),onToggle:D.onToggle},h.default.createElement(T.Search,{placeholder:_("Type an assignee")}),h.default.createElement(T.Options,null,v?h.default.createElement(s,{text:_("Unassigned")}):null,h.default.createElement(s,{user:d,text:"".concat(_x("task_assignment","Me")," (").concat((0,y.shortName)(d.full_name),")")}),c.filter(function(e){return e.id!==d.id}).sort(i).map(function(e){return h.default.createElement(s,{key:e.id,user:e,text:e.full_name})}))))}var c=e("@babel/runtime/helpers/interopRequireWildcard"),d=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.PersonPicker=u;var f=d(e("@babel/runtime/helpers/extends")),p=d(e("@babel/runtime/helpers/defineProperty")),m=d(e("@babel/runtime/helpers/objectWithoutProperties")),h=d(e("react")),v=d(e("prop-types")),b=d(e("classnames")),y=e("../../utils"),g=d(e("../Avatar")),E=e("../icons"),T=c(e("../dropdown")),w="UNASSIGNED";s.propTypes={user:v.default.object,text:v.default.string.isRequired},u.propTypes={value:v.default.number,onChange:v.default.func.isRequired,children:v.default.oneOfType([v.default.node,v.default.func]),tooltip:v.default.oneOfType([v.default.string,v.default.func]),showUnassignedOption:v.default.bool,className:v.default.string,disabled:v.default.bool,projectId:v.default.oneOfType([v.default.number,v.default.string]),users:v.default.arrayOf(v.default.object.isRequired).isRequired,currentUser:v.default.object.isRequired}},{"../../utils":1094,"../Avatar":465,"../dropdown":556,"../icons":731,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,classnames:"classnames","prop-types":"prop-types",react:"react"}],826:[function(e,t,r){"use strict";function n(e,t){var r=t.projectId;return{currentUser:e.user,users:null!=r?(0,o.getAllProjectCollaborators)(e,r):(0,i.values)((0,o.getAllCollaborators)(e))}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getAssigneeTooltip",{enumerable:!0,get:function(){return s.getAssigneeTooltip}}),r.PersonPicker=void 0;var a=e("react-redux"),i=e("../../utils"),o=e("../../reducers/collaborators"),l=e("./PersonPicker"),s=e("./tooltip"),u=(0,a.connect)(n)(l.PersonPicker);r.PersonPicker=u},{"../../reducers/collaborators":983,"../../utils":1094,"./PersonPicker":825,"./tooltip":827,"react-redux":"react-redux"}],827:[function(e,t,r){"use strict";function n(e){var t=e.selectedUser;if(!t)return _("Assign a person");var r=null!=t?(0,o.shortName)(t.full_name):_("Someone");return i.default.createElement(l.default,{text:_("Assigned to {username}"),keyval:{username:i.default.createElement("b",null,r)}})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getAssigneeTooltip=n;var i=a(e("react")),o=e("../../utils"),l=a(e("../TemplateText"))},{"../../utils":1094,"../TemplateText":475,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],828:[function(e,t,r){"use strict";function n(e){var t=e.anchorElement,r=e.anchorPosition,n=e.anchorOrigin,o=void 0===n?{vertical:"bottom",horizontal:"left"}:n,l=e.transformOrigin,u=void 0===l?{vertical:"top",horizontal:"left"}:l,m=e.marginThreshold,h=void 0===m?16:m,_=e.children,v=e.disableScroll,b=void 0===v||v,y=e.withOverlay,g=void 0!==y&&y,E=e.onClose,T=(0,s.useRef)(),w=(0,s.useCallback)(function(){if(r)return r;var e={vertical:a(T,u.vertical),horizontal:i(T,u.horiontal)},n=t.getBoundingClientRect(),l={top:n.top+a(n,o.vertical),left:n.left+i(n,o.horizontal)};return{top:l.top-e.vertical,left:l.left-e.horizontal}},[r,u,o,t]);(0,s.useLayoutEffect)(function(){var e=T.current,t=w(),r=e.getBoundingClientRect(),n=t.top+r.height,a=t.left+r.width,i=$winSize().h,o=$winSize().w;if(n>i){var l=n-i;t.top=t.top-l-h}if(a>o){var s=a-o;t.left=t.left-s-h}e.style.top="".concat(t.top,"px"),e.style.left="".concat(t.left,"px")},[w,h]),(0,s.useLayoutEffect)(function(){var e;if(b){var t=document.documentElement;e=t.style.overflow,t.style.overflow="hidden"}return function(){if(b){document.documentElement.style.overflow=e}}},[b]);var R=(0,s.useCallback)(function(e){"function"==typeof e.persist&&e.persist(),e.stopPropagation(),T.current&&!T.current.contains(e.target)&&!(0,p.eventFrom)([".popover",".dialog"],e)&&E()},[E]);s.default.useEffect(function(){if(!g)return document.addEventListener("click",R),document.addEventListener("contextmenu",R),function(){document.removeEventListener("click",R),document.removeEventListener("contextmenu",R)}},[R,g]);var P=(0,d.default)("ist_popover",{"ist_popover--with_overlay":g});return s.default.createElement(f.default,{open:!0,className:P},g&&s.default.createElement("div",{className:"ist_popover_overlay",onClick:R}),s.default.createElement(c.default,{returnFocus:!0},s.default.createElement("div",{ref:T,className:"ist_popover_content",onKeyDown:function(e){"Escape"===(0,p.resolveKeyboardKey)(e.key)&&R(e)}},_)))}function a(e,t){var r=0;return"number"==typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function i(e,t){var r=0;return"number"==typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}var o=e("@babel/runtime/helpers/interopRequireDefault"),l=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var s=l(e("react")),u=o(e("prop-types")),c=o(e("react-focus-lock")),d=o(e("classnames")),f=o(e("../reactist/Portal")),p=e("../../utils");n.propTypes={anchorElement:u.default.object,anchorPosition:u.default.shape({top:u.default.number,left:u.default.number}),anchorOrigin:u.default.shape({horizontal:u.default.oneOf(["left","center","right"]),vertical:u.default.oneOf(["top","center","bottom"])}),transformOrigin:u.default.shape({horizontal:u.default.oneOf(["left","center","right"]),vertical:u.default.oneOf(["top","center","bottom"])}),marginThreshold:u.default.number,children:u.default.node,disableScroll:u.default.bool,withOverlay:u.default.bool,onClose:u.default.func}},{"../../utils":1094,"../reactist/Portal":875,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,classnames:"classnames","prop-types":"prop-types",react:"react","react-focus-lock":"react-focus-lock"}],829:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"usePopover",{enumerable:!0,get:function(){return a.usePopover}}),Object.defineProperty(r,"Popover",{enumerable:!0,get:function(){return i.default}});var a=e("./usePopover"),i=n(e("./Popover"))},{"./Popover":828,"./usePopover":830,"@babel/runtime/helpers/interopRequireDefault":189}],830:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(){var e=u.default.useState(c),t=(0,s.default)(e,2),r=t[0],n=t[1],i=u.default.useCallback(function(){n(c)},[]),o=u.default.useCallback(function(e){n(a({},c,{anchorElement:e}))},[]),l=u.default.useCallback(function(e){e.stopPropagation(),o(e.currentTarget)},[o]),d=u.default.useCallback(function(e){if(!e.shiftKey){e.stopPropagation(),e.preventDefault();var t=document.documentElement,r={top:e.pageY-t.scrollTop,left:e.pageX-t.scrollLeft};n(a({},c,{anchorPosition:r}))}},[]),f=u.default.useCallback(function(){if(0===arguments.length)return void i();var e=arguments[0];if("function"==typeof e)return function(){"function"==typeof e&&e.apply(void 0,arguments),i()}},[i]);return{props:a({},r,{onClose:i}),isOpen:null!=r.anchorElement||null!=r.anchorPosition,isOpenedByContextMenu:null!=r.anchorPosition,isOpenedByAnchorClick:null!=r.anchorElement,openAnchoredToElement:o,openOnClick:l,openOnContextMenu:d,close:f}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.usePopover=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("@babel/runtime/helpers/slicedToArray")),u=o(e("react")),c={anchorElement:void 0,anchorPosition:void 0}},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react"}],831:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.children,r=e.modifiers,n=void 0===r?{}:r,i=e.placement,o=void 0===i?"bottom":i,l=e.referenceElement,u=e.offsetX,m=void 0===u?"":u,y=e.offsetY,g=void 0===y?"":y,E=e.hasArrow,T=void 0===E||E,w=e.isShown,R=void 0!==w&&w,P=e.onClose,D=void 0===P?function(){}:P,O=e.onShown,C=void 0===O?function(){}:O,I=e.className,A=void 0===I?"":I,S=(0,d.default)(e,["children","modifiers","placement","referenceElement","offsetX","offsetY","hasArrow","isShown","onClose","onShown","className"]),k="function"==typeof l,M=(0,f.useRef)(null),j=(0,f.useRef)(null),N=(0,f.useState)(!k&&(0,_.isFixedPosition)(l)),x=(0,c.default)(N,2),L=x[0],q=x[1];(0,f.useEffect)(function(){R&&(M.current.style.position="fixed",window.requestAnimationFrame(function(){M.current.style.position=L?"fixed":"absolute"}),C())},[R,C,L]),(0,f.useEffect)(function(){j.current&&q((0,_.isFixedPosition)(j.current))},[]),(0,f.useEffect)(function(){if(R){var e=function(e){e.target.closest(".ist_popover")||e.target.closest(".dialog-content")||!M.current||M.current.contains(e.target)||D(e)};return"ontouchend"in window?document.addEventListener("touchend",e):document.addEventListener("click",e),function(){document.removeEventListener("touchend",e),document.removeEventListener("click",e)}}},[R,D]);var U=function(e){"Escape"===(0,_.resolveKeyboardKey)(e.key)&&"function"==typeof D&&(e.stopPropagation(),D(e))};return T&&(g="".concat(g," + ").concat(b,"px")),(m||g)&&(n=a({},n,{offset:{enabled:!0,offset:"".concat(m,", ").concat(g)},computeStyle:{gpuAcceleration:!1}})),f.default.createElement(h.Manager,null,k?f.default.createElement(h.Reference,null,function(e){var t=e.ref;return l({ref:function(e){j.current=e,t(e)},isExpanded:R})}):null,R?p.default.createPortal(f.default.createElement(h.Popper,{innerRef:function(e){return M.current=e},referenceElement:k?void 0:l,modifiers:n,placement:o,positionFixed:L},function(e){var r=e.ref,n=e.style,i=e.placement,o=e.arrowProps;return n=a({},n,{zIndex:(0,v.getZIndex)(j.current||l)}),f.default.createElement("div",(0,s.default)({className:A+" popper",ref:r,style:n,"data-placement":i,onKeyDown:U},S),T?f.default.createElement("div",{className:"popper__arrow",ref:o.ref,style:o.style}):null,"function"==typeof t?t():t)}),document.body):null)}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/defineProperty")),c=l(e("@babel/runtime/helpers/slicedToArray")),d=l(e("@babel/runtime/helpers/objectWithoutProperties")),f=o(e("react")),p=l(e("react-dom")),m=l(e("prop-types")),h=e("react-popper"),_=e("../../utils"),v=e("./utils"),b=12;i.propTypes={children:m.default.oneOfType([m.default.node,m.default.func]).isRequired,modifiers:m.default.object,offsetX:m.default.string,
offsetY:m.default.string,placement:m.default.oneOf(["top-start","bottom-start","left-start","right-start","top","bottom","left","right","top-end","bottom-end","left-end","right-end"]),referenceElement:m.default.oneOfType([m.default.instanceOf(HTMLElement),m.default.func]),hasArrow:m.default.bool,className:m.default.string,isShown:m.default.bool,onClose:m.default.func,onShown:m.default.func};var y=i;r.default=y},{"../../utils":1094,"./utils":833,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-dom":"react-dom","react-popper":"react-popper"}],832:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./Popper")),i=a.default;r.default=i},{"./Popper":831,"@babel/runtime/helpers/interopRequireDefault":189}],833:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getZIndex=void 0;var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t||t===document)return r;var n=window.document.defaultView.getComputedStyle(t).getPropertyValue("z-index");return isNaN(n)?e(t.parentNode,r):e(t.parentNode,n>r?n:r)};r.getZIndex=n},{}],834:[function(e,t,r){"use strict";function n(e){var t=e.priority,r=void 0===t?4:t,n=e.isSelected,a=e.darkTheme,i=5-r;return u.default.createElement("div",{className:"priority_picker_item"},u.default.createElement("span",{"aria-hidden":"true",className:"priority_picker_item_priority_icon",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/priority_".concat(i).concat(a?"_hc":"",".svg"))}}),u.default.createElement("span",{className:"priority_picker_item_name"},_("Priority %s").replace("%s",i)),n&&u.default.createElement(f.CheckmarkIcon,{"aria-hidden":"true",className:"dropdown_select_checkmark"}))}function a(e){var t=e.className,r=e.children,a=e.priority,i=void 0===a?1:a,o=e.darkTheme,c=void 0!==o&&o,f=e.onSelect,p=void 0===f?function(){}:f,m=(0,s.default)(e,["className","children","priority","darkTheme","onSelect"]);(i>4||i<1)&&(i=1);var h=function(e){p(Number(e.target.value))};return u.default.createElement(d.Select,{value:String(i),onChange:h},u.default.createElement(d.Toggle,(0,l.default)({className:t},m),r),u.default.createElement(d.Popup,{className:"priority_picker"},u.default.createElement(d.Options,null,[4,3,2,1].map(function(e){return u.default.createElement(d.Option,{key:String(e),value:String(e)},function(t){var r=t.isSelected;return u.default.createElement(n,{priority:e,isSelected:r,darkTheme:c})})}))))}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("@babel/runtime/helpers/extends")),s=o(e("@babel/runtime/helpers/objectWithoutProperties")),u=o(e("react")),c=o(e("prop-types")),d=i(e("../dropdown")),f=e("../icons");n.propTypes={priority:c.default.number,isSelected:c.default.bool,darkTheme:c.default.bool},a.propTypes={className:c.default.string,children:c.default.node.isRequired,tooltip:c.default.node,priority:c.default.number,darkTheme:c.default.bool,onSelect:c.default.func};var p=a;r.default=p},{"../dropdown":556,"../icons":731,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],835:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./PriorityPicker")),i=a.default;r.default=i},{"./PriorityPicker":834,"@babel/runtime/helpers/interopRequireDefault":189}],836:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/inherits")),c=a(e("@babel/runtime/helpers/defineProperty")),d=e("../../utils/fp"),f=e("redux"),p=a(e("react")),m=a(e("prop-types")),h=n(e("../../models/Colors")),v=a(e("../../utils/isoToDate")),b=a(e("../../utils/highDefCanvas")),y=e("../../utils"),g=function(e){var t=(0,v.default)(e);return y.DateUtils.getWeekdayShort(t)},E=function(e){function t(e){var r;(0,i.default)(this,t),r=(0,l.default)(this,(0,s.default)(t).call(this,e)),r.canvas=null,r.chartHolder=null;var n=r.props,a=n.stat,o=n.goal,u=n.width,c=(0,f.compose)(d.sum,(0,d.map)(function(e){return e.completed})),p=(0,f.compose)(d.max,(0,d.map)(c),(0,d.map)(function(e){return e.items}))(a);return r.pxPerCount=(u-55)/(0,d.max)([p,o]),r.goalLineHeight=20*r.props.stat.length+10,r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){this.drawCanvas()}},{key:"componentDidMount",value:function(){this.drawCanvas();var e=this.props,t=e.goal,r=e.stat,n=t*this.pxPerCount-7,a=4==r.length,i=a?SPAN(_("Weekly Goal"),": ",B(t)):SPAN(_("Daily Goal"),": ",B(t));IstTooltip.showSimpleText(this.chartHolder,i,null,-1,n)}},{key:"drawCanvas",value:function(){var e=this.props,t=e.goal,r=e.stat,n=20*r.length+10,a=this.canvas.getContext("2d");(0,b.default)(this.canvas,a);var i=this.pxPerCount*t,o=n-4;a.strokeStyle="#a5a5a5",a.fillStyle="#a5a5a5",a.lineWidth=1.5,a.beginPath(),a.moveTo(i,4),a.lineTo(i,o),a.stroke(),a.closePath(),a.beginPath(),a.arc(i,4,2,0,2*Math.PI,!1),a.fill(),a.closePath(),a.beginPath(),a.arc(i,o,2,0,2*Math.PI,!1),a.fill(),a.closePath()}},{key:"renderSingleBar",value:function(e){var t=e.colors,r=e.count,n=e.weekday,a=e.baseKey;if(0===t.length)return p.default.createElement("li",{key:a},p.default.createElement("div",{className:"project_colors"},p.default.createElement("div",{key:"".concat(a,"-0"),className:"project_viz",style:{width:"1px"}})),n?p.default.createElement("span",{className:"short_date"},n):null,p.default.createElement("b",null,"0"));var i=t.map(function(e,t){var r=e.colorHex,n=e.width;return p.default.createElement("div",{key:"".concat(a,"-").concat(t),className:"project_viz",style:{backgroundColor:r,width:n}})});return p.default.createElement("li",{key:a},p.default.createElement("div",{className:"project_colors"},i),n?p.default.createElement("span",{className:"short_date"},n):null,p.default.createElement("b",null,r))}},{key:"render",value:function(){var e=this,t=this.props,r=t.stat,n=t.idToColor,a=t.width,i=(0,f.compose)(d.sum,(0,d.map)(function(e){return e.completed})),o=[],l=!0,s=!1,u=void 0;try{for(var c,m=r[Symbol.iterator]();!(l=(c=m.next()).done);l=!0){var _=c.value,v=_.items,b=_.date,y=b&&10===b.length?g(b):null,E=i(v),T=v.map(function(t){return{color:n[t.id],colorHex:h.getHex("project",n[t.id]),width:e.pxPerCount*t.completed}});T.sort(function(e,t){return e.color-t.color}),o.push(this.renderSingleBar({colors:T,count:E,weekday:y,baseKey:o.length}))}}catch(e){s=!0,u=e}finally{try{l||null==m.return||m.return()}finally{if(s)throw u}}var w={width:a,height:this.goalLineHeight,overflow:"hidden"};return p.default.createElement("div",{className:"completed_bar_chart",ref:function(t){return e.chartHolder=t}},p.default.createElement("ul",null,o),p.default.createElement("div",{className:"goalline",style:w},p.default.createElement("canvas",{ref:function(t){return e.canvas=t},width:a,height:this.goalLineHeight.height})))}}]),t}(p.default.PureComponent);(0,c.default)(E,"propTypes",{stat:m.default.arrayOf(m.default.shape({date:m.default.string,items:m.default.array})).isRequired,goal:m.default.number,idToColor:m.default.object.isRequired,width:m.default.number}),(0,c.default)(E,"defaultProps",{width:225});var T=E;r.default=T},{"../../models/Colors":151,"../../utils":1094,"../../utils/fp":1083,"../../utils/highDefCanvas":1092,"../../utils/isoToDate":1104,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react",redux:"redux"}],837:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("../../utils/format")),d=n(e("react")),f=n(e("prop-types")),p=n(e("./CompletedBarChart")),m=n(e("./ProgressRing")),h=e("./utils"),v=n(e("./MedalIcon")),b=n(e("./MotivatorCatelog")),y=e("../../utils"),g=e("../../constants/themes"),E=new b.default({p0:[_("What will you focus on first?"),_("Just take it one task at a time."),_("What\u2019s first on your list?")],p25:[_("You\u2019re off to a great start. Keep it up!"),_("Nice first steps. Keep moving forward!"),_("Getting started is the hardest part. Keep going!")],p75:[_("You\u2019re making great progress. Stay focused!"),_("You\u2019ve got some great momentum!"),_("You\u2019re on your way!"),_("Nothing can stop you!")],p100:[_("You\u2019re almost there. Keep going!"),_("It\u2019s the last stretch of the day!"),_("It\u2019s the final leg. You\u2019ve got this!")],p100plus:[_("Well done, {user_name}!"),_("You conquered the day, {user_name}!"),_("Nice work, {user_name}!"),_("Mischief managed. Well done!")]}),T=function(e){function t(e){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).call(this,e))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"renderStatus",value:function(){var e=this.props,t=e.goal,r=e.completed,n=_n("Daily goal: <b>{num_completed}/{num_goal} task</b>","Daily goal: <b>{num_completed}/{num_goal} tasks</b>",t),a=_n("Daily goal completed: <b>{num_completed}/{num_goal} task</b>","Daily goal completed: <b>{num_completed}/{num_goal} tasks</b>",t),i=_("Edit goal"),o=r<t?n:a;o=(0,c.default)(o,{num_completed:r,num_goal:t});var l=r/t,s=(0,c.default)(E.get(l),{user_name:(0,y.firstName)(this.props.userName)});return d.default.createElement("div",null,d.default.createElement("h4",{dangerouslySetInnerHTML:{__html:o}}),d.default.createElement("p",null,s),d.default.createElement("a",{className:"edit_link","data-track":"karma|tab_daily_edit_goal",onClick:this.props.onEditGoalClick},i))}},{key:"renderStreaks",value:function(){if((0,h.isNilStreakData)(this.props.currentStreak))return null;var e=this.props.currentStreak.count,t=_n("You've completed your goal 1 day in a row.","You've completed your goal {n} days in a row.",e);t=(0,c.default)(t,{n:e});var r;if(!(0,h.isNilStreakData)(this.props.maxStreak)){var n=this.props.maxStreak.count,a=_n("Your longest streak: 1 day","Your longest streak: {n} days",n);a=(0,c.default)(a,{n:n});var i=this.props.maxStreak,o=i.start,l=i.end,s=(0,h.formatInterval)(o,l);r=d.default.createElement("p",{className:"sm"},a,d.default.createElement("br",null),"(",s,")")}return d.default.createElement("div",{className:"section_streak"},d.default.createElement("p",null,t),r)}},{key:"render",value:function(){var e=this.props,t=e.daysItems,r=e.projectColors,n=e.goal,a=e.completed,i=e.theme,o=e.disableAnimation,l=e.width,s=a/n,u=(0,g.colorInHex)(i);i!==g.THEME_SUNFLOWER&&i!==g.THEME_NEUTRAL||(u=(0,g.colorInHex)(g.THEME_NOIR)),i===g.THEME_DARK&&(u=g.DARK_THEME_ICON_COLOR);var c=i===g.THEME_DARK?g.DARK_THEME_ICON_COLOR_DARKER:"#B3B3B3",f=s<1?c:u,h=i===g.THEME_DARK?g.DARK_THEME_ICON_COLOR_DARKER:"#E6E6E6";return d.default.createElement("div",null,d.default.createElement("div",{className:"goal_status section_progress"},d.default.createElement(m.default,{className:"pie_chart",width:72,color:u,strokeColor:h,disableAnimation:o,progress:Math.min(s,1),animationStart:500,animationDuration:1200},d.default.createElement(v.default,{width:45,color:f})),this.renderStatus()),this.renderStreaks(),d.default.createElement("div",{className:"section_completebar"},d.default.createElement("h6",{className:"section_title"},_("Completed in the last 7 days")),d.default.createElement(p.default,{width:l,stat:t,idToColor:r,goal:n})))}}]),t}(d.default.PureComponent);r.default=T,(0,u.default)(T,"propTypes",{width:f.default.number,daysItems:f.default.arrayOf(f.default.shape({date:f.default.string,items:f.default.array})),maxStreak:f.default.shape({count:f.default.number,start:f.default.string,end:f.default.string}),currentStreak:f.default.object,projectColors:f.default.object,goal:f.default.number,completed:f.default.number,userName:f.default.string,color:f.default.string,theme:f.default.number,disableAnimation:f.default.bool,onEditGoalClick:f.default.func}),(0,u.default)(T,"defaultProps",{disableAnimation:!1})},{"../../constants/themes":95,"../../utils":1094,"../../utils/format":1079,"./CompletedBarChart":836,"./MedalIcon":841,"./MotivatorCatelog":842,"./ProgressRing":844,"./utils":848,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],838:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react")),l=function(e){var t=e.level,r=e.color,n=e.width,l=(0,i.default)(e,["level","color","width"]),u=n;return o.default.createElement("svg",(0,a.default)({width:n,height:u,viewBox:"0 0 48 48"},l),o.default.createElement("defs",null,o.default.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"karma_gradient"},o.default.createElement("stop",{stopColor:r,stopOpacity:"0.7",offset:"0%"}),o.default.createElement("stop",{stopColor:r,offset:"100%"}))),o.default.createElement("g",{fill:"url(#karma_gradient)"},o.default.createElement("path",{d:s(t)})))},s=function(e){switch(e){case 0:return"M24,35.5 C23.4922575,34.6160564 17.4279735,29.0769802 15.5491755,24.6276455 C15.2124383,23.6024532 15,22.6896523 15,21.9834087 C15,13.6034107 20.4495689,12.5 24,12.5 C27.5504311,12.5 33,13.6034107 33,21.9834087 C33,22.7071186 32.7747552,23.6510549 32.4199381,24.7142173 C30.5057337,29.1627926 24.5069892,34.622891 24,35.5 L24,35.5 Z";case 1:return"M24,8.5 C27.5504311,8.5 33,9.22138793 33,17.5745 C33,20.8006862 28.6608354,26.3696799 27.0133088,30.4156594 C24.3939901,36.8483505 24,39.5 24,39.5 C24,39.5 23.6029966,36.8286695 20.9866912,30.4156594 C19.3293714,26.3552975 15,20.8135546 15,17.5745 C15,9.22138793 20.4495689,8.5 24,8.5 L24,8.5 Z";case 2:return"M34.3341908,22.1449031 C34.3341908,30.6167582 25.25,37.5 25.25,37.5 L25.25,34.1295334 L25.25,18.0254439 C25.25,9.55283987 30.9014098,10.5347691 33.577238,10.5347691 C36.2523093,10.5347691 34.3341908,13.6730481 34.3341908,22.1449031 Z M14.6658092,22.1449031 C14.6658092,13.6730481 12.7476907,10.5347691 15.422762,10.5347691 C18.0985902,10.5347691 23.75,9.55283987 23.75,18.0254439 L23.75,34.1295334 L23.75,37.5 C23.75,37.5 14.6658092,30.6167582 14.6658092,22.1449031 Z";case 3:return"M11.2039067,9 C14.9126968,9 21.4,9.51672416 21.4,18.0003 L21.4,33.0003 L21.4,39 C21.4,39 12.2039067,29.4829759 12.2039067,21.00015 C12.2039067,12.5173241 9.49511662,9 12.2039067,9 Z M35.7960933,9 C38.5048834,9 35.7960933,12.5173241 35.7960933,21.00015 C35.7960933,29.4829759 26.6,39 26.6,39 L26.6,33.0003 L26.6,18.0003 C26.6,9.51672416 33.0873032,9 35.7960933,9 Z";case 4:return"M8.73765498,11.0652174 C11.3560232,11.0652174 20.952381,17.6768433 20.952381,26.2826087 L20.952381,41.5 C20.952381,41.5 12.8049045,40.0483335 11.7911456,23.2392826 C11.2728156,14.6494947 6.11928675,11.0652174 8.73765498,11.0652174 Z M39.2364976,11.0652174 C41.9171215,11.0652174 36.7196515,14.6494947 36.1894684,23.2392826 C35.1511932,40.0483335 27.047619,41.5 27.047619,41.5 L27.047619,26.2826087 C27.047619,17.6768433 36.5558736,11.0652174 39.2364976,11.0652174 Z M24,6.5 C25.1835937,6.5 27,6.9975096 27,10.7796525 C27,14.5617954 24,20.1956522 24,20.1956522 C24,20.1956522 21,14.5617954 21,10.7796525 C21,6.9975096 22.8164062,6.5 24,6.5 Z";case 5:return"M6,19.6363636 C12.5502577,19.6363636 18.4900102,25.0448977 20.694,31.2730389 C22.5754726,36.5892127 23.6326531,37.091013 23.6326531,37.091013 C23.6326531,37.091013 23.6326531,35.8183312 23.6326531,40 C18.7655089,40 13.9747698,37.0488327 11.8773061,31.2730389 C8.2759868,21.3533932 6,22.4900799 6,19.6363636 Z M24.0003646,8 C24.0003646,8 27.2843944,9.21376761 29.8334549,10.9089697 C31.4258885,11.9678347 32.75,13.8179394 32.75,13.8179394 C32.75,13.8179394 29.1940023,16.6076413 26.9169097,19.6366061 C24.8272051,22.4153994 24.0003646,25.4545455 24.0003646,25.4545455 C24.0003646,25.4545455 23.2464376,22.5128498 21.0838194,19.6366061 C18.8723491,16.6956377 15.25,13.8179394 15.25,13.8179394 C15.25,13.8179394 16.6156723,11.9401995 18.1672743,10.9089697 C20.7272718,9.20649518 24.0003646,8 24.0003646,8 Z M42,19.6363636 C42,22.8173409 39.7240132,21.3533932 36.1226939,31.2730389 C34.0252302,37.0488327 29.2344911,40 24.3673469,40 C24.3673469,35.8183312 24.3673469,37.091013 24.3673469,37.091013 C24.3673469,37.091013 25.4245274,36.5892127 27.306,31.2730389 C29.5099898,25.0448977 35.4497423,19.6363636 42,19.6363636 Z";case 6:return"M30.9866785,26.31856 C32.837713,23.4054756 34.6740291,20.8399049 35.9673256,19.4937112 C44.7374194,10.3631561 40.9311693,24.5778132 38.9839734,28.3050478 C35.4253273,35.1146488 25.6142613,39.9058175 24.0979394,40.6151368 C24.0993101,40.6463881 24.1000004,40.6767717 24.1000004,40.706272 C24.1000004,40.706272 24.0637515,40.6918003 23.9946652,40.6631075 C23.9325212,40.6917468 23.8999996,40.706272 23.8999996,40.706272 C23.8999996,40.6796963 23.9005913,40.6523374 23.9017671,40.6242081 C22.3844859,39.9841274 12.5746114,35.6300737 9.01629119,28.6310582 C7.06832754,24.8011907 3.26289798,10.1910951 12.0328822,19.5752138 C13.3493838,20.9837268 15.2285682,23.6081896 17.1131724,26.5614364 L13,16.556599 L21.0668622,24.8577897 C21.0668622,24.8577897 22.5334311,26.3670971 24,26.3670971 C25.4665689,26.3670971 26.9331378,24.8577897 26.9331378,24.8577897 L35,16.556599 L30.9866785,26.31856 Z M24,7.5 L31.5,11.9997188 L24,19.5 L16.5,11.9997188 L24,7.5 Z";case 7:return"M21.0001875,18.8888348 C21.0001875,18.8888348 22.5000937,20.3702066 24,20.3702066 C25.4999063,20.3702066 26.9998125,18.8888348 26.9998125,18.8888348 L36,9.99986364 L26.9998125,27.7770653 C26.9998125,27.7770653 25.4249109,29.9998636 24,29.9998636 C22.431848,29.9998636 21.0001875,27.7770653 21.0001875,27.7770653 L12,9.99986364 L21.0001875,18.8888348 Z M23.75,40 C23.75,40 12.4318815,35.5474524 8.5377368,27.9997955 C6.57317123,24.1937185 2.73530912,9.67437844 11.5800373,19.0002045 C15.3623775,22.9877733 23.75,36.7818963 23.75,40 Z M23.75,40.072485 C23.75,36.8543812 32.1376225,23.0602582 35.9199627,19.0726895 C44.7646909,9.7468634 40.9268288,24.2662034 38.9622632,28.0722804 C35.0681185,35.6199373 23.75,40.072485 23.75,40.072485 Z M30,9.99986364 L24,16.0003409 L18,9.99986364 L24,7 L30,9.99986364 Z"}},u=l;r.default=u},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,react:"react"}],839:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("react")),d=n(e("prop-types")),f=n(e("./KarmaTrend")),p=e("./utils"),m=n(e("../../utils/format")),h=n(e("./ProgressRing")),v=n(e("./KarmaIcon")),b=e("../../constants/themes"),y=[_x("karma","You are a <b>Beginner</b>"),_x("karma","You are a <b>Novice</b>"),_x("karma","You are an <b>Intermediate</b>"),_x("karma","You are a <b>Professional</b>"),_x("karma","You are an <b>Expert</b>"),_x("karma","You are a <b>Master</b>"),_x("karma","You are a <b>Grand Master</b>"),_x("karma","You are <b>Enlightened</b>")],g=function(e){function t(e){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).call(this,e))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.karma,r=e.theme,n=e.trendData,a=e.disableAnimation,i=(0,b.colorInHex)(r);r!==b.THEME_SUNFLOWER&&r!==b.THEME_NEUTRAL||(i=(0,b.colorInHex)(b.THEME_NOIR)),r===b.THEME_DARK&&(i=b.DARK_THEME_ICON_COLOR);var o=r===b.THEME_DARK?"#3e3e3e":"#E6E6E6",l=(0,p.toKarmaLevel)(t),s=y[l],u=l==p.karmaLevelSteps.length-1,d=null,g=1;if(!u){var E=p.karmaLevelSteps[l],T=p.karmaLevelSteps[l+1];g=(t-E)/(T-E);var w=T-t;_("{karma_num} left to get to {karma_level}");var R=_n("{karma_num} point required for next level","{karma_num} points required for next level",w);d=c.default.createElement("p",null,(0,m.default)(R,{karma_num:w}))}return c.default.createElement("div",null,c.default.createElement("div",{className:"section_progress"},c.default.createElement(h.default,{className:"pie_chart",width:72,color:i,strokeColor:o,progress:g,disableAnimation:a,animationStart:500,animationDuration:1200},c.default.createElement(v.default,{level:l,color:i,width:45})),c.default.createElement("h4",{dangerouslySetInnerHTML:{__html:s}}),d,c.default.createElement("a",{className:"edit_link","data-track":"karma|tab_karma_about_levels",onClick:this.props.onKarmaInfoClick},_("About Karma Levels"))),c.default.createElement("div",{className:"section_completebar"},c.default.createElement("h6",{className:"section_title"},_("Karma trend")),c.default.createElement(f.default,{trendData:n,colorHex:i,width:280})))}}]),t}(c.default.PureComponent);r.default=g,(0,u.default)(g,"propTypes",{color:d.default.string,karma:d.default.number,trendData:d.default.arrayOf(d.default.shape({date:d.default.string,karma_avg:d.default.number})),onKarmaInfoClick:d.default.func,disableAnimation:d.default.bool,theme:d.default.number}),(0,u.default)(g,"defaultProps",{disableAnimation:!1})},{"../../constants/themes":95,"../../utils/format":1079,"./KarmaIcon":838,"./KarmaTrend":840,"./ProgressRing":844,"./utils":848,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],840:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=e("../../utils/fp"),f=n(e("react")),p=n(e("prop-types")),m=n(e("../../utils/isoToDate")),h=n(e("../../utils/mapRange")),_=n(e("../../utils/hexToRGB")),v=n(e("../../utils/highDefCanvas")),b=e("../../utils"),y=function(e){function t(e){var r;(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e));var n=r.deriveGraphData(r.props);return Object.assign((0,s.default)(r),n),r.canvas=null,r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"deriveGraphData",value:function(){var e=this.props,t=e.trendData,r=e.width,n=e.height,a=e.paddingTop,i=e.paddingBottom,o=e.paddingLeft,l=e.paddingRight,s=o,u=r-l,c=a,f=n-i,p=(0,d.min)(t.map(function(e){return e.karma_avg})),_=(0,d.max)(t.map(function(e){return e.karma_avg}));p==_&&(_=p+1);var v=Math.ceil((u-s)/(t.length-1));return{points:t.map(function(e,t){return{x:s+v*t,y:(0,h.default)(p,_,c,f,e.karma_avg),yI:(0,h.default)(p,_,f,c,e.karma_avg),karma:e.karma_avg,date:(0,m.default)(e.date)}}),startX:s,endX:u,startY:c,endY:f}}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.deriveGraphData(e);Object.assign(this,t),this.canvas=null}},{key:"componentDidUpdate",value:function(){this.updateCanvas()}},{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"updateCanvas",value:function(){var e=this.canvas.getContext("2d");(0,v.default)(this.canvas,e),this.drawCanvas(e,this.points,this.endY,this.props.colorHex,this.props.paddingBottom)}},{key:"drawCanvas",value:function(e,t,r,n,a){e.fillStyle="#eeeeee",e.translate(-2,0);var i=!0,o=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,d=c.x,f=c.yI;e.beginPath(),e.fillStyle=n,e.arc(d,f,2,0,2*Math.PI,!1),e.fill(),e.closePath()}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}e.lineWidth=2,e.strokeStyle=n;for(var p=1;p<t.length;p++){var m=t[p-1],h=t[p];e.beginPath(),e.moveTo(m.x,m.yI),e.lineTo(h.x,h.yI),e.stroke(),e.closePath()}e.strokeStyle="#999999",e.lineWidth=.2;var v=!0,y=!1,g=void 0;try{for(var E,T=t[Symbol.iterator]();!(v=(E=T.next()).done);v=!0){var w=E.value,d=w.x,f=w.yI;e.beginPath(),e.moveTo(d,f),e.lineTo(d,r),e.stroke(),e.closePath()}}catch(e){y=!0,g=e}finally{try{v||null==T.return||T.return()}finally{if(y)throw g}}e.beginPath();var R=t[0],P=t[t.length-1];e.moveTo(R.x,R.yI);var D=!0,O=!1,C=void 0;try{for(var I,A=t.slice(1)[Symbol.iterator]();!(D=(I=A.next()).done);D=!0){var S=I.value,d=S.x,f=S.yI;e.lineTo(d,f)}}catch(e){O=!0,C=e}finally{try{D||null==A.return||A.return()}finally{if(O)throw C}}e.lineTo(P.x,r),e.lineTo(R.x,r),e.moveTo(R.x,R.yI),e.fillStyle=(0,_.default)(n,.1),e.fill(),e.closePath(),e.fillStyle="#999999";var k=!0,M=!1,j=void 0;try{for(var N,x=t[Symbol.iterator]();!(k=(N=x.next()).done);k=!0){var L=N.value,q=b.DateUtils.getWeekdayShort(L.date);e.fillText(q,L.x-5,r+a-4)}}catch(e){M=!0,j=e}finally{try{k||null==x.return||x.return()}finally{if(M)throw j}}}},{key:"renderDataPointTooltip",value:function(){return this.points.map(function(e,t){var r=e.x,n=e.yI,a=e.karma,i={position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),marginLeft:"".concat(r-10,"px"),marginTop:"".concat(n-10,"px")},o=function(e){IstTooltip.showSimpleText(e,a||"0",null,-5,2)};return f.default.createElement("div",{key:t,className:"fixed_pos",style:i,ref:o})})}},{key:"render",value:function(){var e=this;return f.default.createElement("div",null,this.renderDataPointTooltip(),f.default.createElement("canvas",{ref:function(t){return e.canvas=t},width:this.props.width,height:this.props.height}))}}]),t}(f.default.PureComponent);(0,c.default)(y,"propTypes",{trendData:p.default.arrayOf(p.default.shape({date:p.default.string,karma_avg:p.default.number})),colorHex:p.default.string,width:p.default.number,height:p.default.number,paddingTop:p.default.number,paddingBottom:p.default.number,paddingLeft:p.default.number,paddingRight:p.default.number}),(0,c.default)(y,"defaultProps",{width:300,height:70,paddingTop:10,paddingBottom:15,paddingLeft:10,paddingRight:10});var g=y;r.default=g},{"../../utils":1094,"../../utils/fp":1083,"../../utils/hexToRGB":1091,"../../utils/highDefCanvas":1092,"../../utils/isoToDate":1104,"../../utils/mapRange":1107,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],841:[function(e,t,r){"use strict";function n(e){var t=(0,s.default)(n.propType,e),r=e.width,a=e.color,l=r/c;a&&(a=(0,u.hexToRGB)(a,.85));var d={tick:a||"#B3B3B3",ring:a||"#E6E6E6",topLeft:a||"#CCC",topRight:a||"#E6E6E6"};return o.default.createElement("svg",(0,i.default)({width:r,height:l,viewBox:"0 0 48 48"},t),o.default.createElement("defs",null,o.default.createElement("linearGradient",{x1:"100%",y1:"0%",x2:"0%",y2:"100%",id:"b"},o.default.createElement("stop",{stopOpacity:"0",offset:"0%"}),o.default.createElement("stop",{offset:"100%"})),o.default.createElement("path",{d:"M34.6 14.7L40 4H28l-3.5 7a17 17 0 0 1 10.1 3.7z",id:"me_a"}),o.default.createElement("linearGradient",{x1:"0%",y1:"0%",y2:"100%",id:"d"},o.default.createElement("stop",{stopOpacity:"0",offset:"0%"}),o.default.createElement("stop",{offset:"100%"})),o.default.createElement("path",{d:"M23.5 11L20 4H8l5.4 10.7A17 17 0 0 1 23.5 11z",id:"c"})),o.default.createElement("g",{fill:"none",fillRule:"evenodd"},o.default.createElement("path",{d:"M0 0h48v48H0z"}),o.default.createElement("g",null,o.default.createElement("use",{fill:d.topRight,xlinkHref:"#me_a"}),o.default.createElement("use",{fillOpacity:".1",fill:"url(#b)",xlinkHref:"#me_a"})),o.default.createElement("g",null,o.default.createElement("use",{fill:d.topLeft,xlinkHref:"#c"}),o.default.createElement("use",{fillOpacity:".1",fill:"url(#d)",xlinkHref:"#c"})),o.default.createElement("path",{d:"M24 44a16 16 0 1 1 0-32 16 16 0 0 1 0 32zm0-4a12 12 0 1 0 0-24 12 12 0 0 0 0 24z",fill:d.ring}),o.default.createElement("path",{fill:d.tick,d:"M22 33l-5-5 1.8-1.7 3.2 3.2 7.3-7.2L31 24z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../../utils/filterOtherProps")),u=e("../../utils");n.propType={color:l.default.string,width:l.default.number.isRequired};var c=1},{"../../utils":1094,"../../utils/filterOtherProps":1077,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],842:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=function(){function e(t){var r=t.p0,n=t.p25,i=t.p75,o=t.p100,l=t.p100plus,s=t.p100plusFri;(0,a.default)(this,e),this.p0=r,this.p25=n,this.p75=i,this.p100=o,this.p100plus=l,this.p100plusFri=s}return(0,i.default)(e,[{key:"get",value:function(e){var t;switch(!0){case e>=1:t=5===(new Date).getDay()&&this.p100plusFri?this.p100plusFri:this.p100plus;break;case e>.75:t=this.p100;break;case e>.25:t=this.p75;break;case e>0:t=this.p25;break;case 0==e:default:t=this.p0}return t[(new Date).getDate()%t.length]}}]),e}();r.default=o},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],843:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,f.default)(e,t,r[t])
}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/assertThisInitialized")),d=i(e("@babel/runtime/helpers/inherits")),f=i(e("@babel/runtime/helpers/defineProperty")),p=i(e("react")),m=i(e("prop-types")),h=e("../reactist/tabs"),v=i(e("./DailyStat")),b=i(e("./WeeklyStat")),y=i(e("./KarmaStat")),g=i(e("./WeeklyPremiumOnly")),E=i(e("../../utils/format")),T=function(e){function t(e){var r;return(0,o.default)(this,t),r=(0,s.default)(this,(0,u.default)(t).call(this,e)),r.state={current:"daily",shown:{}},r.onTabChange=r.onTabChange.bind((0,c.default)(r)),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"onTabChange",value:function(e){var t=this.state,r=t.shown,n=t.current;this.setState({shown:a((0,f.default)({},n,!0),r),current:e})}},{key:"render",value:function(){var e=this.props,t=e.isPremium,r=e.userName,n=e.hideKarma,a=e.theme,i=this.props.stat.goals,o=i.daily_goal,l=i.current_daily_streak,s=i.max_daily_streak,u=i.weekly_goal,c=i.current_weekly_streak,d=i.max_weekly_streak,f=this.props.stat,m=f.karma,T=f.days_items,w=f.week_items,R=f.project_colors,P=f.karma_graph_data,D=f.completed_count,O=(0,E.default)(_n("{count_num} completed task","{count_num} completed tasks",D),{count_num:D}),C=this.state.shown;return p.default.createElement("div",{className:"completed_quick_viz",style:{width:"".concat(this.props.width,"px")}},p.default.createElement("div",{className:"total_stat"},p.default.createElement("span",null,O),p.default.createElement("a",{"data-track":"karma|view_completed_tasks",onClick:this.props.onViewAllCompletedClick},_("View all completed tasks"))),p.default.createElement(h.Tabs,{onChange:this.onTabChange},p.default.createElement(h.Tab,{value:"daily",title:_x("stat","Daily"),track:"karma|tab_daily"},p.default.createElement(v.default,{width:this.props.width,userName:r,daysItems:T,maxStreak:s,projectColors:R,completed:this.props.completedToday,goal:o,currentStreak:l,theme:a,disableAnimation:C.daily,onEditGoalClick:this.props.onSettingEditClick})),p.default.createElement(h.Tab,{value:"weekly",title:_x("stat","Weekly"),track:"karma|tab_weekly"},t?p.default.createElement(b.default,{width:this.props.width,userName:r,weekItems:w,maxStreak:d,projectColors:R,completed:this.props.completedThisWeek,goal:u,currentStreak:c,theme:a,disableAnimation:C.weekly,onEditGoalClick:this.props.onSettingEditClick}):p.default.createElement(g.default,null)),n?null:p.default.createElement(h.Tab,{value:"karma",title:_x("stat","Karma"),track:"karma|tab_karma"},p.default.createElement(y.default,{karma:m,theme:a,trendData:P,disableAnimation:C.karma,onKarmaInfoClick:this.props.onKarmaInfoClick}))),p.default.createElement("div",{className:"section_setting_link"},p.default.createElement("a",{"data-track":"karma|karma_goals_and_settings",onClick:this.props.onSettingEditClick},_("Karma Goals and Settings"))))}}]),t}(p.default.PureComponent);r.default=T,(0,f.default)(T,"propTypes",{stat:m.default.object.isRequired,completedToday:m.default.number.isRequired,completedThisWeek:m.default.number.isRequired,userName:m.default.string,onKarmaInfoClick:m.default.func,onSettingEditClick:m.default.func,onViewAllCompletedClick:m.default.func,isPremium:m.default.bool,hideKarma:m.default.bool,theme:m.default.number,width:m.default.number}),(0,f.default)(T,"defaultProps",{width:300,isPremium:!1,theme:0,hideKarma:!1})},{"../../utils/format":1079,"../reactist/tabs":882,"./DailyStat":837,"./KarmaStat":839,"./WeeklyPremiumOnly":846,"./WeeklyStat":847,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],844:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("react")),d=n(e("prop-types")),f=e("../../utils/easing"),p=n(e("../../utils/tweening")),m=n(e("../../utils/format")),h=e("../../utils"),_=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),r.progressbarRef=null,r.elementId=(0,h.generateElementId)("progress-ring"),r}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;if(!this.props.disableAnimation){var t=this.props,r=t.animationDuration,n=t.animationStart;(0,p.default)({from:0,to:this.props.progress,duration:r,easing:f.easeOutQuint,step:function(t){e.progressbarRef&&(e.progressbarRef.style.strokeDashoffset=e.deriveStrokeDashoffset(t))},startAfter:n})}}},{key:"deriveStrokeDashoffset",value:function(e){return 301.635*(1-e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.color,n=t.width,a=t.strokeWidth,i=t.progress,o=t.disableAnimation,l={display:"block",width:n},s={strokeDasharray:"".concat(301.635,", ").concat(301.635),strokeDashoffset:o?this.deriveStrokeDashoffset(i):301.635},u={position:"relative",height:n,width:n},d={position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%",height:"100%"},f=50-a/2,p=(0,m.default)("M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{radius2} a {radius},{radius} 0 1 1 0,-{radius2}",{radius:f,radius2:2*f});return c.default.createElement("div",{style:u},c.default.createElement("svg",{viewBox:"0 0 100 100",style:l},c.default.createElement("defs",null,c.default.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:this.elementId},c.default.createElement("stop",{stopColor:r,stopOpacity:"0.7",offset:"0%"}),c.default.createElement("stop",{stopColor:r,offset:"100%"}))),c.default.createElement("path",{d:p,stroke:this.props.strokeColor,strokeWidth:a,fillOpacity:"0"}),c.default.createElement("path",{ref:function(t){return e.progressbarRef=t},d:p,stroke:"url(#".concat(this.elementId,")"),strokeWidth:a,fillOpacity:"0",style:s})),c.default.createElement("div",{style:d},this.props.children))}}]),t}(c.default.PureComponent);r.default=_,(0,u.default)(_,"propTypes",{progress:d.default.number,width:d.default.number,strokeWidth:d.default.number,color:d.default.string,strokeColor:d.default.string,children:d.default.node,disableAnimation:d.default.bool,animationDuration:d.default.number,animationStart:d.default.number}),(0,u.default)(_,"defaultProps",{progress:.7,width:72,strokeWidth:6,disableAnimation:!1,animationDuration:1200,animationStart:500,color:"#316fea"})},{"../../utils":1094,"../../utils/easing":1075,"../../utils/format":1079,"../../utils/tweening":1134,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],845:[function(e,t,r){"use strict";function n(e){var t=(0,s.default)(n.propType,e),r=e.width,a=e.color,l={ribbon:a?"#FFF":"#B3B3B3",body:a||"#E6E6E6"};return a!==u.DARK_THEME_ICON_COLOR_DARKER&&a!==u.DARK_THEME_ICON_COLOR||(l.ribbon=u.DARK_THEME_BG_LIGHTER),o.default.createElement("svg",(0,i.default)({width:"".concat(r,"px"),viewBox:"0 0 48 48"},t),o.default.createElement("defs",null,o.default.createElement("linearGradient",{x1:"0%",y1:"0%",y2:"100%",id:"a"},o.default.createElement("stop",{offset:"0%"}),o.default.createElement("stop",{stopOpacity:"0",offset:"100%"})),o.default.createElement("linearGradient",{x1:"100%",y1:"100%",x2:"0%",y2:"0%",id:"b"},o.default.createElement("stop",{stopOpacity:"0",offset:"0%"}),o.default.createElement("stop",{stopOpacity:"0",offset:"40%"}),o.default.createElement("stop",{offset:"100%"}))),o.default.createElement("g",{fill:"none",fillRule:"evenodd"},o.default.createElement("path",{d:"M12.09368 22.50672C8.71832 19.0911 7 16.29787 7 14c0-2.76142 2.23858-5 5-5v2c-1.65685 0-3 1.34315-3 3 0 1.32495.98894 3.173 3 5.47536V7h24v12.47536c2.01106-2.30237 3-4.1504 3-5.47536 0-1.65685-1.34315-3-3-3V9c2.76142 0 5 2.23858 5 5 0 2.29787-1.71832 5.0911-5.09368 8.50672C35.20599 28.09724 30.65986 32.492 25 32.95892V35h-2v-2.04107c-5.65986-.46693-10.206-4.8617-10.90632-10.45221zM16 39h16v5H16v-5zm3-2h10v2H19v-2zm2-2h6v2h-6v-2zM10 4h28v3H10V4zm16 3v12l3-3 3 3V7h-6z",fillOpacity:".8",fill:l.body}),o.default.createElement("path",{fillOpacity:".08",fill:"url(#a)",d:"M21 37h8v2h-6zM23 35h4v2h-2zM23 32.9h2v2z"}),o.default.createElement("path",{d:"M15 21c0 5.52285 4.47715 10 10 10s10-4.47715 10-10V7H15v14z",fillOpacity:".08",fill:"url(#b)"}),o.default.createElement("path",{fill:l.ribbon,d:"M26 7h6v12l-3-3-3 3z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../../utils/filterOtherProps")),u=e("../../constants/themes");n.propType={color:l.default.string,width:l.default.number.isRequired}},{"../../constants/themes":95,"../../utils/filterOtherProps":1077,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],846:[function(e,t,r){"use strict";function n(e){var t=e.color,r=_("Weekly goals and streaks are Premium features. <a>Learn more</a>").replace("<a>",'<a href="https://get.todoist.help/hc/articles/206209959-Karma" target="_blank" rel="noopener noreferrer">'),n={marginTop:"1em"};return i.default.createElement("div",null,i.default.createElement("div",{className:"goal_status section_progress",style:{border:0}},i.default.createElement(l.default,{className:"pie_chart",width:72,iconType:"trophy",color:t,disableAnimation:!0,progress:0},i.default.createElement(s.default,{width:45})),i.default.createElement("h4",{style:n,dangerouslySetInnerHTML:{__html:r}})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("./ProgressRing")),s=a(e("./TrophyIcon"));n.propTypes={color:o.default.string}},{"./ProgressRing":844,"./TrophyIcon":845,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],847:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("react")),d=n(e("prop-types")),f=n(e("./CompletedBarChart")),p=n(e("../../utils/format")),m=e("./utils"),h=n(e("./ProgressRing")),v=n(e("./TrophyIcon")),b=n(e("./MotivatorCatelog")),y=e("../../utils"),g=e("../../constants/themes"),E=new b.default({p0:[_("Big things happen one task at a time."),_("Starting is the hardest part. You\u2019ve got this!"),_("Build momentum with one small task.")],p25:[_("You\u2019re on the right track!"),_("Nice start! Keep it up."),_("Keep up the momentum!")],p75:[_("Keep up the pace!"),_("Nothing can stop you!"),_("Your focus is unbreakable!")],p100:[_("It\u2019s the final stretch. You\u2019ve got this!"),_("The end is in sight. Go for it!"),_("Just a bit more to go!"),_("Your goal is within reach!")],p100plus:[_("You did it, {user_name}!"),_("Nice work, {user_name}!"),_("Nicely done, {user_name}!"),_("You conquered the week!"),_("Treat yourself. You deserve it, {user_name}!")]}),T=function(e){function t(e){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).call(this,e))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"renderStatus",value:function(){var e=this.props,t=e.goal,r=e.completed,n=_n("Weekly goal: <b>{num_completed}/{num_goal} task</b>","Weekly goal: <b>{num_completed}/{num_goal} tasks</b>",t),a=_n("Weekly goal completed: <b>{num_completed}/{num_goal} task</b>","Weekly goal completed: <b>{num_completed}/{num_goal} tasks</b>",t),i=_("Edit goal"),o=r<t?n:a;o=(0,p.default)(o,{num_completed:r,num_goal:t});var l=r/t,s=(0,p.default)(E.get(l),{user_name:(0,y.firstName)(this.props.userName)});return c.default.createElement("div",null,c.default.createElement("h4",{dangerouslySetInnerHTML:{__html:o}}),c.default.createElement("p",null,s),c.default.createElement("a",{className:"edit_link","data-track":"karma|tab_weekly_edit_goal",onClick:this.props.onEditGoalClick},i))}},{key:"renderStreaks",value:function(){if((0,m.isNilStreakData)(this.props.currentStreak))return null;var e=this.props.currentStreak.count,t=_n("You've completed your goal 1 week in a row.","You've completed your goal {n} weeks in a row.",e);t=(0,p.default)(t,{n:e});var r;if(!(0,m.isNilStreakData)(this.props.maxStreak)){var n=this.props.maxStreak.count,a=_n("Your longest streak: 1 week","Your longest streak: {n} weeks",n);a=(0,p.default)(a,{n:n});var i=this.props.maxStreak,o=i.start,l=i.end,s=(0,m.formatInterval)(o,l);r=c.default.createElement("p",{className:"sm"},a,c.default.createElement("br",null),"(",s,")")}return c.default.createElement("div",{className:"section_streak"},c.default.createElement("p",null,t),r)}},{key:"render",value:function(){var e=this.props,t=e.weekItems,r=e.projectColors,n=e.completed,a=e.goal,i=e.theme,o=e.disableAnimation,l=e.width,s=n/a,u=(0,g.colorInHex)(i);i!==g.THEME_SUNFLOWER&&i!==g.THEME_NEUTRAL||(u=(0,g.colorInHex)(g.THEME_NOIR)),i===g.THEME_DARK&&(u=g.DARK_THEME_ICON_COLOR);var d=i===g.THEME_DARK?g.DARK_THEME_ICON_COLOR_DARKER:"#B3B3B3",p=s<1?d:u,m=i===g.THEME_DARK?g.DARK_THEME_ICON_COLOR_DARKER:"#E6E6E6";return c.default.createElement("div",null,c.default.createElement("div",{className:"goal_status section_progress"},c.default.createElement(h.default,{className:"pie_chart",width:72,iconType:"trophy",color:u,strokeColor:m,disableAnimation:o,progress:Math.min(n/a,1),animationStart:500,animationDuration:1200},c.default.createElement(v.default,{width:45,color:p})),this.renderStatus()),this.renderStreaks(),c.default.createElement("div",{className:"section_completebar"},c.default.createElement("h6",{className:"section_title"},_("Completed in the last 4 weeks")),c.default.createElement(f.default,{width:l,color:u,stat:t,idToColor:r,goal:a})))}}]),t}(c.default.PureComponent);r.default=T,(0,u.default)(T,"propTypes",{stat:d.default.object,completed:d.default.number,goal:d.default.number,weekItems:d.default.arrayOf(d.default.shape({items:d.default.array})),maxStreak:d.default.shape({count:d.default.number,start:d.default.string,end:d.default.string}),currentStreak:d.default.object,projectColors:d.default.object,color:d.default.string,userName:d.default.string,disableAnimation:d.default.bool,onEditGoalClick:d.default.func,theme:d.default.number,width:d.default.number}),(0,u.default)(T,"defaultProps",{disableAnimation:!1})},{"../../constants/themes":95,"../../utils":1094,"../../utils/format":1079,"./CompletedBarChart":836,"./MotivatorCatelog":842,"./ProgressRing":844,"./TrophyIcon":845,"./utils":848,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],848:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isNilStreakData=r.formatInterval=r.toKarmaLevel=r.karmaLevelSteps=void 0;var n=[0,500,2500,5e3,7500,1e4,2e4,5e4];r.karmaLevelSteps=n;var a=function(e){return n.reduce(function(t,r,n){return e>=r?n:t},-1)};r.toKarmaLevel=a;var i=function(e,t){return e=new Date(e),e.setSeconds(59),e=DateUtils.format(e,!1,{with_year:!0}),t=new Date(t),t.setSeconds(59),t=DateUtils.format(t,!1,{with_year:!0}),e+" - "+t};r.formatInterval=i;var o=function(e){return""===e.start||""==e.end};r.isNilStreakData=o},{}],849:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("../side_panel/SidePanel")),m=e("../reactist/tabs"),h=e("../../utils"),v=n(e("../activity_log")),b=n(e("../../containers/Notes")),y=n(e("../../containers/ErrorBoundary")),g=e("../../reducers/notes"),E=n(e("../tab_title")),T=e("./ProjectDetailHeader"),w=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"detailRef",d.default.createRef()),(0,c.default)((0,s.default)(r),"state",{isSidePanelShown:!0}),(0,c.default)((0,s.default)(r),"handleClose",function(){r.setState({isSidePanelShown:!1})}),(0,c.default)((0,s.default)(r),"handleKeyPress",function(e){"Escape"===(0,h.resolveKeyboardKey)(e.key)&&r.setState({isSidePanelShown:!1})}),(0,c.default)((0,s.default)(r),"handleSidePanelExited",function(){r.props.onClosed()}),(0,c.default)((0,s.default)(r),"handleError",function(){r.props.onClosed()}),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.detailRef.current.focus(),document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.project,r=e.notesCount,n=e.hasMoreNotes,a=e.highlightedNoteId,i=e.onNoteHighlighted;return d.default.createElement(p.default,{isShown:this.state.isSidePanelShown,onClickOutside:this.handleClose,onExited:this.handleSidePanelExited,onKeyPress:this.handleKeyPress,onClosed:this.handleOnClosed},d.default.createElement("div",{className:"item_detail",tabIndex:"-1",ref:this.detailRef},d.default.createElement(y.default,{onErrorCaught:this.handleError},d.default.createElement(T.ProjectDetailHeader,{project:t,onClose:this.handleClose}),d.default.createElement(m.Tabs,{onChange:this.onTabChange},d.default.createElement(m.Tab,{prerender:!1,className:"notes_tab_container",value:"comments",title:d.default.createElement(E.default,{label:_("Comments"),count:r,hasMore:n})},d.default.createElement(y.default,{showErrorMsg:!0},d.default.createElement(b.default,{project:t,highlightedNoteId:a,type:g.TYPE_PROJECT_NOTE,parentId:t.id,projectId:t.id,onNoteHighlighted:i}))),d.default.createElement(m.Tab,{value:"activity",title:_("Activity")},d.default.createElement(y.default,{showErrorMsg:!0},d.default.createElement(v.default,{filterBy:{parent_project_id:t.id}})))))))}}]),t}(d.default.Component);r.default=w,(0,c.default)(w,"propTypes",{highlightedNoteId:f.default.number,project:f.default.object.isRequired,notesCount:f.default.number.isRequired,hasMoreNotes:f.default.bool.isRequired,onClosed:f.default.func.isRequired,onNoteHighlighted:f.default.func.isRequired})},{"../../containers/ErrorBoundary":96,"../../containers/Notes":97,"../../reducers/notes":1021,"../../utils":1094,"../activity_log":485,"../reactist/tabs":882,"../side_panel/SidePanel":946,"../tab_title":967,"./ProjectDetailHeader":850,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],850:[function(e,t,r){"use strict";function n(e){var t=e.project,r=e.onClose;return i.default.createElement("div",{className:"item_detail_header"},i.default.createElement("h4",{className:"item_detail_parent_info"},i.default.createElement("div",{className:"item_detail_parent_icon"},i.default.createElement(l.default,{color:t.color})),i.default.createElement(s.default,{className:"item_detail_parent_name",text:t.name})),i.default.createElement(u.default,{onClick:r,className:"item_detail_close","aria-label":_("Close")},i.default.createElement(c.CloseIcon,null)))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ProjectDetailHeader=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../icons/ProjectIcon")),s=a(e("../formatter/PlainText")),u=a(e("../Button")),c=e("../icons");n.propTypes={project:o.default.object.isRequired,onClose:o.default.func.isRequired}},{"../Button":466,"../formatter/PlainText":622,"../icons":731,"../icons/ProjectIcon":710,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],851:[function(e,t,r){"use strict";function n(e){var t=e.detailView,r=e.projects;if(!t||"project"!==t.type)return{};var n=t.id;return{project:r[n],notesCount:(0,u.noteGetByProject)(e,n).length,hasMoreNotes:(0,u.hasMoreProjectNotes)(e,n),highlightedNoteId:t.highlightedNoteId}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=e("react-redux"),l=a(e("./ProjectDetail")),s=e("../../reducers/detailView"),u=e("../../reducers/notes"),c=function(e){return e.project?i.default.createElement(l.default,e):null},d=function(e){return{onClosed:function(){return e((0,s.detailViewClose)())},onNoteHighlighted:function(){return e((0,s.detailViewUnmarkNote)())}}},f=(0,o.connect)(n,d)(c);r.default=f},{"../../reducers/detailView":996,"../../reducers/notes":1021,"./ProjectDetail":849,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-redux":"react-redux"}],852:[function(e,t,r){"use strict";function n(e){var t=e.children,r=e.collaborators,n=e.projects,a=e.sections,u=e.selectedProjectId,y=e.selectedSectionId,g=e.withAllProjectsOption,E=void 0!==g&&g,T=e.withSectionSelection,w=void 0!==T&&T,R=e.onProjectAdd,P=void 0===R?function(){}:R,D=e.onSelect,O=void 0===D?function(){}:D,C=s.default.useState(!1),I=(0,l.default)(C,2),A=I[0],S=I[1],k=s.default.useMemo(function(){return!!w&&n.some(function(e){var t=(0,p.sectionGetByPID)(e.id)({sections:a});return t&&t.length>0})},[w,n,a]),M=function(e,t){var n=(0,c.getHex)("project",t);return(0,d.isShared)({collaborators:r},e)?s.default.createElement("span",{className:"project_picker_item_icon",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/project_shared.svg")},style:{color:n}}):s.default.createElement("span",{className:"project_picker_item_icon project_picker_item_icon--unshared",style:{color:e?n:"transparent"}})},j=function(e,t,r){var n=[{id:-1,name:_("No Section"),project_id:e.id,followedBySeparator:!0}].concat((0,o.default)(r));return s.default.createElement(b.default,{sections:n,onSelect:function(e){document.querySelector(".project_picker").closest(".popper").click(),O({project_id:e.project_id,section_id:-1===e.id?null:e.id})},selectedSectionId:y,onClose:function(){return S(!1)}},function(r){var n=r.toggle,a=r.buttonProps;return s.default.createElement("div",(0,i.default)({onClick:function(){S(!A),n()},className:"project_picker_item project_picker_item--indent_".concat(e.indent)},a,{"data-sub-select-id":"sub_select-id-".concat(e.id)}),s.default.createElement("div",{className:"dropdown_select_subselect_holder"}),M(e.id,e.color),s.default.createElement("span",{className:"project_picker_item_name"},e.name),t?s.default.createElement(v.CheckmarkIcon,{className:"dropdown_select_checkmark"}):null)})},N=function(e,t){var r=s.default.createElement("div",{className:"project_picker_item project_picker_item--indent_".concat(e.indent)},M(e.id,e.color),s.default.createElement("span",{className:"project_picker_item_name"},e.name),t?s.default.createElement(v.CheckmarkIcon,{className:"dropdown_select_checkmark"}):null),n=(0,p.sectionGetByPID)(e.id)({sections:a}),i=n&&n.length>0;return w&&i?j(e,t,n):r},x=function(e){return s.default.createElement("div",{className:"project_picker_empty"},s.default.createElement("span",null,_("Project not found")),s.default.createElement(m.default,{onClick:function(t){t.stopPropagation(),P(e)}},s.default.createElement(v.CreateIcon,null),_('Create "{query}"').replace("{query}",e)))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.closeDropdown,n=(0,p.sectionGetByPID)(e.id)({sections:a}),i=n&&n.length>0;if(!k||k&&!i)O({project_id:e.id,section_id:null}),"function"==typeof r&&r();else{var o=document.querySelector('[data-sub-select-id="sub_select-id-'.concat(e.id,'"]'));o&&o.click()}};return E&&(n=[{id:0,name:_("All Projects")}].concat((0,o.default)(n))),s.default.createElement(h.default,{className:"project_picker",items:n,renderItem:function(e){var t=e.item,r=e.isSelected;return N(t,r)},filterItems:function(e){var t=e.items,r=e.value;return""===r?t:(0,f.projectGetByNameSearch)(r,{projects:t})},renderEmptyResult:function(e){var t=e.searchValue;return x(t)},inputPlaceholder:_("Type a project"),selectedItemId:u,onSelect:L,closeAfterSelection:!k,closeTriggersDisabled:A},t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/toConsumableArray")),l=a(e("@babel/runtime/helpers/slicedToArray")),s=a(e("react")),u=a(e("prop-types")),c=e("../../models/Colors"),d=e("../../reducers/collaborators"),f=e("../../reducers/projects"),p=e("../../reducers/sections"),m=a(e("../Button")),h=a(e("../dropdown_select")),v=e("../icons"),b=a(e("./SectionPicker"));n.propTypes={children:u.default.func,collaborators:u.default.object,projects:u.default.arrayOf(u.default.shape({id:u.default.oneOfType([u.default.string,u.default.number]).isRequired})),sections:u.default.object,selectedProjectId:u.default.oneOfType([u.default.string,u.default.number]),selectedSectionId:u.default.oneOfType([u.default.string,u.default.number]),withSectionSelection:u.default.bool,withAllProjectsOption:u.default.bool,onProjectAdd:u.default.func,onSelect:u.default.func};var y=n;r.default=y},{"../../models/Colors":151,"../../reducers/collaborators":983,"../../reducers/projects":1026,"../../reducers/sections":1032,"../Button":466,"../dropdown_select":564,"../icons":731,"./SectionPicker":853,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react"}],853:[function(e,t,r){"use strict";function n(e){var t=e.sections,r=e.selectedSectionId,n=e.onSelect,a=e.onClose,o=e.children;return i.default.createElement(l.default,{className:"section_picker",items:t,renderItem:function(e){var t=e.item,r=e.isSelected;return i.default.createElement("div",{className:"section_picker_item"},i.default.createElement("span",{className:"section_picker_item_name"},t.name),r&&i.default.createElement(u.CheckmarkIcon,{className:"dropdown_select_checkmark"}))},filterItems:function(e){var t=e.items,r=e.value;return""===r?t:(0,s.sectionGetByNameSearch)(r,{sections:t})},renderEmptyResult:function(e){var t=e.searchValue;return i.default.createElement("div",{className:"section_picker_item"},i.default.createElement("span",{className:"section_picker_item_name"},"No result for: ",t))},inputPlaceholder:_("Type a section"),onSelect:n,onClose:a,selectedItemId:null!=r?r:-1,nose:!1,closeAfterSelection:!0},o)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../dropdown_select")),s=e("../../reducers/sections/selectors"),u=e("../icons");n.propTypes={sections:o.default.arrayOf(o.default.shape({id:o.default.oneOfType([o.default.string,o.default.number]).isRequired})),selectedSectionId:o.default.oneOfType([o.default.string,o.default.number]),onSelect:o.default.func,onClose:o.default.func,children:o.default.func};var c=n;r.default=c},{"../../reducers/sections/selectors":1034,"../dropdown_select":564,"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],854:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../../reducers/projects"),o=n(e("./ProjectPicker")),l=function(e){return{collaborators:e.collaborators,projects:(0,i.projectGetActiveWithIndent)(e),sections:e.sections}},s=function(e){return{onProjectAdd:function(t){return e((0,i.projectAdd)({name:t}))}}},u=(0,a.connect)(l,s)(o.default);r.default=u},{"../../reducers/projects":1026,"./ProjectPicker":852,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],855:[function(e,t,r){"use strict";function n(e){var t=e.project,r=e.itemsBySid,n=e.labels,i=e.notes,l=e.moreNotes,s=e.reminders,f=e.projectSections,p=e.tempIds,E=e.user,T=e.collaborators,R=e.completed,M=e.allowWebsiteAdd,j=e.isDetailViewShowing,N=e.onSectionUpdate,x=e.onSectionAdd,L=e.onSectionReorder,q=e.onItemUpdate,U=e.onItemAdd,$=e.onItemCheckedChange,F=e.onItemArchive,z=e.onItemDelete,B=e.onItemDuplicate,H=e.onItemLinkCopy,V=e.onItemMoveToProject,W=e.onItemMoveAndReorder,G=e.onItemUnarchive,Y=e.onFileDrop,K=e.onShareOptionClick,X=e.showPromo,J=e.onDismissPromo,Q=(0,d.useContext)(C.EditorStateContext),Z=[null].concat((0,c.default)(f.map(function(e){return e.id})));if((0,A.usePrevious)(p)!==p){var ee=Object.entries(p).find(function(e){var r=(0,u.default)(e,2);return r[0],r[1]===t.id});Z.forEach(function(e){var r=Object.entries(p).find(function(t){var r=(0,u.default)(t,2);return r[0],r[1]===e});if(ee||r){var n=ee?ee[0]:t.id,a=r?r[0]:e,i=(0,C.getTreeListId)(n,a,null),o=(0,C.getTreeListId)(t.id,e,null);Q.onTreeListIdResolval(i,o)}})}var te=(0,d.useState)(!1),re=(0,u.default)(te,2),ne=re[0],ae=re[1],ie=(0,d.useState)(void 0),oe=(0,u.default)(ie,2),le=oe[0],se=oe[1],ue=function(e){se(e)},ce=function(){var e=Z[Z.length-1];se(e)},de=(0,A.useRefCallback)(function(){if(!j){var e=o();Q.onAddBottom((0,C.getTreeListId)(t.id,e,null))}}),fe=(0,A.useRefCallback)(function(){if(!j){var e=o();Q.onAddTop((0,C.getTreeListId)(t.id,e,null))}}),pe=(0,A.useRefCallback)(function(){j||ce()}),me=!ne||a(R,t.id),he=t.is_archived,_e=0===f.length&&0===r[null].length&&void 0===le&&me&&!he;(0,I.useKeyListener)(I.ADD_TASK_AT_BOTTOM,de),(0,I.useKeyListener)(I.ADD_TASK_AT_TOP,fe),(0,I.useKeyListener)(I.ADD_SECTION,pe);var ve=Z.map(function(e){var a=(0,C.getTreeListId)(t.id,e||null,null);return d.default.createElement(v.default,{completed:R,showCompleted:ne,treeListId:a,key:e||"default_section",project:t,items:r[e],
moreNotes:l,labels:n,notes:i,reminders:s,tempIds:p,section:f.find(function(t){return t.id===e})||null,user:E,collaborators:T,allowWebsiteAdd:M,onSectionUpdate:N,onAddSectionBelowClick:ue,onItemUpdate:q,onItemAdd:U,onItemCheckedChange:$,onItemArchive:F,onItemDelete:z,onItemDuplicate:B,onItemLinkCopy:H,onItemMoveToProject:V,onItemUnarchive:G})}),be=Z.indexOf(le);if(-1!==be){var ye=function(e){se(void 0);var r=f.find(function(e){return e.id===le}),n=null!==le&&r?r.section_order+1:Number.NEGATIVE_INFINITY;x({name:e,section_order:n,project_id:t.id})},ge=function(){se(void 0)},Ee=d.default.createElement("li",{key:"section_form_".concat(be)},d.default.createElement("div",{className:"section"},d.default.createElement(g.default,{onSubmit:ye,onCancel:ge})));ve.splice(be+1,0,Ee)}var Te=(0,d.useCallback)(function(){ae(function(e){return!e})},[]),we=(0,m.default)("section_list",void 0===le?null:"section_add_active"),Re=(0,w.getAllProjectCollaborators)({collaborators:T,user:E},t.id).length;return S(L),k(t.id,W),d.default.createElement(D.default,{onDrop:j?void 0:function(e){return Y(t.id,e)},canDrop:function(e){return!e.isDetailViewShowing&&!he}},function(e){var r=e.isDragging;return d.default.createElement("div",{className:"project_editor_instance current_editor","data-project-id":t.id},r&&!j?d.default.createElement("div",{className:"project_view__drop_zone"},d.default.createElement("p",{className:"project_view__drop_zone__inner"},_("Add file as task / Import from template"))):null,d.default.createElement(h.default,{showCompleted:ne,project:t,noteCount:(0,b.noteGetByProject)({notes:i},t.id).length,noteHasMore:(0,y.hasMoreProjectNotes)({moreNotes:l},t.id),moreNotes:l,user:E,collaboratorCount:Re,onAddSection:ce,onToggleCompleted:Te,onShareOptionClick:K,onDismissPromo:J,showPromo:X}),d.default.createElement("div",{className:"list_editor"},d.default.createElement("ul",{className:we,"data-project-list-id":t.id},ve,_e?d.default.createElement(O.EmptyStateProject,{projectId:t.id}):null,d.default.createElement(P.default,{user:E,collaborators:T,onItemCheckedChange:$,onItemDelete:z,onItemLinkCopy:H,labels:n,project:t,completedInfo:R.projects[t.id],showCompleted:ne}))))})}function a(e,t){var r=e.projects[t];return!r||!r.archived_sections&&!r.completed_items}function i(e,t,r){var n=e.pageX,a=e.pageY+t.scrollTop-$scrollTop(),i=r.current.find(function(e){var t=e.x,r=e.y,i=e.w,o=e.h;return n>=t&&n<=t+i&&a>=r&&a<=r+o});return i&&i.elm}function o(){var e=document.querySelectorAll("[data-section-id]"),t=(0,c.default)(e).find(function(e){return e===document.activeElement||e.contains(document.activeElement)});return t?t.dataset.sectionId:null}var l=e("@babel/runtime/helpers/interopRequireWildcard"),s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var u=s(e("@babel/runtime/helpers/slicedToArray")),c=s(e("@babel/runtime/helpers/toConsumableArray")),d=l(e("react")),f=e("../../utils"),p=s(e("prop-types")),m=s(e("classnames")),h=s(e("./ProjectViewHeader")),v=s(e("./project_section")),b=e("../../reducers/notes"),y=e("../../reducers/moreNotes"),g=s(e("./SectionForm")),E=s(e("../drag_and_drop/useSortable")),T=s(e("../drag_and_drop/useDraggable")),w=e("../../reducers/collaborators"),R=s(e("../drag_and_drop/sortable")),P=s(e("./archived_sections")),D=s(e("../DropFiles")),O=e("../emptyState"),C=e("../item_list/EditorStateContext"),I=e("../../utils/shortcuts"),A=e("../hooks"),S=function(e){return(0,E.default)({listIdAttr:"data-project-list-id",itemIdAttr:"data-section-id",handleSelector:".section_dnd_handle",onSort:(0,d.useCallback)(function(t){var r=t.orders;r=r.map(function(e){return{id:(0,f.parseId)(e.id),section_order:e.item_order}}),e(r)},[e])})},k=function(e,t){var r=(0,d.useRef)(),n=(0,d.useRef)(),a=(0,d.useRef)(),o=document.getElementById("left_menu");(0,T.default)({itemSelector:"[data-section-list-id] [data-item-id]",handleSelector:".item_dnd_handle",scrollSelector:["#left_menu","html"],onDragStart:(0,d.useCallback)(function(e,t){r.current=(0,R.default)({item:e,dragItem:t,listIdAttr:"data-section-list-id",itemIdAttr:"data-item-id",maxIndent:5}),r.current.handleDragStart();var a=[document.getElementById("filter_inbox"),document.getElementById("filter_team_inbox")].concat((0,c.default)(document.querySelectorAll("[data-type='project_list_item']"))).filter(function(e){return e&&"none"!==e.style.display});n.current=a.map(function(e){var t=$position(e);return{elm:e,x:t.x,y:t.y,w:e.offsetWidth,h:e.offsetHeight}})},[]),onDragging:(0,d.useCallback)(function(e){var t=i(e,o,n);a.current&&a.current!==t&&a.current.classList.remove("drop_background"),t&&t.classList.add("drop_background"),a.current=t,a.current||r.current.handleDragging()},[o]),onDragEnd:(0,d.useCallback)(function(){var n=r.current.handleDragEnd(),i=n.dragItemId,o=n.orders,l=n.dropListId,s=a.current;if(s)return s.classList.remove("drop_background"),void t({id:(0,f.parseId)(i),project_id:(0,f.parseId)(s.getAttribute("data-id"))});var u,c=o.findIndex(function(e){return e.id===i}),d=o[c].indent,p="null"===l?null:(0,f.parseId)(l);if(1===d)u={id:(0,f.parseId)(i),parent_id:null,section_id:p,project_id:e};else for(var m=c;m>=0;m--)if(o[m].indent<d){u={id:(0,f.parseId)(i),parent_id:(0,f.parseId)(o[m].id),section_id:p,project_id:e};break}o=o.map(function(e){return{id:(0,f.parseId)(e.id),child_order:e.item_order}}),t(u,o)},[t,e])})};n.propTypes={project:p.default.object.isRequired,itemsBySid:p.default.object.isRequired,labels:p.default.object.isRequired,notes:p.default.object.isRequired,moreNotes:p.default.object.isRequired,reminders:p.default.object.isRequired,projectSections:p.default.array.isRequired,collaborators:p.default.object.isRequired,tempIds:p.default.object.isRequired,user:p.default.object.isRequired,completed:p.default.object.isRequired,allowWebsiteAdd:p.default.shape({defaultFields:p.default.object}),isDetailViewShowing:p.default.bool.isRequired,showPromo:p.default.bool.isRequired,onSectionUpdate:p.default.func.isRequired,onSectionAdd:p.default.func.isRequired,onSectionReorder:p.default.func.isRequired,onItemUpdate:p.default.func.isRequired,onItemAdd:p.default.func.isRequired,onItemCheckedChange:p.default.func.isRequired,onItemArchive:p.default.func.isRequired,onItemDelete:p.default.func.isRequired,onItemDuplicate:p.default.func.isRequired,onItemLinkCopy:p.default.func.isRequired,onItemMoveToProject:p.default.func.isRequired,onItemMoveAndReorder:p.default.func.isRequired,onItemUnarchive:p.default.func.isRequired,onShareOptionClick:p.default.func.isRequired,onFileDrop:p.default.func.isRequired,onDismissPromo:p.default.func.isRequired}},{"../../reducers/collaborators":983,"../../reducers/moreNotes":1018,"../../reducers/notes":1021,"../../utils":1094,"../../utils/shortcuts":1124,"../DropFiles":468,"../drag_and_drop/sortable":547,"../drag_and_drop/useDraggable":548,"../drag_and_drop/useSortable":549,"../emptyState":588,"../hooks":628,"../item_list/EditorStateContext":758,"./ProjectViewHeader":856,"./SectionForm":858,"./archived_sections":862,"./project_section":865,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,classnames:"classnames","prop-types":"prop-types",react:"react"}],856:[function(e,t,r){"use strict";function n(e){var t=e.project,r=e.noteCount,n=e.noteHasMore,i=e.collaboratorCount,o=e.user,l=e.onShareOptionClick,u=e.onToggleCompleted,p=e.showCompleted,m=e.onAddSection,b=e.onDismissPromo,y=e.showPromo;return s.default.createElement(h.ViewHeader,{header:s.default.createElement(v.default,{text:t.name,withMarkdown:!1}),subheader:t.is_archived?_("Archived"):null},s.default.createElement(c.default,{noteParent:t,noteType:d.TYPE_PROJECT_NOTE,notesCount:r,hasMore:n,user:o}),t.inbox_project||t.is_archived?null:s.default.createElement(a,{collaboratorCount:i,onClick:function(){return l(t.id)},showPromo:y,onDismissPromo:b}),t.is_archived?null:s.default.createElement(f.default,{user:o,projectId:t.id,showCompleted:p,onToggleCompleted:u,onAddSection:m}))}function a(e){var t=e.collaboratorCount,r=e.showPromo,n=e.onDismissPromo,a=(0,l.default)(e,["collaboratorCount","showPromo","onDismissPromo"]);return s.default.createElement(b.PromoTip,{show:r,variant:b.Variants.COLLABORATE_WITH_OTHERS_PROMO,onDismiss:n},function(e){var r=e.ref;return s.default.createElement(m.default,(0,o.default)({className:"share_icon"},a,{ref:r}),0===t?s.default.createElement(p.AssigneeIcon,null):s.default.createElement(s.default.Fragment,null,s.default.createElement(p.CollaboratorIcon,null),s.default.createElement("span",null,t)))})}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/objectWithoutProperties")),s=i(e("react")),u=i(e("prop-types")),c=i(e("../NotesButton")),d=e("../../reducers/notes"),f=i(e("./ProjectViewMenu")),p=e("../icons"),m=i(e("../Button")),h=e("../view"),v=i(e("../formatter/FormattedText")),b=e("../promo_tip");n.propTypes={project:u.default.object.isRequired,collaboratorCount:u.default.number,noteCount:u.default.number.isRequired,noteHasMore:u.default.bool.isRequired,user:u.default.object.isRequired,showCompleted:u.default.bool.isRequired,onShareOptionClick:u.default.func.isRequired,onToggleCompleted:u.default.func.isRequired,onAddSection:u.default.func.isRequired,onDismissPromo:u.default.func.isRequired,showPromo:u.default.bool.isRequired},a.propTypes={collaboratorCount:u.default.number,showPromo:u.default.bool.isRequired,onDismissPromo:u.default.func}},{"../../reducers/notes":1021,"../Button":466,"../NotesButton":473,"../formatter/FormattedText":621,"../icons":731,"../promo_tip":869,"../view":975,"./ProjectViewMenu":857,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],857:[function(e,t,r){"use strict";function n(e){var t=(e.projectId,e.showCompleted),r=e.onAddSection,n=e.onSortByPriority,a=e.onSortByDate,i=e.onSortByName,s=e.onImport,u=e.onExport,f=e.onShowMailItem,p=e.onShowProjectCalendar,v=e.onToggleCompleted,b=(0,l.useState)(null),y=(0,o.default)(b,2),g=y[0],E=y[1],T=function(e){return function(){E(null);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.apply(null,r)}},w=function(e){E(e.target)},R=t?_("Hide completed tasks"):_("Show completed tasks"),P=t?d.CancelCheckedIcon:d.CheckboxCheckedIcon;return l.default.createElement(l.default.Fragment,null,l.default.createElement(h.default,{className:"gear_icon icon",onClick:w},l.default.createElement(d.MoreIcon,null)),g?l.default.createElement(m.default,{align:"bottom",anchor:g,onHide:function(){return E(null)}},l.default.createElement(c.MenuList,{className:"project_view_menu","aria-label":_x("a11y","task edit menu")},l.default.createElement(c.IconMenuItem,{text:_("Add section"),icon:l.default.createElement(d.AddSectionIcon,null),onClick:T(r)}),l.default.createElement(c.MenuSeparator,null),l.default.createElement(c.IconMenuItem,{text:_("Sort by date"),icon:l.default.createElement(d.CalendarIconB,null),onClick:T(a)}),l.default.createElement(c.IconMenuItem,{text:_("Sort by priority"),icon:l.default.createElement(d.PriorityIconB,null),onClick:T(n)}),l.default.createElement(c.IconMenuItem,{text:_("Sort by name"),icon:l.default.createElement(d.AlphabetIcon,null),onClick:T(i)}),l.default.createElement(c.MenuSeparator,null),l.default.createElement(c.IconMenuItem,{text:_("Import from template"),icon:l.default.createElement(d.DownloadIcon,null),onClick:T(s)}),l.default.createElement(c.IconMenuItem,{text:_("Export as a template"),icon:l.default.createElement(d.UploadIcon,null),onClick:T(u)}),l.default.createElement(c.MenuSeparator,null),l.default.createElement(c.IconMenuItem,{text:_("Email tasks to this project"),icon:l.default.createElement(d.MailIcon,null),onClick:T(f)}),l.default.createElement(c.IconMenuItem,{text:_("Project calendar feed"),icon:l.default.createElement(d.ListIcon,null),onClick:T(p)}),l.default.createElement(c.MenuSeparator,null),l.default.createElement(c.IconMenuItem,{text:R,icon:l.default.createElement(P,null),onClick:T(v)}))):null)}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=e("react-redux"),c=e("../menu_list"),d=e("../icons"),f=e("../../reducers/items"),p=e("../../components/agenda/sort"),m=i(e("../Dialog")),h=i(e("../Button")),v=i(e("../../components/templates/Templates")),b=i(e("../../components/project_editor/ProjectExtraActions"));n.propTypes={projectId:s.default.oneOfType([s.default.number,s.default.string]).isRequired,onAddSection:s.default.func.isRequired,onSortByPriority:s.default.func.isRequired,onSortByDate:s.default.func.isRequired,onSortByName:s.default.func.isRequired,onImport:s.default.func.isRequired,onExport:s.default.func.isRequired,onShowMailItem:s.default.func.isRequired,onShowProjectCalendar:s.default.func.isRequired,onToggleCompleted:s.default.func.isRequired};var y=function(e,t){return{onSortByPriority:function(){return e((0,f.itemSortProjectItems)(t.projectId,(0,p.composeSortFunc)(p.byPriority,p.byChildOrder)))},onSortByDate:function(){return e((0,f.itemSortProjectItems)(t.projectId,(0,p.composeSortFunc)(p.byDueDate,p.byPriority,p.byChildOrder)))},onSortByName:function(){return e((0,f.itemSortProjectItems)(t.projectId,(0,p.composeSortFunc)(p.byItemContent,p.byPriority,p.byChildOrder)))},onImport:function(){v.default.showImport(t.projectId)},onExport:function(){v.default.showExportTemplate(t.projectId)},onShowMailItem:function(){b.default.showProjectEmail(t.projectId)},onShowProjectCalendar:function(){b.default.showCalFeed(t.projectId)}}},g=(0,u.connect)(null,y)(n);r.default=g},{"../../components/agenda/sort":16,"../../components/project_editor/ProjectExtraActions":63,"../../components/templates/Templates":89,"../../reducers/items":1005,"../Button":466,"../Dialog":467,"../icons":731,"../menu_list":801,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],858:[function(e,t,r){"use strict";function n(e){function t(e){e.preventDefault(),h||a(p.trim())}var r=e.section,n=void 0===r?d:r,a=e.onSubmit,i=e.onCancel,s=(0,l.useState)(n.name),f=(0,o.default)(s,2),p=f[0],m=f[1],h=0===p.trim().length,v=null==n.id,b=v?_("Add Section"):_("Save");return l.default.createElement("form",{className:"section_form",onSubmit:t},l.default.createElement("input",{autoFocus:!0,className:"name",type:"text",value:p,placeholder:_("Name this section"),"aria-label":_("Name this section"),onChange:function(e){return m(e.target.value)},onKeyDown:function(e){"Escape"===(0,c.resolveKeyboardKey)(e.key)&&i()}}),l.default.createElement("div",{className:"actions"},l.default.createElement(u.default,{type:"submit",className:"ist_button ist_button_red",onClick:t,disabled:h},b),l.default.createElement(u.default,{className:"cancel_link",onClick:i},_("Cancel"))))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=i(e("../Button")),c=e("../../utils"),d={name:""};n.propTypes={section:s.default.object,onSubmit:s.default.func.isRequired,onCancel:s.default.func.isRequired}},{"../../utils":1094,"../Button":466,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],859:[function(e,t,r){"use strict";function n(e){var t=e.section,r=e.itemCount,n=e.onCollapseChange,a=e.onRename,i=e.onDelete,s=e.onArchive,v=e.onUnarchive,b=e.withCollapser,y=void 0===b||b,g=e.withDnD,E=void 0===g||g,T=e.disabled,w=void 0!==T&&T,R=(0,l.useState)(!1),P=(0,o.default)(R,2),D=P[0],O=P[1],C=function(){(0,c.eventFrom)([".section_head_menu",".section_head_menu_list",".dialog",".modal_overlay"],event)||n({collapsed:!t.collapsed})};return l.default.createElement("header",null,D?l.default.createElement(h.default,{section:t,onSubmit:function(e){O(!1),a(e)},onCancel:function(){return O(!1)}}):l.default.createElement(l.default.Fragment,null,E&&!w?l.default.createElement("span",{className:"section_dnd_handle drag_and_drop_handler"},l.default.createElement(u.DragHandleIcon,null)):null,y&&!w?l.default.createElement("div",{className:"collapser",onClick:C},l.default.createElement(u.CaretIcon,null)):null,l.default.createElement(p.default,{className:"section_head__title","aria-label":(0,d.format)(_("Edit section {name}"),{name:t.name}),onClick:function(){a&&O(!0)},disabled:w},l.default.createElement(f.default,{simple:!0,withMarkdown:!1,text:t.name}),r>0?l.default.createElement("small",null,r):null),w?null:l.default.createElement("div",{className:"section_head__actions"},l.default.createElement(m.default,{section:t,itemCount:r,onRename:function(){return O(!0)},onArchive:s,onUnarchive:v,onDelete:i}))))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=e("../icons"),c=e("../../utils/dom"),d=e("../../utils"),f=i(e("../formatter/FormattedText")),p=i(e("../Button")),m=i(e("./SectionHeadMenu")),h=i(e("./SectionForm"));n.propTypes={section:s.default.object.isRequired,itemCount:s.default.number.isRequired,onRename:s.default.func,onCollapseChange:s.default.func.isRequired,onDelete:s.default.func,onArchive:s.default.func,onUnarchive:s.default.func,withCollapser:s.default.bool,withDnD:s.default.bool,disabled:s.default.bool};var v=l.default.memo(n);r.default=v},{"../../utils":1094,"../../utils/dom":1073,"../Button":466,"../formatter/FormattedText":621,"../icons":731,"./SectionForm":858,"./SectionHeadMenu":860,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],860:[function(e,t,r){"use strict";function n(e){var t=e.section,r=e.itemCount,n=e.onRename,a=e.onDelete,i=e.onArchive,u=e.onMoveToProject,m=e.onUnarchive,h=(0,s.useState)(null),g=(0,l.default)(h,2),E=g[0],T=g[1],w=(0,s.useState)(!1),R=(0,l.default)(w,2),P=R[0],D=R[1],O=(0,s.useState)(!1),C=(0,l.default)(O,2),I=C[0],A=C[1],S=t.is_archived?s.default.createElement(d.MenuList,{className:"section_head_menu_list","aria-label":_x("a11y","section menu")},s.default.createElement(d.IconMenuItem,{text:_("Unarchive section"),icon:s.default.createElement(f.ArchiveIcon,null),onClick:function(){T(null),m()}}),s.default.createElement(d.IconMenuItem,{text:_("Delete section"),icon:s.default.createElement(f.DeleteIcon,null),onClick:function(){T(null),D(!0)}})):s.default.createElement(d.MenuList,{className:"section_head_menu_list","aria-label":_x("a11y","section menu")},s.default.createElement(d.IconMenuItem,{text:_("Edit section"),icon:s.default.createElement(f.EditIcon,null),onClick:function(e){return function(){T(null);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.apply(null,r)}}(n)}),s.default.createElement(v.default,{withSectionSelection:!1,onSelect:function(e){var t=e.project_id;return u(t)}},function(e){var t=e.toggle,r=e.buttonProps;return s.default.createElement(d.IconMenuItem,(0,o.default)({text:_("Move section"),icon:s.default.createElement(f.MoveIcon,null),onClick:t},r))}),s.default.createElement(d.IconMenuItem,{text:_("Archive section"),icon:s.default.createElement(f.ArchiveIcon,null),onClick:function(){T(null),A(!0)}}),s.default.createElement(d.IconMenuItem,{text:_("Delete section"),icon:s.default.createElement(f.DeleteIcon,null),onClick:function(){T(null),D(!0)}}));return s.default.createElement(s.default.Fragment,null,s.default.createElement(p.default,{className:"section_head_menu",onClick:function(){return T(event.target)}},s.default.createElement(f.MoreIcon,null)),E?s.default.createElement(c.default,{align:"bottom",anchor:E,onHide:function(){return T(null)}},S):null,s.default.createElement(b.default,{isOpen:P,confirmLabel:_("Delete"),onConfirm:a,onCancel:function(){return D(!1)}},s.default.createElement("span",null,r<=0?s.default.createElement(y.default,{text:_("Are you sure you want to delete {section}?"),keyval:{section:s.default.createElement("b",null,t.name)}}):s.default.createElement(y.default,{text:_n("Delete {section} with its 1 task?","Delete {section} with its {n} tasks?",r),keyval:{section:s.default.createElement("b",null,t.name),n:s.default.createElement("b",null,r)}}))),s.default.createElement(b.default,{isOpen:I,confirmLabel:_("Archive"),onConfirm:i,onCancel:function(){return A(!1)}},s.default.createElement("span",null,r<=0?s.default.createElement(y.default,{text:_("Are you sure you want to archive {section}?"),keyval:{section:s.default.createElement("b",null,t.name)}}):s.default.createElement(y.default,{text:_n("Archive {section} with its 1 task?","Archive {section} with its {n} tasks?",r),keyval:{section:s.default.createElement("b",null,t.name),n:s.default.createElement("b",null,r)}}))))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/slicedToArray")),s=a(e("react")),u=i(e("prop-types")),c=i(e("../Dialog")),d=e("../menu_list"),f=e("../icons"),p=i(e("../Button")),m=e("react-redux"),h=e("../../reducers/sections"),v=i(e("../project_picker")),b=i(e("../confirm_dialog")),y=i(e("../TemplateText"));n.propTypes={section:u.default.object.isRequired,itemCount:u.default.number.isRequired,onRename:u.default.func.isRequired,onDelete:u.default.func.isRequired,onArchive:u.default.func.isRequired,onMoveToProject:u.default.func.isRequired};var g=function(e,t){var r=t.section.id;return{onDelete:function(){t.onDelete&&t.onDelete(),e((0,h.sectionRemove)(r))},onArchive:function(){t.onArchive&&t.onArchive(),e((0,h.sectionArchive)(r))},onUnarchive:function(){t.onUnarchive&&t.onUnarchive(),e((0,h.sectionUnarchive)(t.section))},onMoveToProject:function(t){e((0,h.sectionMove)({id:r,project_id:t}))}}},E=(0,m.connect)(null,g)(n);r.default=E},{"../../reducers/sections":1032,"../Button":466,"../Dialog":467,"../TemplateText":475,"../confirm_dialog":509,"../icons":731,"../menu_list":801,"../project_picker":854,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],861:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.showCompleted,r=e.completedInfo,n=e.labels,i=e.project,l=e.user,s=e.collaborators,u=e.onItemDelete,f=e.onItemLinkCopy,_=e.onItemCheckedChange,y=e.hintState,g=void 0===y?{}:y,E=e.fetchArchivedSections,T=e.updateHint,w=(0,d.useState)(!1),R=(0,c.default)(w,2),P=R[0],D=R[1],O=(0,d.useState)(null),C=(0,c.default)(O,2),I=C[0],A=C[1],S=(0,d.useRef)({}),k=function(e){return function(t){S.current[e]=t}},M=g.completedSections||[],j=!1!==g.showSectionsHint,N=(0,d.useCallback)(function(){A(null),D(!0);var e={project_id:r.project_id};g.cursor&&(e.cursor=g.cursor),E({completedInfo:r,sections:M,hintState:g}).then(function(){D(!1)},function(){A(!0),D(!1)})},[r,E,g,M]);if(!t)return null;if(0===M.length&&(!r||0===r.archived_sections))return null;var x=M.map(function(e){var t=e.section,o=e.completed,c=t.collapsed,v=function(){var e={completedSections:M.map(function(e){return e.section===t?a({},e,{section:a({},t,{collapsed:!c})}):e})};T({id:r.project_id,type:"projects",data:e});var n=S.current[t.id];n&&n()},b=function(){var e={completedSections:M.filter(function(e){return e.section!==t})};T({id:r.project_id,type:"projects",data:e})},y=o.sections[t.id],g=y&&y.completed_items||0,E=g>0,w=(0,p.default)("section","section__archived",{section__collapsed:Boolean(c)});return d.default.createElement("li",{key:t.id},d.default.createElement("div",{className:w},d.default.createElement(m.default,{onDelete:b,onUnarchive:b,withDnD:!1,withCollapser:Boolean(E),onCollapseChange:v,section:t,itemCount:g}),y?d.default.createElement("ul",{className:"items"},d.default.createElement(h.default,{completedSection:t,onChangeStatus:b,isCollapsed:c,labels:n,project:i,completedInfo:y,user:l,collaborators:s,type:"sections",itemId:t.id,onDelete:u,onCheckedChange:_,onLinkCopy:f,fetchOnExpand:!0,setFetch:k(t.id)})):null))}),L=g&&g.total||r.archived_sections,q=L-M.length,U=j&&q>0&&!isNaN(q)?d.default.createElement("li",{className:"moreItemsHint",onClick:N},d.default.createElement("div",{className:"moreItemsHint_icon"},P||g.updating?d.default.createElement(b.RingSpinner,null):d.default.createElement(v.FetchCompletedIcon,null)),d.default.createElement("div",null,o({error:I,isLoading:P,archivedSectionsNumber:q,updating:g.updating}))):null;return d.default.createElement(d.default.Fragment,null,x,U)}function o(e){var t=e.error,r=e.isLoading,n=e.updating,a=e.archivedSectionsNumber;return t?_("Something went wrong! Please try again."):r?_("Fetching sections\u2026"):n?_("Updating archived info\u2026"):(0,y.format)(_n("+1 archived section","+{num} archived sections",a),{num:a})}var l=e("@babel/runtime/helpers/interopRequireWildcard"),s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var u=s(e("@babel/runtime/helpers/defineProperty")),c=s(e("@babel/runtime/helpers/slicedToArray")),d=l(e("react")),f=s(e("prop-types")),p=s(e("classnames")),m=s(e("../SectionHead")),h=s(e("../../item_list/more_items_hint")),v=e("../../icons"),b=e("../../spinners"),y=e("../../../utils");i.propTypes={showCompleted:f.default.bool.isRequired,completedInfo:f.default.object,labels:f.default.object.isRequired,project:f.default.object.isRequired,onItemDelete:f.default.func.isRequired,onItemLinkCopy:f.default.func.isRequired,collaborators:f.default.object.isRequired,user:f.default.object.isRequired,updateHint:f.default.func.isRequired,fetchArchivedSections:f.default.func.isRequired}},{"../../../utils":1094,"../../icons":731,"../../item_list/more_items_hint":769,"../../spinners":961,"../SectionHead":859,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,classnames:"classnames","prop-types":"prop-types",react:"react"}],862:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=n(e("./ArchivedSections")),o=e("../../../reducers/completed_items"),l=function(e,t){var r=t.completedInfo&&t.completedInfo.project_id;return{hintState:(0,o.getHint)(e,{type:"projects",id:r})}},s={updateHint:o.updateHint,fetchArchivedSections:o.fetchArchivedSections},u=(0,a.connect)(l,s)(i.default);r.default=u},{"../../../reducers/completed_items":988,"./ArchivedSections":861,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],863:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.project,r=e.projectId,n=e.itemsBySid,i=e.projectSections,o=e.onFetchArchivedProject,l=(0,c.default)(e,["project","projectId","itemsBySid","projectSections","onFetchArchivedProject"]),d=(0,f.useState)(t?"loaded":"unset"),p=(0,u.default)(d,2),v=p[0],y=p[1],g=(0,A.usePrevious)(r),R=(0,f.useState)(null),P=(0,u.default)(R,2),D=P[0],O=P[1];if((0,f.useEffect)(function(){g!==r&&O(null)},[g,r]),(0,f.useEffect)(function(){function e(e){e&&E.default.captureError(e,{tags:{where:"_projectView"}}),y("error")}function n(){o(r).then(function(e){var t={items:(0,S.byID)(e.items),sections:(0,S.byID)(e.sections)};O({project:a({},e.project,{is_archived:!0}),itemsBySid:(0,b.itemGetSectionGroups)(r,t),projectSections:(0,h.sectionGetByPID)(r)(t)}),y("loadedArchived")}).catch(e)}"unset"===v&&(y("loading"),w.default.sync({onSuccess:function(){t?y("loaded"):n()},onError:e}));var i="loaded"===v&&t&&t.is_archived,l="loaded"===v&&!t;(i||l)&&(y("loading"),n())},[v,o,t,r]),"error"===v)return f.default.createElement("h1",null,_("Project not found."));if("loading"===v||"unset"===v)return f.default.createElement(T.RingSpinner,null);if("loaded"===v&&!t)return f.default.createElement(T.RingSpinner,null);var C=D?D.project:t,I=D?D.itemsBySid:n,k=D?D.projectSections:i;return f.default.createElement(m.default,(0,s.default)({project:C,itemsBySid:I,projectSections:k},l))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/slicedToArray")),c=l(e("@babel/runtime/helpers/objectWithoutProperties")),d=l(e("@babel/runtime/helpers/defineProperty")),f=o(e("react")),p=e("react-redux"),m=l(e("./ProjectView")),h=e("../../reducers/sections"),v=l(e("../item_list/mapDispatchToItemListItemProps")),b=e("../../reducers/items"),y=e("../../reducers/labels"),g=e("../../reducers/externalServices"),E=l(e("../../logger/Logger")),T=e("../spinners"),w=l(e("../../models/SyncEngine")),R=e("../../reducers/notes"),P=l(e("../../components/templates/Templates")),D=e("../../reducers/detailView"),O=e("../../reducers/tooltip"),C=e("../../reducers/user"),I=e("../../reducers/projects"),A=e("../hooks"),S=e("../../utils"),k=function(e,t){var r=(0,g.getAllowWebsiteAddDefaultFields)(e),n=e.projects[t.projectId],a=(0,C.getKarma)(e),i=a>200&&!(0,O.hasSeen)(O.TOOLTIP_SHARING,e);return{itemsBySid:(0,b.itemGetSectionGroups)(t.projectId,e),tempIds:e.tempIds,labels:(0,y.labelGetAllByName)(e),notes:e.notes,reminders:e.reminders,projectSections:(0,h.sectionGetByPID)(t.projectId)(e),user:e.user,moreNotes:e.moreNotes,collaborators:e.collaborators,completed:e.completed,project:n,allowWebsiteAdd:r,isDetailViewShowing:(0,D.isDetailViewShowing)(e),showPromo:i}},M=function(e){var t=(0,v.default)(e);return{onSectionAdd:function(t){e((0,h.sectionAdd)(t))},onSectionUpdate:function(t){e((0,h.sectionUpdate)(t))},onSectionReorder:function(t){e((0,h.sectionReorder)(t,!0))},onShareOptionClick:function(e){Signals.sendSignal("show_sharing_manager",e)},
onItemMoveAndReorder:function(t,r){e((0,b.itemMoveAndReorder)(t,r))},onItemCheckedChange:t.onCheckedChange,onItemUpdate:t.onUpdate,onItemAdd:t.onAdd,onItemComplete:t.onComplete,onItemUncomplete:t.onUncomplete,onItemArchive:t.onArchive,onItemDelete:t.onDelete,onItemDuplicate:t.onDuplicate,onItemLinkCopy:t.onLinkCopy,onItemMoveToProject:t.onMoveToProject,onItemNoteClick:t.onNoteClick,onItemUnarchive:t.onUnarchive,onFileDrop:function(r,n){var i=n[0];if(i.name.endsWith(".csv")||i.name.endsWith(".txt"))P.default.showImport(r);else{var o=t.onAdd(a({},(0,b.getDefaultItemFields)(),{content:i.name,project_id:r})),l=new GFile;l.file=i,l.temporaryId=Math.random(),l.upload(),e((0,R.noteAddWithFiles)({parentId:o.id,content:"",type:R.TYPE_ITEM_NOTE,usersToNotify:[],files:[l]}))}},onDismissPromo:function(){e((0,O.markSeen)(O.TOOLTIP_SHARING))},onFetchArchivedProject:function(t){return e((0,I.projectFetchArchived)(t))}}},j=(0,p.connect)(k,M)(i);r.default=j},{"../../components/templates/Templates":89,"../../logger/Logger":132,"../../models/SyncEngine":171,"../../reducers/detailView":996,"../../reducers/externalServices":998,"../../reducers/items":1005,"../../reducers/labels":1010,"../../reducers/notes":1021,"../../reducers/projects":1026,"../../reducers/sections":1032,"../../reducers/tooltip":1040,"../../reducers/user":1042,"../../utils":1094,"../hooks":628,"../item_list/mapDispatchToItemListItemProps":767,"../spinners":961,"./ProjectView":855,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,react:"react","react-redux":"react-redux"}],864:[function(e,t,r){"use strict";function n(e){var t=e.section,r=e.items,n=e.labels,a=e.notes,i=e.moreNotes,l=e.project,f=e.reminders,p=e.user,m=e.tempIds,h=e.collaborators,v=e.completed,b=e.showCompleted,y=e.allowWebsiteAdd,g=e.onSectionUpdate,E=e.onAddSectionBelowClick,T=e.onItemUpdate,w=e.onItemAdd,R=e.onItemCheckedChange,P=e.onItemArchive,D=e.onItemDelete,O=e.onItemDuplicate,C=e.onItemLinkCopy,I=e.onItemMoveToProject,A=e.onItemUnarchive,S=e.treeListId,k=!!l.is_archived,M=(0,s.default)("section",{section__collapsed:null!=t&&t.collapsed&&!k}),j={};t&&(j["data-section-id"]=t.id);var N=(0,o.useCallback)(function(e){g({id:t.id,name:e})},[g,t]),x=(0,o.useCallback)(function(e){var r=e.collapsed;g({id:t.id,collapsed:r})},[g,t]);return o.default.createElement("li",j,o.default.createElement("div",{className:M},t?o.default.createElement(u.default,{section:t,itemCount:r.length,onRename:N,onCollapseChange:x,disabled:k}):null,o.default.createElement(d.default,{completed:v,showCompleted:b,parentID:null,sectionID:t?t.id:null,items:r,project:l,labels:n,reminders:f,user:p,notes:a,moreNotes:i,tempIds:m,collaborators:h,allowWebsiteAdd:y,onUpdate:T,onAdd:w,onCheckedChange:R,onArchive:P,onDelete:D,onDuplicate:O,onLinkCopy:C,onMoveToProject:I,onUnarchive:A,listProps:{"data-section-list-id":t?t.id:"null"},id:S})),k?null:o.default.createElement(c.default,{className:"hover_action_button",onClick:function(){E(t?t.id:null)}},_("Add section")))}var a=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("react")),l=a(e("prop-types")),s=a(e("classnames")),u=a(e("../SectionHead")),c=a(e("../../Button")),d=a(e("../../item_list/item_tree_list"));n.propTypes={section:l.default.object,items:l.default.array.isRequired,labels:l.default.object.isRequired,notes:l.default.object.isRequired,moreNotes:l.default.object.isRequired,project:l.default.object.isRequired,reminders:l.default.object.isRequired,user:l.default.object.isRequired,tempIds:l.default.object.isRequired,collaborators:l.default.object.isRequired,allowWebsiteAdd:l.default.shape({defaultFields:l.default.object}),treeListId:l.default.string.isRequired,onSectionUpdate:l.default.func.isRequired,onAddSectionBelowClick:l.default.func.isRequired,onItemUpdate:l.default.func.isRequired,onItemAdd:l.default.func.isRequired,onItemCheckedChange:l.default.func.isRequired,onItemArchive:l.default.func.isRequired,onItemDelete:l.default.func.isRequired,onItemDuplicate:l.default.func.isRequired,onItemLinkCopy:l.default.func.isRequired,onItemMoveToProject:l.default.func.isRequired,onItemUnarchive:l.default.func.isRequired}},{"../../Button":466,"../../item_list/item_tree_list":766,"../SectionHead":859,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,classnames:"classnames","prop-types":"prop-types",react:"react"}],865:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=n(e("./ProjectSection")),o=e("../../../reducers/completed_items"),l={updateHint:o.updateHint},s=(0,a.connect)(null,l)(i.default);r.default=s},{"../../../reducers/completed_items":988,"./ProjectSection":864,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],866:[function(e,t,r){"use strict";function n(e){var t=e.show,r=e.children,n=e.variant,a=e.onDismiss,i=void 0===a?function(){}:a;(0,o.useEffect)(function(){return t&&(document.addEventListener("mousedown",i),document.addEventListener("scroll",i)),function(){document.removeEventListener("mousedown",i),document.removeEventListener("scroll",i)}},[t,i]);var l=(0,o.useRef)(),d=null;return n===c.default.COLLABORATE_WITH_OTHERS_PROMO&&(d=o.default.createElement(u.default,null)),o.default.createElement(o.default.Fragment,null,r({ref:l}),o.default.createElement(s.default,{placement:"bottom",modifiers:{preventOverflow:{boundariesElement:"viewport",padding:20}},isShown:t,onClose:i,hasArrow:!0,referenceElement:l.current},d))}var a=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=a(e("prop-types")),s=a(e("../popper/Popper")),u=a(e("./TipCollaborateWithOthers")),c=a(e("./PromoTipVariants"));n.propTypes={show:l.default.bool,children:l.default.func.isRequired,variant:l.default.string.isRequired,onDismiss:l.default.func};var d=n;r.default=d},{"../popper/Popper":831,"./PromoTipVariants":867,"./TipCollaborateWithOthers":868,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],867:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={COLLABORATE_WITH_OTHERS_PROMO:"COLLABORATE_WITH_OTHERS_PROMO"},a=n;r.default=a},{}],868:[function(e,t,r){"use strict";function n(){return i.default.createElement("div",{className:"promo_tip__container"},i.default.createElement("header",null,i.default.createElement("h1",null,_("Collaborate with others")),i.default.createElement(o.CloseIcon,{className:"promo_tip__close_icon"})),i.default.createElement("p",null,_("Share projects, assign tasks, discuss in real-time, and get notified when changes are made. Todoist lets you collaborate from any web-enabled device.")))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=e("../icons"),l=n;r.default=l},{"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],869:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PromoTip",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"Variants",{enumerable:!0,get:function(){return i.default}});var a=n(e("./PromoTip")),i=n(e("./PromoTipVariants"))},{"./PromoTip":866,"./PromoTipVariants":867,"@babel/runtime/helpers/interopRequireDefault":189}],870:[function(e,t,r){"use strict";function n(e){var t=e.query;return(0,u.isValidQuery)(t)?i.default.createElement(l.default,{query:t}):i.default.createElement(s.default,{searchString:t})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../filter_view")),s=a(e("../search_view")),u=e("../../filterist");n.propTypes={query:o.default.string.isRequired}},{"../../filterist":117,"../filter_view":619,"../search_view":945,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],871:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./QueryView")),i=a.default;r.default=i},{"./QueryView":870,"@babel/runtime/helpers/interopRequireDefault":189}],872:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.item,r=void 0===t?{}:t,n=e.labelName,i=e.projectId,o=e.user,l=e.isDayView,u=e.isOpen,f=void 0!==u&&u,y=e.isPremium,g=e.onClose,E=e.onAdd,T=(0,d.useState)(!1),w=(0,c.default)(T,2),R=w[0],P=w[1],D=(0,d.useRef)(null),O=(0,d.useRef)(null),C=function(){O.current.content.trim().length>0?P(!0):g()};(0,d.useEffect)(function(){!R&&D.current&&D.current.focusInput()},[R]),r=(0,d.useMemo)(function(){var e=a({},r,{project_id:i});if(l){var t=DateistDateHelpers.date_max(new Date),o=DateUtils.dateistResultFromDate(t);e.due=p.default.fromDateist(o)}return n&&(e.labels=e.labels?[].concat((0,s.default)(e.labels),[n]):[n]),e},[r,l,n,i]);var I=window.CURRENT_EXERNAL_SERVICE;return d.default.createElement(h.default.Box,{className:"quick_add",closeOnOverlayClick:!0,isOpen:f,onDismiss:C},d.default.createElement(h.default.Header,{title:_("Quick Add Task"),className:"quick_add__header"}),d.default.createElement(h.default.Body,{className:"quick_add__body"},f?d.default.createElement(v.default,{item:r,forwardedRef:D,user:o,isPremium:y,withCancelButton:!1,withQuickNote:y,onCancel:C,onChange:function(e){O.current=e},onSubmit:function(e){if(""===e.content)return D.current.focusInput();E(e)}}):null,I?d.default.createElement("div",{className:"quick_add__attach_email"},d.default.createElement(m.default,{className:"action",onClick:function(){return I.annotate_fn(D.current)}},I.annotate_add_text||_("Attach email to task"))):null),d.default.createElement(b.default,{isOpen:R,confirmLabel:_("Discard task"),onConfirm:function(){P(!1),g()},onCancel:function(){return P(!1)}},d.default.createElement("span",null,_("Are you sure you want to discard your current task?"))))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/toConsumableArray")),u=l(e("@babel/runtime/helpers/defineProperty")),c=l(e("@babel/runtime/helpers/slicedToArray")),d=o(e("react")),f=l(e("prop-types")),p=l(e("../../models/DateExt")),m=l(e("../Button")),h=l(e("../reactist/modal")),v=l(e("../item_editor")),b=l(e("../confirm_dialog"));i.propTypes={item:f.default.object,labelName:f.default.string,projectId:f.default.oneOfType([f.default.string,f.default.number]),user:f.default.object.isRequired,isOpen:f.default.bool.isRequired,isDayView:f.default.bool.isRequired,isPremium:f.default.bool.isRequired,onAdd:f.default.func.isRequired,onClose:f.default.func.isRequired};var y=i;r.default=y},{"../../models/DateExt":154,"../Button":466,"../confirm_dialog":509,"../item_editor":756,"../reactist/modal":880,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react"}],873:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return{labelName:e.mainView.type===_.MAIN_VIEW_TYPE_LABEL?e.mainView.id:null,projectId:e.mainView.type===_.MAIN_VIEW_TYPE_PROJECT?e.mainView.ids[0]:e.user&&e.user.inbox_project,user:e,isDayView:e.mainView.type===_.MAIN_VIEW_TYPE_TODAY||e.mainView.type===_.MAIN_VIEW_TYPE_7_DAYS,isPremium:(0,d.isPremium)(e)}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("@babel/runtime/helpers/objectWithoutProperties")),s=o(e("@babel/runtime/helpers/defineProperty")),u=e("react-redux"),c=o(e("./QuickAddModal")),d=e("../../reducers/user"),f=e("../../reducers/modals"),p=e("../../reducers/items"),m=e("../../reducers/notes"),h=e("../../models/Reminders"),_=e("../../constants/constants"),v=o(e("../../components/agenda/Agenda.js")),b=o(e("../../components/agenda/AgendaCurrentDays")),y=o(e("../../components/project_editor/ProjectEditorManager")),g=o(e("../../components/projects_list/ProjectListUtils")),E=o(e("../../components/items_utils/ItemCommonEdits")),T=function(e){return{onNoteAdd:function(t){return e((0,m.noteAdd)(t))},onItemAdd:function(t){return e((0,p.itemAdd)(t))},onClose:function(){return e((0,f.hideModal)())}}},w=function(e,t,r){return a({},e,{},r,{onClose:t.onClose,onAdd:function(r){var n=r.note,i=r.reminders,o=(0,l.default)(r,["note","reminders"]);track("task_form","click","add_from_quick_add");var s=t.onItemAdd(o);n&&""!==n.trim()&&t.onNoteAdd({parentId:s.id,content:n,type:m.TYPE_ITEM_NOTE}),i&&i.length>0&&i.forEach(function(e){e.type?h.RemindersModel.add(a({},e,{item_id:s.id})):h.RemindersModel.addLocation(a({},e,{item_id:s.id}))}),t.onClose();var u=y.default.getEditorById(s.project_id);if(s.labels.length>0&&e.labelId)Signals.sendSignal("instant_refresh_interface");else if(s.due&&!u){v.default.get().flash_item=s.id;var c=s.due.toDate();c.setHours(23,59,59,999),b.default.isAdded(c)?Signals.sendSignal("instant_refresh_interface"):E.default.notifyAddedTo(s,!0)}else u?(u.reRender(),g.default.flashItemIfNeeded(s.id)):E.default.notifyAddedTo(s,!1)}})},R=(0,u.connect)(i,T,w)(c.default);r.default=R},{"../../components/agenda/Agenda.js":5,"../../components/agenda/AgendaCurrentDays":6,"../../components/items_utils/ItemCommonEdits":33,"../../components/project_editor/ProjectEditorManager":61,"../../components/projects_list/ProjectListUtils":70,"../../constants/constants":94,"../../models/Reminders":163,"../../reducers/items":1005,"../../reducers/modals":1016,"../../reducers/notes":1021,"../../reducers/user":1042,"./QuickAddModal":872,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"react-redux":"react-redux"}],874:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=e("react-transition-group"),m=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),(0,c.default)((0,s.default)(r),"timerAutoHide",null),(0,c.default)((0,s.default)(r),"handleTransitionExited",function(){r.setState({exited:!0})}),(0,c.default)((0,s.default)(r),"handleMouseEnter",function(e){r.props.onMouseEnter&&r.props.onMouseEnter(e),r.handlePause()}),(0,c.default)((0,s.default)(r),"handleMouseLeave",function(e){r.props.onMouseLeave&&r.props.onMouseLeave(e),r.handleResume()}),(0,c.default)((0,s.default)(r),"handlePause",function(){clearTimeout(r.timerAutoHide)}),(0,c.default)((0,s.default)(r),"handleResume",function(){if(null!=r.props.autoHideDurationMs){if(void 0!==r.props.resumeHideDurationMs)return void r.setAutoHideTimer(r.props.resumeHideDurationMs);r.setAutoHideTimer(.5*(r.props.autoHideDurationMs||0))}}),(0,c.default)((0,s.default)(r),"handleCloseClick",function(e){r.props.onClose&&(r.props.onClose(e,"clickicon"),e.stopPropagation())}),r.state={exited:!1},r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.opened||this.setState({exited:!0})}},{key:"componentDidMount",value:function(){this.props.opened&&this.setAutoHideTimer()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.opened&&this.state.exited&&this.setState({exited:!1})}},{key:"componentDidUpdate",value:function(e){e.opened!==this.props.opened&&(this.props.opened?this.setAutoHideTimer():clearTimeout(this.timerAutoHide))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHide)}},{key:"setAutoHideTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onClose&&null!=this.props.autoHideDurationMs&&(clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout(function(){e.props.onClose&&null!=e.props.autoHideDurationMs&&e.props.onClose(null,"timeout")},t||this.props.autoHideDurationMs||0))}},{key:"render",value:function(){var e=this,t=this.props,r=t.opened,n=t.transitionDurationMs;if(!r&&this.state.exited)return null;var a={in:r,appear:!0,timeout:n,onExited:this.handleTransitionExited};return d.default.createElement(p.Transition,a,function(t){return e.props.children(t,{onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave})})}}]),t}(d.default.Component);r.default=m,(0,c.default)(m,"propTypes",{opened:f.default.bool.isRequired,transitionDurationMs:f.default.number.isRequired,autoHideDurationMs:f.default.number.isRequired,resumeHideDurationMs:f.default.number.isRequired,onClose:f.default.func.isRequired})},{"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-transition-group":"react-transition-group"}],875:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("react-dom")),m=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return r=(0,o.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,s.default)(r),"layer",null),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){p.default.createPortal||this.renderLayer()}},{key:"componentDidUpdate",value:function(){p.default.createPortal||this.renderLayer()}},{key:"componentWillUnmount",value:function(){this.unrenderLayer()}},{key:"getLayer",value:function(){return this.layer||(this.layer=document.createElement("div"),this.layer.setAttribute("data-mui-portal","true"),document.body&&this.layer&&document.body.appendChild(this.layer),this.props.className&&(this.layer.className=this.props.className)),this.layer}},{key:"unrenderLayer",value:function(){this.layer&&(p.default.createPortal||p.default.unmountComponentAtNode(this.layer),document.body&&document.body.removeChild(this.layer),this.layer=null)}},{key:"renderLayer",value:function(){var e=this.props,t=e.children;if(e.open){var r=d.default.Children.only(t);p.default.unstable_renderSubtreeIntoContainer(this,r,this.getLayer())}else this.unrenderLayer()}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.open;if(!p.default.createPortal)return null;if(r){var n=this.getLayer();return p.default.createPortal(t,n)}return this.unrenderLayer(),null}}]),t}(d.default.Component);m.propTypes={children:f.default.node,open:f.default.bool,className:f.default.string},m.defaultProps={open:!1};var h=m;r.default=h},{"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-dom":"react-dom"}],876:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,m.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/objectWithoutProperties")),s=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),c=i(e("@babel/runtime/helpers/possibleConstructorReturn")),d=i(e("@babel/runtime/helpers/getPrototypeOf")),f=i(e("@babel/runtime/helpers/assertThisInitialized")),p=i(e("@babel/runtime/helpers/inherits")),m=i(e("@babel/runtime/helpers/defineProperty")),h=i(e("react")),_=i(e("prop-types")),v=e("react-transition-group"),b=i(e("./Portal")),y=i(e("../icons/CloseIcon")),g={transition:"all ".concat(300,"ms ease-out"),top:"-10px",opacity:0},E={entering:{top:"20px",opacity:0},entered:{top:"50px",opacity:1}},T=function(e){function t(e){var r;return(0,s.default)(this,t),r=(0,c.default)(this,(0,d.default)(t).call(this,e)),(0,m.default)((0,f.default)(r),"timerAutoHide",null),(0,m.default)((0,f.default)(r),"handleTransitionExited",function(){r.setState({exited:!0})}),(0,m.default)((0,f.default)(r),"handleMouseEnter",function(e){r.props.onMouseEnter&&r.props.onMouseEnter(e),r.handlePause()}),(0,m.default)((0,f.default)(r),"handleMouseLeave",function(e){r.props.onMouseLeave&&r.props.onMouseLeave(e),r.handleResume()}),(0,m.default)((0,f.default)(r),"handlePause",function(){clearTimeout(r.timerAutoHide)}),(0,m.default)((0,f.default)(r),"handleResume",function(){if(null!=r.props.autoHideDuration){if(void 0!==r.props.resumeHideDuration)return void r.setAutoHideTimer(r.props.resumeHideDuration);r.setAutoHideTimer(.5*(r.props.autoHideDuration||0))}}),(0,m.default)((0,f.default)(r),"handleCloseClick",function(e){r.props.onClose&&(r.props.onClose(e,"clickicon"),e.stopPropagation())}),r.state={exited:!1},r}return(0,p.default)(t,e),(0,u.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.open||this.setState({exited:!0})}},{key:"componentDidMount",value:function(){this.props.open&&this.setAutoHideTimer()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.open&&this.state.exited&&this.setState({exited:!1})}},{key:"componentDidUpdate",value:function(e){e.open!==this.props.open&&(this.props.open?this.setAutoHideTimer():clearTimeout(this.timerAutoHide))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHide)}},{key:"setAutoHideTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onClose&&null!=this.props.autoHideDuration&&(clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout(function(){e.props.onClose&&null!=e.props.autoHideDuration&&e.props.onClose(null,"timeout")},t||this.props.autoHideDuration||0))}},{key:"render",value:function(){var e=this,t=this.props,r=t.open,n=(t.autoHideDuration,(0,l.default)(t,["open","autoHideDuration"]));if(!r&&this.state.exited)return null;var i={in:r,appear:!0,timeout:300,onExited:this.handleTransitionExited};return h.default.createElement(b.default,{open:!0},h.default.createElement(v.Transition,i,function(t){return h.default.createElement("div",(0,o.default)({onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,className:"top_notifier",style:a({},g,{},E[t])},n),h.default.createElement(y.default,{small:!0,onClick:e.handleCloseClick}),e.props.children)}))}}]),t}(h.default.Component);r.default=T,(0,m.default)(T,"propTypes",{open:_.default.bool,autoHideDuration:_.default.number,resumeHideDuration:_.default.number,onClose:_.default.func}),(0,m.default)(T,"defaultProps",{autoHideDuration:null})},{"../icons/CloseIcon":660,"./Portal":875,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-transition-group":"react-transition-group"}],877:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},i.default.createElement("g",{transform:"translate(-266, -17)",fill:"#777777"},i.default.createElement("path",{d:"M280,22.7581818 L279.1564,22 L273.9922,26.506 L273.4414,26.0254545 L273.4444,26.0281818 L268.8562,22.0245455 L268,22.7712727 C269.2678,23.878 272.8084,26.9674545 273.9922,28 C274.8718,27.2330909 274.0144,27.9809091 280,22.7581818"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],878:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,p.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){e.preventDefault()}function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.filter(Boolean).forEach(function(t){return t(e)})}}function l(e){var t=e.isOpen,r=e.onDismiss,n=void 0===r?function(){}:r,l=e.className,s=e.size,u=e.closeOnOverlayClick,c=void 0!==u&&u,d=e.children,p=e.width,_=e.overlayProps,v=void 0===_?{}:_,E=(0,m.default)(e,["isOpen","onDismiss","className","size","closeOnOverlayClick","children","width","overlayProps"]),T=h.default.useMemo(function(){return E.id||(0,g.generateElementId)("reactist-modal-box")},[E.id]),R=o(c?void 0:i,v.onClick);return h.default.createElement(y.DialogOverlay,(0,f.default)({isOpen:t,onDismiss:n},v,{onClick:R}),h.default.createElement(y.DialogContent,(0,f.default)({"aria-label":_x("a11y","modal box")},E,{id:T,className:(0,b.default)("reactist_modal_box",s,l),style:null!=p?a({width:p},E.style):E.style}),h.default.createElement(w.Provider,{value:n},d)))}function s(e){var t=e.title,r=e.subtitle,n=e.children,a=e.button,i=e.className,o=(0,m.default)(e,["title","subtitle","children","button","className"]),l=h.default.useContext(w);return h.default.createElement("header",(0,f.default)({},o,{className:(0,b.default)("reactist_modal_box__header",i)}),h.default.createElement("hgroup",null,h.default.createElement("h1",null,t),r&&h.default.createElement("h2",null,r),n),!1!==a&&h.default.createElement("div",{className:"reactist_modal_box__header_button"},null!=a&&!0!==a?a:h.default.createElement(T.default,{"aria-label":_("Close"),onClick:l},h.default.createElement(E.default,null))))}function u(e){var t=e.className,r=e.icon,n=e.plain,a=e.children,i=e.showCloseIcon,o=void 0!==i&&i,l=(0,m.default)(e,["className","icon","plain","children","showCloseIcon"]),s=h.default.useContext(w);return h.default.createElement("section",(0,f.default)({},l,{className:(0,b.default)("reactist_modal_box__body",{plain:n},t)}),o&&h.default.createElement(T.default,{className:"close",onClick:s},h.default.createElement(E.default,null)),r?h.default.createElement("div",{className:"dialog"},h.default.createElement("div",{className:"icon"},r),h.default.createElement("div",{className:"content"},a)):a)}function c(e){var t=e.children,r=e.className,n=(0,m.default)(e,["children","className"]);return h.default.createElement("footer",(0,f.default)({},n,{className:(0,b.default)("reactist_modal_box__actions",r)}),t)}var d=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Box=l,r.Header=s,r.Body=u,r.Actions=c,r.Context=void 0;var f=d(e("@babel/runtime/helpers/extends")),p=d(e("@babel/runtime/helpers/defineProperty")),m=d(e("@babel/runtime/helpers/objectWithoutProperties")),h=d(e("react")),v=d(e("prop-types")),b=d(e("classnames")),y=e("@reach/dialog"),g=e("../../../utils"),E=d(e("../../icons/CloseIcon")),T=d(e("../../Button")),w=h.default.createContext(function(){});r.Context=w,l.displayName="Modal.Box",l.propTypes={isOpen:v.default.bool,onDismiss:v.default.func,className:v.default.string,size:v.default.oneOf(["small","medium","large"]),width:v.default.oneOfType([v.default.number,v.default.oneOf(["auto"])]),closeOnOverlayClick:v.default.bool,overlayProps:v.default.object,children:v.default.node},s.displayName="Modal.Header",s.propTypes={children:v.default.node,title:v.default.string.isRequired,subtitle:v.default.string,className:v.default.string,button:v.default.oneOfType([v.default.node,v.default.bool])},u.displayName="Modal.Body",u.propTypes={icon:v.default.node,showCloseIcon:v.default.bool,className:v.default.string,style:v.default.object,plain:v.default.bool,children:v.default.node},c.displayName="Modal.Actions",c.propTypes={children:v.default.node,className:v.default.string}},{"../../../utils":1094,"../../Button":466,"../../icons/CloseIcon":660,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,
"@babel/runtime/helpers/objectWithoutProperties":195,"@reach/dialog":"@reach/dialog",classnames:"classnames","prop-types":"prop-types",react:"react"}],879:[function(e,t,r){"use strict";function n(){var e=document.getElementById(s);return e||(e=document.createElement("div"),e.id=s,document.body.appendChild(e)),e}function a(e){var t=e(i);l.default.render(t,n())}function i(e){e&&e.preventDefault(),l.default.unmountComponentAtNode(n())}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.openModal=a,r.closeModal=i;var l=o(e("react-dom")),s="modal_box"},{"@babel/runtime/helpers/interopRequireDefault":189,"react-dom":"react-dom"}],880:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"openModal",{enumerable:!0,get:function(){return i.openModal}}),Object.defineProperty(r,"closeModal",{enumerable:!0,get:function(){return i.closeModal}}),r.default=void 0;var a=n(e("./Modal")),i=e("./helpers"),o=a;r.default=o},{"./Modal":878,"./helpers":879,"@babel/runtime/helpers/interopRequireWildcard":190}],881:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,v.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return[e,t,r].join("-")}function o(e){var t=e.value,r=e.children,n=e.disabled,a=void 0!==n&&n,o=e.active,l=void 0!==o&&o,s=e.track,u=e.onClick,c=e.tabsId;return b.default.createElement("button",{id:i(c,"tab",t),"aria-controls":i(c,"panel",t),"aria-selected":l,role:"tab",className:"reactist","data-track":s,disabled:a,onClick:u},r)}function l(e){var t=e.tabsId,r=e.value,n=e.children,a=e.className,o=e.active,l=void 0!==o&&o,s=e.prerender,u=void 0===s||s;return b.default.createElement("div",{id:i(t,"panel",r),"aria-labelledby":i(t,"tab",r),role:"tabpanel",tabIndex:-1,hidden:!l,className:(0,g.default)(a,{active:l})},l||u?n:null)}var s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Tab=l,r.Tabs=void 0;var u=s(e("@babel/runtime/helpers/extends")),c=s(e("@babel/runtime/helpers/objectWithoutProperties")),d=s(e("@babel/runtime/helpers/classCallCheck")),f=s(e("@babel/runtime/helpers/createClass")),p=s(e("@babel/runtime/helpers/possibleConstructorReturn")),m=s(e("@babel/runtime/helpers/getPrototypeOf")),h=s(e("@babel/runtime/helpers/assertThisInitialized")),_=s(e("@babel/runtime/helpers/inherits")),v=s(e("@babel/runtime/helpers/defineProperty")),b=s(e("react")),y=s(e("prop-types")),g=s(e("classnames")),E=e("../../../utils");l.propTypes={tabsId:y.default.string,children:y.default.node,active:y.default.bool,value:y.default.string.isRequired,title:y.default.node.isRequired,disabled:y.default.bool,className:y.default.string,track:y.default.string,prerender:y.default.bool};var T=function(e){function t(){var e,r;(0,d.default)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=(0,p.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(a))),(0,v.default)((0,h.default)(r),"state",{activeTab:r.props.activeTab||b.default.Children.toArray(r.props.children)[0].props.value}),(0,v.default)((0,h.default)(r),"id",(0,E.generateElementId)("tabs")),(0,v.default)((0,h.default)(r),"_switchActiveTab",function(e){r.setState({activeTab:e}),r.props.onChange&&r.props.onChange(e)}),r}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props.className,r=this.state.activeTab,n=this.props.id||this.id,i=b.default.Children.toArray(this.props.children);return b.default.createElement("div",{id:n,className:(0,g.default)("reactist","tabs",t)},b.default.createElement("div",{role:"tablist"},i.map(function(t){var a=t.props,i=a.title,l=(0,c.default)(a,["title"]);return b.default.createElement(o,(0,u.default)({},l,{tabsId:n,key:l.value,active:l.value===r,onClick:function(){return e._switchActiveTab(l.value)}}),i)})),b.default.createElement("div",{className:"reactist tabs__body"},i.map(function(e){return b.default.cloneElement(e,a({},e.props,{tabsId:n,key:e.props.value,active:e.props.value===r}))})))}}]),t}(b.default.Component);r.Tabs=T,T.propTypes={id:y.default.string,activeTab:y.default.string,onChange:y.default.func,className:y.default.string}},{"../../../utils":1094,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],882:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./Tabs");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}})})},{"./Tabs":881}],883:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,m.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.duration=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("@babel/runtime/helpers/objectWithoutProperties")),s=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),c=i(e("@babel/runtime/helpers/possibleConstructorReturn")),d=i(e("@babel/runtime/helpers/getPrototypeOf")),f=i(e("@babel/runtime/helpers/assertThisInitialized")),p=i(e("@babel/runtime/helpers/inherits")),m=i(e("@babel/runtime/helpers/defineProperty")),h=i(e("react")),_=i(e("classnames")),v=i(e("prop-types")),b=e("react-transition-group"),y=e("./utils"),g={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};r.duration=g;var E=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=(0,c.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(a))),(0,m.default)((0,f.default)(r),"wrapper",null),(0,m.default)((0,f.default)(r),"autoTransitionDuration",void 0),(0,m.default)((0,f.default)(r),"timer",null),(0,m.default)((0,f.default)(r),"handleEnter",function(e){e.style.height=r.props.collapsedHeight,r.props.onEnter&&r.props.onEnter(e)}),(0,m.default)((0,f.default)(r),"handleEntering",function(e){var t=r.props.timeout,n=r.wrapper?r.wrapper.clientHeight:0,a=(0,y.getTransitionProps)(r.props,{mode:"enter"}),i=a.duration;if("auto"===t){var o=(0,y.getAutoHeightDuration)(n);e.style.transitionDuration="".concat(o,"ms"),r.autoTransitionDuration=o}else e.style.transitionDuration="string"==typeof i?i:"".concat(i,"ms");e.style.height="".concat(n,"px"),r.props.onEntering&&r.props.onEntering(e)}),(0,m.default)((0,f.default)(r),"handleEntered",function(e){e.style.height="auto",r.props.onEntered&&r.props.onEntered(e)}),(0,m.default)((0,f.default)(r),"handleExit",function(e){var t=r.wrapper?r.wrapper.clientHeight:0;e.style.height="".concat(t,"px"),r.props.onExit&&r.props.onExit(e)}),(0,m.default)((0,f.default)(r),"handleExiting",function(e){var t=r.props.timeout,n=r.wrapper?r.wrapper.clientHeight:0,a=(0,y.getTransitionProps)(r.props,{mode:"exit"}),i=a.duration;if("auto"===t){var o=(0,y.getAutoHeightDuration)(n);e.style.transitionDuration="".concat(o,"ms"),r.autoTransitionDuration=o}else e.style.transitionDuration="string"==typeof i?i:"".concat(i,"ms");e.style.height=r.props.collapsedHeight,r.props.onExiting&&r.props.onExiting(e)}),(0,m.default)((0,f.default)(r),"addEndListener",function(e,t){"auto"===r.props.timeout&&(r.timer=setTimeout(t,r.autoTransitionDuration||0))}),r}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,i=t.collapsedHeight,s=t.component,u=(t.onEnter,t.onEntered,t.onEntering,t.onExit,t.onExiting,t.style),c=void 0===u?{}:u,d=t.timeout,f=(0,l.default)(t,["children","className","collapsedHeight","component","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout"]);return h.default.createElement(b.Transition,(0,o.default)({onEntering:this.handleEntering,onEnter:this.handleEnter,onEntered:this.handleEntered,onExiting:this.handleExiting,onExit:this.handleExit,addEndListener:this.addEndListener,timeout:"auto"===d?null:d},f),function(t,l){return h.default.createElement(s,(0,o.default)({className:(0,_.default)("reactist","collapse",(0,m.default)({},"collapse--entered","entered"===t),n),style:a({},c,{display:"exited"===t?"none":c.display,minHeight:i})},l),h.default.createElement("div",{className:"collapse__wrapper",ref:function(t){e.wrapper=t}},h.default.createElement("div",{className:"collapse__wrapper_inner"},r)))})}}]),t}(h.default.Component);E.propTypes={children:v.default.node,className:v.default.string,collapsedHeight:v.default.string,component:v.default.oneOfType([v.default.string,v.default.func]),in:v.default.bool,onEnter:v.default.func,onEntered:v.default.func,onEntering:v.default.func,onExit:v.default.func,onExiting:v.default.func,style:v.default.object,timeout:v.default.oneOfType([v.default.number,v.default.shape({enter:v.default.number,exit:v.default.number}),v.default.oneOf(["auto"])])},E.defaultProps={collapsedHeight:"0px",component:"div",timeout:g.standard};var T=E;r.default=T},{"./utils":884,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react","react-transition-group":"react-transition-group"}],884:[function(e,t,r){"use strict";function n(e,t){var r=e.timeout,n=e.style,a=void 0===n?{}:n;return{duration:a.transitionDuration||"number"==typeof r?r:r[t.mode],delay:a.transitionDelay}}function a(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}Object.defineProperty(r,"__esModule",{value:!0}),r.getTransitionProps=n,r.getAutoHeightDuration=a,r.reflow=void 0;var i=function(e){return e.scrollTop};r.reflow=i},{}],885:[function(e,t,r){"use strict";function n(e){var t=e.locations,r=e.setPastLocation,n=t.map(function(e){var t=(0,o.default)(e,3),r=t[0],n=t[1],a=t[2];return{id:"".concat(r,"-").concat(n,"-").concat(a),name:r,lat:parseFloat(n),lng:parseFloat(a)}});return l.default.createElement(c.default,{label:_("Recent locations"),emptyResultsPlaceholder:_("No recent locations found."),items:n,selectedItemId:null,renderItem:function(e){var t=e.item;return l.default.createElement("div",{className:"reminders_picker_option"},t.name)},onSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.event;n&&n.stopPropagation(),r(e)},filterItems:function(e){var t=e.items,r=e.value;return t.filter(function(e){return e.name.includes(r)})}},function(e){var t=e.toggle,r=e.buttonProps;return l.default.createElement(u.default,(0,i.default)({className:"reminders_picker_locations",onClick:t},r),l.default.createElement(d.CaretIcon,null),l.default.createElement(d.LocationIcon,null))})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=a(e("prop-types")),u=a(e("../Button")),c=a(e("../dropdown_select")),d=e("../icons");n.propTypes={locations:s.default.array.isRequired,setPastLocation:s.default.func.isRequired}},{"../Button":466,"../dropdown_select":564,"../icons":731,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],886:[function(e,t,r){"use strict";function n(e){var t=e.reminderTime,r=e.setReminderTime,n=_("%s before").replace("%s",d.minToWords[t]);return o.default.createElement(u.default,{label:_("Remind me"),className:"reminders_picker_relative_selector--container",emptyResultsPlaceholder:_("No matches. Press Esc to hide auto-completion."),items:f,selectedItemId:t,renderItem:function(e){var t=e.item;return o.default.createElement("div",{className:"reminders_picker_option"},t.name)},onSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.event;n&&n.stopPropagation(),r(e.id)},filterItems:function(e){var t=e.items,r=e.value;return t.filter(function(e){return e.name.includes(r)})}},function(e){var t=e.toggle,r=e.buttonProps;return o.default.createElement(s.default,(0,i.default)({className:"reminders_picker_relative_selector",onClick:t},r),n,o.default.createElement(c.CaretIcon,null))})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../Button")),u=a(e("../dropdown_select")),c=e("../icons"),d=e("./helpers"),f=Object.keys(d.minToWords).map(function(e){var t=d.minToWords[e];return e=parseInt(e),{id:e,name:t}});n.propTypes={reminderTime:l.default.number.isRequired,setReminderTime:l.default.func.isRequired}},{"../Button":466,"../dropdown_select":564,"../icons":731,"./helpers":894,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],887:[function(e,t,r){"use strict";function n(e){var t=e.reminder,r=e.onDeleteReminder,n=e.allCollaborators,a=e.user,l=e.isSharedProject,f=(0,d.getReminderText)(t),p=(0,i.default)(f,2),m=p[0],h=p[1],_="string"==typeof h&&h.length>0;return o.default.createElement("li",{className:"reminder"},o.default.createElement(c.ReminderIcon,{reminder:t,isSharedProject:l,user:a,allCollaborators:n}),o.default.createElement("span",{className:"text"},_?o.default.createElement("b",null,m):m,_?o.default.createElement(o.default.Fragment,null,o.default.createElement("br",null),h):null),r?o.default.createElement(s.default,{onClick:function(e){e.stopPropagation(),r(t)}},o.default.createElement(u.DeleteIcon,{className:"trash"})):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=a(e("react")),l=a(e("prop-types")),s=a(e("../Button")),u=e("../icons"),c=e("./ReminderIcon"),d=e("./helpers");n.propTypes={reminder:l.default.object.isRequired,onDeleteReminder:l.default.func,allCollaborators:l.default.object.isRequired,user:l.default.object.isRequired,isSharedProject:l.default.bool.isRequired};var f=n;r.default=f},{"../Button":466,"../icons":731,"./ReminderIcon":888,"./helpers":894,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],888:[function(e,t,r){"use strict";function n(e){var t=e.reminder,r=e.isSharedProject,n=e.user,a=e.allCollaborators;if(r){var s="location"===t.type||t.notify_uid===n.id?n:a[t.notify_uid];return i.default.createElement(o.default,{user:s,size:"small"})}switch(t.type){case"relative":return i.default.createElement(l.ClockIcon,null);case"location":return i.default.createElement(l.LocationIcon,null);case"absolute":default:return i.default.createElement(l.HistoryIcon,null)}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ReminderIcon=n;var i=a(e("react")),o=a(e("../Avatar")),l=e("../icons")},{"../Avatar":465,"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],889:[function(e,t,r){"use strict";function n(e){var t=e.projectId,r=e.whoToNotify,n=e.setWhoToNotify;return i.default.createElement(u.PersonPicker,{showUnassigned:!1,projectId:t,value:r.id,onChange:function(e){var t=e.target;return n(t.selectedUser)},className:"reminders_picker_collaborators"},i.default.createElement(s.default,{size:"small",user:r}),i.default.createElement(l.CaretIcon,null))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=e("../icons"),s=a(e("../Avatar")),u=e("../person_picker");n.propTypes={projectId:o.default.number.isRequired,whoToNotify:o.default.object.isRequired,setWhoToNotify:o.default.func.isRequired}},{"../Avatar":465,"../icons":731,"../person_picker":826,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],890:[function(e,t,r){"use strict";function n(e){var t=e.item,r=e.reminders,n=void 0===r?[]:r,a=e.onDeleteReminder,o=(0,l.useSelector)(function(e){return e.collaborators}),c=(0,l.useSelector)(function(e){return e.user});if(0===n.length)return null;var d=(0,s.isShared)({collaborators:o},t.project_id);return i.default.createElement("ul",{className:"reminder_viewer"},n.map(function(e){return i.default.createElement(u.default,{key:e.id,reminder:e,allCollaborators:o.all,user:c,isSharedProject:d,onDeleteReminder:a})}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=e("react-redux"),s=e("../../reducers/collaborators"),u=a(e("./Reminder"));n.propTypes={item:o.default.object.isRequired,reminders:o.default.arrayOf(o.default.object.isRequired),onDeleteReminder:o.default.func};var c=n;r.default=c},{"../../reducers/collaborators":983,"./Reminder":887,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],891:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.item,r=e.onClose,n=e.onAddReminder,i=e.onDeleteReminder,o=e.reminders,l=void 0===o?[]:o,s=e.user,d=e.isSharedProject,E=e.lastLocations,T=(0,c.useState)(""),w=(0,u.default)(T,2),R=w[0],P=w[1],D=(0,c.useState)(null),O=(0,u.default)(D,2),C=O[0],I=O[1],A=(0,c.useState)(s),S=(0,u.default)(A,2),k=S[0],M=S[1],j=t.due&&t.due.with_time?"relative":"absolute",N=(0,c.useState)("relative"===j?v.RELATIVE_TIME:v.ABSOLUTE_TIME),x=(0,u.default)(N,2),L=x[0],q=x[1],U=void 0===s.auto_reminder||-1===s.auto_reminder?30:s.auto_reminder,$=(0,c.useState)(U),F=(0,u.default)($,2),z=F[0],B=F[1],H=(0,b.useGoogleMapsInput)({type:L}),V=H.mapCanvasRef,W=H.place,G=H.googlePlacesRef,Y=H.getPlace,K=H.setPastLocation,X=H.resetPlace,J=H.locationTriggerMoment,Q=H.setLocationTriggerMoment;(0,c.useEffect)(function(){L===v.RELATIVE_TIME&&"absolute"===j&&q(v.ABSOLUTE_TIME)},[j,L]);var Z=function(e){if(e.preventDefault(),L===v.LOCATION)Y().then(function(e){var r=a({item_id:t.id,type:"location"},e);n(L,r),X()}).catch(function(){I(_("Please select a location first"))});else{var r={item_id:t.id,service:"default"};if(L===v.ABSOLUTE_TIME){var i=(0,v.parseDate)(R);if(i.error)return I(i.error),!1;r.due=y.default.fromDateist(i),r.type="absolute"}else r.minute_offset=z,r.type="relative";d&&k&&k.id&&(r.notify_uid=k.id),n(L,r),P("")}};return c.default.createElement(c.default.Fragment,null,c.default.createElement("form",{onSubmit:Z},c.default.createElement("div",{className:"reminders_picker_title_container"},c.default.createElement("h2",null,_("Reminders")),c.default.createElement(h.CloseIcon,{onClick:r})),c.default.createElement("div",{className:"reminder_manager"},c.default.createElement(g.default,{item:t,reminders:l,onDeleteReminder:i}),c.default.createElement(m.default,{reminderInterface:j,reminderText:R,onReminderTextChange:P,locationTriggerMoment:J,setLocationTriggerMoment:Q,whoToNotify:k,setWhoToNotify:M,reminderTime:z,setReminderTime:B,setPastLocation:K,type:L,mapCanvasRef:V,place:W,googlePlacesRef:G,onTypeChange:q,isSharedProject:d,projectId:t.project_id,lastLocations:E}),c.default.createElement("div",null,c.default.createElement("a",{className:"help",target:"_blank",href:"/Help/Reminders"},c.default.createElement(h.HelpIcon,null)),c.default.createElement(f.default,{type:"submit",className:"ist_button ist_button_red"},_("Add reminder"))))),c.default.createElement(p.default.Box,{isOpen:Boolean(C),onDismiss:function(){return I(null)},closeOnOverlayClick:!0},c.default.createElement(p.default.Body,null,c.default.createElement("div",{className:"alert_holder"},c.default.createElement("div",{className:"text_holder"},C))),c.default.createElement(p.default.Actions,null,c.default.createElement(f.default,{className:"ist_button ist_button_red",onClick:function(){return I(null)}},_("OK")))))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var s=l(e("@babel/runtime/helpers/defineProperty")),u=l(e("@babel/runtime/helpers/slicedToArray")),c=o(e("react")),d=l(e("prop-types")),f=l(e("../Button")),p=l(e("../reactist/modal")),m=l(e("./RemindersPickerInput")),h=e("../icons"),v=e("./helpers"),b=e("./hooks"),y=l(e("../../models/DateExt")),g=l(e("./RemindersList"));i.propTypes={item:d.default.object.isRequired,onClose:d.default.func.isRequired,onDeleteReminder:d.default.func.isRequired,onAddReminder:d.default.func.isRequired,reminders:d.default.array,user:d.default.object.isRequired,isSharedProject:d.default.bool.isRequired,collaborators:d.default.array,lastLocations:d.default.array.isRequired}},{"../../models/DateExt":154,"../Button":466,"../icons":731,"../reactist/modal":880,"./RemindersList":890,"./RemindersPickerInput":893,"./helpers":894,"./hooks":895,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],892:[function(e,t,r){"use strict";function n(e){var t=e.children,r=e.item,n=e.reminders,a=e.user,i=e.isPremium,s=e.isSharedProject,p=e.collaborators,m=e.onAddReminder,h=e.onDeleteReminder,_=e.lastLocations,v=(0,l.useState)(!1),b=(0,o.default)(v,2),y=b[0],g=b[1],E=(0,l.useState)(!1),T=(0,o.default)(E,2),w=T[0],R=T[1],P=(0,l.useRef)(null),D=function(){R(!1)},O=l.default.createElement(d.default.Box,{className:"reminders_picker__premium",isOpen:w,onDismiss:D,closeOnOverlayClick:!0},l.default.createElement(d.default.Body,null,l.default.createElement(f.PremiumModal,{feature:"FEATURE_REMINDER",onClose:D}))),C={ref:P,onClick:function(){i?g(!y):R(!0)}};return l.default.createElement(l.default.Fragment,null,t(C),O,y&&l.default.createElement(u.default,{nose:!0,anchor:P.current,onHide:function(){P.current.focus(),g(!1)},contentClassName:"reminders_picker"},l.default.createElement(c.default,{item:r,reminders:n,onClose:function(){return g(!1)},onAddReminder:m,onDeleteReminder:h,user:a,isSharedProject:s,collaborators:p,lastLocations:_})))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=i(e("../Dialog")),c=i(e("./RemindersPicker")),d=i(e("../reactist/modal")),f=e("../../containers/premium_promo/PremiumOnlyModal");n.propTypes={children:s.default.func.isRequired,item:s.default.object.isRequired,reminders:s.default.array,user:s.default.object.isRequired,isPremium:s.default.bool.isRequired,isSharedProject:s.default.bool.isRequired,collaborators:s.default.array,onAddReminder:s.default.func.isRequired,onDeleteReminder:s.default.func.isRequired,lastLocations:s.default.array.isRequired}},{"../../containers/premium_promo/PremiumOnlyModal":104,"../Dialog":467,"../reactist/modal":880,"./RemindersPicker":891,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],893:[function(e,t,r){"use strict";function n(e){switch(e){case v.RELATIVE_TIME:return s.default.createElement(h.BeforeIcon,null);case v.LOCATION:return s.default.createElement(h.LocationIcon,null);case v.ABSOLUTE_TIME:default:return s.default.createElement(h.HistoryIcon,null)}}function a(e){var t=e.reminderText,r=e.onReminderTextChange,a=e.reminderInterface,i=e.reminderTime,o=e.setReminderTime,u=e.whoToNotify,b=e.setWhoToNotify,y=e.type,g=e.onTypeChange,E=e.mapCanvasRef,T=e.googlePlacesRef,w=e.place,R=e.setPastLocation,P=e.isSharedProject,D=e.projectId,O=e.lastLocations,C=e.locationTriggerMoment,I=e.setLocationTriggerMoment,A=(0,s.useState)(!1),S=(0,l.default)(A,2),k=S[0],M=S[1],j=(0,s.useRef)(null),N=(0,s.useRef)(null);(0,s.useEffect)(function(){y===v.ABSOLUTE_TIME&&j.current?j.current.focus():y===v.LOCATION&&T.current&&T.current.focus()},[y,T]);var x=y===v.ABSOLUTE_TIME?_("today at 2pm"):_("Type location"),L=n(y),q=function(e,t){e.stopPropagation(),g(t),r(""),M(!1)},U=k&&s.default.createElement(d.default,{anchor:N.current,position:"bottom",width:200,onHide:function(){return M(!1)}},s.default.createElement("div",{className:"reminders_picker_options"},s.default.createElement("div",{className:"reminders_picker_option",onClick:function(e){return q(e,v.ABSOLUTE_TIME)}},s.default.createElement(h.BeforeIcon,{className:"reminders_picker_option__icon"}),_("Date and time")),"relative"===a?s.default.createElement("div",{className:"reminders_picker_option",onClick:function(e){return q(e,v.RELATIVE_TIME)}},s.default.createElement(h.HistoryIcon,{className:"reminders_picker_option__icon"}),_("Before task")):null,s.default.createElement("div",{className:"reminders_picker_option",onClick:function(e){return q(e,v.LOCATION)}},s.default.createElement(h.LocationIcon,{className:"reminders_picker_option__icon"}),_("Location")))),$=y===v.ABSOLUTE_TIME?s.default.createElement(s.default.Fragment,null,s.default.createElement("input",{ref:j,value:t,onChange:function(e){return r(e.target.value)},placeholder:x}),P?s.default.createElement(m.default,{projectId:D,whoToNotify:u,setWhoToNotify:b}):null):null,F=y===v.RELATIVE_TIME?s.default.createElement(s.default.Fragment,null,s.default.createElement(p.default,{reminderTime:i,setReminderTime:o}),P?s.default.createElement(m.default,{projectId:D,whoToNotify:u,setWhoToNotify:b}):null):null,z=y===v.LOCATION?s.default.createElement(s.default.Fragment,null,s.default.createElement("input",{ref:T,placeholder:x}),s.default.createElement(f.default,{setPastLocation:R,locations:O})):null;return s.default.createElement("div",null,s.default.createElement("div",{className:"adder"},s.default.createElement(c.default,{ref:N,className:"switcher menu",onClick:function(){return M(!k)}},L,s.default.createElement(h.CaretIcon,{className:"menu_icon"})),U,s.default.createElement("div",{className:"absolute reminders_picker_input_container"},$,F,z)),s.default.createElement("div",{className:"adder_below"},"location"===y?s.default.createElement("div",{className:"map_holder",style:{display:w?"block":"none"}},s.default.createElement("div",{className:"map",ref:E}),s.default.createElement("select",{value:C,onChange:function(e){I(e.target.value)}},s.default.createElement("option",{value:"on_enter"},_("When I arrive")),s.default.createElement("option",{value:"on_leave"},_("When I leave")))):null))}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=i(e("react")),u=o(e("prop-types")),c=o(e("../Button")),d=o(e("../Dialog")),f=o(e("./LastLocations")),p=o(e("./RelativeTimeSelector")),m=o(e("./ReminderNotifySelector")),h=e("../icons"),v=e("./helpers");a.propTypes={reminderText:u.default.string,onReminderTextChange:u.default.func.isRequired,reminderInterface:u.default.oneOf(["absolute","relative"]),type:u.default.oneOf(["absoluteTime","relativeTime","location"]),onTypeChange:u.default.func.isRequired,place:u.default.object,setPastLocation:u.default.func.isRequired,isSharedProject:u.default.bool.isRequired,projectId:u.default.number.isRequired,lastLocations:u.default.array.isRequired,mapCanvasRef:u.default.shape({current:u.default.any}).isRequired,googlePlacesRef:u.default.shape({current:u.default.any}).isRequired,locationTriggerMoment:u.default.oneOf(["on_enter","on_leave"]).isRequired,setLocationTriggerMoment:u.default.func.isRequired,reminderTime:u.default.number.isRequired,setReminderTime:u.default.func.isRequired,whoToNotify:u.default.object,setWhoToNotify:u.default.func.isRequired}},{"../Button":466,"../Dialog":467,"../icons":731,"./LastLocations":885,"./RelativeTimeSelector":886,"./ReminderNotifySelector":889,"./helpers":894,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],894:[function(e,t,r){"use strict";function n(){return null!==l?l:l=new Promise(function(e){if(window.google&&window.google.maps)return e();var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?libraries=places&async=2&key=AIzaSyCXMDZI-DQwpQ72521KB_V45LXL1Zm_lHU",t.onload=e,document.body.appendChild(t)})}function a(e){if("absolute"===e.type){if(e.due.is_recurring)return[e.due.string];var t=e.due.toDate();return[o.DateUtils.humanizeDayDiff(DateistDateHelpers.day_diff(new Date,t),t)]}if("location"===e.type){return[e.name,"on_enter"===e.loc_trigger?_("When I arrive"):_("When I leave")]}if("relative"===e.type){var r=s[e.minute_offset];if(void 0!==r){return[_("%s before").replace("%s",r)]}return[(0,o.format)(_nx("reminder","1 min before","{n} min before",e.minute_offset),{n:e.minute_offset})]}}function i(e){var t=o.DateUtils.parse(e);if(""===e)return{error:_("Date can't be empty")};if(t.error||!t.due_date)return{error:_("Invalid date")};if(t.due_date&&!DateistDateHelpers.has_time(t.due_date)){var r=t;if(t=o.DateUtils.parse(t.date_string+" @ 9:00"),t.due_date){var n=new Date;if(DateistDateHelpers.day_diff(n,t.due_date)>=365){var a=n.getHours()+3,i="00";a>23&&(a=23,i=29),t=o.DateUtils.parse(r.date_string+" @ "+a+":"+i)}}}return t}Object.defineProperty(r,"__esModule",{value:!0}),
r.loadGoogleMaps=n,r.getReminderText=a,r.parseDate=i,r.minToWords=r.LOCATION=r.ABSOLUTE_TIME=r.RELATIVE_TIME=void 0;var o=e("../../utils");r.RELATIVE_TIME="relativeTime";r.ABSOLUTE_TIME="absoluteTime";r.LOCATION="location";var l=null,s={0:_("0 min"),10:_("10 min"),30:_("30 min"),45:_("45 min"),60:_("1 hour"),120:_("2 hours"),180:_("3 hours"),1440:_("1 day"),2880:_("2 days"),4320:_("3 days"),10080:_("1 week")};r.minToWords=s},{"../../utils":1094}],895:[function(e,t,r){"use strict";function n(e){function t(){var e={zoom:17,mapTypeControl:!1,zoomControl:!0,streetViewControl:!1},t=new window.google.maps.Map(g.current,e),r=new window.google.maps.Marker({map:t,anchorPoint:new window.google.maps.Point(0,-29),draggable:!0});y.current={gmap:t,gmarker:r}}function r(){return new Promise(function(e,t){if(p&&y.current&&y.current.gmarker){var r=y.current,i=r.gmarker,o=r.startLocation,l=i.getPosition();if(o&&l.lat()===o.lat()&&l.lng()===o.lng())return e(a(p.name,l));n(l,function(t){var r=t||p.name;e(a(r,l))})}else t(null)})}function n(e,t){var r=new window.google.maps.LatLng(e.lat(),e.lng()),n={location:r,radius:"5"};new window.google.maps.places.PlacesService(y.current.gmap).nearbySearch(n,function(e){return t(e&&e.length>0?e[0].name:null)})}function a(e,t){return{name:e,loc_lat:"".concat(t.lat()),loc_long:"".concat(t.lng()),loc_trigger:v,radius:100}}function s(){m(null),E.current&&(E.current.value="",E.current.focus())}function u(e){(0,l.loadGoogleMaps)().then(function(){var t={name:e.name,geometry:{viewport:null,location:new window.google.maps.LatLng(e.lat,e.lng)}};m(t),E.current&&(E.current.value=t.name)})}var c=e.type,d=(0,o.useState)(null),f=(0,i.default)(d,2),p=f[0],m=f[1],h=(0,o.useState)("on_enter"),_=(0,i.default)(h,2),v=_[0],b=_[1],y=(0,o.useRef)(null),g=(0,o.useRef)(null),E=(0,o.useRef)(null);return(0,o.useEffect)(function(){function e(){a=!1;var e=r.getPlace();m(e)}var t,r,n,a=!1;if("location"===c)return(0,l.loadGoogleMaps)().then(function(){r=new window.google.maps.places.Autocomplete(E.current),t=window.google.maps.event.addListener(r,"place_changed",e),n=window.google.maps.event.addDomListener(E.current,"keydown",function(e){13===e.keyCode?a&&(e.preventDefault(),e.stopPropagation()):a=!0})}),function(){t&&window.google&&window.google.maps.event.removeListener(t),n&&window.google&&window.google.maps.event.removeListener(n),y.current&&(y.current=null),m(null)}},[c,E]),(0,o.useEffect)(function(){if(p){var e=p.geometry;p.geometry&&(y.current||t(),y.current.gmarker.setPosition(e.location),y.current.gmarker.setVisible(!0),y.current.startLocation=y.current.gmarker.getPosition(),e.viewport?y.current.gmap.fitBounds(e.viewport):(y.current.gmap.setCenter(e.location),y.current.gmap.setZoom(17)))}},[p]),{place:p,mapCanvasRef:g,googlePlacesRef:E,setPastLocation:u,getPlace:r,resetPlace:s,locationTriggerMoment:v,setLocationTriggerMoment:b}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.useGoogleMapsInput=n;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=e("react"),l=e("./helpers")},{"./helpers":894,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react"}],896:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("react-redux"),s=i(e("./RemindersPickerDialog")),u=e("../../reducers/collaborators"),c=e("../../reducers/user"),d=i(e("../../models/RemindersLocationModel")),f=e("../../models/Reminders"),p=e("../../reducers/reminders"),m=function(e,t){return{reminders:t.reminders||(0,p.reminderGetGroupByItemID)(e)[t.item.id],isSharedProject:(0,u.isShared)(e,t.item.project_id),allCollaborators:(0,u.getAllCollaborators)(e),user:(0,c.getUser)(e),lastLocations:d.default.getLastLocations(),isPremium:(0,c.isPremium)(e),onAddReminder:function(e,r){t.onReminderAdd?t.onReminderAdd(a({type:e},r)):t.item.id&&("location"===e?f.RemindersModel.addLocation(r):f.RemindersModel.add(r))},onDeleteReminder:function(e){t.onReminderDelete?t.onReminderDelete(e):t.item.id&&f.RemindersModel.remove(e.id)}}},h=(0,l.connect)(m)(s.default);r.default=h},{"../../models/Reminders":163,"../../models/RemindersLocationModel":164,"../../reducers/collaborators":983,"../../reducers/reminders":1029,"../../reducers/user":1042,"./RemindersPickerDialog":892,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],897:[function(e,t,r){"use strict";function n(e){var t=e.autoFocus,r=e.className,n=e.collaborators,a=e.forwardRef,i=e.labels,s=e.item,g=void 0===s?{}:s,E=e.placeholder,T=e.project,w=e.projects,R=e.user,P=e.isAssigneeDisabled,D=e.isDateistDisabled,O=e.isPriorityDisabled,C=e.isLabelsDisabled,I=e.withIgnoredInitialMatches,A=void 0===I||I,S=e.onChange,k=void 0===S?function(){}:S,M=e.onEnter,j=void 0===M?function(){}:M,N=e.onEscape,x=void 0===N?function(){}:N,L=e.onLabelAdd,q=void 0===L?function(){}:L,U=e.onMultilinePaste,$=e.onProjectAdd,F=void 0===$?function(){}:$,z=e.onTab,B=void 0===z?function(){}:z,H=(0,l.useState)(u.EditorState.createWithContent(u.ContentState.createFromText((g.content||"").replace(/\n/g,"")))),V=(0,o.default)(H,2),W=V[0],G=V[1],Y=(0,l.useRef)(g.project_id),K=(0,l.useRef)(g.labels||[]),X=(0,l.useRef)(g.due),J=(0,l.useRef)(g.project_id),Q=(0,l.useRef)(new Date),Z=(0,l.useRef)((0,h.default)({collaborators:n,user:R,onCreate:ie})),ee=(0,l.useRef)((0,m.default)({item:g,user:R,project:T,labels:i,withIgnoredInitialMatches:A,isLabelsDisabled:C})),te=(0,l.useMemo)(function(){return[(0,_.default)(),Z.current,ee.current]},[]);(0,y.useUpdateEffect)(function(){if(!(0,p.isEqual)(K.current,g.labels)){var e=(0,f.difference)(g.labels,K.current),t=(0,f.difference)(K.current,g.labels),r=W;if(e.forEach(function(e){r=ee.current.insertMatch({editorState:r,type:v.MATCH_TYPE_LABEL,matchText:e,data:{name:e}})}),t.length>0){var n=(0,f.compose)((0,f.uniqBy)("match.name"),(0,f.filter)(function(e){var r=e.match,n=e.isIgnored;return r.type===v.MATCH_TYPE_LABEL&&!n&&t.indexOf(r.name)>-1}))(ee.current.getMatches());n.length>0&&(n.forEach(function(e){var t=e.match;r=(0,b.removeText)(r,t.match)}),r=u.EditorState.moveSelectionToEnd(r))}K.current=g.labels,a.current.update(r)}},[W,a,g.labels,i]),(0,y.useUpdateEffect)(function(){if(Y.current!==g.project_id){if(null===Y.current)return void(Y.current=g.project_id);var e=W,t=(0,f.findLast)(function(e){var t=e.match,r=e.isIgnored;return t.type===v.MATCH_TYPE_PROJECT&&!r},ee.current.getMatches());t&&(e=(0,b.removeText)(e,t.match.match,{onlyLastOccurence:!0}));var r=w[g.project_id];e=ee.current.insertMatch({editorState:e,type:v.MATCH_TYPE_PROJECT,matchText:r.name,data:{id:r.id}}),Y.current=g.project_id,a.current.update(e)}},[W,a,g.project_id,w]),(0,l.useEffect)(function(){a&&(a.current.insertAtCursor=function(e){var t=(0,b.insertText)(a.current.getEditorState(),e,{atCursor:!0});a.current.update(t)})},[a]);var re=function(e){W.isInCompositionMode()||j(e)},ne=function(e){if(!ee.current.getIsLastStateParsed())return G(e);var t=ee.current.getMatches(),r={content:(0,b.stripContentMatches)(e.getCurrentContent().getPlainText(),t),project_id:J.current,section_id:g.section_id};D||(r.due=null),O||(r.priority=null),C||(r.labels=[]),P||(r.responsible_uid=null),t.forEach(function(e){var t=e.match;if(!e.isIgnored)switch(t.type){case v.MATCH_TYPE_COLLABORATOR:r.responsible_uid=t.id;break;case v.MATCH_TYPE_DATE:r.due=(0,b.parseDateChange)(t.result,X.current,Q.current);break;case v.MATCH_TYPE_LABEL:if(C)return;r.labels.push(t.name);break;case v.MATCH_TYPE_PRIORITY:r.priority=5-t.id;break;case v.MATCH_TYPE_PROJECT:r.project_id=t.id}}),r.labels=(0,p.uniq)(r.labels),r.project_id!==g.project_id&&(r.section_id=null),G(e),k(r),K.current=r.labels,Y.current=r.project_id},ae=function(e,t,r){var n=e.split("\n");return n.length>1?(U?U(n,function(){a.current.update((0,b.insertText)(a.current.getEditorState(),n.join("")))}):G((0,b.insertText)(r,n.join(""))),"handled"):"not-handled"},ie=function(e,t){switch(e){case v.MATCH_TYPE_LABEL:return q(t);case v.MATCH_TYPE_PROJECT:return F(t)}};Z.current.setListeners({onCreate:ie,onEnter:re,onEscape:x,onTab:B});var oe=Z.current.SuggestionsList,le=(0,d.default)("richtextinput",r);return l.default.createElement("div",{className:le},l.default.createElement(c.default,{ref:a,autoFocus:t,editorState:W,collaborators:n,labels:i,projects:w,placeholder:E,plugins:te,spellCheck:!0,stripPastedStyles:!0,isDateistDisabled:D,isPriorityDisabled:O,isLabelsDisabled:C,handlePastedText:ae,onChange:ne}),l.default.createElement(oe,null))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=e("draft-js"),c=i(e("draft-js-plugins-editor")),d=i(e("classnames")),f=e("../../utils/fp"),p=e("../../utils"),m=i(e("./natural_language_plugin")),h=i(e("./suggestions_plugin")),_=i(e("./content_normalizer_plugin")),v=e("./constants"),b=e("./utils"),y=e("../hooks");n.propTypes={autoFocus:s.default.bool,className:s.default.string,collaborators:s.default.object.isRequired,forwardRef:s.default.object,item:s.default.object,labels:s.default.object.isRequired,placeholder:s.default.string,project:s.default.object,projects:s.default.object.isRequired,suggestionAction:s.default.string,user:s.default.object.isRequired,isAssigneeDisabled:s.default.bool,isDateistDisabled:s.default.bool,isPriorityDisabled:s.default.bool,isLabelsDisabled:s.default.bool,withIgnoredInitialMatches:s.default.bool,onChange:s.default.func,onEnter:s.default.func,onEscape:s.default.func,onLabelAdd:s.default.func,onMultilinePaste:s.default.func,onProjectAdd:s.default.func,onTab:s.default.func};var g=n;r.default=g},{"../../utils":1094,"../../utils/fp":1083,"../hooks":628,"./constants":898,"./content_normalizer_plugin":900,"./natural_language_plugin":904,"./suggestions_plugin":910,"./utils":912,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,classnames:"classnames","draft-js":"draft-js","draft-js-plugins-editor":"draft-js-plugins-editor","prop-types":"prop-types",react:"react"}],898:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PROJECT_CHAR=r.PRIORITY_CHAR=r.LABEL_CHAR=r.COLLABORATOR_CHAR=r.MATCH_VALUE_NO_DATE=r.MATCH_TYPE_PROJECT=r.MATCH_TYPE_PRIORITY=r.MATCH_TYPE_LABEL=r.MATCH_TYPE_COLLABORATOR=r.MATCH_TYPE_DATE=void 0;r.MATCH_TYPE_DATE="date";r.MATCH_TYPE_COLLABORATOR="collaborator";r.MATCH_TYPE_LABEL="label";r.MATCH_TYPE_PRIORITY="priority";r.MATCH_TYPE_PROJECT="project";r.MATCH_VALUE_NO_DATE="NO_DATE";r.COLLABORATOR_CHAR="+";r.LABEL_CHAR="@";r.PRIORITY_CHAR="p";r.PROJECT_CHAR="#"},{}],899:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("react-redux"),s=e("../../utils/fp"),u=e("../../reducers/labels"),c=e("../../reducers/projects"),d=i(e("./RichTextInput")),f=i(e("./withPlaceholder")),p=function(e,t){return{collaborators:e.collaborators,labels:(0,u.labelGetAllByName)(e),maxLabelItemOrder:(0,u.labelGetMaxOrder)(e)+1,project:(0,c.projectGetByID)(e,t.item&&t.item.project_id),projects:e.projects,user:e.user}},m=function(e){return{onLabelAdd:function(t,r){return e((0,u.labelAdd)({name:t,item_order:r}))},onProjectAdd:function(t){return e((0,c.projectAdd)({name:t}))}}},h=function(e,t,r){return a({},e,{},t,{},r,{onLabelAdd:function(r){return t.onLabelAdd(r,e.maxLabelItemOrder)}})},_=(0,s.compose)(f.default,(0,l.connect)(p,m,h,{forwardedRef:!0}))(d.default);r.default=_},{"../../reducers/labels":1010,"../../reducers/projects":1026,"../../utils/fp":1083,"./RichTextInput":897,"./withPlaceholder":913,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],900:[function(e,t,r){"use strict";function n(){return{onChange:function(e){return(0,a.removeText)(e,/\n/)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("./utils"),i=n;r.default=i},{"./utils":912}],901:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"MATCH_VALUE_NO_DATE",{enumerable:!0,get:function(){return i.MATCH_VALUE_NO_DATE}}),r.default=void 0;var a=n(e("./container")),i=e("./constants"),o=a.default;r.default=o},{"./constants":898,"./container":899,"@babel/runtime/helpers/interopRequireDefault":189}],902:[function(e,t,r){"use strict";function n(e){var t;switch(e){case u.MATCH_TYPE_PROJECT:t="sm1/quick_add_project.svg";break;case u.MATCH_TYPE_LABEL:t="sm1/quick_add_label.svg";break;case u.MATCH_TYPE_COLLABORATOR:t="sm1/quick_add_assignee.svg";break;case u.MATCH_TYPE_PRIORITY:t="sm1/quick_add_priority.svg";break;case u.MATCH_TYPE_DATE:t="sm1/quick_add_calendar.svg";break;case"link":return""}return svgs.getString(t)}function a(e){var t=e.children,r=e.contentState,a=e.entityKey,i=e.getEditorState,o=e.setEditorState,s=e.onClick,u=void 0===s?function(){}:s,c=r.getEntity(a);return"HIDDEN"===c.type?l.default.createElement("span",{className:"richtextinput_hidden"},t):l.default.createElement("span",{className:"richtextinput_match",onClick:function(e){u(e,c,i,o)}},l.default.createElement("span",{dangerouslySetInnerHTML:{__html:n(c.data.type)}}),t)}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("react")),s=o(e("prop-types")),u=i(e("../constants"));a.propTypes={children:s.default.node,contentState:s.default.object.isRequired,entityKey:s.default.string.isRequired,getEditorState:s.default.func.isRequired,setEditorState:s.default.func.isRequired,onClick:s.default.func};var c=a;r.default=c},{"../constants":898,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],903:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t,r=e.item,n=e.user,i=e.project,u=e.withIgnoredInitialMatches,c=e.isLabelsDisabled,E=[],T=[],w=!u,R=null,P={},D=!1;if(r&&!c){(r.labels||[]).forEach(function(e){E=E.concat("".concat(y.LABEL_CHAR).concat(e," "))})}var O=function(e,r){var o=r.getProps(),s=o.autoFocus,u=o.collaborators,c=o.labels,m=o.projects,_=o.isDateistDisabled,v=o.isPriorityDisabled,g=o.isLabelsDisabled,R=r.getPlugins(),P=(0,f.default)(R,2),D=P[1];if(w&&D.isVisible())return e;var O=e.getCurrentContent().getFirstBlock(),C=e,I=C.getSelection(),A=O.getKey();if(!w){O=e.getCurrentContent().getFirstBlock();var S=p.Modifier.insertText(e.getCurrentContent(),new p.SelectionState({anchorKey:A,anchorOffset:0,focusKey:A,focusOffset:0}),E.join(""));C=p.EditorState.push(e,S,"insert-characters"),O=C.getCurrentContent().getFirstBlock()}var k=O.getText(),M=[].concat((0,d.default)((0,b.parseProjectMatches)(k,m)),(0,d.default)((0,b.parseCollaboratorMatches)(k,n,u,t||i)));if(g||(M=M.concat((0,b.parseLabelMatches)(k,c))),v||(M=M.concat((0,b.parsePriorityMatches)(k))),_||n.features.dateist_inline_disabled||n.dateist_inline_disabled||(M=M.concat((0,b.parseDueDateMatches)(k))),M=(0,h.sortBy)("start")(M),!w){if(T=M.map(function(e,t){return{match:e,isIgnored:t>=E.length}}),w=!0,C=l(C,T),!s)return p.EditorState.moveSelectionToEnd(C);if(document.body.createTextRange){var j=document.body.createTextRange();j.collapse(),j.select()}return p.EditorState.moveFocusToEnd(C)}for(var N=[],x={},L={},q=0;q<M.length;q++){var U=M[q],$=O.getEntityAt(U.start+1),F=$&&C.getCurrentContent().getEntity($),z=O.getEntityAt(U.end-1),B=z&&C.getCurrentContent().getEntity(z);if(!(F&&"MATCH"===F.type&&F.data.isInserted&&F!==B||B&&"MATCH"===B.type&&B.data.isInserted&&B!==F||U.end<=L.end||U.start<L.end&&U.start>L.start)){var H=!(!B||"IGNORED"!==B.type);B&&B.data.isInserted&&(U=a({},U,{id:B.data.id,name:B.data.name})),U.type===y.MATCH_TYPE_LABEL?N.push({match:U,isIgnored:H,isInserted:B&&B.data.isInserted}):H?N.push({match:U,isIgnored:!0}):x[U.type]={match:U,isIgnored:!1,isInserted:B&&B.data.isInserted},L=U}}for(var V in x)x[V],N.push(x[V]);t=x[y.MATCH_TYPE_PROJECT]?x[y.MATCH_TYPE_PROJECT].match:null;var W=p.Modifier.applyEntity(C.getCurrentContent(),new p.SelectionState({anchorKey:A,anchorOffset:0,focusKey:A,focusOffset:k.length}),null);return C=p.EditorState.push(C,W,"apply-entity"),C=l(C,N),T=(0,h.sortBy)("match.start")(N),C=p.EditorState.acceptSelection(C,I)},C=(0,m.debounce)(function(e,t){var r=t.getProps(),n=r.isDateistDisabled,a=r.isPriorityDisabled;if(e.getCurrentContent()!==R.getCurrentContent()||n!==P.isDateistDisabled||a!==P.isPriorityDisabled){var i=O(e,t);t.getEditorState().getCurrentContent().getPlainText()===i.getCurrentContent().getPlainText()&&(R=i,P={isDateistDisabled:n,isPriorityDisabled:a},D=!0,t.getProps().onChange(R))}},50),I=function(e,t){if("ko"===window.LANG&&R&&(_.isMacApp||_.isSafari)&&event&&"insertReplacementText"===event.inputType)return e;if(!_.isIE&&R)C(e,t);else if(!R||e.getCurrentContent()!==R.getCurrentContent())return R=O(e,t),D=!0,R;return D=!1,e},A=function(e,t){if(e.ctrlKey&&77===e.keyCode)return"handled";if(!("Backspace"!==(0,m.resolveKeyboardKey)(e.key)||e.ctrlKey||e.altKey||e.metaKey)){var r=t.getEditorState(),n=r.getSelection(),a=r.getCurrentContent().getFirstBlock(),i=a.getEntityAt(n.getStartOffset()-1),o=i&&r.getCurrentContent().getEntity(i);return o&&"IGNORED"!==o.type?(t.setEditorState(s({editorState:r,type:"IGNORED",start:o.data.start,end:o.data.end})),"handled"):void 0}};return{willUnmount:C.cancel,onChange:I,keyBindingFn:A,decorators:[{strategy:function(e,t,r){e.findEntityRanges(function(e){var t=e.getEntity();if(null===t)return!1;var n=r.getEntity(t).getType();return"IGNORED"!==n&&"LINK"!==n},t)},component:(0,v.decorateComponentWithProps)(g.default,{onClick:function(e,t,r,n){e.preventDefault(),e.stopPropagation(),n(s({editorState:r(),type:"IGNORED",start:t.data.start,end:t.data.end}))}})}],getMatches:function(){return T},getHighlightedProject:function(){return t||i},getIsLastStateParsed:function(){return D},insertMatch:o}}function o(e){var t=e.editorState,r=e.type,n=e.matchText,i=e.data,o=e.atCursor;if(!r||!n)return t;var s;switch(r){case y.MATCH_TYPE_LABEL:s=y.LABEL_CHAR;break;case y.MATCH_TYPE_PROJECT:s=y.PROJECT_CHAR;break;case y.MATCH_TYPE_COLLABORATOR:s=y.COLLABORATOR_CHAR;break;default:s=""}var u="".concat(s).concat(n," ");t=(0,v.insertText)(t,u,{atCursor:o});var c=t.getCurrentContent().getPlainText();return t=l(t,[{isIgnored:!1,isInserted:!0,match:a({type:r,start:c.length-u.length,end:c.length-1,match:n},i)}])}function l(e,t){var r=e;return t.forEach(function(e){var t=e.match,n=e.isIgnored,i=e.isInserted,o=void 0!==i&&i,l=t.start;n||t.type===y.MATCH_TYPE_DATE||(l=t.type===y.MATCH_TYPE_PRIORITY?t.start+(t.match.length-1):t.start+1,r=s({editorState:r,type:"HIDDEN",start:t.start,end:l,data:t})),r=s({editorState:r,type:n?"IGNORED":"MATCH",start:l,end:t.end,data:a({},t,{isInserted:o})})}),r}function s(e){var t=e.editorState,r=e.type,n=e.start,a=e.end,i=e.data,o=t.getSelection(),l=t.getCurrentContent().createEntity(r,"MUTABLE",i),s=l.getLastCreatedEntityKey(),u=t.getCurrentContent().getFirstBlock().getKey(),c=new p.SelectionState({anchorKey:u,anchorOffset:n,focusKey:u,focusOffset:a}),d=p.Modifier.applyEntity(l,c,s);return p.EditorState.forceSelection(p.EditorState.push(t,d),o)}var u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.insertMatch=o,r.default=void 0;var c=u(e("@babel/runtime/helpers/defineProperty")),d=u(e("@babel/runtime/helpers/toConsumableArray")),f=u(e("@babel/runtime/helpers/slicedToArray")),p=e("draft-js"),m=e("../../../utils"),h=e("../../../utils/fp"),_=e("../../../utils/Env"),v=e("../utils"),b=e("./parsers"),y=e("../constants"),g=u(e("./Match")),E=i;r.default=E},{"../../../utils":1094,"../../../utils/Env":1057,"../../../utils/fp":1083,"../constants":898,"../utils":912,"./Match":902,"./parsers":905,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,"draft-js":"draft-js"}],904:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./NaturalLanguagePlugin")),i=a.default;r.default=i},{"./NaturalLanguagePlugin":903,"@babel/runtime/helpers/interopRequireDefault":189}],905:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){var r=[];t=t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&");for(var n,a=(0,v.getMatchRegex)(t);null!==(n=a.exec(e));){var i=n[0].match(t);if(i){var o=n.index+i.index;r.push({start:o,end:n.index+n[0].length})}}return r}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.parseProjectMatches=r.parsePriorityMatches=r.parseLabelMatches=r.parseDueDateMatches=r.parseCollaboratorMatches=void 0;var s=l(e("@babel/runtime/helpers/slicedToArray")),u=l(e("@babel/runtime/helpers/toConsumableArray")),c=l(e("@babel/runtime/helpers/defineProperty")),d=e("reselect"),f=e("../../../utils/fp"),p=e("../../../reducers/labels"),m=e("../../../reducers/projects"),h=e("../../../reducers/collaborators"),_=e("./utils"),v=e("../utils"),b=o(e("../constants")),y=/([+.?*+^$[\]\\(){}|_&-])/g,g=(0,d.createSelector)(m.projectGetActive,function(e){return e.map(function(e){var t=e.name;return t=$strip(t.replace(y,"\\$1")),{regex:new RegExp("(?:^|\\s)#".concat(t),"i"),project:e}})}),E=(0,d.createSelector)(function(e){return e.collaborators.all},function(e){return e.user},function(e,t){var r={};e=a({},e,(0,c.default)({},t.id,t));for(var n in e){var i=e[n],o=i.full_name||i.email;if(o=$strip(o.replace(y,"\\$1")),0===o.length)return;var l=(0,_.getNameVariations)(o,n,t.id);r[n]={collaborator:i,regex:new RegExp("(?:^|\\s)\\+(?:".concat(l.join("|"),")"),"gi")}}return r}),T=function(e,t,r){var n=[].concat((0,u.default)((0,f.keys)(e.byPID[r])),[t.id]),a=E({collaborators:e,user:t});return(0,f.pick)(n,a)},w=function(e,t,r,n){var o=[];if(e.match(/\+[^\s]+/)&&n&&(0,h.isShared)({collaborators:r},n.id)){var l=T(r,t,n.id);if(n){var s;for(var u in l){(function(t){var r=l[t],n=r.regex,u=r.collaborator;if(!u)return"continue";(s=e.match(n))&&s.forEach(function(t){t=$strip(t),i(e,t).forEach(function(e){o.push(a({},e,{match:t,type:b.MATCH_TYPE_COLLABORATOR,id:u.id,name:u.name}))})})})(u)}}}return o};r.parseCollaboratorMatches=w;var R=function(e){var t=DateUtils.parse(e,null,!0,null,!0);return t.length?t.map(function(e){var t=e.date_string_matched,r=(0,s.default)(e.pos,2);return{start:r[0],end:r[1],match:t,type:b.MATCH_TYPE_DATE,name:t,result:e}}):[]};r.parseDueDateMatches=R;var P=function(e,t){var r=e.match(/(?:^|\s+)@([^\s,]+)/g)||[],n={},o=[],l=!0,s=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(l=(c=d.next()).done);l=!0)!function(){var r=c.value;if(r=$strip(r),!n[r]){n[r]=!0;var l=(0,p.labelGetByName)(r.replace("@",""),{labels:t});l&&(o=o.concat(i(e,r).map(function(e){return a({},e,{match:r,id:l.id,type:b.MATCH_TYPE_LABEL,name:l.name})})))}}()}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}return o};r.parseLabelMatches=P;var D=function(e){var t=new RegExp("(?:(?:^|\\s)!!|\\bp)(1|2|3|4)(?=\\s|$)","g"),r=e.match(t),n=[];if(r){var o=!0,l=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)!function(){var t=u.value;t=(t||"").trim();var r=t.match(/\d+/)[0];i(e,t).forEach(function(e){n.push(a({},e,{id:parseInt(r),match:t,type:b.MATCH_TYPE_PRIORITY,name:r}))})}()}catch(e){l=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw s}}}return n};r.parsePriorityMatches=D;var O=function(e,t){var r=[];return e.match(/#[^\s]+/)&&function(){var n,o=g({projects:t}),l=!0,s=!1,u=void 0;try{for(var c,d=o[Symbol.iterator]();!(l=(c=d.next()).done);l=!0)!function(){var t=c.value,o=t.regex,l=t.project;(n=e.match(o))&&(n=$strip(n[0]),l&&i(e,n).forEach(function(e){r.push(a({},e,{match:n,type:b.MATCH_TYPE_PROJECT,id:l.id,name:l.name,shared:l.shared}))}))}()}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}}(),r};r.parseProjectMatches=O},{"../../../reducers/collaborators":983,"../../../reducers/labels":1010,"../../../reducers/projects":1026,"../../../utils/fp":1083,"../constants":898,"../utils":912,"./utils":906,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,reselect:"reselect"}],906:[function(e,t,r){"use strict";function n(e,t,r){var n=[e],a=e.split(" "),o=(0,i.default)(a,2),l=o[0],s=o[1],u="";if(s){var c=s[0];u="".concat(l," ").concat(c,"\\.")}return u!==e&&u.length>0&&n.push(u),l!==e&&l.length>0&&n.push(l),String(t)===String(r)&&n.push(_x("task_assignment","Me")),n}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getNameVariations=n;var i=a(e("@babel/runtime/helpers/slicedToArray"))},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],907:[function(e,t,r){"use strict";function n(e,t,r){switch(e){case b.MATCH_TYPE_PROJECT:var n=_.getHex(e,t.color);return(0,v.isShared)({collaborators:r},t.id)?p.default.createElement("span",{className:"richtextinput_suggestions_item_icon",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/project_shared.svg")},style:{color:n}}):p.default.createElement("span",{className:"richtextinput_suggestions_item_icon richtextinput_suggestions_item_icon--unshared",style:{color:n}});case b.MATCH_TYPE_LABEL:return p.default.createElement("span",{className:"richtextinput_suggestions_item_icon",dangerouslySetInnerHTML:{__html:svgs.getString("sm1/label.svg")},style:{color:_.getHex(e,t.color)}});case b.MATCH_TYPE_COLLABORATOR:return p.default.createElement("span",{className:"richtextinput_suggestions_item_icon"},p.default.createElement(y.default,{user:t,size:y.default.SIZE_SMALL}))}}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/assertThisInitialized")),d=i(e("@babel/runtime/helpers/inherits")),f=i(e("@babel/runtime/helpers/defineProperty")),p=i(e("react")),m=i(e("prop-types")),h=i(e("classnames")),_=a(e("../../../models/Colors")),v=e("../../../reducers/collaborators"),b=e("../constants"),y=i(e("../../Avatar")),g=function(e){function t(){var e,r;(0,o.default)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(a))),(0,f.default)((0,c.default)(r),"handleSelect",function(){r.props.onSelect(r.props.item)}),(0,f.default)((0,c.default)(r),"handleRef",function(e){r.itemRef=e}),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidUpdate",value:function(e){var t=e.index===e.selectedIndex,r=this.props.index===this.props.selectedIndex;!t&&r&&this.itemRef&&this.itemRef.parentNode&&(this.itemRef.parentNode.scrollTop=this.itemRef.offsetTop-this.itemRef.parentNode.offsetTop)}},{key:"render",value:function(){var e=this.props,t=e.collaborators,r=e.item,a=e.index,i=e.type,o=e.selectedIndex,l=(0,h.default)("richtextinput_suggestions_item",{"richtextinput_suggestions_item--selected":a===o});return r.isIgnored?null:p.default.createElement("li",{className:l,key:r.id,onClick:this.handleSelect,ref:this.handleRef},n(i,r,t),p.default.createElement("span",null,r.name))}}]),t}(p.default.PureComponent);g.propTypes={collaborators:m.default.object.isRequired,index:m.default.number.isRequired,item:m.default.object.isRequired,type:m.default.string.isRequired,selectedIndex:m.default.number,onSelect:m.default.func},g.defaultProps={onSelect:function(){}};var E=g;r.default=E},{"../../../models/Colors":151,"../../../reducers/collaborators":983,"../../Avatar":465,"../constants":898,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],908:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0
;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("react")),d=n(e("react-dom")),f=n(e("prop-types")),p=n(e("classnames")),m=n(e("../../Dialog")),h=n(e("./SuggestionsItem")),v=e("../constants"),b=e("../../../utils"),y=function(e){function t(e){var r;return(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),r.handleAdd=r.handleAdd.bind((0,s.default)(r)),r.handleSelect=r.handleSelect.bind((0,s.default)(r)),r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.store.subscribeToItem("selectedIndex",function(){return e.forceUpdate()}),this.anchor=d.default.findDOMNode(this.props.store.getItem("getEditorRef")()).parentElement}},{key:"handleAdd",value:function(){this.props.onCreate(this.props.store.getItem("queryType"),this.props.store.getItem("query"))}},{key:"handleSelect",value:function(e){this.props.onSelect(this.props.store,e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.collaborators,n=t.store,a=t.onClickOutside,i=t.onCreate,o=t.onDuplicatedSelect,l=n.getItem("showDuplicatedMessage"),s=l?[]:n.getItem("items"),u=n.getItem("query"),d=n.getItem("queryType"),f=n.getItem("selectedIndex");if(!this.anchor||!u&&!s.length)return null;var y=0===s.length&&!l;return c.default.createElement(m.default,{autoFocus:!1,anchor:this.anchor,position:"bottom",width:this.anchor.offsetWidth,onHide:a},c.default.createElement("ul",{className:"richtextinput_suggestions"},s.map(function(t,n){return c.default.createElement(h.default,{key:t.id||t.name,collaborators:r,item:t,index:n,type:d,selectedIndex:f,onSelect:e.handleSelect})}),y?c.default.createElement("li",{className:(0,p.default)("richtextinput_suggestions_item richtextinput_suggestions_item--create",{"richtextinput_suggestions_item--selected":!f}),onClick:i},c.default.createElement("span",null,d===v.MATCH_TYPE_LABEL?_("Label not found."):_("Project not found."),c.default.createElement("b",null," ".concat(_("Create")," ").concat(u)))):null,l?c.default.createElement("li",{className:(0,p.default)("richtextinput_suggestions_item richtextinput_suggestions_item--duplicate",{"richtextinput_suggestions_item--selected":!f}),onClick:o},c.default.createElement("span",null,(0,b.format)(_("Label @{label_name} is already included"),{label_name:u}))):null))}}]),t}(c.default.PureComponent);y.propTypes={collaborators:f.default.object,store:f.default.object,onCreate:f.default.func,onClickOutside:f.default.func,onDuplicatedSelect:f.default.func,onSelect:f.default.func},y.defaultProps={store:{},onCreate:function(){},onClickOutside:function(){},onDuplicatedSelect:function(){},onSelect:function(){}};var g=y;r.default=g},{"../../../utils":1094,"../../Dialog":467,"../constants":898,"./SuggestionsItem":907,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react","react-dom":"react-dom"}],909:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t,r,n,i,l=e.collaborators,s=e.user,c=(0,b.default)({user:s,items:[],query:null,queryType:null,selectedIndex:0,isVisible:!1,showDuplicatedMessage:!1}),E=function(e,t){var r=e.getSelection(),n=e.getCurrentContent().getFirstBlock(),i=r.getStartOffset(),o=n.getText().slice(0,i),l=o.substr(o.length-1);if(!c.getItem("isVisible")&&l!==_.LABEL_CHAR&&l!==_.PROJECT_CHAR&&l!==_.COLLABORATOR_CHAR)return e;var v=n.getEntityAt(i),b=n.getText()[i]&&" "!==n.getText()[i];if(v||b)return e;var y=g.exec(o)||[],E=(0,u.default)(y,3),T=E[1],w=E[2];if(void 0===w)return S(),e;switch(c.updateItem("query",w),T){case _.COLLABORATOR_CHAR:var R=t.getPlugins(),P=(0,u.default)(R,3),D=P[2],O=D.getHighlightedProject(),C=t.getProps(),I=C.collaborators;if(!O||!(0,p.isShared)({collaborators:I},O.id))return S(),e;c.updateItem("queryType",_.MATCH_TYPE_COLLABORATOR);var A=(0,p.getAllCollaboratorsGroupByPID)({collaborators:I,user:s})[O.id].filter(function(e){return s.id!==e.id}).map(function(e){return a({},e,{name:(0,d.shortName)(e.full_name)})});A.unshift(a({},s,{name:"".concat(_x("task_assignment","Me")," (").concat((0,d.shortName)(s.full_name),")")}));var k=""===c.getItem("query")?A:A.filter(function(e){return e.name.toLowerCase().includes(c.getItem("query").toLowerCase())});c.updateItem("items",k);break;case _.PROJECT_CHAR:var M=t.getProps(),j=M.projects;c.updateItem("queryType",_.MATCH_TYPE_PROJECT),c.updateItem("items",""===c.getItem("query")?(0,h.projectGetActiveSorted)({projects:j}):(0,h.projectGetByNameSearch)(c.getItem("query"),{projects:j}));break;case _.LABEL_CHAR:var N=t.getProps(),x=N.labels;if(N.isLabelsDisabled)return S(),e;var L=t.getPlugins(),q=(0,u.default)(L,3),U=q[2],$=U.getMatches();c.updateItem("queryType",_.MATCH_TYPE_LABEL);var F=(0,m.labelGetBySearch)({labels:x},c.getItem("query")),z=1===F.length&&(0,f.find)(function(e){var t=e.match;return t.type===_.MATCH_TYPE_LABEL&&F[0].name===t.name},$);c.updateItem("items",F),c.updateItem("showDuplicatedMessage",z)}return 0===c.getItem("items").length&&(c.getItem("query").split(" ").length>1||T===_.COLLABORATOR_CHAR)?(S(),e):(c.updateItem("isVisible",!0),c.updateItem("selectedIndex",c.getItem("items").length>0&&!c.getItem("showDuplicatedMessage")?0:-1),e)},T=function(e){if(c.getItem("isVisible")){e.preventDefault();var t=c.getItem("selectedIndex")+1,r=Math.max(0,c.getItem("items").length-1);return c.updateItem("selectedIndex",t>r?0:t),e.preventDefault()}},w=function(e){if(c.getItem("isVisible")){e.preventDefault();var t=c.getItem("selectedIndex")-1,r=Math.max(0,c.getItem("items").length-1);c.updateItem("selectedIndex",t<0?r:t)}},R=function(e){if(!c.getItem("isVisible"))return n(e);e.preventDefault(),S()},P=function(){var e=c.getItem("items");o(c,e[0])},D=function(){var e=c.getItem("selectedIndex");if(!(e<0)){var r=c.getItem("items"),n=c.getItem("query");if(r.length)o(c,r[e]);else if(n){var a=t(c.getItem("queryType"),n);o(c,a)}}},O=function(e){return c.getItem("isVisible")?(D(),"handled"):(r(e),"handled")},C=function(e){if(!c.getItem("isVisible"))return i(e);e.preventDefault(),D()},I=function(e){switch((0,d.resolveKeyboardKey)(e.key)){case"ArrowUp":case"ArrowLeft":return w(e);case"ArrowDown":case"ArrowRight":return T(e);case"Escape":return R(e);case"Tab":return C(e)}},A=function(){var e=c.getItem("query"),r=t(c.getItem("queryType"),e);o(c,r)},S=function(){c.updateItem("queryType",null),c.updateItem("query",null),c.updateItem("items",[]),c.updateItem("isVisible",!1),c.updateItem("selectedIndex",-1),c.updateItem("showDuplicatedMessage",!1)},k={store:c,collaborators:l,onCreate:A,onDuplicatedSelect:P,onSelect:o,onClickOutside:R};return{SuggestionsList:(0,v.decorateComponentWithProps)(y.default,k),initialize:function(e){var t=e.getEditorState,r=e.getEditorRef,n=e.setEditorState;c.updateItem("getEditorRef",r),c.updateItem("getEditorState",t),c.updateItem("setEditorState",n)},isVisible:function(){return c.getItem("isVisible")},setListeners:function(e){var a=e.onCreate,o=e.onEnter,l=e.onEscape,s=e.onTab;t=a,r=o,n=l,i=s},onChange:E,handleReturn:O,keyBindingFn:I,onSelect:o}}function o(e,t){var r=e.getItem("getEditorState")(),n=r.getSelection(),a=n.getStartOffset(),i=a-e.getItem("query").length-1,o=n.merge({anchorOffset:i,focusOffset:a}),l=r.getCurrentContent();r=c.EditorState.push(r,c.Modifier.replaceText(l,o,""),"remove-range");var s=e.getItem("queryType")===_.MATCH_TYPE_COLLABORATOR&&e.getItem("user").id===t.id?_x("task_assignment","Me"):t.name;r=(0,u.default)(e.getItem("getEditorRef")().props.plugins,3)[2].insertMatch({editorState:r,type:e.getItem("queryType"),matchText:s,data:t,atCursor:!0}),e.updateItem("query",null),e.updateItem("queryType",null),e.updateItem("items",[]),e.updateItem("isVisible",!1),e.updateItem("selectedIndex",-1),e.getItem("setEditorState")(r)}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/defineProperty")),u=l(e("@babel/runtime/helpers/slicedToArray")),c=e("draft-js"),d=e("../../../utils"),f=e("../../../utils/fp"),p=e("../../../reducers/collaborators"),m=e("../../../reducers/labels"),h=e("../../../reducers/projects"),_=e("../constants"),v=e("../utils"),b=l(e("./store")),y=l(e("./SuggestionsList")),g=/(?:^|\s)(@|#|\+)([^(@|#|+)]{0,})([\s]{0,})$/,E=i;r.default=E},{"../../../reducers/collaborators":983,"../../../reducers/labels":1010,"../../../reducers/projects":1026,"../../../utils":1094,"../../../utils/fp":1083,"../constants":898,"../utils":912,"./SuggestionsList":908,"./store":911,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"draft-js":"draft-js"}],910:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./SuggestionsPlugin")),i=a.default;r.default=i},{"./SuggestionsPlugin":909,"@babel/runtime/helpers/interopRequireDefault":189}],911:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=function(e){var t=e||{},r={};return{subscribeToItem:function(e,t){r[e]=r[e]||[],r[e].push(t)},unsubscribeFromItem:function(e,t){r[e]=r[e].filter(function(e){return e!==t})},updateItem:function(e,n){t=a({},t,(0,o.default)({},e,n)),r[e]&&r[e].forEach(function(r){return r(t[e])})},getItem:function(e){return t[e]}}},s=l;r.default=s},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],912:[function(e,t,r){"use strict";function n(e,t){var r,n;return n=r=function(r){function n(){return(0,f.default)(this,n),(0,m.default)(this,(0,h.default)(n).apply(this,arguments))}return(0,_.default)(n,r),(0,p.default)(n,[{key:"render",value:function(){return b.default.createElement(e,(0,d.default)({},this.props,t))}}]),n}(b.default.Component),(0,v.default)(r,"displayName","Decorated(".concat(e.displayName,")")),n}function a(e,t){var r="",n=0;return t.forEach(function(t){var a=t.match;t.isIgnored||(r+=e.substr(n,a.start-n),n=" "===e[a.end]?a.end+1:a.end)}),$strip(r+e.substr(n,e.length))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onlyLastOccurence,n=DateistUtils.is_spaceless_lang(window.DATEIST_LANG),a=n?"(^|\\s*)".concat(e):"(^|\\s+)".concat(e,"(?:$|(?=[\\s\\)\\]]+))");return r&&(a="".concat(a,"(?!.*").concat(a,")")),new RegExp(a,"gi")}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.atCursor;e=void 0!==n&&n?g.EditorState.forceSelection(e,e.getSelection()):g.EditorState.moveFocusToEnd(e);var a=e.getCurrentContent(),i=a.getPlainText(),o=i[i.length-1],l=!i||o&&" "===o?"":" ",s=g.Modifier.replaceText(a,e.getSelection(),"".concat(l).concat(t));return g.EditorState.push(e,s,"insert-characters")}function l(e,t){if(null===t)return e;var r=e.getCurrentContent().getFirstBlock().getEntityAt(t.index+1),n=r&&e.getCurrentContent().getEntity(r);n&&n.type;var a=e.getSelection().merge({anchorOffset:t.index,focusOffset:t.index+t[0].length}),i=g.Modifier.removeRange(e.getCurrentContent(),a,"forward");return g.EditorState.push(e,i,"remove-range")}function s(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.onlyLastOccurence,o=void 0!==a&&a,s=t instanceof RegExp?t:i(t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&"),{onlyLastOccurence:o}),u=e.getCurrentContent().getPlainText();if(o)return r=s.exec(u),l(e,r);for(;null!==(r=s.exec(u));)e=l(e,r),u=e.getCurrentContent().getPlainText(),s.lastIndex=0;return e}function u(e,t,r){if(e.no_date)return E.MATCH_VALUE_NO_DATE;if(e.has_only_time&&t){var n,a=e.due_date.getHours()<r.getHours()||e.due_date.getHours()===r.getHours()&&e.due_date.getMinutes()<r.getMinutes();return n=t.getTime()<r.getTime()?a?t.postpone():r:t,t.inheritDate({year:n.getFullYear(),month:n.getMonth(),day:n.getDate(),hours:e.due_date.getHours(),minutes:e.due_date.getMinutes(),seconds:0},{withTime:!0,timezone:t.timezone})}return y.default.fromDateist(e)}var c=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.decorateComponentWithProps=n,r.stripContentMatches=a,r.getMatchRegex=i,r.insertText=o,r.removeText=s,r.parseDateChange=u;var d=c(e("@babel/runtime/helpers/extends")),f=c(e("@babel/runtime/helpers/classCallCheck")),p=c(e("@babel/runtime/helpers/createClass")),m=c(e("@babel/runtime/helpers/possibleConstructorReturn")),h=c(e("@babel/runtime/helpers/getPrototypeOf")),_=c(e("@babel/runtime/helpers/inherits")),v=c(e("@babel/runtime/helpers/defineProperty")),b=c(e("react")),y=c(e("../../models/DateExt")),g=e("draft-js"),E=e("./constants")},{"../../models/DateExt":154,"./constants":898,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"draft-js":"draft-js",react:"react"}],913:[function(e,t,r){"use strict";function n(){$request("/sync/v8/tooltips/mark_as_seen").sendReq({name:y,token:window.User.token})}function a(){var e=$requestJSON("/sync/v8/tooltips/is_seen");return e.addCallback(function(e){e.result?$storage(b).set(v):$storage(b).set("0")}),e.sendReq({name:y,token:window.User.token})}function i(){var e=$storage(b).get();if(null===e)return a(),v;var t=parseInt(e||0);return t+=1,$storage(b).set("".concat(t)),t===v&&n(),t}function o(e){return function(t){function r(e){var t;if((0,u.default)(this,r),t=(0,d.default)(this,(0,f.default)(r).call(this,e)),i()<v){var n=Math.floor(Math.random()*h.length);t.placeholder=_("e.g.")+" "+h[n]}return t}return(0,p.default)(r,t),(0,c.default)(r,[{key:"render",value:function(){return m.default.createElement(e,(0,s.default)({},this.props,{placeholder:this.placeholder}))}}]),r}(m.default.PureComponent)}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=o;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/classCallCheck")),c=l(e("@babel/runtime/helpers/createClass")),d=l(e("@babel/runtime/helpers/possibleConstructorReturn")),f=l(e("@babel/runtime/helpers/getPrototypeOf")),p=l(e("@babel/runtime/helpers/inherits")),m=l(e("react")),h=[_("Get pastries sun at 9")+" "+_("#Family"),_("Renew gym every May 1st")+" "+_("#Health"),_("Design meeting at 11am p1")+" "+_("#Meeting"),_("Learn Portuguese every 2 days")+" "+_("#Learning"),_("Buy gift tomorrow at 6pm p1")+" "+_("#Errands"),_("Read every day p3 @goals")+" "+_("#Learning"),_("Conference Wednesday at 15")+" "+_("#Meeting"),_("Family lunch on Sunday at 11am")+" "+_("#Personal")],v=100,b="WR_PlaceholderCount",y="web_ph_natrual_text"},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,react:"react"}],914:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.dayViewLink=void 0;var n=e("../../utils"),a=function(e){return"/app#agenda/".concat((0,n.toISODateString)(e,{dateOnly:!0}))};r.dayViewLink=a},{"../../utils":1094}],915:[function(e,t,r){"use strict";function n(e){function t(){T(h)}function r(e){e.stopPropagation(),g(e)}var n=e.timeFormat,a=e.userTimezoneInfo,o=e.isTimePickerShown,u=void 0!==o&&o,h=e.selectedDate,v=e.onTimePickerToggle,b=void 0===v?function(){}:v,y=e.onTimeSelect,g=void 0===y?function(){}:y,E=e.onSave,T=void 0===E?function(){}:E,w=i.default.useRef(h),R=i.default.useRef(null),P=(0,s.default)("scheduler-actions-save",{"scheduler-actions-save--disabled":u}),D=Boolean(h&&h.with_time),O=Boolean(D||w.current&&w.current.with_time);return i.default.createElement("div",{className:"scheduler-actions"},D?i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{className:"scheduler-actions-time"},i.default.createElement(d.default,{ref:R,className:"scheduler-actions-time-label",onClick:function(e){return b(!0,e)},"data-track":"scheduler|full_calendar_time"},h.format({inTimezoneTime:!0,onlyTime:!0})),i.default.createElement("span",{className:"scheduler-actions-time-separator"}),i.default.createElement(d.default,{className:"scheduler-actions-time-remove",onClick:r},i.default.createElement(f.default,null)))):i.default.createElement(d.default,{ref:R,className:"scheduler-actions-addtime",onClick:function(e){return b(!0,e)},"data-track":"scheduler|full_calendar_time","aria-haspopup":"true","aria-expanded":u},"+ ",_("Add time")),O&&i.default.createElement(d.default,{className:P,onClick:t,"data-track":"scheduler|full_calendar_save"},_("Save")),u&&i.default.createElement(c.default,{className:"dialog-timepicker",anchor:R.current,onHide:function(e){return b(!1,e)},position:"top",width:m,isPositionFluid:!0},i.default.createElement(l.default,null,i.default.createElement(p.default,{selectedDate:h,timeFormat:n,userTimezoneInfo:a,onCancel:function(e){return b(!1,e)},onSelect:g}))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("react-focus-lock")),s=a(e("classnames")),u=a(e("../../models/DateExt")),c=a(e("../Dialog")),d=a(e("../Button")),f=a(e("../date_picker/icons/DeleteIcon")),p=a(e("./timePicker")),m=225;n.propTypes={timeFormat:o.default.number.isRequired,userTimezoneInfo:o.default.object.isRequired,isTimePickerShown:o.default.bool,selectedDate:o.default.instanceOf(u.default),onTimePickerToggle:o.default.func,onTimeSelect:o.default.func,onSave:o.default.func},n.defaultProps={onTimePickerToggle:function(){},onTimeSelect:function(){},onSave:function(){}};var h=n;r.default=h},{"../../models/DateExt":154,"../Button":466,"../Dialog":467,"../date_picker/icons/DeleteIcon":518,"./timePicker":935,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react","react-focus-lock":"react-focus-lock"}],916:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/toConsumableArray")),o=a(e("@babel/runtime/helpers/classCallCheck")),l=a(e("@babel/runtime/helpers/createClass")),s=a(e("@babel/runtime/helpers/possibleConstructorReturn")),u=a(e("@babel/runtime/helpers/getPrototypeOf")),c=a(e("@babel/runtime/helpers/assertThisInitialized")),d=a(e("@babel/runtime/helpers/inherits")),f=a(e("@babel/runtime/helpers/defineProperty")),p=a(e("react")),m=a(e("prop-types")),h=a(e("classnames")),_=a(e("react-focus-lock")),v=a(e("../../models/DateExt")),b=a(e("../Button")),y=e("../../utils"),g=n(e("./suggestions/constants")),E=a(e("./Actions")),T=a(e("../date_picker")),w=a(e("./dueDateInput")),R=a(e("./suggestions")),P=e("../../utils/deps"),D=(0,P.defineDeps)("Scheduler",["SmartSchedule"]),O=function(e){function t(e){var r;(0,o.default)(this,t),r=(0,s.default)(this,(0,u.default)(t).call(this,e)),(0,f.default)((0,c.default)(r),"handleDateSelect",function(e){var t=r.state.selectedDate;if(r.props.selectedItems.length>1&&(!t||!t.with_time)){var n=r.props.selectedItems.map(function(t){return t.due?t.due.inheritDate({year:e.getFullYear(),month:e.getMonth(),day:e.getDate()}):v.default.fromDate(e)});return r.props.onDateSelect(n)}return t?t.with_time?void r.setState(function(t){return{selectedDate:t.selectedDate.inheritDate({year:e.getFullYear(),month:e.getMonth(),day:e.getDate()})}}):r.props.onDateSelect(t.inheritDate({year:e.getFullYear(),month:e.getMonth(),day:e.getDate()})):r.props.onDateSelect(v.default.fromDate(e))}),(0,f.default)((0,c.default)(r),"handleInputDateSelect",function(e,t){t||r.setState({selectedDate:null}),r.props.onDateSelect(e)}),(0,f.default)((0,c.default)(r),"handleTimePickerToggle",function(e,t){t.nativeEvent?t.nativeEvent.stopImmediatePropagation():t.stopImmediatePropagation(),r.setState({isTimePickerShown:e})}),(0,f.default)((0,c.default)(r),"handleTimeSelect",function(e,t,n){var a=r.state.selectedDate;e.nativeEvent.stopImmediatePropagation(),t?a=a?a.changeTime(t.getHours(),t.getMinutes(),t.getSeconds(),{timezone:n}):v.default.fromDate(t,{timezone:n,withTime:!0}):a&&(a=a.inheritDate({year:a.getFullYear(),month:a.getMonth(),day:a.getDate(),hours:23,minutes:59,seconds:59},{withTime:!0})),r.setState({selectedDate:a,isTimePickerShown:!1})}),(0,f.default)((0,c.default)(r),"handleDueDateInputToggle",function(e){r.el.current.style.height=e?"inherit":"".concat(r.initialHeight,"px"),r.setState({isDueDateInputActive:e})}),(0,f.default)((0,c.default)(r),"handleKeyDown",function(e){"Escape"===(0,y.resolveKeyboardKey)(e.key)&&(e.stopPropagation(),$$(".dialog",document.body).length>1?(e.preventDefault(),r.setState({isTimePickerShown:!1})):r.state.isDueDateInputActive||r.props.onClose())}),(0,f.default)((0,c.default)(r),"handleSuggestionSelect",function(e,t){if(e===g.SMART_SCHEDULER)return D.SmartSchedule.openSmartSchedule(r.props.selectedItems),r.props.onClose();if(e===g.POSTPONE||!t)return r.props.onDateSelect(t);var n;if(r.state.selectedDate){var a=r.state.selectedDate.inheritDate({year:t.getFullYear(),month:t.getMonth(),day:t.getDate()});n=r.props.selectedItems.map(function(){return a})}else n=r.props.selectedItems.map(function(e){return e.due?e.due.inheritDate({year:t.getFullYear(),month:t.getMonth(),day:t.getDate()}):v.default.fromDate(t)});r.props.onDateSelect(n.length>1?n:n[0])});var n=e.currentDate,a=e.selectedDate;return r.currentDate=n||new Date,r.initialSelectedDate=a,r.state={selectedDate:a,isDueDateInputActive:!1,isTimePickerShown:!1},r.initialHeight=null,r.el=p.default.createRef(),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),this.initialHeight=this.el.current.clientHeight}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.ignoredDays,r=e.items,n=e.karma,a=e.nextWeekDay,o=e.predictedDate,l=e.selectedItems,s=e.suggestions,u=e.timeFormat,c=e.userTimezoneInfo,d=e.collaboratorsByPID,f=e.user,m=e.weekStartDay,v=e.onDateSelect,P=e.clock,D=this.state,O=D.selectedDate,C=D.isDueDateInputActive,I=D.isTimePickerShown;return p.default.createElement(_.default,null,p.default.createElement("div",{ref:this.el,className:"scheduler",onKeyDown:this.handleKeyDown},p.default.createElement(w.default,{currentDate:this.currentDate,items:r,collaboratorsByPID:d,user:f,karma:n,selectedDate:O,userTimezoneInfo:c,onActiveChange:this.handleDueDateInputToggle,onDateSelect:this.handleInputDateSelect}),!C&&p.default.createElement(p.default.Fragment,null,p.default.createElement(R.default,{currentDate:this.currentDate,ignoredDays:t,nextWeekDay:a,predictedDate:o,types:this.initialSelectedDate||(0,y.some)(l,"due")?[].concat((0,i.default)(s),[g.NO_DATE]):s,selectedDate:this.initialSelectedDate,weekStartDay:m,onSuggestionSelect:this.handleSuggestionSelect,clock:P}),p.default.createElement(T.default,{currentDate:this.currentDate,ignoredDays:t,items:r,collaboratorsByPID:d,user:f,selectedDate:O,weekStartDay:m,renderDay:function(e){var t=e.className,r=e.date,n=e.isIgnored,a=e.isSelected,i=e.isFocusable,o=e.isSpacer,l=e.onClick,s=e.onMouseEnter,u=e.onMouseLeave;if(o)return p.default.createElement("div",{key:r.getTime(),className:"calendar__spacer"},r.getDate());var c=(0,h.default)(t,"scheduler-picker-cell",{"scheduler-picker-cell--greyed":n&&!a,"scheduler-picker-cell--selected":a});return p.default.createElement(b.default,{className:c,tabIndex:i?0:-1,onClick:l,onMouseEnter:function(){return s(r)},onMouseLeave:u,"data-track":"scheduler|calendar_day"},p.default.createElement("span",null,r.getDate()))},onDateSelect:this.handleDateSelect}),p.default.createElement(E.default,{selectedDate:O,timeFormat:u,userTimezoneInfo:c,isTimePickerShown:I,onTimePickerToggle:this.handleTimePickerToggle,onTimeSelect:this.handleTimeSelect,onSave:v}))))}}]),t}(p.default.PureComponent);O.propTypes={currentDate:m.default.instanceOf(Date),ignoredDays:m.default.array,items:m.default.array,karma:m.default.number.isRequired,nextWeekDay:m.default.number,predictedDate:m.default.oneOfType([m.default.instanceOf(Promise),m.default.instanceOf(v.default),m.default.arrayOf(m.default.instanceOf(v.default))]),selectedDate:m.default.instanceOf(v.default),selectedItems:m.default.array,suggestions:m.default.array,timeFormat:m.default.number,userTimezoneInfo:m.default.object,collaboratorsByPID:m.default.object.isRequired,user:m.default.object.isRequired,weekStartDay:m.default.number,onClose:m.default.func,onDateSelect:m.default.func,clock:m.default.string.isRequired},O.defaultProps={ignoredDays:[6,7],items:[],nextWeekDay:1,predictedDate:Promise.resolve(),selectedItems:[],suggestions:[],timeFormat:0,userTimezoneInfo:{},weekStartDay:7,onClose:function(){},onDateSelect:function(){}};var C=O;r.default=C},{"../../models/DateExt":154,"../../utils":1094,"../../utils/deps":1071,"../Button":466,"../date_picker":519,"./Actions":915,"./dueDateInput":924,"./suggestions":932,"./suggestions/constants":929,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/toConsumableArray":200,classnames:"classnames","prop-types":"prop-types",react:"react","react-focus-lock":"react-focus-lock"}],917:[function(e,t,r){"use strict";function n(e){var t=e.placement,r=void 0===t?"bottom":t,n=e.referenceElement,a=e.selectedDate,i=e.selectedItems,s=e.onClose,m=void 0===s?function(){}:s,h=e.onDateSelect,_=e.onToggle,v="function"==typeof n,b=(0,l.useState)(n&&!v),y=(0,o.default)(b,2),g=y[0],E=y[1],T=function(){E(!1),_&&_(!1),m()},w=(0,l.useRef)(null),R=function(){if(!w.current){var e=(0,c.getPredictedDateType)(i),t=(0,c.fetchPredictedDate)(i,e);w.current={predictedDateType:e,predictedDate:t}}return l.default.createElement(f.default,{selectedDate:a,selectedItems:i,predictedDate:w.current.predictedDate,suggestions:[d.TODAY,d.TOMORROW,d.NEXT_WEEK,w.current.predictedDateType],onClose:T,onDateSelect:function(e){T(),h(e)}})};return l.default.createElement(u.default,{modifiers:p,placement:r,referenceElement:v?function(e){var t=e.ref,r=e.isExpanded;return n({ref:t,isExpanded:r,onClick:function(){E(!0),_&&_(!0)}})}:n,isShown:g,hasArrow:!1,onClose:T},R)}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=a(e("react")),s=i(e("prop-types")),u=i(e("../popper/Popper")),c=e("./utils"),d=a(e("./suggestions/constants")),f=i(e("./container")),p={preventOverflow:{boundariesElement:"viewport",padding:20}};n.propTypes={placement:s.default.string,referenceElement:s.default.oneOfType([s.default.instanceOf(HTMLElement),s.default.func]),className:s.default.string,selectedDate:s.default.object,selectedItems:s.default.array,onDateSelect:s.default.func,onClose:s.default.func,onToggle:s.default.func},n.defaultProps={onDateSelect:function(){},onHide:function(){}};var m=n;r.default=m},{"../popper/Popper":831,"./container":919,"./suggestions/constants":929,"./utils":941,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],918:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("react")),l=n(e("react-dom")),s=e("react-redux"),u=n(e("../../stores/store")),c=n(e("./SchedulerPopper")),d=function(){function e(){(0,a.default)(this,e),this.holder=DIV({c:"scheduler_holder"})}return(0,i.default)(e,[{key:"show",value:function(e){var t=this,r=e.align,n=e.anchor,a=e.dialogClassName,i=e.hideMenus,d=void 0===i||i,f=e.isDialogFixed,p=e.onDateSelect,m=e.onHide,h=e.selectedDate,_=e.selectedItems;if(event.stopPropagation(),d&&(IstTooltip.hide(),IstMenu.hide()),n===this.anchor)return this.anchor=null,m&&m(),l.default.unmountComponentAtNode(this.holder);this.anchor=n,l.default.render(o.default.createElement(s.Provider,{store:u.default},o.default.createElement(c.default,{placement:r,referenceElement:this.anchor,className:a,isFixed:f,selectedDate:h,selectedItems:_,onClose:function(){m&&m(),t.anchor=null,l.default.unmountComponentAtNode(t.holder)},onDateSelect:function(e){p&&p(e),t.anchor=null,l.default.unmountComponentAtNode(t.holder)}})),this.holder)}}]),e}(),f=new d;r.default=f},{"../../stores/store":1048,"./SchedulerPopper":917,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],919:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("react-redux"),o=a(e("../../reducers/user")),l=e("../../reducers/items/selectors"),s=n(e("./Scheduler")),u=function(e){return{items:(0,l.getUncompletedExcludeSection)(e),ignoredDays:o.getDaysOff(e),karma:o.getKarma(e),nextWeekDay:o.getNextWeekDay(e),weekStartDay:o.getWeekStartDay(e),timeFormat:o.getTimeFormat(e),userTimezoneInfo:o.getTimezoneInfo(e),collaboratorsByPID:e.collaborators.byPID,user:(0,o.getUser)(e),clock:e.clock}},c=(0,i.connect)(u)(s.default);r.default=c},{"../../reducers/items/selectors":1007,
"../../reducers/user":1042,"./Scheduler":916,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"react-redux":"react-redux"}],920:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),f=n(e("prop-types")),p=n(e("../../../models/DateExt")),m=e("../timezoneSelector/constants"),h=e("./utils"),v=n(e("../../date_picker/icons/DeleteIcon")),b=n(e("./DueDatePreview")),y=n(e("./icons/TimezoneIcon")),g=n(e("../../Button")),E=e("../../../utils"),T=function(e){function t(e){var r;(0,a.default)(this,t),r=(0,o.default)(this,(0,l.default)(t).call(this,e)),(0,c.default)((0,s.default)(r),"handleCompositionStart",function(){r.setState({composing:!0})}),(0,c.default)((0,s.default)(r),"handleCompositionEnd",function(){r.setState({composing:!1})}),(0,c.default)((0,s.default)(r),"handleFocus",function(){window.requestAnimationFrame(function(){var e=(0,s.default)(r),t=e.input;t&&t.select()})}),(0,c.default)((0,s.default)(r),"handleInputChange",function(e){var t=e.target.value;if(""===t)return r.handleInputReset(e);var n={dateResult:E.DateUtils.parse(t,r.parsingDate),inputValue:t};r.state.isSubmitted&&(n.isSubmitted=!1),r.state.dateResult||r.props.onActiveChange(!0),r.setState(n)}),(0,c.default)((0,s.default)(r),"handleInputKeyDown",function(e){if(!r.state.composing){var t=(0,E.resolveKeyboardKey)(e.key);"Enter"===t?r.handleSubmit(e):"Escape"===t&&r.handleInputReset(e)}}),(0,c.default)((0,s.default)(r),"handleInputReset",function(e){var t=(0,E.resolveKeyboardKey)(e.key);!r.state.inputValue&&!r.state.dateResult||t&&"Enter"!==t&&"Escape"!==t||(e.nativeEvent.stopImmediatePropagation(),r.setState({dateResult:null,inputValue:"",isSubmitted:!1}),r.input.focus(),r.props.onActiveChange(!1))}),(0,c.default)((0,s.default)(r),"handleSubmit",function(e){e.preventDefault();var t=r.state,n=t.dateResult,a=t.inputValue,i=t.timezone;if(r.setState({isSubmitted:!0}),!n||n.due_date){var o;if(n)if(n.due_date instanceof p.default)o=i!==n.due_date.timezone?n.due_date.changeTimezone(i):n.due_date;else{var l=n.all_day?{}:{timezone:i};o=p.default.fromDateist(n,l)}else o=a?r.props.selectedDate:null;track("scheduler","enter","type_a_date"),r.props.onDateSelect(o)}}),(0,c.default)((0,s.default)(r),"handleTimezoneIconClick",function(e){e.stopPropagation();var t=r.state.inputValue||(0,h.getInputValue)(r.props.selectedDate),n=E.DateUtils.parse(t,r.parsingDate);n.due_date=r.props.selectedDate,r.setState({dateResult:n}),r.input.focus(),r.props.onActiveChange(!0)}),(0,c.default)((0,s.default)(r),"handleTimezoneSelect",function(e){var t;switch(e){case m.FIXED_DATE:t=r.props.userTimezoneInfo.timezone;break;case m.TASK_DATE:t=r.props.selectedDate.timezone;break;case m.FLOATING_DATE:default:t=null}r.setState({timezone:t}),r.input.focus()});var n=e.currentDate,i=e.selectedDate;return r.state={dateResult:null,inputValue:(0,h.getInputValue)(i),timezone:i&&i.timezone,isSubmitted:!1},r.initialDate=e.selectedDate,r.parsingDate=e.selectedDate?e.selectedDate.inheritDate({year:n.getFullYear(),month:n.getMonth(),day:n.getDate()}):null,r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function(){e.input.focus()})}},{key:"componentDidUpdate",value:function(e){var t={};this.initialDate&&(!this.initialDate||this.initialDate.is_recurring)||this.props.selectedDate===e.selectedDate||(t.inputValue=(0,h.getInputValue)(this.props.selectedDate)),this.props.selectedDate!==e.selectedDate&&(t.timezone=this.props.selectedDate.timezone),this.setState(t)}},{key:"render",value:function(){var e=this,t=this.state,r=t.dateResult,n=t.inputValue,a=t.timezone,i=t.isSubmitted,o=this.props,l=o.karma,s=o.items,u=o.selectedDate,c=o.userTimezoneInfo,f=o.collaboratorsByPID,p=o.user;return d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:"scheduler-input"},d.default.createElement("input",{ref:function(t){e.input=t},placeholder:_("Type a due date"),value:n,spellCheck:"false",onChange:this.handleInputChange,onFocus:this.handleFocus,onKeyDown:this.handleInputKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),r?n.length>0&&d.default.createElement(g.default,{onClick:this.handleInputReset},d.default.createElement(v.default,null)):a&&d.default.createElement(g.default,{onClick:this.handleTimezoneIconClick},d.default.createElement(y.default,null))),r&&d.default.createElement(b.default,{dateResult:r,karma:l,items:s,user:p,collaboratorsByPID:f,selectedDate:u,userTimezoneInfo:c,timezone:a,isSubmitted:i,onClick:this.handleSubmit,onTimezoneSelect:this.handleTimezoneSelect}))}}]),t}(d.default.PureComponent);T.propTypes={currentDate:f.default.instanceOf(Date).isRequired,karma:f.default.number.isRequired,items:f.default.array,collaboratorsByPID:f.default.object.isRequired,user:f.default.object.isRequired,selectedDate:f.default.instanceOf(p.default),userTimezoneInfo:f.default.object.isRequired,onActiveChange:f.default.func,onDateSelect:f.default.func},T.defaultProps={items:[],onActiveChange:function(){},onDateSelect:function(){}};var w=T;r.default=w},{"../../../models/DateExt":154,"../../../utils":1094,"../../Button":466,"../../date_picker/icons/DeleteIcon":518,"../timezoneSelector/constants":938,"./DueDatePreview":921,"./icons/TimezoneIcon":923,"./utils":925,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],921:[function(e,t,r){"use strict";function n(e){function t(e){e.stopPropagation(),w(e)}var r=e.dateResult,n=e.karma,a=e.items,o=void 0===a?[]:a,h=e.userTimezoneInfo,v=e.timezone,b=e.isSubmitted,y=void 0!==b&&b,g=e.user,E=e.collaboratorsByPID,T=e.onClick,w=void 0===T?function(){}:T,R=e.onTimezoneSelect,P=void 0===R?function(){}:R;if(y&&!r.due_date)return i.default.createElement("div",{className:"scheduler-preview scheduler-preview--invalid"},i.default.createElement("div",{className:"scheduler-preview-content"},i.default.createElement(p.CalendarIconB,null),i.default.createElement("div",{className:"scheduler-preview-date"},_("No results"),n<m&&i.default.createElement(c.default,{isValid:!1}))));if(r.due_date){var D,O,C,I,A=f.DateUtils.format(r.due_date,!1,{with_time:!1,with_weekday:!0}),S=(0,u.getTasksDue)(o,r.due_date,{user:g,collaboratorsByPID:E});return r.all_day||(C=r.due_date instanceof l.default?r.due_date.format({inTimezoneTime:!0,onlyTime:!0}):f.DateUtils.getHourAndMin(r.due_date)),S.length>0?(O=_n("1 task","{n} tasks",S.length),O=(0,s.default)(O,{n:S.length})):O=_("No tasks"),r.is_recurring?(D=r.end_date?f.DateUtils.format(r.end_date,!1,{with_time:!1,with_weekday:!0}):_("Forever"),I=(0,s.default)(_("Repeats {recurring_date_pattern}"),{recurring_date_pattern:r.start_string||r.date_string})):I=O,i.default.createElement("div",{className:"scheduler-preview scheduler-preview--valid"},i.default.createElement("div",{className:"scheduler-preview-content",onClick:t},r.is_recurring?i.default.createElement(p.RecurringIcon,{size:"medium"}):i.default.createElement(p.CalendarIconB,null),i.default.createElement("div",{className:"scheduler-preview-date"},i.default.createElement("div",{className:"scheduler-preview-date-info"},i.default.createElement("span",null,A),D&&i.default.createElement("span",null," \u2192 ".concat(D)),i.default.createElement("span",{className:"scheduler-preview-date-info-time"},C)),i.default.createElement("span",{className:"scheduler-preview-date-tasks"},I))),(!r.all_day||v)&&i.default.createElement(d.default,{userTimezoneInfo:h,timezone:v,onSelect:P}),n<m&&i.default.createElement(c.default,null))}return null}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../../../models/DateExt")),s=a(e("../../../utils/format")),u=e("../../date_picker/utils"),c=a(e("./HelpText")),d=a(e("../timezoneSelector")),f=e("../../../utils"),p=e("../../icons"),m=2500;n.propTypes={dateResult:o.default.object.isRequired,karma:o.default.number.isRequired,items:o.default.array,collaboratorsByPID:o.default.object.isRequired,user:o.default.object.isRequired,userTimezoneInfo:o.default.object.isRequired,selectedDate:o.default.instanceOf(l.default),isSubmitted:o.default.bool,onClick:o.default.func,onTimezoneSelect:o.default.func,timezone:o.default.string};var h=n;r.default=h},{"../../../models/DateExt":154,"../../../utils":1094,"../../../utils/format":1079,"../../date_picker/utils":520,"../../icons":731,"../timezoneSelector":940,"./HelpText":922,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],922:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e,t,r;return this.props.isValid?(e=_("You can also type in recurring due dates like <b>every day</b>, <b>every 2 weeks</b>, and <b>every last Fri of the month</b>."),t=_("More about recurring due dates"),r="https://support.todoist.com/hc/articles/360000636289"):(e=_("Did you know you can type in due dates like <b>Jan 15 at 9am</b>, <b>2 months from now</b>, or <b>every Friday</b>?"),t=_("More about due dates"),r="https://support.todoist.com/hc/articles/205325931"),u.default.createElement("div",{className:"scheduler-preview-help"},u.default.createElement("p",{dangerouslySetInnerHTML:{__html:e}}),u.default.createElement("p",null,u.default.createElement("a",{href:r,rel:"noopener noreferrer",className:"scheduler-preview-help-link",target:"_blank"},t)))}}]),t}(u.default.PureComponent);d.propTypes={isValid:c.default.bool},d.defaultProps={isValid:!0};var f=d;r.default=f},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],923:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm7 8.7v.3c0 .1 0 .3-.1.4 0 .1-.1.3-.1.4 0 .1 0 .2-.1.3 0 .1-.1.3-.1.4 0 .1 0 .1-.1.2-.1.2-.1.3-.2.5 0 0 0 .1-.1.1-.1.2-.2.3-.3.5v.1c-.1.2-.2.3-.3.5-.1.2-.3.3-.4.5-.2-.7-.9-1.2-1.7-1.2h-.9v-2.6c0-.5-.4-.9-.9-.9H8.5v-1.8h1.8c.5 0 .9-.4.9-.9V7.6H13c1 0 1.8-.8 1.8-1.8v-.3c.3.1.6.3.9.5.6.3 1.1.8 1.6 1.3.4.5.8 1 1.1 1.6 0 0 0 .1.1.1.3.6.5 1.2.6 1.8v.2c0 .3.1.6.1 1 0-.3 0-.6-.1-1 0 .3.1.6.1 1-.2.2-.2.5-.2.7zm0 0v.2c-.1 0 0-.1 0-.2zm-.1.7c0 .1 0 .2-.1.3 0-.1 0-.2.1-.3zm-.2.6c0 .1-.1.2-.1.3 0-.1.1-.2.1-.3zm-.2.6c0 .1-.1.2-.1.3 0-.1 0-.2.1-.3zm-.3.6c-.1.1-.1.2-.2.3.1-.1.1-.2.2-.3zm-.3.6c-.1.1-.1.2-.2.3 0-.1.1-.2.2-.3zm-.4.5c-.1.1-.1.2-.2.3 0-.1.1-.2.2-.3zM14.7 5.5c.3.1.6.3.8.4-.3-.1-.6-.3-.8-.4zM18.3 9c.1.3.2.5.3.8 0-.2-.1-.5-.3-.8zm.4.9c.1.3.2.6.2.9-.1-.3-.1-.6-.2-.9zm-1-1.9c-.2-.2-.3-.5-.5-.7.2.2.4.5.5.7zm.5.8c-.1-.3-.3-.5-.5-.8.3.3.4.6.5.8zm-1.1-1.6c-.2-.2-.4-.4-.7-.6.2.2.5.4.7.6zM15.6 6c.2.1.5.3.7.5-.2-.2-.4-.3-.7-.5zM5 11.2v.8c0-.5.1-1.1.2-1.6l4.2 4.2v.9c0 1 .8 1.8 1.8 1.8V19c-1-.1-2-.5-2.9-1 0 0-.1 0-.1-.1-.1-.1-.2-.2-.3-.2-.1 0-.1-.1-.2-.1-.1-.1-.2-.2-.3-.2l-.2-.2c-.1-.2-.2-.3-.3-.4-.1-.1-.1-.2-.2-.2-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.2-.3-.1-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.4 0-.1 0-.2-.1-.3 0-.1 0-.3-.1-.4V11.2zm.2-.7c0 .2-.1.3-.1.5 0-.2 0-.3.1-.5zm5.6 8.4h-.3.3zm-.7-.2c-.1 0-.2 0-.2-.1.1.1.2.1.2.1zm-.7-.2c-.1 0-.2-.1-.3-.1.1 0 .2 0 .3.1zm-.7-.3c-.1 0-.2-.1-.3-.2.1.1.2.1.3.2zm-.6-.4c-.1-.1-.2-.1-.3-.2.2.1.3.2.3.2zm-.5-.3c-.1-.1-.2-.1-.2-.2.1 0 .1.1.2.2zm-.9-.9c-.1-.1-.1-.2-.2-.2.1 0 .1.1.2.2zm-.4-.6c-.1-.1-.1-.2-.2-.2.1.1.1.2.2.2zm-.4-.5c0-.1-.1-.2-.1-.3 0 .1.1.2.1.3zm-.3-.6c0-.1-.1-.2-.1-.3.1.1.1.2.1.3zm-.2-.6c0-.1-.1-.2-.1-.3 0 .1.1.2.1.3zm-.2-.7c0-.1 0-.2-.1-.2.1 0 .1.1.1.2zm-.1-.7v-.2c-.1.1 0 .1 0 .2zm1.8 3.9l.2.2-.2-.2z",fill:"#b2b2b2"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=n;r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],924:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./DueDateInput")),i=a.default;r.default=i},{"./DueDateInput":920,"@babel/runtime/helpers/interopRequireDefault":189}],925:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getInputValue=void 0;var n=function(e){return e?e.is_recurring?e.string:e.format({inTimezoneTime:!0}):""};r.getInputValue=n},{}],926:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/assertThisInitialized")),c=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),f=a(e("react")),p=a(e("prop-types")),m=a(e("classnames")),h=n(e("../../../models/DateExt")),v=e("../../../utils"),b=a(e("../../Button")),y=n(e("./constants")),g=a(e("./SuggestionIcon")),E=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(a))),(0,d.default)((0,u.default)(r),"isUnmounted",!1),(0,d.default)((0,u.default)(r),"state",r.getSuggestionInfo(r.props)),(0,d.default)((0,u.default)(r),"handleClick",function(){var e=r.props,t=e.predictedDate,n=e.type,a=e.onClick;if(n!==y.SUGGESTED||r.state.suggestedDate)return n===y.NO_DATE?a(n,null):n===y.SMART_SCHEDULER?a(n):n===y.POSTPONE?a(n,t):void a(n,r.state.suggestedDate)}),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.type===this.props.type&&e.ignoredDays===this.props.ignoredDays||this.setState(this.getSuggestionInfo(e))}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"getSuggestionInfo",value:function(e){var t,r,n,a,i,o,l=this,s=e.currentDate,u=e.ignoredDays,c=e.nextWeekDay,d=e.predictedDate,f=e.selectedDate,p=e.type,m=e.weekStartDay,v=f&&f.timezone?(0,h.getOffsetDate)(s,-s.getTimezoneOffset(),-f.timezone_offset):new Date(s.getTime());switch(v.setHours(23,59,59),p){case y.TODAY:o=_("Today");break;case y.TOMORROW:o=_("Tomorrow"),v.setDate(v.getDate()+1);break;case y.NEXT_WEEK:o=_("Next week"),a=m-(0===v.getDay()?7:v.getDay()),a<=0&&(a+=7),t=c-m,t<0&&(t+=7),n=a+t,v.setDate(v.getDate()+n);break;case y.NEXT_WEEKEND:o=_("Next weekend"),i=u.reduce(function(e,t){return Math.min(e,t)}),r=i-v.getDay(),r<=0&&(r+=7),v.setDate(v.getDate()+r);break;case y.IN_THE_MORNING:o=_("In the morning"),v.setDate(v.getDate()+1),v.setHours(9,0,0);break;case y.SUGGESTED:d.then(function(e){l.isUnmounted||(e.setSeconds(59),l.setState({suggestedDate:e,suggestionLabel:_x("scheduler_suggested_date","Suggested")}))}).catch(function(){l.isUnmounted||l.setState({hasError:!0,suggestionLabel:null})}),v=null,o=_x("scheduler_suggested_date_loading","Suggesting...");break;case y.POSTPONE:d instanceof Array?v=null:(v.setSeconds(59),v=d),o=_("Postpone");break;case y.SMART_SCHEDULER:v=null,o=_("Open Smart Schedule");break;case y.NO_DATE:v=null,o=_("No Date")}return{hasError:void 0,suggestedDate:v,suggestionLabel:o}}},{key:"render",value:function(){var e=this.state,t=e.hasError,r=e.suggestedDate,n=e.suggestionLabel,a=this.props,i=a.type,o=a.clock,l=r&&r.getDay&&r.getDay(),s=null===r&&i===y.SUGGESTED,u=(0,m.default)("scheduler-suggestions-item",{"scheduler-suggestions-item--disabled":s});return t?null:f.default.createElement(b.default,{className:u,onClick:this.handleClick,"data-track":"scheduler|".concat(y.trackingActions[i]),disabled:s},f.default.createElement(g.default,{date:r,type:i,clock:o}),f.default.createElement("div",{className:"scheduler-suggestions-item-label"},n),(0,v.isNumber)(l)&&f.default.createElement("div",{className:"scheduler-suggestions-item-weekday"},y.shortWeekdays[l]))}}]),t}(f.default.PureComponent);E.propTypes={currentDate:p.default.object.isRequired,ignoredDays:p.default.array.isRequired,nextWeekDay:p.default.number.isRequired,predictedDate:p.default.oneOfType([p.default.instanceOf(Promise),p.default.instanceOf(h.default),p.default.arrayOf(p.default.instanceOf(h.default))]),selectedDate:p.default.instanceOf(h.default),type:p.default.string.isRequired,weekStartDay:p.default.number.isRequired,onClick:p.default.func.isRequired,clock:p.default.string.isRequired},E.defaultProps={predictedDate:Promise.resolve(),onClick:function(){}};var T=E;r.default=T},{"../../../models/DateExt":154,"../../../utils":1094,"../../Button":466,"./SuggestionIcon":927,"./constants":929,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],927:[function(e,t,r){"use strict";function n(e){var t,r=e.date,n=e.clock,a=e.type,i={"aria-hidden":!0,focusable:!1};switch(a){case u.TODAY:t=l.default.createElement(c.TodayIcon,(0,o.default)({dateString:n,className:"scheduler-suggestions-item-icon--today"},i));break;case u.TOMORROW:t=l.default.createElement(c.TomorrowIcon,(0,o.default)({className:"scheduler-suggestions-item-icon--tomorrow"},i));break;case u.NEXT_WEEK:t=l.default.createElement(c.CalendarMoveIcon,(0,o.default)({className:"scheduler-suggestions-item-icon--next-week"},i));break;case u.NEXT_WEEKEND:t=l.default.createElement(f.default,i);break;case u.NO_DATE:t=l.default.createElement(c.ClearIcon,i);break;case u.IN_THE_MORNING:t=l.default.createElement(d.default,i);break;case u.SMART_SCHEDULER:case u.SUGGESTED:t=l.default.createElement(c.DateSuggestionIcon,(0,o.default)({className:"scheduler-suggestions-item-icon--suggested",date:r&&r.getDate()},i));break;case u.POSTPONE:t=l.default.createElement(c.PostponeIcon,(0,o.default)({className:"scheduler-suggestions-item-icon--postpone"},i))}return l.default.createElement("div",{className:"scheduler-suggestions-item-icon"},t)}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/extends")),l=i(e("react")),s=i(e("prop-types")),u=a(e("./constants")),c=e("../../icons"),d=i(e("./icons/Morning")),f=i(e("./icons/NextWeekend"));n.propTypes={date:s.default.object,type:s.default.string.isRequired,clock:s.default.string.isRequired};var p=n;r.default=p},{"../../icons":731,"./constants":929,"./icons/Morning":930,"./icons/NextWeekend":931,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],928:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("react")),c=n(e("prop-types")),d=n(e("../../../models/DateExt")),f=n(e("./Suggestion")),p=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.currentDate,r=e.ignoredDays,n=e.nextWeekDay,a=e.predictedDate,i=e.selectedDate,o=e.types,l=e.weekStartDay,s=e.onSuggestionSelect,c=e.clock;return u.default.createElement("div",{className:"scheduler-suggestions"},o.map(function(e){return u.default.createElement(f.default,{key:e,type:e,currentDate:t,ignoredDays:r,nextWeekDay:n,predictedDate:a,selectedDate:i,weekStartDay:l,onClick:s,clock:c})}))}}]),t}(u.default.PureComponent);p.propTypes={currentDate:c.default.object.isRequired,types:c.default.array,ignoredDays:c.default.array.isRequired,nextWeekDay:c.default.number.isRequired,predictedDate:c.default.oneOfType([c.default.instanceOf(Promise),c.default.instanceOf(d.default),c.default.arrayOf(c.default.instanceOf(d.default))]),selectedDate:c.default.instanceOf(d.default),tabIndex:c.default.string,weekStartDay:c.default.number.isRequired,onSuggestionSelect:c.default.func,clock:c.default.string.isRequired},p.defaultProps={types:[],onSuggestionSelect:function(){}};var m=p;r.default=m},{"../../../models/DateExt":154,"./Suggestion":926,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react"}],929:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.shortWeekdays=r.trackingActions=r.NO_DATE=r.SMART_SCHEDULER=r.POSTPONE=r.SUGGESTED=r.IN_THE_MORNING=r.NEXT_WEEKEND=r.NEXT_WEEK=r.TOMORROW=r.TODAY=void 0;var a,i=n(e("@babel/runtime/helpers/defineProperty"));r.TODAY="today";r.TOMORROW="tomorrow";r.NEXT_WEEK="nextWeek";r.NEXT_WEEKEND="nextWeekend";r.IN_THE_MORNING="inTheMorning";r.SUGGESTED="suggested";r.POSTPONE="postpone";r.SMART_SCHEDULER="smartScheduler";r.NO_DATE="noDate";var o=(a={},(0,i.default)(a,"today","date_shortcut_today"),(0,i.default)(a,"tomorrow","date_shortcut_tomorrow"),(0,i.default)(a,"nextWeek","date_shortcut_nextweek"),(0,i.default)(a,"nextWeekend","date_shortcut_nextweekend"),(0,i.default)(a,"inTheMorning","date_shortcut_morning"),(0,i.default)(a,"suggested","date_shortcut_suggested"),(0,i.default)(a,"postpone","date_shortcut_postpone"),(0,i.default)(a,"smartScheduler","date_shortcut_smartscheduler"),(0,i.default)(a,"noDate","date_shortcut_nodate"),a);r.trackingActions=o;var l=[_("Sun"),_("Mon"),_("Tue"),_("Wed"),_("Thu"),_("Fri"),_("Sat")];r.shortWeekdays=l},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],930:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:24,height:24},e),o.default.createElement("path",{fill:"gray",fillRule:"evenodd",d:"M8.535 14a4 4 0 1 1 6.93 0h-6.93zm.02-10.315a.5.5 0 0 1 .654.27l.765 1.848a.5.5 0 1 1-.923.383l-.766-1.848a.5.5 0 0 1 .27-.653zm6.89 0a.5.5 0 0 1 .27.653l-.766 1.848a.5.5 0 0 1-.923-.383l.765-1.847a.5.5 0 0 1 .653-.27zm4.87 4.87a.5.5 0 0 1-.27.654l-1.848.765a.5.5 0 0 1-.383-.923l1.848-.766a.5.5 0 0 1 .653.27zm-16.63 0a.5.5 0 0 1 .653-.27l1.848.766a.5.5 0 0 1-.383.923L3.956 9.21a.5.5 0 0 1-.27-.653zM9.5 17h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1zm-4-2h13a.5.5 0 1 1 0 1h-13a.5.5 0 1 1 0-1z"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],931:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:24,height:24},e),o.default.createElement("g",{fill:"gray",fillRule:"evenodd"},o.default.createElement("path",{d:"M17 15v-3a2 2 0 1 1 4 0v4.436c0 .892-.093 1.215-.267 1.54a1.81 1.81 0 0 1-.756.757c-.326.174-.65.267-1.54.267H5.563c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 0 1-.757-.756c-.174-.326-.267-.65-.267-1.54V12a2 2 0 1 1 4 0v3h10z"}),o.default.createElement("path",{d:"M19 9a3 3 0 0 0-3 3v2H8v-2a3 3 0 0 0-3-3v-.436c0-.892.093-1.215.267-1.54a1.81 1.81 0 0 1 .756-.757c.326-.174.65-.267 1.54-.267h8.873c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54V9z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],932:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./Suggestions")),i=a.default;r.default=i},{"./Suggestions":928,"@babel/runtime/helpers/interopRequireDefault":189}],933:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),l=a(e("@babel/runtime/helpers/possibleConstructorReturn")),s=a(e("@babel/runtime/helpers/getPrototypeOf")),u=a(e("@babel/runtime/helpers/assertThisInitialized")),c=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),f=a(e("react")),p=a(e("prop-types")),m=a(e("@doist/reactist/lib/Tooltip")),h=e("../../../utils"),v=a(e("../../../models/DateExt")),b=a(e("../timezoneSelector")),y=n(e("../timezoneSelector/constants")),g=a(e("../../Button")),E=a(e("./icons/Invalid")),T=function(e){function t(e){var r;(0,i.default)(this,t),r=(0,l.default)(this,(0,s.default)(t).call(this,e)),(0,d.default)((0,u.default)(r),"handleInputChange",function(e){var t=e.target.value,n=r.props.selectedDate,a=h.DateUtils.parse(t),i=a.due_date,o=a.has_only_time;return""===t?(clearTimeout(r.errorTimeout),r.errorTimeout=null,r.setState({timeInputValue:t,selectedTime:null,isAddButtonDisabled:!(n&&n.with_time),isErrorShown:!1})):i&&o?(clearTimeout(r.errorTimeout),r.errorTimeout=null,void r.setState({timeInputValue:t,selectedTime:i,isAddButtonDisabled:!1,isErrorShown:!1})):(r.errorTimeout||(r.errorTimeout=setTimeout(function(){r.setState({isErrorShown:!0})},500)),r.setState({timeInputValue:t,isAddButtonDisabled:!0}))}),(0,d.default)((0,u.default)(r),"handleKeyDown",function(e){"Escape"===(0,h.resolveKeyboardKey)(e.key)&&r.props.onCancel(e)}),(0,d.default)((0,u.default)(r),"handleSubmit",function(e){e.preventDefault();var t=r.state,n=t.selectedTime,a=t.timezone;t.isAddButtonDisabled||r.props.onSelect(e,n,a)}),(0,d.default)((0,u.default)(r),"handleTimezoneSelect",function(e){var t,n=r.props,a=n.selectedDate,i=n.userTimezoneInfo;switch(e){case y.FIXED_DATE:t=i.timezone;break;case y.TASK_DATE:t=a.timezone;break;case y.FLOATING_DATE:default:t=null}r.setState({timezone:t})});var n=r.props.selectedDate;if(n&&n.with_time){var a=new Date;a.setHours(n.getTimezoneHours(),n.getTimezoneMinutes(),n.getTimezoneSeconds()),r.state={selectedTime:a,timezone:n.timezone,timeInputValue:n.format({inTimezoneTime:!0,onlyTime:!0}),iisAddButtonDisabled:!1,isErrorShown:!1}}else r.state={selectedTime:null,timezone:null,timeInputValue:"",iisAddButtonDisabled:!0,isErrorShown:!1};return r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedDate,r=e.userTimezoneInfo,n=e.timeFormat,a=e.onCancel,i=this.state,o=i.timeInputValue,l=i.timezone,s=i.isAddButtonDisabled,u=i.isErrorShown,c=t&&t.with_time;return f.default.createElement("form",{className:"scheduler-timepicker",onSubmit:this.handleSubmit,onKeyDown:this.handleKeyDown},f.default.createElement("div",{className:"scheduler-timepicker-controls"},f.default.createElement("div",{className:"scheduler-timepicker-input"},f.default.createElement("div",{className:"scheduler-timepicker-input-label"},f.default.createElement("label",{htmlFor:"scheduler-timepicker-input-element"},_("Time")),u&&f.default.createElement(m.default,{delayShow:0,text:f.default.createElement(f.default.Fragment,null,f.default.createElement("div",null,_("Invalid Time")),f.default.createElement("div",null,_("Use 13:00 or 1PM format"))),position:"bottom",tooltipClassName:"scheduler-timepicker-tooltip"},f.default.createElement(E.default,{className:"tip_item"}))),f.default.createElement("div",{className:"scheduler-timepicker-input-controls"},f.default.createElement("input",{id:"scheduler-timepicker-input-element",placeholder:n?_("eg, 2pm"):_("eg, 14:00"),value:o,onChange:this.handleInputChange}))),f.default.createElement(b.default,{timezone:l,userTimezoneInfo:r,onSelect:this.handleTimezoneSelect})),f.default.createElement("div",{className:"scheduler-timepicker-actions"},f.default.createElement(g.default,{type:"submit",className:"scheduler-timepicker-actions-add",disabled:s},c?_x("scheduler_change_time_button","Change"):_x("scheduler_add_time_button","Add")),f.default.createElement(g.default,{onClick:a},_("Cancel"))))}}]),t}(f.default.PureComponent);T.propTypes={selectedDate:p.default.instanceOf(v.default),userTimezoneInfo:p.default.object.isRequired,timeFormat:p.default.number,onCancel:p.default.func,onSelect:p.default.func},T.defaultProps={timeFormat:0,onCancel:function(){},onSelect:function(){}};var w=T;r.default=w},{"../../../models/DateExt":154,"../../../utils":1094,"../../Button":466,"../timezoneSelector":940,"../timezoneSelector/constants":938,"./icons/Invalid":934,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,"@doist/reactist/lib/Tooltip":203,"prop-types":"prop-types",react:"react"}],934:[function(e,t,r){"use strict";function n(){return i.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("g",{fill:"#979797",fillRule:"evenodd"},i.default.createElement("path",{d:"M12 9a1 1 0 0 1 1 1v4a1 1 0 0 1-2 0v-4a1 1 0 0 1 1-1zm0 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),i.default.createElement("path",{
d:"M13.73 4.96L20.75 17A2 2 0 0 1 19.02 20H4.98a2 2 0 0 1-1.73-3l7.02-12.04a2 2 0 0 1 3.46 0zm-.7.55a1.2 1.2 0 0 0-2.07 0L4.15 17.2A1.2 1.2 0 0 0 5.18 19h13.64a1.2 1.2 0 0 0 1.03-1.8L13.04 5.5z"})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react"))},{"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],935:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./TimePicker")),i=a.default;r.default=i},{"./TimePicker":933,"@babel/runtime/helpers/interopRequireDefault":189}],936:[function(e,t,r){"use strict";function n(e){function t(e){e.stopPropagation(),E(!1)}function r(e){E(!1),s(e)}var n=e.timezone,a=e.userTimezoneInfo,i=e.onSelect,s=void 0===i?function(){}:i,v=l.default.useRef(),b=l.default.useState(!1),y=(0,o.default)(b,2),g=y[0],E=y[1];return l.default.createElement("div",{className:"scheduler-timezone"},l.default.createElement(d.default,{ref:v,className:"scheduler-timezone-label",onClick:function(){return E(!g)},"aria-haspopup":"true","aria-expanded":g},l.default.createElement("span",null,n||_("Time Zone")),l.default.createElement(p.default,null)),g&&l.default.createElement(c.default,{anchor:v.current,anchorGap:2,className:"dialog-timezone",contentClassName:"scheduler-timezone-list",width:h,onHide:t},l.default.createElement(u.default,null,l.default.createElement(m.default,{value:f.FLOATING_DATE,isSelected:null===n,onClick:r},l.default.createElement("div",{className:"scheduler-timezone-item-header"},_("Floating Time")),l.default.createElement("div",{className:"scheduler-timezone-item-description"},_("Due time stays the same across time zones"))),l.default.createElement(m.default,{value:f.FIXED_DATE,isSelected:n===a.timezone,onClick:r},l.default.createElement("div",{className:"scheduler-timezone-item-header"},a.timezone),l.default.createElement("div",{className:"scheduler-timezone-item-description"},_("Your current time zone"))),n&&n!==a.timezone&&l.default.createElement(m.default,{value:f.TASK_DATE,isSelected:n&&n!==a.timezone,onClick:r},l.default.createElement("div",{className:"scheduler-timezone-item-header"},n),l.default.createElement("div",{className:"scheduler-timezone-item-description"},_("This task's current time zone"))),l.default.createElement("div",{className:"scheduler-timezone-help"},l.default.createElement("a",{href:"https://get.todoist.help/hc/articles/360001450039",target:"_blank",rel:"noopener noreferrer"},_("Time Zones Help"))))))}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("react")),s=i(e("prop-types")),u=i(e("react-focus-lock")),c=i(e("../../Dialog")),d=i(e("../../Button")),f=a(e("./constants")),p=i(e("./icons/RightArrow")),m=i(e("./TimezoneSelectorItem")),h=225;n.propTypes={userTimezoneInfo:s.default.object.isRequired,timezone:s.default.string,onSelect:s.default.func};var v=n;r.default=v},{"../../Button":466,"../../Dialog":467,"./TimezoneSelectorItem":937,"./constants":938,"./icons/RightArrow":939,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-focus-lock":"react-focus-lock"}],937:[function(e,t,r){"use strict";function n(e){function t(e){e.nativeEvent.stopImmediatePropagation(),c(r)}var r=e.value,n=e.isSelected,a=void 0!==n&&n,o=e.children,u=e.onClick,c=void 0===u?function(){}:u,d=(0,l.default)("scheduler-timezone-item",{"scheduler-timepicker-item--selected":a});return i.default.createElement(s.default,{className:d,onClick:t},o)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("classnames")),s=a(e("../../Button"));n.propTypes={value:o.default.string.isRequired,isSelected:o.default.bool,onClick:o.default.func,children:o.default.node};var u=n;r.default=u},{"../../Button":466,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],938:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TASK_DATE=r.FIXED_DATE=r.FLOATING_DATE=void 0;r.FLOATING_DATE="floating";r.FIXED_DATE="fixed";r.TASK_DATE="task"},{}],939:[function(e,t,r){"use strict";function n(e){return o.default.createElement("svg",(0,i.default)({width:24,height:24},e),o.default.createElement("path",{d:"M14.243 12L9.646 7.404a.5.5 0 1 1 .708-.707l4.95 4.95a.5.5 0 0 1 0 .707l-4.95 4.95a.5.5 0 0 1-.708-.708L14.243 12z",fill:"currentColor",fillRule:"evenodd"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("react"))},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],940:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./TimezoneSelector")),i=a.default;r.default=i},{"./TimezoneSelector":936,"@babel/runtime/helpers/interopRequireDefault":189}],941:[function(e,t,r){"use strict";function n(t,r){if(r===o.SUGGESTED){var n=e("../../models/SmartSchedule");return new Promise(function(e,r){n.predictItemDuedate(t[0],function(t,n){n&&r(),e(t)})})}if(r===o.POSTPONE)return 1===t.length?t[0].due.nextRecurrence()[0]:t.map(function(e){return e.due.nextRecurrence()[0]})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,r=!0,n=e[0]&&e[0].due;return e.forEach(function(e){(!e.due||e.due&&!e.due.is_recurring)&&(t=!1),e.due!==n&&(r=!1)}),t?o.POSTPONE:r?o.SUGGESTED:o.SMART_SCHEDULER}var i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.fetchPredictedDate=n,r.getPredictedDateType=a;var o=i(e("./suggestions/constants"))},{"../../models/SmartSchedule":166,"./suggestions/constants":929,"@babel/runtime/helpers/interopRequireWildcard":190}],942:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.searchString,r=(0,p.useSelector)((0,m.itemGetBySearch)(t)),n=(0,h.useRootItemListProps)(),a=(0,d.useState)({init:!0}),i=(0,c.default)(a,2),o=i[0],l=i[1],s=function(){l(o.error?{retrying:!0}:{fetching:!0}),(0,b.jsonAPI)("/completed/search",{params:{query:"search: ".concat(t),only_history:!0},withToken:!0}).then(function(e){var t=e.items.map(g.deserializeItemFields);l({result:{items:t}})}).catch(function(e){var t=R.default.captureError(e,{extra:{response:e.response,url:e.url}}),r="STATUS: ".concat(e.response.status," ERROR_ID: ").concat(t);l({error:r})})};return 0===r.length?d.default.createElement("div",{className:"item_search"},d.default.createElement(d.default.Fragment,null,(o.init||o.fetching)&&d.default.createElement(v.EmptyStateSearchResults,{headerText:(0,b.format)(_("No matches for \u201c{search_term}\u201d"),{search_term:t}),withAction:!0,loading:Boolean(o.fetching),onButtonClick:s}),(o.error||o.retrying)&&d.default.createElement(v.EmptyStateSearchResults,{headerText:_("An unknown error happened while searching. Please wait a few minutes and try again."),errorCode:o.error||o.retrying,withAction:!0,loading:Boolean(o.retrying),onButtonClick:s}),o.result&&0===o.result.items.length&&d.default.createElement(v.EmptyStateSearchResults,{headerText:(0,b.format)(_("No completed tasks matching for \u201c{search_term}\u201d"),{search_term:t}),withAction:!1}),o.result&&o.result.items.length>0&&d.default.createElement(P,{completed:o.result.items}))):d.default.createElement("div",{className:"item_search"},d.default.createElement(h.RootItemList,(0,u.default)({},n,{rootItemIds:r.map(function(e){return e.id})})),d.default.createElement(d.default.Fragment,null,o.init&&d.default.createElement(E.default,{className:"completed_search_btn",onClick:s},_("Search completed tasks...")),(o.fetching||o.retrying)&&d.default.createElement("div",{className:"spinner_holder"},d.default.createElement(T.default,null)),o.result&&0===o.result.items.length&&d.default.createElement("p",null,(0,b.format)(_("No completed tasks matching for \u201c{search_term}\u201d"),{search_term:t})),o.result&&o.result.items.length>0&&d.default.createElement(P,{completed:o.result.items}),o.error&&d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:"error_msg"},d.default.createElement("p",null,_("An unknown error happened while searching. Please wait a few minutes and try again.")),d.default.createElement("code",null,o.error)),d.default.createElement(E.default,{className:"completed_search_btn",onClick:s},_("Search completed tasks...")))))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var s=l(e("@babel/runtime/helpers/defineProperty")),u=l(e("@babel/runtime/helpers/extends")),c=l(e("@babel/runtime/helpers/slicedToArray")),d=o(e("react")),f=l(e("prop-types")),p=e("react-redux"),m=e("../../reducers/items"),h=e("../item_list"),v=e("../emptyState"),b=e("../../utils"),y=e("../../utils/fp"),g=e("../../reducers/items/utils"),E=l(e("../Button")),T=l(e("../spinners/RingSpinner")),w=l(e("../item_list_item")),R=l(e("../../logger/Logger"));i.propTypes={searchString:f.default.string};var P=d.default.memo(function(e){var t=e.completed,r=(0,d.useState)((0,b.byID)(t)),n=(0,c.default)(r,2),i=n[0],o=n[1],l=(0,p.useDispatch)(),u=(0,p.useSelector)(function(e){return e}),f=(0,b.values)(i).filter(function(e){return u.projects[e.project_id]}).sort((0,y.sortBy)(["project_id","date_completed"])),h=function(e,t){var r=i[e];l(t?(0,m.itemArchive)(e):(0,m.itemUnarchive)(r)),o(a({},i,(0,s.default)({},e,a({},r,{checked:t}))))};return d.default.createElement("ul",{className:"items completed_item_list"},f.map(function(e){return d.default.createElement(w.default,{key:e.id,item:e,indent:1,project:u.projects[e.project_id],labels:u.labels,reminders:[],user:u.user,collaborators:u.collaborators,showProject:!0,onCheckedChange:h})}))})},{"../../logger/Logger":132,"../../reducers/items":1005,"../../reducers/items/utils":1008,"../../utils":1094,"../../utils/fp":1083,"../Button":466,"../emptyState":588,"../item_list":764,"../item_list_item":775,"../spinners/RingSpinner":960,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],943:[function(e,t,r){"use strict";function n(e){var t=e.searchString,r=(0,s.useSelector)((0,u.noteGetBySearch)(t)),n=(0,s.useSelector)(function(e){return e}),i=(0,s.useDispatch)();return 0===r.length?o.default.createElement(b.EmptyStateSearchResults,{withAction:!1,headerText:(0,h.format)(_("No matches for \u201c{search_term}\u201d"),{search_term:t})}):o.default.createElement("ul",{className:"note_search_list"},r.map(function(e){var t=(0,d.getCollaboratorById)(e.posted_uid,n),r=!e.item_id,l=r?null:n.items[e.item_id],s=n.projects[l?l.project_id:e.project_id];if(!s)return null;var u=function(){i(r?(0,y.detailViewShowProject)(s.id,{activeTab:"comments",highlightedNoteId:e.id}):(0,y.detailViewShowItem)(l.id,{activeTab:"comments",highlightedNoteId:e.id}))};return o.default.createElement(a,{key:e.id,note:e,item:l,project:s,postedBy:t,isShared:(0,d.isShared)(n,s.id),onClick:u})}))}function a(e){var t=e.note,r=e.item,n=e.project,a=e.postedBy,i=e.isShared,l=e.onClick;return o.default.createElement("li",null,o.default.createElement("button",{onClick:l},o.default.createElement(c.default,{user:a}),o.default.createElement("div",{className:"content"},r?o.default.createElement("h6",{className:"task_title"},o.default.createElement(f.default,{text:r.content})):null,o.default.createElement("div",{className:"note_content"},o.default.createElement(p.default,{text:t.content}),o.default.createElement(v.default,{attachment:t.file_attachment})),o.default.createElement("div",{className:"meta_info"},o.default.createElement("span",{className:"time"},(0,h.formatDate)(new Date(t.posted))),o.default.createElement("a",{className:"project_item",href:"app#project/".concat(n.id)},o.default.createElement(f.default,{className:"project_item__name",text:n.name}),o.default.createElement(m.ProjectIcon,{className:"project_item__color",color:n.color,isShared:i}))))))}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var o=i(e("react")),l=i(e("prop-types")),s=e("react-redux"),u=e("../../reducers/notes"),c=i(e("../Avatar")),d=e("../../reducers/collaborators"),f=i(e("../formatter/PlainText")),p=i(e("../formatter/FormattedText")),m=e("../icons"),h=e("../../utils"),v=i(e("../notes/Attachment")),b=e("../emptyState"),y=e("../../reducers/detailView");n.propTypes={searchString:l.default.string},a.propTypes={note:l.default.object.isRequired,item:l.default.object,project:l.default.object.isRequired,postedBy:l.default.object,isShared:l.default.bool.isRequired,onClick:l.default.func.isRequired}},{"../../reducers/collaborators":983,"../../reducers/detailView":996,"../../reducers/notes":1021,"../../utils":1094,"../Avatar":465,"../emptyState":588,"../formatter/FormattedText":621,"../formatter/PlainText":622,"../icons":731,"../notes/Attachment":810,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],944:[function(e,t,r){"use strict";function n(e){var t=e.searchString,r=(0,l.format)(_("Results for \u201c{search_term}\u201d"),{search_term:t});return i.default.createElement("div",{className:"search_holder"},i.default.createElement(s.ViewHeader,{header:r,largeBottomMargin:!0}),i.default.createElement(u.Tabs,null,i.default.createElement(u.Tab,{value:"tasks",title:_("Tasks")},i.default.createElement(d.default,{searchString:t})),i.default.createElement(u.Tab,{value:"comments",title:_("Comments")},i.default.createElement(c.default,{searchString:t}))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=e("../../utils"),s=e("../view"),u=e("../reactist/tabs"),c=a(e("./NoteSearch")),d=a(e("./ItemSearch"));n.propTypes={searchString:o.default.string}},{"../../utils":1094,"../reactist/tabs":882,"../view":975,"./ItemSearch":942,"./NoteSearch":943,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],945:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./SearchView")),i=a.default;r.default=i},{"./SearchView":944,"@babel/runtime/helpers/interopRequireDefault":189}],946:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/assertThisInitialized")),d=i(e("@babel/runtime/helpers/inherits")),f=i(e("@babel/runtime/helpers/defineProperty")),p=i(e("react")),m=i(e("prop-types")),h=e("react-transition-group"),_=function(e){function t(){var e,r;(0,o.default)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(a))),(0,f.default)((0,c.default)(r),"overlay",p.default.createRef()),(0,f.default)((0,c.default)(r),"handleClickOutside",function(){r.setState({on:!1})}),(0,f.default)((0,c.default)(r),"handleTransitionExited",function(){r.props.onExited()}),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.transitionDuration,n=t.isShown,i=t.onClickOutside,o={transition:"all ".concat(r,"ms cubic-bezier(0, 0, 0.2, 1) 0ms")},l={entered:{opacity:1,right:"0px"}},s={entered:{opacity:1}},u={in:n,appear:!0,timeout:r,onExited:this.handleTransitionExited};return p.default.createElement(h.Transition,u,function(t){var r=a({},o,{},l[t]),n=a({},o,{},s[t]);return p.default.createElement("div",{className:"side_panel"},p.default.createElement("div",{ref:e.overlay,className:"side_panel_overlay",onClick:i,style:n}),p.default.createElement("div",{className:"side_panel_content_wrapper",style:r},p.default.createElement("div",{className:"side_panel_content"},e.props.children)))})}}]),t}(p.default.Component);(0,f.default)(_,"propTypes",{transitionDuration:m.default.number,isShown:m.default.bool,onClickOutside:m.default.func,onExited:m.default.func.isRequired}),(0,f.default)(_,"defaultProps",{transitionDuration:200,isShown:!0,onClickOutside:function(){}});var v=_;r.default=v},{"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-transition-group":"react-transition-group"}],947:[function(e,t,r){"use strict";function n(e){function t(e){var t=e.reduce(function(e,t,r){return r+1!==t.item_order&&(e[t.id]=r+1),e},{});m(t)}function r(e){return i.default.createElement("li",{className:"FilterListItemSortable dragLabel",key:e.id,onClick:function(){return v(e)}},i.default.createElement(s.default,{filter:e,count:f[e.name]||0}))}function n(e){var t=e.item,r=e.connectDragSource,n=e.isDragging,o=e.style,c=e.forwardedRef;return i.default.createElement("li",{style:o,ref:c,className:(0,l.default)("FilterListItemSortable",{is_dragging:n}),key:t.id,onClick:function(){return v(t)}},r(i.default.createElement("div",{className:"dnd_handle"},i.default.createElement(u.DragAndDropIcon,null))),i.default.createElement(s.default,{filter:t,count:f[t.name]||0,isSelected:p===t.id,onFilterEdit:h,onFilterDelete:a?b:null,onFilterFavorite:a?y:null}))}var a=e.isPremium,o=e.filters,c=e.filterCount,f=void 0===c?{}:c,p=e.selectedFilterID,m=e.onReorderFilters,h=e.onFilterEdit,v=e.onFilterSelect,b=e.onFilterDelete,y=e.onFilterFavorite;return 0===o.length?i.default.createElement("ul",{id:"filters_list",className:"items generic_left_list"},i.default.createElement("li",{className:"empty"},_("Your list of filters will show up here."))):i.default.createElement(d,{selectedFilterID:p,onChange:t,renderListItem:n,renderDragLayer:r,items:o},function(e){return i.default.createElement("ul",{id:"filters_list",className:"items generic_left_list"},e)})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("classnames")),s=a(e("./FilterWithMenu")),u=e("../icons"),c=e("../sortable/Sortable"),d=(0,c.createSortableClass)("BottomFiltersList");n.propTypes={isPremium:o.default.bool.isRequired,filters:o.default.array.isRequired,filterCount:o.default.object,selectedFilterID:o.default.oneOfType([o.default.number,o.default.string]),onReorderFilters:o.default.func,onFilterEdit:o.default.func.isRequired,onFilterSelect:o.default.func.isRequired,onFilterDelete:o.default.func.isRequired,onFilterFavorite:o.default.func.isRequired};var f=n;r.default=f},{"../icons":731,"../sortable/Sortable":956,"./FilterWithMenu":948,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],948:[function(e,t,r){"use strict";function n(e){var t=e.filter,r=e.count,n=void 0===r?t.count||0:r,a=e.isSelected,s=void 0!==a&&a,b=e.onFilterEdit,y=e.onFilterDelete,g=e.onFilterFavorite,E=(0,o.default)(e,["filter","count","isSelected","onFilterEdit","onFilterDelete","onFilterFavorite"]),T=(0,m.usePopover)(),w=(0,p.useConfirmDialog)({confirmLabel:_("Delete"),onConfirm:function(){return y(t)},htmlMessage:(0,u.default)(_("Are you sure you want to delete {item_name}?"),{item_name:"<b>".concat(h.default.format(t.name,{with_links:!1,as_html:!1}),"</b>")})}),R=null!=b,P=null!=y,D=!t.is_favorite&&null!=g,O=P&&(R||D),C=!R&&!P&&!D;return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.default,(0,i.default)({color:t.color,leftIcon:l.default.createElement(f.FilterIcon,null),isSelected:s,onMenuClick:T.openOnClick,onContextMenu:T.openOnContextMenu},E),l.default.createElement(v.default,{simple:!0,withMarkdown:!1,text:t.name}),n>0&&l.default.createElement("div",{className:"counter_count"},n)),T.isOpen&&!C?l.default.createElement(m.Popover,T.props,l.default.createElement(d.MenuList,{className:"item_menu_list"},R&&l.default.createElement(d.IconMenuItem,{text:_("Edit filter"),icon:l.default.createElement(f.EditIcon,null),onClick:T.close(function(){return b(t)}),"data-track":"filters|menu_edit"}),D&&l.default.createElement(d.IconMenuItem,{text:_("Add to favorites"),icon:l.default.createElement(f.HeartIcon,null),onClick:T.close(function(){return g(t)}),"data-track":"filters|menu_add_to_favorites"}),O&&l.default.createElement(d.MenuSeparator,null),P&&l.default.createElement(d.IconMenuItem,{text:_("Delete filter"),icon:l.default.createElement(f.DeleteIcon,null),onClick:T.close(w),"data-track":"filters|menu_delete"}))):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types")),u=a(e("../../utils/format")),c=a(e("../ListItem")),d=e("../menu_list"),f=e("../icons"),p=e("../confirm_dialog"),m=e("../popover"),h=a(e("../../components/formatter/Formatter")),v=a(e("../formatter/FormattedText"));n.propTypes={filter:s.default.object.isRequired,count:s.default.number,isSelected:s.default.bool,onLabelEdit:s.default.func,onLabelDelete:s.default.func,onLabelFavorite:s.default.func}},{"../../components/formatter/Formatter":22,"../../utils/format":1079,"../ListItem":472,"../confirm_dialog":509,"../formatter/FormattedText":621,"../icons":731,"../menu_list":801,"../popover":829,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],949:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){function t(e){var t=l.reduce(function(e,t){return e[t.id]=t.item_order+1,e},{});g(t),E(a({},e,{item_order:1}))}function r(e){if(!o)return void m.showFilter();(0,b.openModal)(function(r){return u.default.createElement(h.default,{filter:e,onCreate:t,onUpdate:T,onClose:r})})}var n=e.isExpanded,i=e.onToggleExpand,o=e.isPremium,l=e.filters,s=e.filterCount,c=e.selectedFilterID,g=e.onReorderFilters,E=e.onFilterCreate,T=e.onFilterUpdate,w=e.onFilterSelect,R=e.onFilterDelete,P=e.onFilterFavorite;return u.default.createElement(f.default,{title:_("Filters"),isExpanded:n,onToggleExpand:i,track:"navigation|filters_panel",headerSideButton:u.default.createElement(p.default,{className:"adder_icon",onClick:function(){return r(y)},"aria-label":_("Add new filter"),"data-track":"navigation|filters_quick_add"},u.default.createElement(d.default,null))},u.default.createElement(v.default,{isPremium:o,filters:l,filterCount:s,selectedFilterID:c,onReorderFilters:g,onFilterEdit:r,onFilterSelect:w,onFilterDelete:R,onFilterFavorite:P}))}var o=e("@babel/runtime/helpers/interopRequireWildcard"),l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/defineProperty")),u=l(e("react")),c=l(e("prop-types")),d=l(e("../icons/PlusIcon")),f=l(e("../expansion_panel")),p=l(e("../Button")),m=o(e("../../containers/premium_promo/PremiumOnlyModal")),h=l(e("../edit_filter_modal")),v=l(e("./FilterList")),b=e("../reactist/modal"),y={name:"",query:"",color:null};i.propTypes={isExpanded:c.default.bool.isRequired,onToggleExpand:c.default.func.isRequired,isPremium:c.default.bool.isRequired,filters:c.default.array.isRequired,filterCount:c.default.object.isRequired,selectedFilterID:c.default.oneOfType([c.default.number,c.default.string]),onReorderFilters:c.default.func.isRequired,onFilterCreate:c.default.func.isRequired,onFilterUpdate:c.default.func.isRequired,onFilterSelect:c.default.func.isRequired,onFilterDelete:c.default.func.isRequired,onFilterFavorite:c.default.func.isRequired};var g=i;r.default=g},{"../../containers/premium_promo/PremiumOnlyModal":104,"../Button":466,"../edit_filter_modal":566,"../expansion_panel":617,"../icons/PlusIcon":703,"../reactist/modal":880,"./FilterList":947,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"prop-types":"prop-types",react:"react"}],950:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/objectWithoutProperties")),i=e("react-redux"),o=e("reselect"),l=e("../../reducers/filters"),s=e("../../reducers/user"),u=e("../../reducers/mainView"),c=e("../../constants/constants"),d=n(e("./SidebarFiltersPanel")),f=(0,o.createSelector)(s.isPremium,l.filterGetAll,function(e){var t=e.mainView;return t.type===c.MAIN_VIEW_TYPE_FILTER&&t.bottomListSelected?t.id:null},function(e,t,r){return{isPremium:e,filters:t,filterCount:{},selectedFilterID:r}}),p=function(e){return{onReorderFilters:function(t){e((0,l.filterUpdateOrders)(t))},onFilterCreate:function(t){var r=e((0,l.filterAdd)(t)),n=r.id;e((0,u.showFilterView)(n,{bottomListSelected:!0}))},onFilterUpdate:function(t){var r=t.id,n=(0,a.default)(t,["id"]);e((0,l.filterUpdate)(r,n)),e((0,u.showFilterView)(r,{bottomListSelected:!0}))},onFilterSelect:function(t){e((0,u.showFilterView)(t.id,{bottomListSelected:!0}))},onFilterDelete:function(t){e((0,l.filterRemove)(t.id))},onFilterFavorite:function(t){return e((0,l.filterUpdate)(t.id,{is_favorite:!0}))}}},m=(0,i.connect)(f,p)(d.default);r.default=m},{"../../constants/constants":94,"../../reducers/filters":1e3,"../../reducers/mainView":1015,"../../reducers/user":1042,"./SidebarFiltersPanel":949,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"react-redux":"react-redux",reselect:"reselect"}],951:[function(e,t,r){"use strict";function n(e){function t(e){var t=e.reduce(function(e,t,r){return r+1!==t.item_order&&(e[t.id]=r+1),e},{});p(t)}function r(e){return i.default.createElement("li",{className:"LabelListItem dragLabel",key:e.id,onClick:function(){return h(e)}},i.default.createElement(s.default,{label:e,count:c[e.name]||0}))}function n(e){var t=e.item,r=e.connectDragSource,n=e.isDragging,o=e.style,d=e.forwardedRef;return i.default.createElement("li",{style:o,ref:d,className:(0,l.default)("LabelListItem",{is_dragging:n}),key:t.id,onClick:function(){return h(t)}},r(i.default.createElement("div",{className:"dnd_handle"},i.default.createElement(u.DragAndDropIcon,null))),i.default.createElement(s.default,{label:t,count:c[t.name]||0,isSelected:f===t.name,onLabelEdit:m,onLabelDelete:a?v:null,onLabelFavorite:a?b:null,onLabelRemoveFromPersonal:a?y:null}))}var a=e.isPremium,o=e.labels,c=e.labelCount,f=e.selectedLabelName,p=e.onReorderLabels,m=e.onLabelEdit,h=e.onLabelSelect,v=e.onLabelDelete,b=e.onLabelFavorite,y=e.onLabelRemoveFromPersonal;return 0===o.length?i.default.createElement("ul",{id:"labels_list",className:"items generic_left_list"},i.default.createElement("li",{className:"empty"},_("Your list of labels will show up here."))):i.default.createElement(d,{selectedLabelName:f,onChange:t,renderListItem:n,renderDragLayer:r,items:o},function(e){return i.default.createElement("ul",{id:"labels_list",className:"items generic_left_list"},e)})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("classnames")),s=a(e("./LabelWithMenu")),u=e("../icons"),c=e("../sortable/Sortable"),d=(0,c.createSortableClass)("BottomLabelsList");n.propTypes={isPremium:o.default.bool.isRequired,labels:o.default.array.isRequired,labelCount:o.default.object.isRequired,selectedLabelName:o.default.string,onReorderLabels:o.default.func,onLabelEdit:o.default.func.isRequired,onLabelSelect:o.default.func,onLabelDelete:o.default.func,onLabelFavorite:o.default.func,onLabelRemoveFromPersonal:o.default.func};var f=n;r.default=f},{"../icons":731,"../sortable/Sortable":956,"./LabelWithMenu":952,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],952:[function(e,t,r){"use strict";function n(e){var t=e.label,r=e.color,n=void 0===r?t.color||p.DEFAULT_COLOR:r,a=e.count,s=void 0===a?t.count||0:a,b=e.isSelected,y=void 0!==b&&b,g=e.onLabelEdit,E=e.onLabelRename,T=e.onLabelDelete,w=e.onLabelFavorite,R=e.onLabelMoveToPersonal,P=e.onLabelRemoveFromPersonal,D=(0,o.default)(e,["label","color","count","isSelected","onLabelEdit","onLabelRename","onLabelDelete","onLabelFavorite","onLabelMoveToPersonal","onLabelRemoveFromPersonal"]),O=(0,h.usePopover)(),C=(0,m.useConfirmDialog)({confirmLabel:_("Delete"),onConfirm:function(){return T(t)},htmlMessage:(0,u.default)(_("Are you sure you want to delete {item_name}?"),{item_name:"<b>".concat(t.name,"</b>")})}),I=null==t.id,A=null!=g,S=null!=E&&!A,k=null!=w&&!t.is_favorite,M=null!=R&&I,j=null!=P&&!I,N=null!=T,x=!(A||S||k||N||M||j),L=N&&(A||S||k||M||j);return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.default,(0,i.default)({color:n||t.color,leftIcon:l.default.createElement(f.LabelIcon,null),isSelected:y,onMenuClick:x?void 0:O.openOnClick,
onContextMenu:x?void 0:O.openOnContextMenu},D),l.default.createElement(v.default,{simple:!0,withMarkdown:!1,text:t.name}),s>0&&l.default.createElement("div",{className:"counter_count"},s)),O.isOpen&&!x?l.default.createElement(h.Popover,O.props,l.default.createElement(d.MenuList,{className:"item_menu_list"},A&&l.default.createElement(d.IconMenuItem,{text:_("Edit label"),icon:l.default.createElement(f.EditIcon,null),onClick:O.close(function(){return g(t)}),"data-track":"labels|menu_edit"}),S&&l.default.createElement(d.IconMenuItem,{text:_("Rename label"),icon:l.default.createElement(f.EditIcon,null),onClick:O.close(function(){return E(t)}),"data-track":"labels|menu_edit"}),k&&l.default.createElement(d.IconMenuItem,{text:_("Add to favorites"),icon:l.default.createElement(f.HeartIcon,null),onClick:O.close(function(){return w(t)}),"data-track":"labels|menu_add_to_favorites"}),M&&l.default.createElement(d.IconMenuItem,{text:_("Move to personal labels"),icon:l.default.createElement(f.AddAboveIcon,null),onClick:O.close(function(){return R(t)}),"data-track":"labels|menu_move_to_personal"}),j&&l.default.createElement(d.IconMenuItem,{text:_("Move to shared labels"),icon:l.default.createElement(f.AddBelowIcon,null),onClick:O.close(function(){return P(t)}),"data-track":"labels|menu_move_to_shared"}),L&&l.default.createElement(d.MenuSeparator,null),N&&l.default.createElement(d.IconMenuItem,{text:_("Delete label"),icon:l.default.createElement(f.DeleteIcon,null),onClick:O.close(C),"data-track":"labels|menu_delete"}))):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),s=a(e("prop-types")),u=a(e("../../utils/format")),c=a(e("../ListItem")),d=e("../menu_list"),f=e("../icons"),p=e("../../models/Colors"),m=e("../confirm_dialog"),h=e("../popover"),v=a(e("../formatter/FormattedText"));n.propTypes={label:s.default.object.isRequired,color:s.default.number,count:s.default.number,isSelected:s.default.bool,onLabelEdit:s.default.func,onLabelRename:s.default.func,onLabelDelete:s.default.func,onLabelFavorite:s.default.func,onLabelMoveToPersonal:s.default.func,onLabelRemoveFromPersonal:s.default.func}},{"../../models/Colors":151,"../../utils/format":1079,"../ListItem":472,"../confirm_dialog":509,"../formatter/FormattedText":621,"../icons":731,"../menu_list":801,"../popover":829,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"prop-types":"prop-types",react:"react"}],953:[function(e,t,r){"use strict";function n(e){var t=e.isExpanded,r=e.onToggleExpand,n=e.sharedLabels,a=e.labelCount,o=e.selectedLabelName,c=e.onLabelSelect,d=e.onLabelRename,f=e.onLabelDelete,p=e.onLabelMoveToPersonal;return i.default.createElement(s.default,{title:_("Shared"),titleTooltip:_("Labels added by others in shared projects will show up here."),isExpanded:t,onToggleExpand:r,className:"shared_labels_list_panel"},i.default.createElement("ul",{className:"items generic_left_list"},n.map(function(e){return i.default.createElement("li",{key:e.name,className:"LabelListItem",onClick:function(){return c(e)}},i.default.createElement(l.default,{label:e,color:u,count:a[e.name]||0,isSelected:o===e.name,onLabelRename:d,onLabelDelete:f,onLabelMoveToPersonal:p}))})))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("./LabelWithMenu")),s=a(e("../expansion_panel")),u=48;n.propTypes={isExpanded:o.default.bool.isRequired,onToggleExpand:o.default.func.isRequired,sharedLabels:o.default.array.isRequired,labelCount:o.default.object.isRequired,selectedLabelName:o.default.string,onLabelSelect:o.default.func.isRequired,onLabelRename:o.default.func.isRequired,onLabelDelete:o.default.func.isRequired,onLabelMoveToPersonal:o.default.func.isRequired};var c=n;r.default=c},{"../expansion_panel":617,"./LabelWithMenu":952,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],954:[function(e,t,r){"use strict";function n(e){function t(e){var t=e.name,r=e.color,n=e.is_favorite,a=g.reduce(function(e,t){return e[t.id]=t.item_order+1,e},{});R(a),D({name:t,color:r,is_favorite:n,item_order:1})}function r(e){if(!s)return void f.showLabel();(0,b.openModal)(function(r){return l.default.createElement(p.default,{label:e,labels:g.map(function(e){return e.name}),onLabelCreate:t,onLabelUpdate:O,onLabelRename:P,onModalClose:r})})}function n(){if(!s)return void f.showLabel();i.apply(void 0,arguments)}var a=e.isExpanded,i=e.onToggleExpand,s=e.isPremium,g=e.personalLabels,E=e.sharedLabels,T=e.labelCount,w=e.selectedLabelName,R=e.onReorderLabels,P=e.onLabelRename,D=e.onLabelCreate,O=e.onLabelUpdate,C=e.onLabelSelect,I=e.onLabelDelete,A=e.onLabelFavorite,S=e.onLabelMoveToPersonal,k=e.onLabelRemoveFromPersonal,M=(0,v.useLocalStorageState)("sharedLabelsExpanded",!1),j=(0,o.default)(M,2),N=j[0],x=j[1];return l.default.createElement(c.default,{title:_("Labels"),isExpanded:a&&s,onToggleExpand:n,track:"navigation|labels_panel",headerSideButton:l.default.createElement(d.default,{className:"adder_icon",onClick:function(){return r(y)},"aria-label":_("Add new label"),"data-track":"navigation|labels_quick_add"},l.default.createElement(u.default,null))},s?l.default.createElement(m.default,{isPremium:s,labels:g,labelCount:T,selectedLabelName:w,onReorderLabels:R,onLabelEdit:r,onLabelSelect:C,onLabelDelete:I,onLabelFavorite:A,onLabelRemoveFromPersonal:k}):null,s&&E.length>0?l.default.createElement(h.default,{isExpanded:N,onToggleExpand:function(){return x(!N)},sharedLabels:E,labelCount:T,selectedLabelName:w,onLabelSelect:C,onLabelRename:r,onLabelDelete:I,onLabelMoveToPersonal:S}):null)}var a=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("react")),s=i(e("prop-types")),u=i(e("../icons/PlusIcon")),c=i(e("../expansion_panel")),d=i(e("../Button")),f=a(e("../../containers/premium_promo/PremiumOnlyModal")),p=i(e("../edit_label_modal")),m=i(e("./LabelList")),h=i(e("./SharedLabelsList")),v=e("../hooks"),b=e("../reactist/modal"),y={name:"",color:null};n.propTypes={isExpanded:s.default.bool.isRequired,onToggleExpand:s.default.func.isRequired,isPremium:s.default.bool.isRequired,personalLabels:s.default.array.isRequired,sharedLabels:s.default.array.isRequired,labelCount:s.default.object.isRequired,selectedLabelName:s.default.string,onReorderLabels:s.default.func.isRequired,onLabelRename:s.default.func.isRequired,onLabelCreate:s.default.func.isRequired,onLabelUpdate:s.default.func.isRequired,onLabelSelect:s.default.func.isRequired,onLabelDelete:s.default.func.isRequired,onLabelFavorite:s.default.func.isRequired,onLabelMoveToPersonal:s.default.func.isRequired,onLabelRemoveFromPersonal:s.default.func.isRequired};var g=n;r.default=g},{"../../containers/premium_promo/PremiumOnlyModal":104,"../Button":466,"../edit_label_modal":568,"../expansion_panel":617,"../hooks":628,"../icons/PlusIcon":703,"../reactist/modal":880,"./LabelList":951,"./SharedLabelsList":953,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/slicedToArray":199,"prop-types":"prop-types",react:"react"}],955:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("reselect"),o=e("../../reducers/labels"),l=e("../../reducers/user"),s=e("../../reducers/counts"),u=e("../../reducers/mainView"),c=e("../../constants/constants"),d=n(e("./SidebarLabelsPanel")),f=(0,i.createSelector)(l.isPremium,o.labelGetAllPersonal,o.labelGetAllShared,s.countByLabel,function(e){var t=e.mainView;return t.type===c.MAIN_VIEW_TYPE_LABEL&&t.bottomListSelected?t.id:null},function(e,t,r,n,a){return{isPremium:e,personalLabels:t,sharedLabels:r,labelCount:n,selectedLabelName:a}}),p=function(e){return{onReorderLabels:function(t){e((0,o.labelUpdateOrders)(t))},onLabelRename:function(t){var r=t.oldName,n=t.newName;e((0,o.labelRename)({oldName:r,newName:n})),e((0,u.showLabelView)(n,{bottomListSelected:!0}))},onLabelCreate:function(t){e((0,o.labelAdd)(t)),e((0,u.showLabelView)(t.name,{bottomListSelected:!0}))},onLabelUpdate:function(t){var r=t.id,n=t.name,a=t.color,i=t.is_favorite;e((0,o.labelUpdate)(r,{name:n,color:a,is_favorite:i})),n&&e((0,u.showLabelView)(n,{bottomListSelected:!0}))},onLabelSelect:function(t){e((0,u.showLabelView)(t.name,{bottomListSelected:!0}))},onLabelDelete:function(t){e((0,o.labelRemove)(t.name))},onLabelFavorite:function(t){e((0,o.labelUpdate)(t.id,{is_favorite:!0}))},onLabelMoveToPersonal:function(t){e((0,o.labelMoveToPersonal)(t.name))},onLabelRemoveFromPersonal:function(t){e((0,o.labelRemoveFromPersonal)(t.id))}}},m=(0,a.connect)(f,p)(d.default);r.default=m},{"../../constants/constants":94,"../../reducers/counts":994,"../../reducers/labels":1010,"../../reducers/mainView":1015,"../../reducers/user":1042,"./SidebarLabelsPanel":954,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux",reselect:"reselect"}],956:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,m.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.getBoundingClientRect();return{height:t.height,width:t.width,left:t.left,top:t.top}}function o(e){var t=(0,E.createSortableItemClass)(e),r=(0,T.createSortableDragLayerClass)(e),n=function(e){function n(){var e,t;(0,s.default)(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=(0,c.default)(this,(e=(0,d.default)(n)).call.apply(e,[this].concat(o))),(0,m.default)((0,f.default)(t),"state",{isDragging:!1}),(0,m.default)((0,f.default)(t),"deriveRectTo",function(){var e=t.state,r=e.itemsFrom,n=e.itemsTo,a=t.rectFrom[r[0].id].top;return(0,_.keyBy)("id",n.map(function(e){var r=t.rectFrom[e.id],n={id:e.id,height:r.height,width:r.width,top:a,left:r.left};return a+=r.height,n}))}),(0,m.default)((0,f.default)(t),"dragBegin",function(e){var r=t.props.onDragStart;t.rectFrom=(0,_.mapValues)(function(e){return i(e.current)},t.itemRefs),t.setState({isDragging:!0}),r&&r(e)}),(0,m.default)((0,f.default)(t),"dragEnd",function(){var e=t.props,r=e.onChange,n=e.onDragEnd,a=t.state.itemsTo;n&&n(),r&&r(a),t.setState({isDragging:!1})}),(0,m.default)((0,f.default)(t),"itemDrop",function(){return{dropInSortable:!0}}),(0,m.default)((0,f.default)(t),"itemHover",function(e,r,n){var a=t.state,i=a.itemsFrom,o=a.itemsTo,l=t.deriveRectTo(),s=e.y,u=o.findIndex(function(e){return e.id===r.id}),c=i.findIndex(function(e){return e.id===r.id}),d=i[c],f=l[d.id],p=o.findIndex(function(e,t){var r=l[e.id];if(u===t)return!1;if(r.height>f.height){if(t<u){var n=r.height-f.height;return s>r.top&&s<r.top+r.height-n}if(t>u){var a=r.height-f.height;return s>r.top+a&&s<r.top+r.height}}return s>r.top&&s<r.top+r.height});if(-1===u&&-1!==p)return void t.addItem(r,p,n);u!=p&&-1!=u&&-1!=p&&t.moveItem(u,p)}),(0,m.default)((0,f.default)(t),"styleCache",{}),(0,m.default)((0,f.default)(t),"createTransformStyle",function(e,r){if(!e)return R;var n=e[r],a=n.x,i=n.y,o="translate(".concat(a,"px, ").concat(i,"px)");if(t.styleCache[o])return t.styleCache[o];var l={transform:o};return t.styleCache[o]=l,l}),(0,m.default)((0,f.default)(t),"scheduleStateUpdate",function(e){t.pendingUpdateFn=e,t.frameRequest||(t.frameRequest=requestAnimationFrame(t.drawFrame))}),(0,m.default)((0,f.default)(t),"drawFrame",function(){t.setState(a({},t.pendingUpdateFn)),t.pendingUpdateFn=null,t.frameRequest=null}),t}return(0,p.default)(n,e),(0,u.default)(n,[{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameRequest)}},{key:"moveItem",value:function(e,t){var r=(0,h.move)(e,t,this.state.itemsTo);this.scheduleStateUpdate({itemsTo:r})}},{key:"deriveTransforms",value:function(){var e=this,t=this.state,r=t.itemsFrom,n=t.itemsTo;if(!this.rectFrom)return null;var a=this.rectFrom[r[0].id].top,i=(0,b.compose)((0,_.keyBy)("id"),(0,_.map)(function(t){var r=a;return a+=e.rectFrom[t.id].height,{id:t.id,top:r}}))(n);return r.map(function(t){var r=e.rectFrom[t.id].top;return{x:0,y:i[t.id].top-r}})}},{key:"render",value:function(){var e=this,n=this.props,a=n.children,i=n.renderListItem,o=n.renderDragLayer,l=n.connectDropTarget,s=this.state.itemsFrom,u=this.deriveTransforms();return this.itemRefs&&this.itemRefsFingerprint===s||(this.itemRefs=s.reduce(function(e,t){return e[t.id]=v.default.createRef(),e},{}),this.itemRefsFingerprint=s,this.rectFrom=null),l(a(v.default.createElement(v.default.Fragment,null,s.map(function(r,n){return v.default.createElement(t,{key:r.id,id:r.id,item:r,render:i,style:e.createTransformStyle(u,n),forwardedRef:e.itemRefs[r.id],dragBegin:e.dragBegin,dragEnd:e.dragEnd})}),v.default.createElement(r,{render:o}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.itemsFrom===e.items||t.isDragging?null:{itemsFrom:e.items,itemsTo:e.items}}}]),n}(v.default.Component);return(0,m.default)(n,"propTypes",{items:g.default.arrayOf(g.default.shape({id:g.default.any})),renderListItem:g.default.func.isRequired,renderDragLayer:g.default.func.isRequired,children:g.default.func,onDragStart:g.default.func,onDragEnd:g.default.func,onChange:g.default.func,connectDropTarget:g.default.func,isOver:g.default.bool,dropResult:g.default.object}),(0,m.default)(n,"defaultProps",{children:function(e){return v.default.createElement("ul",null,e)}}),(0,h.flow)((0,y.DropTarget)(e,w,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),dropResult:t.getDropResult()}},{arePropsEqual:function(e,t){return(0,h.shallowEqual)(e,t)}}))(n)}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createSortableClass=o;var s=l(e("@babel/runtime/helpers/classCallCheck")),u=l(e("@babel/runtime/helpers/createClass")),c=l(e("@babel/runtime/helpers/possibleConstructorReturn")),d=l(e("@babel/runtime/helpers/getPrototypeOf")),f=l(e("@babel/runtime/helpers/assertThisInitialized")),p=l(e("@babel/runtime/helpers/inherits")),m=l(e("@babel/runtime/helpers/defineProperty")),h=e("../../utils"),_=e("../../utils/fp"),v=l(e("react")),b=e("redux"),y=e("react-dnd"),g=l(e("prop-types")),E=e("./SortableItem"),T=e("./SortableDragLayer"),w={hover:function(e,t,r){var n=t.getItem();r.itemHover(t.getClientOffset(),n.item,n.rect)},drop:function(e,t,r){return r.itemDrop()}},R={}},{"../../utils":1094,"../../utils/fp":1083,"./SortableDragLayer":957,"./SortableItem":958,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-dnd":"react-dnd",redux:"redux"}],957:[function(e,t,r){"use strict";function n(e){var t=e.initialOffset,r=e.currentOffset;if(!t||!r)return{};var n={x:r.x,y:r.y},a=n.x,i=n.y,o="translate(".concat(a,"px, ").concat(i,"px)");return{transform:o,WebkitTransform:o,width:e.dragItem.componentWidth}}function a(e){var t=function(t){function r(){var e,t;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=(0,s.default)(this,(e=(0,u.default)(r)).call.apply(e,[this].concat(a))),(0,f.default)((0,c.default)(t),"frameRequest",null),t}return(0,d.default)(r,t),(0,l.default)(r,[{key:"shouldComponentUpdate",value:function(){var e=this;return!this.frameRequest&&(this.frameRequest=requestAnimationFrame(function(){e.forceUpdate(),e.frameRequest=null}),!1)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameRequest)}},{key:"render",value:function(){if(!this.props.isDragging||this.props.itemType!==e)return null;var t=(0,h.default)(["list_item_draglayer"]);return m.default.createElement("div",{style:v},m.default.createElement("div",{className:t,style:n(this.props)},this.props.render(this.props.dragItem.item)))}}]),r}(m.default.Component);return(0,f.default)(t,"propTypes",{render:_.default.func,initialOffset:_.default.shape({x:_.default.number.isRequired,y:_.default.number.isRequired}),currentOffset:_.default.shape({x:_.default.number.isRequired,y:_.default.number.isRequired}),isDragging:_.default.bool.isRequired,itemType:_.default.string,dragItem:_.default.object}),(0,p.DragLayer)(b)(t)}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createSortableDragLayerClass=a;var o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/assertThisInitialized")),d=i(e("@babel/runtime/helpers/inherits")),f=i(e("@babel/runtime/helpers/defineProperty")),p=e("react-dnd"),m=i(e("react")),h=i(e("classnames")),_=i(e("prop-types")),v={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"},b=function(e){return{dragItem:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}},{"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react","react-dnd":"react-dnd"}],958:[function(e,t,r){"use strict";function n(e){var t=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props;return(0,e.render)((0,i.default)(e,["render"]))}}]),t}(p.default.PureComponent);return(0,d.default)(t,"propTypes",{forwardedRef:h.default.object,render:h.default.func.isRequired,item:h.default.object.isRequired,style:h.default.object,dragBegin:h.default.func,dragEng:h.default.func,connectDragSource:h.default.func.isRequired,isDragging:h.default.bool.isRequired}),(0,_.DragSource)(e,b,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}},{arePropsEqual:function(e,t){return(0,v.default)(e,t)}})(t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createSortableItemClass=n;var i=a(e("@babel/runtime/helpers/objectWithoutProperties")),o=a(e("@babel/runtime/helpers/classCallCheck")),l=a(e("@babel/runtime/helpers/createClass")),s=a(e("@babel/runtime/helpers/possibleConstructorReturn")),u=a(e("@babel/runtime/helpers/getPrototypeOf")),c=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),f=e("../../utils"),p=a(e("react")),m=e("react-dom"),h=a(e("prop-types")),_=e("react-dnd"),v=a(e("../../utils/shallowEqual")),b=function(e){return(0,f.mapValues)(e,function(e){return function(){try{return e.apply(void 0,arguments)}catch(e){console.log(e)}}})}({beginDrag:function(e,t,r){var n=(0,m.findDOMNode)(r),a=n.getBoundingClientRect();return e.dragBegin(e.item),{id:e.id,item:e.item,rect:a,componentWidth:a.width}},isDragging:function(e,t){return e.id==t.getItem().id&&!t.didDrop()},endDrag:function(e,t){e.dragEnd(t.getDropResult())}})},{"../../utils":1094,"../../utils/shallowEqual":1121,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/possibleConstructorReturn":197,"prop-types":"prop-types",react:"react","react-dnd":"react-dnd","react-dom":"react-dom"}],959:[function(e,t,r){"use strict";function n(e){var t=e.size,r=void 0===t?"small":t;return i.default.createElement("div",{className:"spinner spinner--".concat(r)},i.default.createElement("div",{className:"bounce1"}),i.default.createElement("div",{className:"bounce2"}),i.default.createElement("div",{className:"bounce3"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types"));n.propTypes={size:o.default.oneOf(["small"])};var l=n;r.default=l},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],960:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/extends")),i=n(e("react")),o=function(e){var t=Object.assign({},e);return i.default.createElement("svg",(0,a.default)({className:"ring_spinner",width:"24",height:"24",viewBox:"0 0 24 24"},t),i.default.createElement("g",{fill:"none",fillRule:"nonzero"},i.default.createElement("path",{className:"inner",d:"M17.945 3.958A9.955 9.955 0 0 0 12 2c-2.19 0-4.217.705-5.865 1.9L5.131 2.16A11.945 11.945 0 0 1 12 0c2.59 0 4.99.82 6.95 2.217l-1.005 1.741z"}),i.default.createElement("path",{className:"outter",d:"M5.13 2.16L6.136 3.9A9.987 9.987 0 0 0 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10a9.986 9.986 0 0 0-4.055-8.042l1.006-1.741A11.985 11.985 0 0 1 24 12c0 6.627-5.373 12-12 12S0 18.627 0 12c0-4.073 2.029-7.671 5.13-9.84z"})))},l=o;r.default=l},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,react:"react"}],961:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RingSpinner",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"DotsSpinner",{enumerable:!0,get:function(){return i.default}});var a=n(e("./RingSpinner")),i=n(e("./DotsSpinner"))},{"./DotsSpinner":959,"./RingSpinner":960,"@babel/runtime/helpers/interopRequireDefault":189}],962:[function(e,t,r){"use strict";function n(e){var t=e.className,r=e.checked,n=e.onChange,a=(0,l.default)(e,["className","checked","onChange"]),u=s.default.useState(!1),d=(0,o.default)(u,2),f=d[0],p=d[1];return s.default.createElement("div",{className:(0,c.default)("reactist_switch",t,{"reactist_switch--checked":r,"focus-outline":f})},s.default.createElement("input",(0,i.default)({type:"checkbox",checked:r,onChange:n},a,{onFocus:function(e){a.onFocus&&a.onFocus(e),p(!0)},onBlur:function(e){a.onBlur&&a.onBlur(e),p(!1)}})),s.default.createElement("span",{className:"reactist_switch--handle"}))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/extends")),o=a(e("@babel/runtime/helpers/slicedToArray")),l=a(e("@babel/runtime/helpers/objectWithoutProperties")),s=a(e("react")),u=a(e("prop-types")),c=a(e("classnames"));n.propTypes={className:u.default.string,checked:u.default.bool.isRequired,onChange:u.default.func.isRequired};var d=n;r.default=d},{"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/objectWithoutProperties":195,"@babel/runtime/helpers/slicedToArray":199,classnames:"classnames","prop-types":"prop-types",react:"react"}],963:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./Switch")),i=a.default;r.default=i},{"./Switch":962,"@babel/runtime/helpers/interopRequireDefault":189}],964:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/toConsumableArray")),o=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("@babel/runtime/helpers/assertThisInitialized")),d=n(e("@babel/runtime/helpers/inherits")),f=n(e("@babel/runtime/helpers/defineProperty")),p=e("../../utils"),m=n(e("react")),h=n(e("prop-types")),_=e("../spinners"),v=function(e){function t(e){var r;return(0,o.default)(this,t),r=(0,s.default)(this,(0,u.default)(t).call(this,e)),(0,f.default)((0,c.default)(r),"handleReportExportClick",function(){r.setState({reportExporting:!0}),r.props.onReportExportClick().then(function(e){r.setState({reportExporting:!1,reportExportLink:e})}).catch(function(e){r.setState({reportExporting:!1,reportExportError:e})})}),(0,f.default)((0,c.default)(r),"handleUnsyncExportClick",function(){r.setState({unsyncExporting:!0}),r.props.onUnsyncExportClick().then(function(e){r.setState({unsyncExporting:!1,unsyncExportLink:e})}).catch(function(e){r.setState({unsyncExporting:!1,unsyncExportError:e})})}),r.state={reportExporting:!1,reportExportError:null,reportExportLink:null,unsyncExporting:!1,unsyncExportError:null,unsyncExportLink:null},r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"renderSyncLogs",value:function(){var e=(0,i.default)(this.props.logs);e.reverse();var t=e.map(function(e,t){return m.default.createElement("tr",{className:"level_error",key:"".concat(e.timestamp,".").concat(t)},m.default.createElement("td",{className:"time"},e.isoTime),m.default.createElement("td",null,"[ERROR] ",e.msg))});return 0==t.length&&(t=m.default.createElement("tr",null,m.default.createElement("td",{className:"time"}),m.default.createElement("td",null,"No error events recorded"))),m.default.createElement("div",null,m.default.createElement("h4",null,"Sync error history logs (most recent on the top)"),m.default.createElement("table",{className:"sync_logs"},m.default.createElement("tbody",null,t)))}},{key:"renderStatus",value:function(){var e,t=this.props,r=t.queueLength,n=t.firstRunCmdCount,i=t.failedCmdCount,o=t.lastSyncAt,l=t.unsync;o&&(e=o.toString());var s,u=(0,p.flatten)((0,p.values)(l)).length;return u>0&&(s=(0,p.toPairs)(l).map(function(e){var t=(0,a.default)(e,2),r=t[0],n=t[1];return 0==n.length?null:"".concat(r,": ").concat(n.length)}).filter(function(e){return e}).join(" "),s="("+s+")"),m.default.createElement("div",null,m.default.createElement("h4",null,"System summery"),m.default.createElement("table",{className:"status_table"},m.default.createElement("tbody",null,m.default.createElement("tr",null,m.default.createElement("td",null,"Last sync"),m.default.createElement("td",null,e)),m.default.createElement("tr",null,m.default.createElement("td",null,"Sync queue length"),m.default.createElement("td",null,r)),m.default.createElement("tr",null,m.default.createElement("td",null,"First run commands count"),m.default.createElement("td",null,n)),m.default.createElement("tr",null,m.default.createElement("td",null,"Failed commands count"),m.default.createElement("td",null,i)),m.default.createElement("tr",null,m.default.createElement("td",null,"Unsynced objects count"),m.default.createElement("td",null,u," ",s)))))}},{key:"renderReportDownload",value:function(){return this.state.reportExportLink?m.default.createElement("section",null,m.default.createElement("a",{href:this.state.reportExportLink,target:"_blank",rel:"noopener noreferrer"},"Download")):m.default.createElement("section",null,m.default.createElement("a",{className:"ist_button",onClick:this.handleReportExportClick},"Download Error Logs"),this.state.reportExporting?m.default.createElement(_.RingSpinner,null):null)}},{key:"renderUnsyncExport",value:function(){return 0===(0,p.flatten)((0,p.values)(this.props.unsync)).length?null:this.state.unsyncExportLink?m.default.createElement("section",null,m.default.createElement("a",{href:this.state.unsyncExportLink,target:"_blank",rel:"noopener noreferrer"},"Download")):m.default.createElement("section",null,m.default.createElement("a",{className:"ist_button",onClick:this.handleUnsyncExportClick},"Download Unsynced Datas"),this.state.unsyncExporting?m.default.createElement(_.RingSpinner,null):null)}},{key:"render",value:function(){return m.default.createElement("div",{className:"debug_tool"},this.renderStatus(),this.renderSyncLogs(),this.renderReportDownload(),this.renderUnsyncExport())}}]),t}(m.default.Component);r.default=v,(0,f.default)(v,"propTypes",{logs:h.default.array.isRequired,unsync:h.default.shape({items:h.default.array,projects:h.default.array,notes:h.default.array,reminders:h.default.array,labels:h.default.array}).isRequired,lastSyncAt:h.default.object,queueLength:h.default.number,firstRunCmdCount:h.default.number,failedCmdCount:h.default.number,onReportExportClick:h.default.func,onUnsyncExportClick:h.default.func})},{"../../utils":1094,"../spinners":961,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,"prop-types":"prop-types",react:"react"}],965:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault"),o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/assertThisInitialized")),d=i(e("@babel/runtime/helpers/inherits")),f=i(e("@babel/runtime/helpers/defineProperty")),p=e("../../utils"),m=i(e("react")),h=i(e("react-dom")),v=i(e("../../stores/store")),b=i(e("../../models/SyncLogs")),y=i(e("./SyncDebugConsole")),g=i(e("../../models/ProjectsModel")),E=e("../../models/Reminders"),T=i(e("../../models/LabelsModel"));$AEV(document,"keydown",function(e){var t=window.event?event:e;68==t.keyCode&&t.ctrlKey&&e.altKey&&w()});var w=function(){var e=DIV();GB_showHTML(_("Sync debug console"),e,500,700,{close_validator_fn:function(){return h.default.unmountComponentAtNode(e),!0}}),h.default.render(m.default.createElement(P,null),e)},R=function(e){return(0,p.values)(e).filter(function(e){return(0,p.isTempID)(e.id)})},P=function(e){function t(e){var r;(0,o.default)(this,t),r=(0,
s.default)(this,(0,u.default)(t).call(this,e)),(0,f.default)((0,c.default)(r),"handleUnsyncExport",function(){var e=r.getAllUnsyncObject();e.user_id=window.User.id;var t=JSON.stringify(e);return(0,p.uploadJSON)(t,"unsync_data.json")}),(0,f.default)((0,c.default)(r),"handleReportExport",function(){var e=b.default.getReport(),t=JSON.stringify(e);return(0,p.uploadJSON)(t,"sync_report.json")});var n=b.default.getReport(),i=r.getAllUnsyncObject();return r.state=a({},n,{unsync:i,onUnsyncExportClick:r.handleUnsyncExport,onReportExportClick:r.handleReportExport}),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"getAllUnsyncObject",value:function(){return{projects:R(g.default.model_data),notes:R(v.default.getState().notes),reminders:R(E.RemindersModel.model_data),labels:R(T.default.model_data)}}},{key:"render",value:function(){return m.default.createElement(y.default,this.state)}}]),t}(m.default.Component)},{"../../models/LabelsModel":158,"../../models/ProjectsModel":161,"../../models/Reminders":163,"../../models/SyncLogs":172,"../../stores/store":1048,"../../utils":1094,"./SyncDebugConsole":964,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,react:"react","react-dom":"react-dom"}],966:[function(e,t,r){"use strict";function n(e){var t=e.label,r=e.count,n=void 0===r?0:r,a=e.hasMore,o=void 0!==a&&a;return i.default.createElement(i.default.Fragment,null,t,n>0?" ":null,n>0?i.default.createElement("small",null,n,o?"+":null):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.TabTitle=n;var i=a(e("react")),o=a(e("prop-types"));n.propTypes={label:o.default.node.isRequired,count:o.default.number,hasMore:o.default.bool}},{"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],967:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("./TabTitle"),a=n.TabTitle;r.default=a},{"./TabTitle":966}],968:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,o=a(e("@babel/runtime/helpers/extends")),l=a(e("@babel/runtime/helpers/classCallCheck")),s=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/possibleConstructorReturn")),c=a(e("@babel/runtime/helpers/getPrototypeOf")),d=a(e("@babel/runtime/helpers/assertThisInitialized")),f=a(e("@babel/runtime/helpers/inherits")),p=a(e("@babel/runtime/helpers/defineProperty")),m=a(e("react")),h=a(e("prop-types")),v=a(e("classnames")),b=e("../icons"),y=n(e("../../models/Colors")),g=a(e("../formatter/FormattedText")),E=e("../../init/featureFlags"),T=function(e,t){i||(i=new IstMenu,i.addItems(IstMenu.createItem(_("Remove from favorites"),function(){i.onUnfavorite&&i.onUnfavorite(),i.hide()},{icon:svgs.get("sm1/heart_strike.svg")})),$AEV(document,"click",function(e){i.shown&&i.hide(e)})),i.onUnfavorite=t,i.shown&&i.hide(),i.show({},e,{pos_y_offset:10})},w=function(e){function t(){var e,r;(0,l.default)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=(0,u.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(a))),(0,p.default)((0,d.default)(r),"handleClick",function(){var e=r.props,t=e.menu,n=e.item;return(0,e.onClick)({menu:t,item:n})}),(0,p.default)((0,d.default)(r),"handleMenuClick",function(e){e.stopPropagation(),T(e,r.handleUnfavorite)}),(0,p.default)((0,d.default)(r),"handleContextMenu",function(e){if(e.shift)return!0;e.preventDefault(),T(e,r.handleUnfavorite)}),(0,p.default)((0,d.default)(r),"handleUnfavorite",function(){var e=r.props,t=e.menu,n=e.item;(0,e.onUnfavorite)({menu:t,item:n})}),r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e,t=this.props,r=t.icon,n=t.item,a=t.isSelected,i=t.count,o=t.menu,l=(e={className:(0,v.default)("favorite_item",a?"current":null)},(0,p.default)(e,"data-id",n.id),(0,p.default)(e,"data-type","".concat(o,"_list_item")),(0,p.default)(e,"onClick",this.handleClick),(0,p.default)(e,"onContextMenu",this.handleContextMenu),e),s="project"==o?{color:y.getHex("project",n.color)}:{color:y.getHex("filter",n.color)};return m.default.createElement("li",l,m.default.createElement("span",{className:"item_icon",style:s},r),m.default.createElement("span",{className:"item_content"},m.default.createElement(g.default,{simple:!0,withLinks:!1,withMarkdown:!1,text:n.name}),m.default.createElement("small",{className:"item_counter"},i||null)),m.default.createElement("span",{className:"item_menu icon menu gear_menu",onClick:this.handleMenuClick},m.default.createElement(b.MoreSmallIcon,null)))}}]),t}(m.default.PureComponent);(0,p.default)(w,"propTypes",{menu:h.default.oneOf(["project","label","filter"]).isRequired,item:h.default.shape({id:h.default.any,name:h.default.string}).isRequired,count:h.default.number.isRequired,isSelected:h.default.bool.isRequired,onUnfavorite:h.default.func.isRequired,onClick:h.default.func.isRequired});var R=function(e){function t(){var e,r;(0,l.default)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=(0,u.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(a))),(0,p.default)((0,d.default)(r),"handleTodayClick",function(){r.props.onSelect({menu:"today"})}),(0,p.default)((0,d.default)(r),"handle7DaysClick",function(){r.props.onSelect({menu:"7days"})}),(0,p.default)((0,d.default)(r),"handleInboxClick",function(){var e=r.props;(0,e.onSelect)({menu:"project",item:{id:e.inboxPID}})}),(0,p.default)((0,d.default)(r),"handleTeamInboxClick",function(){var e=r.props;(0,e.onSelect)({menu:"project",item:{id:e.teamInboxPID}})}),(0,p.default)((0,d.default)(r),"handleFavoriteItemClick",function(e){var t=e.menu,n=e.item;r.props.onSelect({menu:t,item:n})}),(0,p.default)((0,d.default)(r),"labelIcon",m.default.createElement(b.LabelIcon,null)),(0,p.default)((0,d.default)(r),"filterIcon",m.default.createElement(b.FilterIcon,null)),r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"renderProjectItem",value:function(){var e=this,t=this.props,r=t.projects,n=t.projectCount,a=t.collaboratorsByPID,i=t.selected;return r?r.map(function(t){var r="project"===i.menu&&i.id===t.id,l=!!a[t.id],s=m.default.createElement(b.ProjectIcon,{isShared:l,color:t.color}),u={menu:"project",item:t,count:n[t.id],isSelected:r,onUnfavorite:e.props.onUnfavorite,onClick:e.handleFavoriteItemClick,icon:s};return m.default.createElement(w,(0,o.default)({key:t.id},u))}):null}},{key:"renderLabelItem",value:function(){var e=this,t=this.props,r=t.labels,n=t.labelCount,a=t.onUnfavorite,i=t.selected;return r?r.map(function(t){var r="label"===i.menu&&i.id===t.name;return m.default.createElement(w,{key:t.id,menu:"label",item:t,count:n[t.name]||0,isSelected:r,onUnfavorite:a,onClick:e.handleFavoriteItemClick,icon:e.labelIcon})}):null}},{key:"renderFilterItems",value:function(){var e=this,t=this.props,r=t.filters,n=t.filterCount,a=t.selected;return r?r.map(function(t){var r="filter"===a.menu&&a.id===t.id,i={menu:"filter",item:t,count:n[t.id],isSelected:r,onUnfavorite:e.props.onUnfavorite,onClick:e.handleFavoriteItemClick,icon:e.filterIcon};return m.default.createElement(w,(0,o.default)({key:t.id},i))}):null}},{key:"render",value:function(){var e=this.props,t=e.selected,r=e.inboxPID,n=e.teamInboxPID,a=e.projectCount,i=e.overdueCount,o=e.todayCount,l=e.sevenDaysCount,s=e.clock,u=o+i,c=l+i,d=function(e,r){return(0,v.default)("filter",!t||t.menu!==e||r&&t.id!==r?null:"current")};return m.default.createElement("div",null,m.default.createElement("ul",{id:"top_filters"},m.default.createElement("li",{className:d("project",r),id:"filter_inbox",onClick:this.handleInboxClick,"data-id":r,"data-track":"navigation|inbox"},m.default.createElement("span",{className:"item_icon"},m.default.createElement(b.InboxIcon,null)),m.default.createElement("span",{className:"item_content"},_("Inbox"),m.default.createElement("small",{className:"item_counter"},a[r]||null))),n?m.default.createElement("li",{className:d("project",n),id:"filter_team_inbox",onClick:this.handleTeamInboxClick,"data-id":n,"data-track":"navigation|team_inbox"},m.default.createElement("span",{className:"item_icon"},m.default.createElement(b.TeamInboxIcon,null)),m.default.createElement("span",{className:"item_content"},_("Team Inbox"),m.default.createElement("small",{className:"item_counter"},a[n]||null))):null,m.default.createElement("li",{className:d("today"),id:"filter_today",onClick:this.handleTodayClick,"data-track":"navigation|today"},m.default.createElement("span",{className:"item_icon"},m.default.createElement(b.TodayIcon,{dateString:s})),m.default.createElement("span",{className:"item_content"},_("Today"),m.default.createElement("small",{className:(0,v.default)("item_counter",i>0?"overdue_color":null)},u||null))),m.default.createElement("li",{className:d("7days"),id:"filter_7days",onClick:this.handle7DaysClick,"data-track":"navigation|next_7_days"},m.default.createElement("span",{className:"item_icon",style:{position:"relative",top:"1px"}},m.default.createElement(b.Next7DaysIcon,null)),m.default.createElement("span",{className:"item_content"},E.featureFlags["global.upcoming_view"].isEnabled()?_("Upcoming"):m.default.createElement(m.default.Fragment,null,_("Next 7 days"),m.default.createElement("small",{className:"item_counter"},c||null)))),this.renderProjectItem(),this.renderLabelItem(),this.renderFilterItems()))}}]),t}(m.default.Component);r.default=R,(0,p.default)(R,"propTypes",{onTodayClick:h.default.func,on7DaysClick:h.default.func,onProjectClick:h.default.func,onSelect:h.default.func.isRequired,inboxPID:h.default.number,teamInboxPID:h.default.number,selected:h.default.PropTypes.shape({menu:h.default.oneOf(["today","7days","project","label","filter"]),id:h.default.oneOfType([h.default.number,h.default.string])}),collaboratorsByPID:h.default.object,projects:h.default.array,labels:h.default.array,filters:h.default.array,todayCount:h.default.number.isRequired,sevenDaysCount:h.default.number.isRequired,overdueCount:h.default.number.isRequired,projectCount:h.default.object.isRequired,labelCount:h.default.object.isRequired,filterCount:h.default.object,onUnfavorite:h.default.func,clock:h.default.string.isRequired}),(0,p.default)(R,"defaultProps",{selected:{}})},{"../../init/featureFlags":125,"../../models/Colors":151,"../formatter/FormattedText":621,"../icons":731,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/possibleConstructorReturn":197,classnames:"classnames","prop-types":"prop-types",react:"react"}],969:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=e("../../constants/constants.js"),o=e("../../reducers/mainView"),l=n(e("./TopMenu")),s=e("../../reducers/projects"),u=e("../../reducers/labels"),c=e("../../reducers/filters"),d=e("../../reducers/user"),f=e("../../reducers/counts"),p=e("../../utils"),m=e("../../utils/fp"),h=e("reselect"),_=(0,h.createSelector)(function(e){return e.mainView},function(e){return e.projects},function(e,t){var r=e.id,n=e.ids,a=e.bottomListSelected;if(!a)switch(e.type){case i.MAIN_VIEW_TYPE_TODAY:return{menu:"today"};case i.MAIN_VIEW_TYPE_7_DAYS:return{menu:"7days"};case i.MAIN_VIEW_TYPE_LABEL:return{menu:"label",id:r};case i.MAIN_VIEW_TYPE_FILTER:return{menu:"filter",id:r};case i.MAIN_VIEW_TYPE_PROJECT:if(1!==n.length)return;var o=n[0],l=t[o];if(!l)return;if(l.inbox_project||l.team_inbox||!a)return{menu:"project",id:o};return;default:return}}),v=[],b=(0,h.createSelector)(f.countByProject,s.projectGetFavorite,function(e){return e.user},(0,p.memoizeReturn)(function(e,t,r){var n=t.map(function(e){return e.id});return n.push(r.inbox_project),n.push(r.team_inbox),(0,m.pick)(n)(e)})),y=(0,h.createSelector)(_,u.labelGetFavorite,c.filterGetFavorite,s.projectGetFavorite,f.countToday,f.countSevenDays,f.countOverdue,b,f.countByLabel,f.countByFilter,(0,m.get)("collaborators.byPID"),function(e){return e.user},function(e){return e.clock},d.isPremium,function(e,t,r,n,a,i,o,l,s,u,c,d,f,p){return{selected:e,clock:f,inboxPID:d.inbox_project,teamInboxPID:d.team_inbox,projects:n,labels:p?t:v,filters:p?r:v,todayCount:a,sevenDaysCount:i,overdueCount:o,projectCount:l,labelCount:s,filterCount:u,collaboratorsByPID:c}}),g=(0,p.LMemoize)(function(e){return{onSelect:function(t){var r=t.menu,n=t.item;switch(r){case"today":e((0,o.showTodayView)());break;case"7days":e((0,o.show7DaysView)());break;case"project":e((0,o.showProjectView)([n.id]));break;case"label":e((0,o.showLabelView)(n.name));break;case"filter":e((0,o.showFilterView)(n.id))}},onUnfavorite:function(t){var r=t.menu,n=t.item;switch(r){case"project":e((0,s.projectUpdate)(n.id,{is_favorite:0}));break;case"label":e((0,u.labelUpdate)(n.id,{is_favorite:0}));break;case"filter":e((0,c.filterUpdate)(n.id,{is_favorite:0}))}}}}),E=(0,a.connect)(y,g)(l.default);r.default=E},{"../../constants/constants.js":94,"../../reducers/counts":994,"../../reducers/filters":1e3,"../../reducers/labels":1010,"../../reducers/mainView":1015,"../../reducers/projects":1026,"../../reducers/user":1042,"../../utils":1094,"../../utils/fp":1083,"./TopMenu":968,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux",reselect:"reselect"}],970:[function(e,t,r){"use strict";function n(e){var t=e.vocationMode,r=e.completed,n=e.goal,a=e.counter,i=e.theme,c=e.onClick,m=(0,o.isUndefined)(n)||(0,o.isUndefined)(r);m&&(r=0,n=1);var h,_=Math.min(r/n,1),v=(0,s.topIconColor)(i),b=(0,s.colorInHex)(i);return h=t?l.default.createElement(u.default,{className:"icon_vocation",color:v}):0===_?l.default.createElement(f,{color:v,bgColor:b}):_<1?l.default.createElement(d,{progress:_,color:v}):l.default.createElement(p,{color:v,bgColor:b}),l.default.createElement("span",{id:"top_completed_holder"},l.default.createElement("a",{href:"#completed",className:"fixed_pos"},l.default.createElement("span",{id:"top_completed",className:"completed_pie_stat","data-track":"navigation|karma",onClick:c},h,m?null:l.default.createElement("span",{className:"count"},a||null))))}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=e("../../utils"),l=a(e("react")),s=e("../../constants/themes"),u=a(e("../icons/VocationModeIcon")),c=function(e){return[Math.cos(2*Math.PI*e),Math.sin(2*Math.PI*e)]},d=function(e){var t=e.progress,r=e.color,n=c(0),a=(0,i.default)(n,2),o=a[0],s=a[1],u=c(t),d=(0,i.default)(u,2),f=d[0],p=d[1],m=t>.5?1:0,h=["M ".concat(o," ").concat(s),"A 1 1 0 ".concat(m," 1 ").concat(f," ").concat(p),"L 0 0"].join(" "),_={transform:"rotate(-90deg)",width:"24px",height:"24px"};return l.default.createElement("svg",{viewBox:"-2 -2 4 4",style:_},l.default.createElement("circle",{cx:"0",cy:"0",r:"1.4",fill:"none",visibility:"visible",stroke:r,strokeWidth:"0.2"}),l.default.createElement("path",{fill:r,d:h}))},f=l.default.memo(function(e){var t=e.color;return l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},l.default.createElement("defs",null),l.default.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(3 3)"},l.default.createElement("mask",{id:"4ZtaWA",fill:"#fff"},l.default.createElement("path",{id:"a",d:"M12.3 5L7 10.3 5.4 8.6a.5.5 0 0 0-.8 0l-3.9 4a9 9 0 1 1 .5.9L5 9.7l1.6 1.7a.5.5 0 0 0 .8 0L13 5.7v3.8a.5.5 0 1 0 1 0v-5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.8z"})),l.default.createElement("g",{mask:"url(#4ZtaWA)"},l.default.createElement("path",{fill:t,d:"M-3-3h24v24H-3z"}))))}),p=l.default.memo(function(e){var t=e.color;return l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},l.default.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(3 3)"},l.default.createElement("mask",{id:"y8QpGa",fill:"#fff"},l.default.createElement("path",{id:"a",d:"M9 18A9 9 0 1 1 9 0a9 9 0 0 1 0 18zm4.9-12.9l-6.7 6.7-3.1-3.2a.5.5 0 1 0-.7.8l3.5 3.5a.5.5 0 0 0 .7 0l7-7a.5.5 0 0 0-.7-.8z"})),l.default.createElement("g",{mask:"url(#y8QpGa)"},l.default.createElement("path",{fill:t,d:"M-3-3h24v24H-3z"}))))})},{"../../constants/themes":95,"../../utils":1094,"../icons/VocationModeIcon":728,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,react:"react"}],971:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,h.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.text;return v.default.createElement("span",{dangerouslySetInnerHTML:{__html:w.default.formatSimple(t)}})}function o(e,t,r){function n(e){return v.default.createElement("a",{className:"project_link",href:"#project/".concat(e.id),onClick:function(n){n.preventDefault(),t((0,T.showProjectView)([e.id])),r()}},v.default.createElement(i,{text:e.name}))}switch(e.type){case g.PROJECT_MOVE_AND_REORDER_UNDO:return{onUndoClick:function(){return t((0,g.projectMoveAndReorderUndo)())},renderContent:function(){return _("Order changed")}};case y.ITEM_UPDATE_DAY_ORDER_UNDO:return{onUndoClick:function(){return t((0,y.itemUpdateDayOrderUndo)())},renderContent:function(){return _("Order changed")}};case y.ITEM_UPDATE_DUE_UNDO:return{onUndoClick:function(){return t((0,y.itemUpdateDueUndo)())},renderContent:function(){return _("Due date updated")}};case E.SECTION_REOREDER_UNDO:return{onUndoClick:function(){return t((0,E.sectionReorderUndo)())},renderContent:function(){return _("Order changed")}};case E.SECTION_MOVE_UNDO:return{onUndoClick:function(){return t((0,E.sectionMoveUndo)())},renderContent:function(){var t=e.destProject;return v.default.createElement(C.default,{text:_("Section moved to {project_name}"),keyval:{project_name:n(t)}})}};case y.ITEM_MOVE_AND_REORDER_UNDO:return{onUndoClick:function(){return t((0,y.itemMoveAndReorderUndo)())},renderContent:function(){var t=e.destProject;return t?v.default.createElement(C.default,{text:_("Task moved to {project_name}"),keyval:{project_name:n(t)}}):_("Order changed")}};case y.ITEM_MOVE_MULTIPLE_UNDO:return{renderContent:function(){var t=e.destProject;return v.default.createElement(C.default,{text:_("Task moved to {project_name}"),keyval:{project_name:n(t)}})}};case y.ITEM_COMPLETE_RECURRING_UNDO:return{onUndoClick:function(){return t((0,y.itemCompleteRecurringUndo)())},renderContent:function(){return(0,D.format)(_("Completed. Next occurrence: {date}"),{date:DateUtils.formatView(e.due)})}};case y.ITEM_COMPLETE_UNDO:return{onUndoClick:function(){return t((0,y.itemCompleteUndo)())},renderContent:function(){var t=(0,P.values)(e.prevState.items).length;return(0,D.format)(_n("1 task completed","{n} tasks completed",t),{n:t})}};case y.ITEM_ARCHIVE_UNDO:return{onUndoClick:function(){return t((0,y.itemArchiveUndo)())},renderContent:function(){var t=(0,P.values)(e.prevState.items).length;return(0,D.format)(_n("1 task archived","{n} tasks archived",t),{n:t})}};case R.NOTIFY_ADD_TO_PROJECT:return{renderContent:function(){var t=e.project;return v.default.createElement(C.default,{text:_("Task added to {project_name}"),keyval:{project_name:n(t)}})}};default:return{renderContent:function(){return e.message}}}}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=l(e("@babel/runtime/helpers/extends")),u=l(e("@babel/runtime/helpers/classCallCheck")),c=l(e("@babel/runtime/helpers/createClass")),d=l(e("@babel/runtime/helpers/possibleConstructorReturn")),f=l(e("@babel/runtime/helpers/getPrototypeOf")),p=l(e("@babel/runtime/helpers/assertThisInitialized")),m=l(e("@babel/runtime/helpers/inherits")),h=l(e("@babel/runtime/helpers/defineProperty")),v=l(e("react")),b=e("react-redux"),y=e("../../reducers/items"),g=e("../../reducers/projects"),E=e("../../reducers/sections"),T=e("../../reducers/mainView"),w=l(e("../../components/formatter/Formatter")),R=e("../../reducers/undo"),P=e("../../utils/fp"),D=e("../../utils"),O=l(e("../../react_components/reactist/Notifier")),C=l(e("../../react_components/TemplateText")),I={transition:"all ".concat(300,"ms ease-out"),bottom:"-10px",opacity:0},A={entering:{bottom:"-10px",opacity:0},entered:{bottom:"10px",opacity:1}},S=function(e){function t(e){var r;return(0,u.default)(this,t),r=(0,d.default)(this,(0,f.default)(t).call(this,e)),(0,h.default)((0,p.default)(r),"handleHideClick",function(){return r.props.dispatch((0,R.undoClear)())}),(0,h.default)((0,p.default)(r),"handleOnClose",function(){return r.props.dispatch((0,R.undoClear)())}),r}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.undo,n=t.dispatch;if(!r)return null;var i=o(r,n,this.handleHideClick),l=i.renderContent,u=i.onUndoClick;return v.default.createElement(O.default,{opened:!0,autoHideDurationMs:8e3,resumeHideDurationMs:8e3,transitionDurationMs:300,onClose:this.handleOnClose},function(t,r){return v.default.createElement("div",{className:"undo_toast_positioner"},v.default.createElement("div",(0,s.default)({className:"undo_toast",style:a({},I,{},A[t])},r),v.default.createElement("div",{className:"notifier_content"},v.default.createElement("span",{className:"text_holder"},l()),u?v.default.createElement("a",{id:"undo_link",onClick:u},_("Undo")):null,v.default.createElement("a",{className:"hide_link",onClick:e.handleHideClick},_("Hide")))))})}}]),t}(v.default.Component),k=function(e){return{undo:e.undo}},M=function(e){return{dispatch:e}},j=(0,b.connect)(k,M)(S);r.default=j},{"../../components/formatter/Formatter":22,"../../react_components/TemplateText":475,"../../react_components/reactist/Notifier":874,"../../reducers/items":1005,"../../reducers/mainView":1015,"../../reducers/projects":1026,"../../reducers/sections":1032,"../../reducers/undo":1041,"../../utils":1094,"../../utils/fp":1083,"@babel/runtime/helpers/assertThisInitialized":181,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/extends":186,"@babel/runtime/helpers/getPrototypeOf":187,"@babel/runtime/helpers/inherits":188,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/possibleConstructorReturn":197,react:"react","react-redux":"react-redux"}],972:[function(e,t,r){"use strict";function n(e){return e?function(t){t.keyCode!==a&&t.keyCode!==i||(t.preventDefault(),e(t))}:void 0}Object.defineProperty(r,"__esModule",{value:!0}),r.createKeyboardClickHandler=n;var a=13,i=32},{}],973:[function(e,t,r){"use strict";function n(e,t){var r=DateistDateHelpers.date_max((0,u.parseDateString)(e)),n=DateistDateHelpers.date_max((0,u.parseDateString)(t)),a=Math.abs(DateistDateHelpers.day_diff(n,r)),i=0===a||1===a?DateUtils.humanizeDayDiff(a,r):null,o=(0,u.formatDate)(r,{withTime:!1,withWeekday:a<=7,withYear:a>=365});return null!=i?"".concat(i," \u2027 ").concat(o):o}function a(e){return{todayStr:e.clock}}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("react")),l=i(e("prop-types")),s=e("react-redux"),u=e("../../utils"),c=e("../routing"),d=o.default.forwardRef(function(e,t){var r,a=e.actions,i=e.header,l=e.children,s=e.todayStr;if(i instanceof Date){var d=(0,u.toISODateString)(i,{dateOnly:!0});r=(0,c.dayViewLink)(i),i=n(d,s)}return o.default.createElement("div",{ref:t,className:"section"},o.default.createElement("header",null,o.default.createElement("h2",null,r?o.default.createElement("a",{href:r},i):i),a?o.default.createElement("div",{className:"section_head__actions"},a):null),l)});d.propTypes={forwardedRef:l.default.object,actions:l.default.node,header:l.default.oneOfType([l.default.instanceOf(Date),l.default.string]).isRequired,subheader:l.default.string,children:l.default.node.isRequired};var f=(0,s.connect)(a,null,null,{forwardRef:!0})(d);r.default=f},{"../../utils":1094,"../routing":914,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react","react-redux":"react-redux"}],974:[function(e,t,r){"use strict";function n(e){var t=e.header,r=e.subheader,n=e.className,a=e.children,o=e.largeBottomMargin;return i.default.createElement("header",{className:(0,l.default)("view_header",n,{large_margin_bottom:o})},i.default.createElement("h1",null,t,r?i.default.createElement("small",null,r):null),a?i.default.createElement("div",{className:"view_header__actions"},a):null)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("react")),o=a(e("prop-types")),l=a(e("classnames"));n.propTypes={header:o.default.node.isRequired,subheader:o.default.string,className:o.default.string,children:o.default.node,largeBottomMargin:o.default.bool}},{"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames","prop-types":"prop-types",react:"react"}],975:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ViewHeader",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"Section",{enumerable:!0,get:function(){return i.default}});var a=n(e("./ViewHeader")),i=n(e("./Section"))},{"./Section":973,"./ViewHeader":974,"@babel/runtime/helpers/interopRequireDefault":189}],976:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("react-redux"),i=n(e("./yir_banner")),o=e("../../reducers/tooltip"),l=(0,o.isScheduled)(o.TOOLTIP_2019_YEAR_IN_REVIEW),s=function(e){return{shouldShow:e.user&&l(e),userName:e.user?e.user.full_name:""}},u=function(e){return{onCTAClick:function(){e((0,o.markSeen)(o.TOOLTIP_2019_YEAR_IN_REVIEW,o.EVENT_FOLLOW))},onDismissClick:function(){e((0,o.markSeen)(o.TOOLTIP_2019_YEAR_IN_REVIEW,o.EVENT_CLOSE))}}},c=(0,a.connect)(s,u)(i.default);r.default=c},{"../../reducers/tooltip":1040,"./yir_banner":977,"@babel/runtime/helpers/interopRequireDefault":189,"react-redux":"react-redux"}],977:[function(e,t,r){"use strict";function n(e){var t=e.userName,r=e.shouldShow,n=e.onCTAClick,a=e.onDismissClick;return r?i.default.createElement("div",{className:"promo_banner year-in-review"},i.default.createElement("div",{className:"banner is-shown"},i.default.createElement("img",{className:"banner-img",src:"https://d3ptyyxy2at9ui.cloudfront.net/yearly_review_icon-48e811.png",alt:""}),i.default.createElement("div",{className:"main-section"},i.default.createElement("h1",null,(0,l.default)(_x("year_review_2019","{user_name}, your Todoist Year in Review is here! Let's explore the last 365 days."),{user_name:t})),i.default.createElement("div",{className:"year-in-review__actions"},i.default.createElement(c.default,{href:"https://todoist.com/review/2019/",className:"cta",onClick:n},_x("year_review","Take Me There")),i.default.createElement(s.default,{className:"not-now-btn",onClick:a,"aria-label":_("Not Now")},_("Not Now")))),i.default.createElement("div",{className:"close-section"},i.default.createElement(s.default,{className:"close_btn",onClick:a,"aria-label":_("Close")},i.default.createElement(u.CloseIcon,{small:!0}))))):null}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("react")),o=a(e("prop-types")),l=a(e("../../utils/format")),s=a(e("../Button")),u=e("../icons"),c=a(e("../ExternalLink"));n.propTypes={shouldShow:o.default.bool,userName:o.default.string.isRequired,onCTAClick:o.default.func.isRequired,onDismissClick:o.default.func.isRequired};var d=n;r.default=d},{"../../utils/format":1079,"../Button":466,"../ExternalLink":469,"../icons":731,"@babel/runtime/helpers/interopRequireDefault":189,"prop-types":"prop-types",react:"react"}],978:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.archivedItemFetch=r.ARCHIVED_ITEM_FETCH=void 0;r.ARCHIVED_ITEM_FETCH="ARCHIVED_ITEM_FETCH";var n=function(e){return{type:"ARCHIVED_ITEM_FETCH",payload:{item:e}}};r.archivedItemFetch=n},{}],979:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ARCHIVED_ITEM_FETCH",{enumerable:!0,get:function(){return a.ARCHIVED_ITEM_FETCH}}),Object.defineProperty(r,"archivedItemFetch",{enumerable:!0,get:function(){return a.archivedItemFetch}}),Object.defineProperty(r,"archivedCases",{enumerable:!0,get:function(){return i.archivedCases}}),r.default=void 0;var a=e("./actions"),i=n(e("./reducers")),o=i.default;r.default=o},{"./actions":978,"./reducers":980,"@babel/runtime/helpers/interopRequireWildcard":190}],980:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.reducer=r.archivedCases=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../items"),s=e("./actions"),u=e("../../utils/fp"),c=function(e,t){switch(t.type){case l.ITEM_ARCHIVE:case l.ITEM_COMPLETE:var r=t.payload.id,n=e.items[r];return a({},e,{archived:a({},e.archived,{items:a({},e.archived.items,(0,o.default)({},r,a({},n,{checked:1,in_history:1})))})});case l.ITEM_ARCHIVE_UNDO:case l.ITEM_COMPLETE_UNDO:return a({},e,{archived:a({},e.archived,{items:(0,u.omit)(e.undo.id,e.archived.items)})});case l.ITEM_UNARCHIVE:case l.ITEM_UNCOMPLETE:var i=t.payload.id;return a({},e,{archived:a({},e.archived,{items:(0,u.omit)(i,e.archived.items)})});default:return e}};r.archivedCases=c;var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.ARCHIVED_ITEM_FETCH:var r=t.payload.item;return a({},e,{items:a({},e.items,(0,o.default)({},r.id,r))});default:return e}};r.reducer=d;var f=d;r.default=f},{"../../utils/fp":1083,"../items":1005,"./actions":978,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],981:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.tick=r.CLOCK_TICK=void 0;var n=e("../utils")
;r.CLOCK_TICK="CLOCK_TICK";var a=function(){return{type:"CLOCK_TICK"}};r.tick=a;var i=function(e,t){if(!e)return(0,n.todayISO)();if("CLOCK_TICK"===t.type){var r=(0,n.todayISO)();return e===r?e:r}return e},o=i;r.default=o},{"../utils":1094}],982:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.collaboratorDelete=r.collaboratorInvite=void 0;var a=n(e("../../models/SyncEngine")),i=n(e("../../models/TemporaryIds")),o=e("./reducer"),l=e("./selectors"),s=function(e,t){return function(r,n){var s,u=n(),c=(0,l.getCollaboratorByEmail)(t,u);c||(s=i.default.generate("collaborator"),c={id:s,email:t,full_name:t.split("@")[0]}),r({type:o.COLLABORATOR_INVITE,payload:{collaborator:c,projectId:e}}),a.default.queueUpdate({type:"share_project",temp_id:s,args:{project_id:e,email:t}})}};r.collaboratorInvite=s;var u=function(e,t){return function(r,n){var i=n(),s=(0,l.getCollaboratorById)(e,i);s&&(t=i.tempIds[t]||t,r({type:o.COLLABORATOR_DELETE,payload:{collaboratorId:s.id,projectId:t}}),a.default.queueUpdate({type:"delete_collaborator",args:{project_id:t,email:s.email}}))}};r.collaboratorDelete=u},{"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"./reducer":984,"./selectors":985,"@babel/runtime/helpers/interopRequireDefault":189}],983:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"STATE_INVITED",{enumerable:!0,get:function(){return a.STATE_INVITED}}),Object.defineProperty(r,"STATE_ACTIVE",{enumerable:!0,get:function(){return a.STATE_ACTIVE}}),Object.defineProperty(r,"COLLABORATOR_INVITE",{enumerable:!0,get:function(){return a.COLLABORATOR_INVITE}}),Object.defineProperty(r,"COLLABORATOR_DELETE",{enumerable:!0,get:function(){return a.COLLABORATOR_DELETE}}),Object.defineProperty(r,"collaboratorsCases",{enumerable:!0,get:function(){return a.collaboratorsCases}}),Object.defineProperty(r,"createCollaboratorFilterSelector",{enumerable:!0,get:function(){return i.createCollaboratorFilterSelector}}),Object.defineProperty(r,"getActiveCollaborators",{enumerable:!0,get:function(){return i.getActiveCollaborators}}),Object.defineProperty(r,"getAllCollaborators",{enumerable:!0,get:function(){return i.getAllCollaborators}}),Object.defineProperty(r,"getAllCollaboratorsGroupByPID",{enumerable:!0,get:function(){return i.getAllCollaboratorsGroupByPID}}),Object.defineProperty(r,"getAllCollaboratorsWithUser",{enumerable:!0,get:function(){return i.getAllCollaboratorsWithUser}}),Object.defineProperty(r,"getAllProjectCollaborators",{enumerable:!0,get:function(){return i.getAllProjectCollaborators}}),Object.defineProperty(r,"getCollaboratorByEmail",{enumerable:!0,get:function(){return i.getCollaboratorByEmail}}),Object.defineProperty(r,"getCollaboratorById",{enumerable:!0,get:function(){return i.getCollaboratorById}}),Object.defineProperty(r,"getInvitedCollaborators",{enumerable:!0,get:function(){return i.getInvitedCollaborators}}),Object.defineProperty(r,"isShared",{enumerable:!0,get:function(){return i.isShared}}),Object.defineProperty(r,"isSharedProject",{enumerable:!0,get:function(){return i.isSharedProject}}),Object.defineProperty(r,"collaboratorInvite",{enumerable:!0,get:function(){return o.collaboratorInvite}}),Object.defineProperty(r,"collaboratorDelete",{enumerable:!0,get:function(){return o.collaboratorDelete}}),r.default=void 0;var a=n(e("./reducer")),i=e("./selectors"),o=e("./actions"),l=a.default;r.default=l},{"./actions":982,"./reducer":984,"./selectors":985,"@babel/runtime/helpers/interopRequireWildcard":190}],984:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.collaboratorsCases=r.default=r.STATE_ACTIVE=r.STATE_INVITED=r.COLLABORATOR_DELETE=r.COLLABORATOR_INVITE=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../../utils/fp"),s=e("../../utils"),u=e("../../reducers/sync"),c=e("../../reducers/load");r.COLLABORATOR_INVITE="COLLABORATOR_INVITE";r.COLLABORATOR_DELETE="COLLABORATOR_DELETE";r.STATE_INVITED=1;r.STATE_ACTIVE=2;var d=function(e){switch(e){case"active":return 2;case"invited":return 1;default:return 2}},f={all:{},byPID:{}},p=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:f},m=p;r.default=m;var h=function(e,t){var r=e.user,n=e.collaborators,i=_(n,r,t);return i===n?e:a({},e,{collaborators:i})};r.collaboratorsCases=h;var _=function(e,t,r){switch(r.type){case c.LOAD_LOCAL_DATA:return r.payload.collaborators||e;case u.SYNC_FULL_UPDATE:var n=r.payload,i=n.collaborators,f=n.collaborator_states;if(e={},i){e=a({},e,{all:(0,s.byID)(i)})}if(f){e=a({},e,{byPID:f.filter(function(e){return e.user_id!==t.id}).reduce(function(e,t){var r=t.project_id,n=t.user_id,a=t.state;return e[r]||(e[r]={}),e[r][n]=d(a),e},{})})}return e;case u.SYNC_UPDATE:var p=r.payload,m=p.temp_id_mapping,h=p.projects,_=p.collaborators,E=p.collaborator_states;if(m&&(e=v(e,m)),_&&_.length>0){e=a({},e,{all:a({},e.all,{},(0,s.byID)(_))})}if(E&&E.length>0){e=a({},e,{byPID:E.filter(function(e){return e.user_id!==t.id}).reduce(function(e,t){var r=t.project_id,n=t.user_id,a=t.state;return t.is_deleted?(0,l.omit)("".concat(r,".").concat(n))(e):(e[r]||(e[r]={}),e[r][n]=d(a),e)},a({},e.byPID))}),e=y(e)}return h&&h.length>0&&(e=b(e,h)),e;case"COLLABORATOR_INVITE":var T=r.payload,w=T.collaborator,R=T.projectId,P=e,D=P.all,O=P.byPID;D=a({},D,(0,o.default)({},w.id,w));var C=a({},O[R]);return C[w.id]=1,O=a({},O,(0,o.default)({},R,C)),{all:D,byPID:O};case"COLLABORATOR_DELETE":var I=r.payload,A=I.collaboratorId,S=I.projectId;return e=(0,l.omit)("byPID.".concat(S,".").concat(A))(e),e=y(e),e=g(e);default:return e}},v=function(e,t){var r=e.byPID,n=e.all;for(var i in t){var o=t[i];if(r[i]&&(r=a({},r),r[o]=r[i],delete r[i]),n[i]){n=a({},n),n[o]=a({},n[i],{id:o}),delete n[i];for(var l in r)r[l][i]&&(r=a({},r),r[l][o]=r[l][i],delete r[l][i])}}return e.byPID===r&&e.all===n?e:{byPID:r,all:n}},b=function(e,t){if(!t||0===t.length)return e;var r=e.byPID,n=t.filter(function(e){return!e.shared||e.is_archived||e.is_deleted}).map(function(e){return e.id});return 0===n.length?e:(r=(0,l.omit)(n)(r),a({},e,{byPID:r}))},y=function(e){var t=a({},e.byPID),r=!1;for(var n in t){var i=t[n];0===(0,s.keys)(i).length&&(delete t[n],r=!0)}return r?a({},e,{byPID:t}):e},g=function(e){var t=new Set,r=!1;for(var n in e.byPID)for(var i in e.byPID[n])t.add(i);var o=a({},e.all);for(var l in o)t.has(l)||(delete o[l],r=!0);return r?a({},e,{all:o}):e}},{"../../reducers/load":1014,"../../reducers/sync":1038,"../../utils":1094,"../../utils/fp":1083,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],985:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getActiveCollaborators=r.getInvitedCollaborators=r.getCollaboratorByEmail=r.getAllCollaboratorsWithUser=r.createCollaboratorFilterSelector=r.getCollaboratorById=r.getAllCollaborators=r.getAllProjectCollaborators=r.getAllCollaboratorsGroupByPID=r.isShared=r.isSharedProject=void 0;var o=i(e("@babel/runtime/helpers/toConsumableArray")),l=i(e("@babel/runtime/helpers/defineProperty")),s=e("reselect"),u=e("../../utils/fp"),c=e("./reducer"),d=(0,s.createSelector)((0,u.get)("collaborators.byPID"),function(e){return e?function(t){return!!e[t]}:function(){return!1}});r.isSharedProject=d;var f=function(e,t){return d(e)(t)};r.isShared=f;var p=(0,s.createSelector)(function(e){return e.collaborators},function(e){return e.user},function(e,t){var r=e.all,n=e.byPID,i={};for(var o in n){var s=a({},n[o],(0,l.default)({},t.id,c.STATE_ACTIVE)),d=(0,u.keys)(s).map(function(e){return e===""+t.id?t:r[e]}).filter(function(e){return Boolean(e)});i[o]=d}return i});r.getAllCollaboratorsGroupByPID=p;var m=[],h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=p(e),a=n[t]||m;return r?(0,o.default)(a).sort(E(e)):a};r.getAllProjectCollaborators=h;var _=function(e){return e.collaborators.all};r.getAllCollaborators=_;var v=function(e,t){return e=t.tempIds[e]||e,t.user.id===e?t.user:_(t)[e]};r.getCollaboratorById=v;var b=function(e){return(0,s.createSelector)((0,u.get)("collaborators.all"),(0,u.get)("user"),function(t,r){var n=a({},t,(0,l.default)({},r.id,r));return(0,u.pickBy)(e,n)})};r.createCollaboratorFilterSelector=b;var y=(0,s.createSelector)(function(e){return e.collaborators.all},function(e){return e.user},function(e,t){return t?a({},e,(0,l.default)({},t.id,t)):e});r.getAllCollaboratorsWithUser=y;var g=function(e,t){for(var r in t.collaborators.all){var n=t.collaborators.all[r];if(n.email===e)return n}return null};r.getCollaboratorByEmail=g;var E=function(e){return function(t,r){return t.id===e.user.id?-1:r.id===e.user.id?1:(t=t.full_name.toLowerCase(),r=r.full_name.toLowerCase(),t.localeCompare(r))}},T=function(e){return function(t,r){var n=r.collaborators.byPID[t];if(!n)return[];var a=[];for(var i in n){var o=r.collaborators.all[i];o&&n[i]===e&&a.push(o)}return a.sort(E(r)),a}},w=T(c.STATE_INVITED);r.getInvitedCollaborators=w;var R=T(c.STATE_ACTIVE);r.getActiveCollaborators=R},{"../../utils/fp":1083,"./reducer":984,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200,reselect:"reselect"}],986:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.item,r=e.type;return"projects"===r?{project_id:t.project_id,archived_sections:0,completed_items:0,id:t.project_id}:"sections"===r?{section_id:t.section_id,completed_items:0,id:t.section_id}:{item_id:t.parent_id,completed_items:0,id:t.parent_id}}function o(e){var t=e.state,r=e.projectIds;return function(e){if(0===r.length)return e;var n=(0,v.getAssociatesObjectIDs)(r,t),a=n.items,i=n.sections;return(0,g.compose)((0,b.removeFromSlice)("projects",r),(0,b.removeFromSlice)("sections",i),(0,b.removeFromSlice)("items",a))(e)}}function l(e){var t=e.state,r=e.sectionIds;return function(e){if(0===r.length)return e;var n=r.reduce(function(e,t){return e[t]=!0,e},{}),a=(0,E.values)(t.items).filter(function(e){return n[e.section_id]}).map(function(e){return e.id});return(0,g.compose)((0,b.removeFromSlice)("sections",r),(0,b.removeFromSlice)("items",a))(e)}}function s(e,t){switch(t.type){case p.SYNC_UPDATE:var r=t.payload,n=r.sections,i=r.projects,s=r.items,c=(n||[]).filter(function(e){return e.is_deleted}),d=(i||[]).filter(function(e){return e.is_deleted}),f=(s||[]).filter(function(e){return e.is_deleted});if(d.length>0||c.length>0||f.length>0){return a({},e,{completed:(0,g.compose)(l({state:e,sectionIds:c.map(function(e){return e.id})}),o({state:e,projectIds:d.map(function(e){return e.id})}),(0,b.removeFromSlice)("items",f.map(function(e){return e.id})))(e.completed)})}return e;case h.PROJECT_REMOVE:return a({},e,{completed:o({projectIds:t.payload,state:e})(e.completed)});case _.SECTION_REMOVE:return a({},e,{completed:l({sectionIds:[t.payload.id],state:e})(e.completed)});case m.ITEM_COMPLETE_UNDO:var v=(0,E.get)(["undo","prevState","items"],e)||{};return a({},e,{completed:u({items:Object.values(v),state:e.completed,itemsByID:v})})}return e}function u(e){var t=e.items,r=e.state,n=e.itemsByID,i=t.find(function(e){return!n[e.parent_id]}),o=(0,y.parseItem)(i),l=o.itemId,s=o.type,u=r[s][l];return u&&u.completed_items?a({},r,(0,d.default)({},s,a({},r[s],(0,d.default)({},l,a({},r[s][l],{completed_items:u.completed_items-1}))))):r}var c=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.completedCases=s,r.default=void 0;var d=c(e("@babel/runtime/helpers/defineProperty")),f=e("./load"),p=e("./sync"),m=e("./items"),h=e("./projects"),_=e("./sections"),v=e("./projects/reducers"),b=e("./utils"),y=e("./completed_items/utils"),g=e("redux"),E=e("../utils/fp"),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.LOAD_LOCAL_DATA:var r=t.payload.completed;return r||e;case p.SYNC_FULL_UPDATE:var n=t.payload.completed_info;return(0,b.parseCompleted)(n);case p.SYNC_UPDATE:var o=t.payload.completed_info,l=e||{},s=l.items,c=l.projects,h=l.sections,v=(0,b.parseCompleted)(o);return{projects:a({},c,{},v.projects),sections:a({},h,{},v.sections),items:a({},s,{},v.items)};case m.ITEM_DELETE:var g=t.payload.ids;return(0,b.removeFromSlice)("items",g)(e);case m.ITEM_COMPLETE:var T=t.payload.item,w=(0,y.parseItem)(T),R=w.itemId,P=w.type,D=e[P][R]||i({type:P,item:T});return a({},e,(0,d.default)({},P,a({},e[P],(0,d.default)({},R,a({},D,{completed_items:D.completed_items+1})))));case m.ITEM_UNCOMPLETE:var O=t.payload,C=O.completedItems,I=O.section,A=(0,E.byID)(C),S=u({items:C,state:e,itemsByID:A});if(I){var k=S.projects[I.project_id];if(k&&k.archived_sections)return a({},S,{projects:a({},S.projects,(0,d.default)({},I.project_id,a({},k,{archived_sections:k.archived_sections-1})))})}return S;case _.SECTION_UNARCHIVE:var M=t.payload,j=e.projects[M.project_id];return j&&j.archived_sections?a({},e,{projects:a({},e.projects,(0,d.default)({},M.project_id,a({},j,{archived_sections:j.archived_sections-1})))}):e}return e},w=T;r.default=w},{"../utils/fp":1083,"./completed_items/utils":991,"./items":1005,"./load":1014,"./projects":1026,"./projects/reducers":1027,"./sections":1032,"./sync":1038,"./utils":1043,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,redux:"redux"}],987:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.id,r=e.data,n=e.type;return{type:_,payload:{id:t,data:r,type:void 0===n?"items":n}}}function o(e){return{type:v,payload:e}}function l(e){var t=e.hintState,r=e.completedInfo,n=e.completedItems,a=e.itemId,o=e.type;return function(e){var l=(0,h.getArchivedItemsQueryParams)(r);return t.cursor&&(l.cursor=t.cursor),(0,d.jsonAPI)("/archive/items",{params:l,withToken:!0}).then(function(t){var r=(0,p.parseCompleted)(t.completed_info),l=t.items.map(function(e){return{item:(0,m.deserializeItemFields)(e),completed:r}}),s=(0,f.compose)((0,f.uniqBy)(function(e){return e.item.id}),(0,f.orderBy)([function(e){return e.item.date_completed}],["desc"]))(n.concat(l)),u={completedItems:s,tasksLeft:t.total-s.length,cursor:t.next_cursor,showHint:t.has_more};e(i({id:a,data:u,type:o}))})}}function s(e){var t=e.completedInfo,r=e.hintState,n=e.sections;return function(e){var o={project_id:t.project_id};return r.cursor&&(o.cursor=r.cursor),(0,d.jsonAPI)("/archive/sections",{params:o,withToken:!0}).then(function(r){var o=r.sections.map(function(e){return{section:a({},e,{collapsed:!0}),completed:(0,p.parseCompleted)(r.completed_info)}}),l=n.concat(o),s={completedSections:(0,f.uniqBy)(function(e){return e.section.id},l),cursor:r.next_cursor,showSectionsHint:r.has_more};e(i({id:t.project_id,type:"projects",data:s}))})}}var u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.updateHint=i,r.updateCompletedItem=o,r.fetchCompletedItems=l,r.fetchArchivedSections=s,r.onItemComplete=r.ADD_COMPLETED_ITEM_HINT=r.UPDATE_COMPLETED_ITEM=r.UPDATE_COMPLETED_HINT=void 0;var c=u(e("@babel/runtime/helpers/defineProperty")),d=e("../../utils"),f=e("../../utils/fp"),p=e("../utils"),m=e("../items"),h=e("./utils"),_="UPDATE_COMPLETED_HINT";r.UPDATE_COMPLETED_HINT=_;var v="UPDATE_COMPLETED_ITEM";r.UPDATE_COMPLETED_ITEM=v;r.ADD_COMPLETED_ITEM_HINT="ADD_COMPLETED_ITEM_HINT";var b=function(e,t){return{type:"ADD_COMPLETED_ITEM_HINT",payload:{item:e,childTasks:t}}};r.onItemComplete=b},{"../../utils":1094,"../../utils/fp":1083,"../items":1005,"../utils":1043,"./utils":991,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],988:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"onItemComplete",{enumerable:!0,get:function(){return a.onItemComplete}}),Object.defineProperty(r,"updateHint",{enumerable:!0,get:function(){return a.updateHint}}),Object.defineProperty(r,"updateCompletedItem",{enumerable:!0,get:function(){return a.updateCompletedItem}}),Object.defineProperty(r,"fetchCompletedItems",{enumerable:!0,get:function(){return a.fetchCompletedItems}}),Object.defineProperty(r,"fetchArchivedSections",{enumerable:!0,get:function(){return a.fetchArchivedSections}}),Object.defineProperty(r,"getHint",{enumerable:!0,get:function(){return i.getHint}}),Object.defineProperty(r,"completedItemsCases",{enumerable:!0,get:function(){return o.completedItemsCases}}),r.default=void 0;var a=e("./actions"),i=e("./selectors"),o=n(e("./reducers")),l=o.default;r.default=l},{"./actions":987,"./reducers":989,"./selectors":990,"@babel/runtime/helpers/interopRequireWildcard":190}],989:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){switch(t.type){case s.ADD_COMPLETED_ITEM_HINT:var r=t.payload,n=r.item,i=r.childTasks,o=(0,h.addCompleteInfo)({item:n,childTasks:i.filter(function(e){return!e.checked}),completed:e.completed,completedItems:e.completedItems});return a({},e,{completedItems:o});case f.ITEM_COMPLETE_UNDO:var u=(0,m.get)("undo.prevState.items",e)||{},c=Object.values(u).reduce(h.removeItem,e.completedItems);return a({},e,{completedItems:c});case f.ITEM_UNCOMPLETE:var _=t.payload,v=_.completedItems,b=_.section,y=[],g=v.reduce(function(e,t){var r=(0,h.parseItem)(t),n=r.itemId,i=r.type,o=(0,m.get)("".concat(i,".").concat(n,".completedItems"),e);return o&&0!==o.length?(o.some(function(e){if(e.item.id===t.id){var r=e.completed[i][t.id];r&&y.push(r)}return!1}),a({},e,(0,l.default)({},i,a({},e[i],(0,l.default)({},n,a({},e[i][n],{completedItems:o.filter(function(e){return e.item.id!==t.id})})))))):e},e.completedItems),E=y.reduce(function(e,t){var r="items";return t.project_id?r="projects":t.section_id&&(r="sections"),a({},e,(0,l.default)({},r,a({},e[r],(0,l.default)({},t.id,a({},e[r][t.id],{},t)))))},e.completed);if(b){var T=g.projects[b.project_id];if(T&&T.completedSections){var w=T.completedSections.filter(function(e){return e.section.id!==b.id});g=a({},g,{projects:a({},g.projects,(0,l.default)({},b.project_id,a({},T,{completedSections:w})))})}}return a({},e,{completed:E,completedItems:g});case p.SECTION_ARCHIVE:var R=t.payload,P=R.id,D=R.archivedDate,O=e.sections[P],C=Object.values(e.items).filter(function(e){return e.section_id===P}),I=C.filter(function(e){return null===e.parent_id}),A=C.filter(function(e){return null!==e.parent_id}),S=A.reduce(function(e,t){return e[t.id]=t.parent_id,e},{}),k=I.map(function(e){return{item:e,childTasks:A.filter(function(t){for(var r=t.parent_id;r;){if(r===e.id)return!0;r=S[r]}return!1})}}),M=e.completed.sections[P]||{section_id:P,completed_items:0,id:P},j=a({},M,{completed_items:(M.completed_items||0)+I.length}),N={section:a({},O,{date_archived:D,is_archived:!0}),completed:(0,d.parseCompleted)([j])},x=(e.completedItems.projects[O.project_id]||{}).completedSections||[],L=a({},e.completedItems,{projects:a({},e.completedItems.projects,(0,l.default)({},O.project_id,a({},e.completedItems.projects[O.project_id],{completedSections:[N].concat(x)})))}),q=k.slice().reverse().reduce(function(t,r){var n=r.item,a=r.childTasks;return(0,h.addCompleteInfo)({item:n,childTasks:a,completed:e.completed,completedItems:t,dateCompleted:D})},L);return a({},e,{completedItems:q})}return e}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.completedItemsCases=i,r.default=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=e("./actions"),u=e("../load"),c=e("../sync"),d=e("../utils"),f=e("../items"),p=e("../sections"),m=e("../../utils/fp"),h=e("./utils"),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.SYNC_FULL_UPDATE:case u.LOAD_LOCAL_DATA:return{itemsById:{},items:{},sections:{},projects:{}};case s.UPDATE_COMPLETED_HINT:var r=t.payload,n=r.id,i=r.data,o=r.type,d=void 0===o?"items":o,f=i?a({},e[d][n],{},i):void 0;return a({},e,(0,l.default)({},d,a({},e[d],(0,l.default)({},n,f))));case s.UPDATE_COMPLETED_ITEM:var p=t.payload;return a({},e,{itemsById:(0,l.default)({},p.id,p)})}return e},v=_;r.default=v},{"../../utils/fp":1083,"../items":1005,"../load":1014,"../sections":1032,"../sync":1038,"../utils":1043,"./actions":987,"./utils":991,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],990:[function(e,t,r){"use strict";function n(e,t){var r=t.type,n=t.id;return e.completedItems[r]&&e.completedItems[r][n]}Object.defineProperty(r,"__esModule",{value:!0}),r.getHint=n},{}],991:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.directChildren,r=e.type,n=e.item,i=e.itemId,o=e.completed,l=e.completedNumber,s=void 0===l?0:l,u=e.dateCompleted,c=void 0===u?(0,d.toISODateString)(new Date,{toUTC:!0}):u,m={item:a({},n,{date_completed:c,checked:1}),completed:(0,p.parseCompleted)([{item_id:n.id,completed_items:s+t.length}])},h=o[r][i],_=h&&h.completedItems||[],v=[m].concat(_);return a({},h,{completedItems:(0,f.uniqBy)(function(e){return e.item.id},v)})}function o(e,t){var r=s(t),n=r.itemId,i=r.type,o=(0,f.get)("".concat(i,".").concat(n,".completedItems"),e);return o&&0!==o.length?a({},e,(0,c.default)({},i,a({},e[i],(0,c.default)({},n,a({},e[i][n],{completedItems:o.filter(function(e){return e.item.id!==t.id})}))))):e}function l(e){var t=e.item,r=e.childTasks,n=e.completed,o=e.completedItems,l=e.dateCompleted,u=(0,d.groupBy)(r,"parent_id"),f=s(t),p=f.itemId,m=f.type,h=u[t.id]||[],_=n.items[t.id],v=_&&_.completed_items,b=i({directChildren:h,type:m,item:t,itemId:p,completed:o,completedNumber:v||0,dateCompleted:l}),y=a({},o,(0,c.default)({},m,a({},o[m],(0,c.default)({},p,b)))),g=a({},y,{items:a({},y.items,(0,c.default)({},t.id,a({},y.items[t.id],{collapsed:void 0===t.collapsed?1:t.collapsed})))});return r.slice().reverse().reduce(function(e,t){var r,o=t.parent_id,s=u[t.id]||[],d=n.items[t.id],f=d&&d.completed_items,p=i({directChildren:s,item:t,type:"items",itemId:o,completed:e,completedNumber:f||0,dateCompleted:l});return a({},e,{items:a({},e.items,(r={},(0,c.default)(r,t.id,a({},e.items[t.id],{collapsed:void 0===t.collapsed?1:t.collapsed})),(0,c.default)(r,o,p),r))})},g)}function s(e){var t=e.parent_id||e.section_id||e.project_id,r="projects";return e.parent_id?r="items":e.section_id&&(r="sections"),{itemId:t,type:r}}var u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createHint=i,r.removeItem=o,r.addCompleteInfo=l,r.parseItem=s,r.getArchivedItemsQueryParams=void 0;var c=u(e("@babel/runtime/helpers/defineProperty")),d=e("../../utils"),f=e("../../utils/fp"),p=e("../utils"),m=function(e){return e.project_id?{project_id:e.project_id}:e.section_id?{section_id:e.section_id}:{parent_id:e.item_id}};r.getArchivedItemsQueryParams=m},{"../../utils":1094,"../../utils/fp":1083,"../utils":1043,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],992:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./reducers")),i=a.default;r.default=i},{"./reducers":993,"@babel/runtime/helpers/interopRequireDefault":189}],993:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){switch(t.type){case s.SYNC_UPDATE:case s.SYNC_FULL_UPDATE:var r=t.payload.items;if(!r)return e;var n=r.filter(function(t){return e.items[t.id]&&!e.projects[t.project_id]});if(0===n.length)return e;var i=a({},e,{items:e.items});return n.forEach(function(e){delete i.items[e.id]}),i;default:return e}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=e("../sync")},{"../sync":1038,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],994:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.countOverdue=r.countSevenDays=r.countToday=r.countByFilter=r.partialStateForFilter=r.countBySection=r.countByLabel=r.countByProject=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=e("../utils/fp"),o=e("redux"),l=e("../filterist"),s=e("reselect"),u=e("../utils"),c=e("./selectors"),d=e("./items/selectors"),f=(0,i.mapValues)(function(){return 0}),p=(0,u.memoizeReturn)((0,s.createSelector)(d.getUncompletedExcludeSection,function(e){return e.projects},function(e,t){if(!e||!t)return{};var r=f(t),n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,u=s.project_id;r[u]||(r[u]=0),r[u]++}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}));r.countByProject=p;var m=(0,u.memoizeReturn)((0,s.createSelector)(d.getUncompletedExcludeSection,function(e){return e.reduce(function(e,t){var r=t.labels;return(void 0===r?[]:r).forEach(function(t){null!=e[t]?e[t]++:e[t]=1}),e},{})}));r.countByLabel=m;var h=(0,s.createSelector)(d.getUncompletedExcludeSection,function(e){return e.sections},function(e,t){if(!e||!t)return{};var r=f(t),n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value;s.section_id&&(r[s.section_id]||(r[s.section_id]=0),r[s.section_id]++)}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r});r.countBySection=h;var _=(0,s.createSelector)(d.getUncompletedExcludeSection,function(e){return e.user},function(e){return e.projects},function(e){return e.labels},function(e){return e.collaborators},c.dataLoaded,l.getFilteristConfig,function(e){return e.clock},function(e,t,r,n,a,i,o){return{uncompleted:e,user:t,projects:r,labels:n,collaborators:a,dataLoaded:i,filteristConfig:o}});r.partialStateForFilter=_;var v=(0,u.memoizeReturn)((0,s.createSelector)(_,function(e){return e.filters},function(e,t){var r=e.uncompleted,n=e.dataLoaded,s=e.filteristConfig;if(!n)return{};var u=f(t),c=(0,o.compose)((0,i.map)(function(e){var t=(0,a.default)(e,2),r=t[0],n=t[1];return[r,n,(0,l.createFilterFunc)(n.query,s)]}),(0,i.filter)(function(e){var t=(0,a.default)(e,2);t[0];return t[1].is_favorite}),i.toPairs)(t),d=!0,p=!1,m=void 0;try{for(var h,_=r[Symbol.iterator]();!(d=(h=_.next()).done);d=!0){var v=h.value,b=!0,y=!1,g=void 0;try{for(var E,T=c[Symbol.iterator]();!(b=(E=T.next()).done);b=!0){var w=(0,a.default)(E.value,3),R=w[0];w[1];(0,w[2])(v,e)&&u[R]++}}catch(e){y=!0,g=e}finally{try{b||null==T.return||T.return()}finally{if(y)throw g}}}}catch(e){p=!0,m=e}finally{try{d||null==_.return||_.return()}finally{if(p)throw m}}return u}));r.countByFilter=v;var b=function(e){return(0,s.createSelector)(_,function(t){var r=t.dataLoaded,n=t.uncompleted,a=t.filteristConfig;if(!r)return 0;var i=(0,l.createFilterFunc)(e,a);return n.filter(function(e){return i(e,t)}).length})},y=b("today & !assigned to: other");r.countToday=y;var g=b("7 days & !assigned to: other");r.countSevenDays=g;var E=b("overdue & !assigned to: other");r.countOverdue=E},{"../filterist":117,"../utils":1094,"../utils/fp":1083,"./items/selectors":1007,"./selectors":1035,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,redux:"redux",reselect:"reselect"}],995:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}
return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../reducers/load"),s=e("../reducers/sync"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.LOAD_LOCAL_DATA:var r=t.payload.items;if(!r)return e;var n={};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i].due;o&&(n[o.lang]=1)}return n;case s.SYNC_FULL_UPDATE:case s.SYNC_UPDATE:var u=t.payload.items;if(!u)return e;var c=a({},e),d=!1;return u.forEach(function(e){var t=e.due;t&&!c[t.lang]&&(d=1,c[t.lang]=1)}),d?c:e;default:return e}},c=u;r.default=c},{"../reducers/load":1014,"../reducers/sync":1038,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],996:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return Boolean(e.detailView)}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isDetailViewShowing=i,r.detailViewClose=r.detailViewUnmarkNote=r.detailViewShowProject=r.detailViewShowItem=r.default=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=e("./sync"),u=e("../utils"),c=o(e("../models/TemporaryIds")),d=e("../reducers/items"),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ITEM_ARCHIVE:case d.ITEM_DELETE:return null===e||t.payload.ids.includes(e.id)?null:e;case"DETAIL_VIEW_SHOW_ITEM":case"DETAIL_VIEW_SHOW_PROJECT":return t.payload;case"DETAIL_VIEW_UNMARK_NOTE":return(0,u.omit)(e,"highlightedNoteId");case"DETAIL_VIEW_CLOSE":return null;case s.SYNC_UPDATE:var r=t.payload.temp_id_mapping;return e&&(0,u.isTempID)(e.id)&&r[e.id]?a({},e,{id:r[e.id]}):e;default:return e}},p=f;r.default=p;var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.activeTab,n=void 0===r?null:r,a=t.highlightedNoteId,i=void 0===a?null:a,o=t.syncId;return function(t){e=c.default.getRealId(e),t({type:"DETAIL_VIEW_SHOW_ITEM",payload:{type:"item",id:e,syncId:o,activeTab:n,highlightedNoteId:i,previousWindowLocation:window.LocationManager.getHash()}}),Signals.sendSignal("change_location","task/"+e)}};r.detailViewShowItem=m;var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.activeTab,n=void 0===r?null:r,a=t.highlightedNoteId,i=void 0===a?null:a;return e=c.default.getRealId(e),{type:"DETAIL_VIEW_SHOW_PROJECT",payload:{type:"project",id:e,activeTab:n,highlightedNoteId:i}}};r.detailViewShowProject=h;var _=function(){return{type:"DETAIL_VIEW_UNMARK_NOTE"}};r.detailViewUnmarkNote=_;var v=function(){return function(e,t){var r=t();Signals.sendSignal("change_location",r.detailView.previousWindowLocation),e({type:"DETAIL_VIEW_CLOSE"})}};r.detailViewClose=v},{"../models/TemporaryIds":174,"../reducers/items":1005,"../utils":1094,"./sync":1038,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],997:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.type,r=e.id;return"".concat(t,":").concat(r)}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.draftGet=r.draftAdd=r.DRAFT_ADD=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=e("../utils/fp"),u=e("./load"),c=e("./notes"),d=e("./items"),f=e("./projects");r.DRAFT_ADD="DRAFT_ADD";var p=function(e){var t=e.text;return{type:"DRAFT_ADD",payload:{key:i({type:e.parentType,id:e.parentId}),value:t}}};r.draftAdd=p;var m=function(e,t){var r=t.id,n=t.type;return(0,s.get)(["drafts",i({type:n,id:r})],e)};r.draftGet=m;var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.LOAD_LOCAL_DATA:return t.payload.drafts?a({},t.payload.drafts):e;case"DRAFT_ADD":var r=t.payload,n=r.key,o=r.value;if(!o){var s=a({},e);return delete s[n],s}return a({},e,(0,l.default)({},n,o));case c.NOTE_ADD:var p=t.payload,m=p.item_id?c.TYPE_ITEM_NOTE:c.TYPE_PROJECT_NOTE,h=i({type:m,id:p.item_id||p.project_id}),_=a({},e);return delete _[h],_;case d.ITEM_DELETE:var v=t.payload.ids;if(v&&v.length>0){var b=a({},e);return v.forEach(function(e){var t=i({type:c.TYPE_ITEM_NOTE,id:e});delete b[t]}),b}return e;case f.PROJECT_REMOVE:var y=t.payload;if(y&&y.length>0){var g=a({},e);return y.forEach(function(e){var t=i({type:c.TYPE_PROJECT_NOTE,id:e});delete g[t]}),g}return e;default:return e}},_=h;r.default=_},{"../utils/fp":1083,"./items":1005,"./load":1014,"./notes":1021,"./projects":1026,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],998:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){return{type:d,payload:{href:e,title:t}}}function o(e){return e&&e.externalServices?e.externalServices.currentLocation:null}function l(e){var t=o(e);return t?{defaultFields:{content:"[".concat(t.title,"](").concat(t.href,")")}}:void 0}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return a({},e,{currentLocation:a({},t.payload)});default:return e}}var u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.updateCurrentLocation=i,r.getCurrentLocation=o,r.getAllowWebsiteAddDefaultFields=l,r.default=void 0;var c=u(e("@babel/runtime/helpers/defineProperty")),d="UPDATE_EXTERNAL_SERVICE_LOCATION",f=s;r.default=f},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],999:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.filterRemove=r.filterUpdateOrders=r.filterUpdate=r.filterAdd=r.FILTER_REMOVE=r.FILTER_UPDATE=r.FILTER_ADD=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("@babel/runtime/helpers/defineProperty")),s=i(e("@babel/runtime/helpers/toConsumableArray")),u=e("../../utils"),c=i(e("../../models/SyncEngine")),d=i(e("../../models/TemporaryIds"));r.FILTER_ADD="FILTER_ADD";r.FILTER_UPDATE="FILTER_UPDATE";r.FILTER_REMOVE="FILTER_REMOVE";var f=function(e){return e.replace(/[<>"=#+]+/g,"_")},p=function(e){var t=e.name,r=e.query,n=e.color,a=e.is_favorite;return function(e,i){var o=d.default.generate("filter"),l=Math.max.apply(Math,(0,s.default)((0,u.values)(i().filters).map(function(e){return e.item_order}))),p={id:o,name:f(t).trim(),item_order:l+1,query:r,color:n,is_favorite:a};return c.default.queueUpdate({type:"filter_add",temp_id:o,args:p}),e({type:"FILTER_ADD",payload:p}),p}};r.filterAdd=p;var m=function(e,t){return function(r,n){e=d.default.getRealId(e);var i=n().filters[e];if(i)return i=a({},i,{},t),i.name=f(i.name).trim(),c.default.queueUpdate({type:"filter_update",args:i}),r({type:"FILTER_UPDATE",payload:i}),i}};r.filterUpdate=m;var h=function(e){return function(t){if(0!==Object.keys(e).length){e=(0,u.mapKeys)(e,function(e,t){return(0,u.isTempID)(t)?d.default.getRealId(t):t}),c.default.queueUpdate({type:"filter_update_orders",args:{id_order_mapping:JSON.stringify(e)}});t({type:"FILTER_UPDATE",payload:(0,u.toPairs)(e).map(function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return{id:(0,u.isTempID)(r)?r:parseInt(r),item_order:n}})})}}};r.filterUpdateOrders=h;var _=function(e){return function(t,r){e=d.default.getRealId(e);var n=r().filters[e];n&&(c.default.queueUpdate({type:"filter_delete",args:{id:n.id}}),t({type:"FILTER_REMOVE",payload:n.id}))}};r.filterRemove=_},{"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../../utils":1094,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200}],1e3:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"FILTER_ADD",{enumerable:!0,get:function(){return a.FILTER_ADD}}),Object.defineProperty(r,"FILTER_UPDATE",{enumerable:!0,get:function(){return a.FILTER_UPDATE}}),Object.defineProperty(r,"FILTER_REMOVE",{enumerable:!0,get:function(){return a.FILTER_REMOVE}}),Object.defineProperty(r,"filterAdd",{enumerable:!0,get:function(){return a.filterAdd}}),Object.defineProperty(r,"filterUpdate",{enumerable:!0,get:function(){return a.filterUpdate}}),Object.defineProperty(r,"filterUpdateOrders",{enumerable:!0,get:function(){return a.filterUpdateOrders}}),Object.defineProperty(r,"filterRemove",{enumerable:!0,get:function(){return a.filterRemove}}),Object.defineProperty(r,"filterGetSource",{enumerable:!0,get:function(){return o.filterGetSource}}),Object.defineProperty(r,"filterGetFavorite",{enumerable:!0,get:function(){return o.filterGetFavorite}}),Object.defineProperty(r,"filterGetByID",{enumerable:!0,get:function(){return o.filterGetByID}}),Object.defineProperty(r,"filterGetAll",{enumerable:!0,get:function(){return o.filterGetAll}}),Object.defineProperty(r,"filterGetByName",{enumerable:!0,get:function(){return o.filterGetByName}}),Object.defineProperty(r,"isDefaultFilter",{enumerable:!0,get:function(){return o.isDefaultFilter}}),r.default=void 0;var a=e("./actions"),i=n(e("./reducers")),o=e("./selectors"),l=i.default;r.default=l},{"./actions":999,"./reducers":1001,"./selectors":1002,"@babel/runtime/helpers/interopRequireDefault":189}],1001:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../../utils"),s=e("../load"),u=e("../sync"),c=e("../utils"),d=e("./actions"),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.LOAD_LOCAL_DATA:return t.payload.filters?t.payload.filters:e;case u.SYNC_UPDATE:var r=t.payload,n=r.filters,i=r.temp_id_mapping;return i&&(e=(0,c.resolveTempID)(e,i)),n&&(e=(0,c.mergeSyncUpdate)(e,n)),e;case u.SYNC_FULL_UPDATE:return(0,l.keyBy)(t.payload.filters,"id");case d.FILTER_ADD:var o=Object.assign({},e),f=t.payload;return o[f.id]=f,o;case d.FILTER_UPDATE:var p=$isArray(t.payload)?t.payload:[t.payload];p=p.filter(function(t){return!!e[t.id]}).map(function(t){return a({},e[t.id],{},t)});var m=(0,l.keyBy)(p,"id");return a({},e,{},m);case d.FILTER_REMOVE:var h=t.payload,_=Object.assign({},e);return delete _[h],_;default:return e}},p=f;r.default=p},{"../../utils":1094,"../load":1014,"../sync":1038,"../utils":1043,"./actions":999,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1002:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isDefaultFilter=r.filterGetByName=r.filterGetAll=r.filterGetByID=r.filterGetFavorite=r.filterGetSource=void 0;var a=e("../../utils"),i=e("../../utils/fp"),o=e("reselect"),l=n(e("../../models/TemporaryIds")),s=e("redux"),u=n(e("../../utils/partialMatchIndex")),c=e("../user"),d={1:{id:1,name:_x("filter","Assigned to me"),query:"assigned to: me",color:12},2:{id:2,name:_x("filter","Assigned to others"),query:"assigned to: others",color:12},3:{id:3,name:_x("filter","Priority 1"),query:"priority 1",color:6},4:{id:4,name:_x("filter","Priority 2"),query:"priority 2",color:6},5:{id:5,name:_x("filter","Priority 3"),query:"priority 3",color:6},6:{id:6,name:_x("filter","Priority 4"),query:"priority 4",color:6},7:{id:7,name:_x("filter","View all"),query:"view all",color:6},8:{id:8,name:_x("filter","No due date"),query:"no due date",color:6}},f=(0,o.createSelector)(c.isPremium,function(e){return e.filters},function(e,t){return e?t:d});r.filterGetSource=f;var p=(0,o.createSelector)(f,(0,s.compose)((0,i.sortBy)(["item_order"]),(0,i.filter)(function(e){return e.is_favorite}),a.values));r.filterGetFavorite=p;var m=function(e,t){return t=l.default.getRealId(t),f(e)[t]};r.filterGetByID=m;var h=(0,o.createSelector)(f,(0,s.compose)((0,i.sortBy)("item_order"),a.values,function(e){return e||{}}));r.filterGetAll=h;var _=function(e,t){return(0,s.compose)((0,i.map)(function(e){return e.x}),(0,i.sortBy)(["i","x.item_order","x.id"]),(0,i.filter)(function(e){return-1!==e.i}),(0,i.map)(function(e){return{i:(0,u.default)(t,e.name),x:e}}),a.values,f)(e)};r.filterGetByName=_;var v=function(e){return!!d[e]};r.isDefaultFilter=v},{"../../models/TemporaryIds":174,"../../utils":1094,"../../utils/fp":1083,"../../utils/partialMatchIndex":1115,"../user":1042,"@babel/runtime/helpers/interopRequireDefault":189,redux:"redux",reselect:"reselect"}],1003:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("../../logger/Logger")),i=function(e,t){return function(r,n){try{return e(r,n)}catch(e){return a.captureError(e,t),r}}},o=i;r.default=o},{"../../logger/Logger":132,"@babel/runtime/helpers/interopRequireWildcard":190}],1004:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.delta,a=void 0===n?1:n,i=r.asError,o=void 0!==i&&i,l=(0,y.countByProject)(e)[t],s=(0,g.itemsPerProjectLimit)(e);if(l+a>s){var u=O(s);return o?{error:u}:((0,g.isPremium)(e)?alert(u):(0,P.showTaskLimit)(),!0)}return!1}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.itemMoveDueToDate=r.itemUpdateDayOrder=r.itemDuplicate=r.itemSortProjectItems=r.itemUpdateDayOrderUndo=r.itemUpdateDueUndo=r.itemUpdateDue=r.itemMoveAndReorderUndo=r.itemMoveAndReorder=r.itemMoveMultiple=r.itemUnarchive=r.itemUncomplete=r.itemArchiveUndo=r.itemArchive=r.itemCompleteRecurringUndo=r.itemCompleteUndo=r.completeNonRecurring=r.itemComplete=r.itemUpdate=r.itemDelete=r.itemAdd=r.ITEM_UPDATE_DUE_UNDO=r.ITEM_UPDATE_DUE=r.ITEM_UPDATE_DAY_ORDER_UNDO=r.ITEM_UPDATE_DAY_ORDER=r.ITEM_UPDATE=r.ITEM_UNCOMPLETE=r.ITEM_UNARCHIVE=r.ITEM_MOVE_MULTIPLE_UNDO=r.ITEM_MOVE_MULTIPLE=r.ITEM_MOVE_AND_REORDER_UNDO=r.ITEM_MOVE_AND_REORDER=r.ITEM_DUPLICATE=r.ITEM_DELETE=r.ITEM_COMPLETE_UNDO=r.ITEM_COMPLETE_RECURRING_UNDO=r.ITEM_COMPLETE_RECURRING=r.ITEM_COMPLETE=r.ITEM_ARCHIVE_UNDO=r.ITEM_ARCHIVE=r.ITEM_ADD=void 0;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=o(e("@babel/runtime/helpers/toConsumableArray")),u=o(e("@babel/runtime/helpers/defineProperty")),c=e("../../utils"),d=e("../../utils/fp"),f=e("redux"),p=o(e("../../models/SyncEngine")),m=o(e("../../models/TemporaryIds")),h=o(e("../../models/DateExt")),_=e("./selectors"),v=e("../collaborators"),b=e("../utils"),y=e("../counts"),g=e("../user"),E=e("../../models/Reminders.js"),T=e("../../utils/deps"),w=e("../notes/constants"),R=e("./utils"),P=e("../../containers/premium_promo/PremiumOnlyModal"),D=(0,T.defineDeps)("reducers/items/actions",["notesActions"]);r.ITEM_ADD="ITEM_ADD";r.ITEM_ARCHIVE="ITEM_ARCHIVE";r.ITEM_ARCHIVE_UNDO="ITEM_ARCHIVE_UNDO";r.ITEM_COMPLETE="ITEM_COMPLETE";r.ITEM_COMPLETE_RECURRING="ITEM_COMPLETE_RECURRING";r.ITEM_COMPLETE_RECURRING_UNDO="ITEM_COMPLETE_RECURRING_UNDO";r.ITEM_COMPLETE_UNDO="ITEM_COMPLETE_UNDO";r.ITEM_DELETE="ITEM_DELETE";r.ITEM_DUPLICATE="ITEM_DUPLICATE";r.ITEM_MOVE_AND_REORDER="ITEM_MOVE_AND_REORDER";r.ITEM_MOVE_AND_REORDER_UNDO="ITEM_MOVE_AND_REORDER_UNDO";r.ITEM_MOVE_MULTIPLE="ITEM_MOVE_MULTIPLE";r.ITEM_MOVE_MULTIPLE_UNDO="ITEM_MOVE_MULTIPLE_UNDO";r.ITEM_UNARCHIVE="ITEM_UNARCHIVE";r.ITEM_UNCOMPLETE="ITEM_UNCOMPLETE";r.ITEM_UPDATE="ITEM_UPDATE";r.ITEM_UPDATE_DAY_ORDER="ITEM_UPDATE_DAY_ORDER";r.ITEM_UPDATE_DAY_ORDER_UNDO="ITEM_UPDATE_DAY_ORDER_UNDO";r.ITEM_UPDATE_DUE="ITEM_UPDATE_DUE";r.ITEM_UPDATE_DUE_UNDO="ITEM_UPDATE_DUE_UNDO",_n("For performance reasons a task can only have one character.","For performance reasons a task can only have {n} characters.",1);var O=function(e){return(0,c.format)(_n("For performance reasons you can add at most one task per project. Please try re-organizing your tasks into multiple projects.","For performance reasons you can add at most {n} tasks per project. Please try re-organizing your tasks into multiple projects.",e),{n:e})},C=function(e,t){return(0,c.isEqual)((0,d.pick)((0,c.keys)(e),t),e)},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,n){var o=n(),l=i(o,e.project_id,{asError:t.return_as_error});if(l)return l;var s=a({id:m.default.generate("item"),due:e.due||null,section_id:null,parent_id:null,checked:0,user_id:o.user.id,in_history:0,collapsed:0,date_added:new Date,assigned_by_uid:null,responsible_uid:null,added_by_uid:o.user.id},e);if(s.content=s.content.trim(),0===s.content.length)throw new Error("item.add(): content cannot be empty");return s.labels=s.labels||[],s.child_order=s.child_order||(0,_.itemGetMaxTopLevelChildOrder)((0,d.pick)(["section_id","project_id"],e),o)+1,s.responsible_uid&&(0,v.isShared)(o,s.project_id)&&(s.assigned_by_uid=o.user.id),s=(0,b.resolveTempIDFields)(["section_id","project_id","parent_id"],s),delete s.note,delete s.reminders,p.default.queueUpdate({type:"item_add",temp_id:s.id,args:ne(s)}),r({type:"ITEM_ADD",payload:s}),e.note&&r(D.notesActions.noteAdd({parentId:s.id,type:w.TYPE_ITEM_NOTE,content:e.note})),e.reminders&&e.reminders.length&&e.reminders.forEach(function(e){var t=a({},e,{item_id:s.id});"location"===t.type?E.RemindersModel.addLocation(t):E.RemindersModel.add(t)}),o=n(),ae(s.id,o),s}};r.itemAdd=I;var A=function(e){var t=(0,c.isArray)(e)?e:[e];return t=t.map(function(e){return m.default.getRealId(e)}),t.forEach(function(e){p.default.queueUpdate({type:"item_delete",args:{id:e}})}),{type:"ITEM_DELETE",payload:{ids:t}}};r.itemDelete=A;var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.item;return function(t,n){e=(0,b.resolveTempIDFields)(["id","project_id","parent_id","labels"],e),e=(0,d.omit)(["section_id","parent_id","child_order"],e);var i=e,o=i.id,l=n(),s=r||l.items[e.id];if(C(e,s))return s;if(e.content&&(e.content=$strip(e.content),0===e.content.length))return s;e.project_id&&s.project_id!==e.project_id&&(t(H({id:s.id,project_id:e.project_id,section_id:e.section_id})),l=n(),s=l.items[o],delete e.project_id,delete e.section_id),(e.due&&(!s.due||s.due.isSameDate(e.due))||e.priority&&e.priority!==s.priority)&&(e.day_order=-1);var u=a({},e);return u.due&&(u.due=u.due.toAPIFormat()),p.default.queueUpdate({type:"item_update",args:u}),r?void 0:(t({type:"ITEM_UPDATE",payload:e}),l=n(),ae(s.id,l),l=n(),l.items[o])}};r.itemUpdate=S;var k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force_history,n=void 0===r?0:r;return e=m.default.getRealId(e),function(t,r){var a=r().items[e];return a.due&&a.due.is_recurring&&0===a.in_history&&!n?j(a,t,r):M(a,n,t,r)}};r.itemComplete=k;var M=function(e,t,r,n){var i=(0,c.toISODateString)(new Date,{toUTC:!0}),o=[e].concat((0,s.default)((0,_.itemGetChildren)(e.id,n())));p.default.queueUpdate({type:"item_complete",args:{id:e.id,date_completed:i,force_history:t}}),r({type:"ITEM_COMPLETE",payload:{id:e.id,force_history:t,date_completed:i,item:e}});var l;if(t||null===e.parent_id)l=o.map(function(e){return a({},e,{in_history:1,checked:1})});else{var u=n();l=o.map(function(e){return u.items[e.id]})}return l};r.completeNonRecurring=M;var j=function(e,t,r){var n=Array.from(e.due.nextRecurrence()),a=(0,l.default)(n,2),i=a[0];return a[1]?M(e,1,t,r):(p.default.queueUpdate({type:"item_update_date_complete",args:{id:e.id,due:i.toAPIFormat(),is_forward:1}}),t({type:"ITEM_COMPLETE_RECURRING",payload:{id:e.id,nextRecurrence:i}}),e=r().items[e.id],[e])},N=function(){return function(e,t){var r=t().undo,n=r.type,a=r.id,i=r.prevState;if("ITEM_COMPLETE_UNDO"===n){a=m.default.getRealId(a);var o=(0,f.compose)((0,d.map)((0,d.pick)(["id","checked"])),(0,d.filter)(function(e){return e.id!==a}),c.values)(i.items);p.default.queueUpdate({type:"item_complete_undo",args:{id:a,descendants:o}}),e({type:"ITEM_COMPLETE_UNDO"}),Signals.sendSignal("instant_refresh_interface")}}};r.itemCompleteUndo=N;var x=function(){return function(e,t){var r=t().undo,n=r.type,a=r.id,i=r.duePrev;"ITEM_COMPLETE_RECURRING_UNDO"===n&&(a=m.default.getRealId(a),p.default.queueUpdate({type:"item_update_date_complete",args:{id:a,due:i,is_forward:0}}),e({type:"ITEM_COMPLETE_RECURRING_UNDO"}),Signals.sendSignal("instant_refresh_interface"))}};r.itemCompleteRecurringUndo=x;var L=function(e){return function(t,r){var n=(0,c.isArray)(e)?e:[e];n=n.map(function(e){return m.default.getRealId(e)});var a=r(),i=(0,c.toISODateString)(new Date,{toUTC:!0}),o=!0,l=!1,u=void 0;try{for(var h,v=n[Symbol.iterator]();!(o=(h=v.next()).done);o=!0){var b=h.value,y=a.items[b];p.default.queueUpdate({type:"item_complete",args:{id:b,force_history:1,date_completed:y.date_completed||i}})}}catch(e){l=!0,u=e}finally{try{o||null==v.return||v.return()}finally{if(l)throw u}}return t({type:"ITEM_ARCHIVE",payload:{ids:n}}),(0,f.compose)(d.flatten,(0,d.map)(function(e){return[a.items[e]].concat((0,s.default)((0,_.itemGetChildren)(e,a)))}))(n)}};r.itemArchive=L;var q=function(){return function(e,t){var r=t().undo,n=r.type,a=r.ids,i=r.prevState;if("ITEM_ARCHIVE_UNDO"===n){a=a.map(function(e){return m.default.getRealId(e)});var o=!0,l=!1,s=void 0;try{for(var u,h=a[Symbol.iterator]();!(o=(u=h.next()).done);o=!0)!function(){var e=u.value,t=i.items[e],r=(0,f.compose)((0,d.map)((0,d.pick)(["id","checked"])),(0,d.filter)(function(t){return t.id!==e}),c.values)(i.items);p.default.queueUpdate({type:"item_archive_undo",args:{id:e,checked:t.checked,descendants:r}})}()}catch(e){l=!0,s=e}finally{try{o||null==h.return||h.return()}finally{if(l)throw s}}e({type:"ITEM_ARCHIVE_UNDO"}),Signals.sendSignal("instant_refresh_interface")}}};r.itemArchiveUndo=q;var U=function(e,t,r){return e=m.default.getRealId(e),p.default.queueUpdate({type:"item_uncomplete",args:{id:e}}),{type:"ITEM_UNCOMPLETE",payload:{id:e,completedItems:t,section:r}}};r.itemUncomplete=U;var $=function(e){return e=(0,R.deserializeItemFields)(e),p.default.queueUpdate({type:"item_uncomplete",args:{id:e.id}}),{type:"ITEM_UNARCHIVE",payload:e}};r.itemUnarchive=$;var F=function(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;if(t[l])return(0,u.default)({},l,t[l])}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return{}},z=function(e){return a({id:e.id},F(["parent_id","section_id","project_id"],e))},B=function(e,t,r){return function(n,a){var o=a();if(e=e.map(function(e){return m.default.getRealId(e)}),t=m.default.getRealId(t),!i(o,t,{delta:e.length})){var l=(0,f.compose)(function(e){return new Set(e)},(0,d.map)(function(e){return e.id}),d.flatten,(0,d.map)(function(e){return(0,_.itemGetChildren)(e,o)}))(e);e=e.filter(function(e){return!l.has(e)});var s=!0,u=!1,c=void 0;try{for(var h,v=e[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){var b=h.value;r?p.default.queueUpdate({type:"item_move",args:{id:b,section_id:r}}):p.default.queueUpdate({type:"item_move",args:{id:b,project_id:t}})}}catch(e){u=!0,c=e}finally{try{s||null==v.return||v.return()}finally{if(u)throw c}}n({type:"ITEM_MOVE_MULTIPLE",payload:{ids:e,destPID:t}})}}};r.itemMoveMultiple=B;var H=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.allowUndo,a=void 0===n||n;return function(r,n){var o=n(),l=o.items;if(e){if(e=(0,b.resolveTempIDFields)(["id","parent_id","section_id","project_id"],e),e.parent_id===e.id)throw Error("item parent_id cannot be itself");var s=n().items[e.id];if(C(e,s))e=null;else{if(i(o,e.project_id))return;e=z(e),p.default.queueUpdate({type:"item_move",args:e})}}if(t&&(t=t.map((0,b.resolveTempIDFields)("id")).filter(function(e){var t=e.id,r=e.child_order;return t&&l[t]&&l[t].child_order!==r}),t.length>0?p.default.queueUpdate({type:"item_reorder",args:{items:t}}):t=null),e||t)return r({type:"ITEM_MOVE_AND_REORDER",payload:{moveTo:e,orders:t,allowUndo:a}})}};r.itemMoveAndReorder=H;var V=function(){return function(e,t){var r=t().undo,n=r.type,a=r.moveTo,i=r.orders;"ITEM_MOVE_AND_REORDER_UNDO"===n&&(a&&(a=(0,b.resolveTempIDFields)(["id","parent_id","section_id","project_id"],a),a=z(a),p.default.queueUpdate({type:"item_move",args:a})),i&&(i=i.map((0,b.resolveTempIDFields)("id")),p.default.queueUpdate({type:"item_reorder",args:{items:i}})),e({type:"ITEM_MOVE_AND_REORDER_UNDO",payload:{moveTo:a,orders:i}}),Signals.sendSignal("instant_refresh_interface"))}};r.itemMoveAndReorderUndo=V;var W=function(e){return function(t,r){var n=r(),a=n,i=a.items;e=(0,c.mapKeys)(e,function(e,t){return m.default.getRealId(t)}),(0,d.toPairs)(e).forEach(function(t){var r=(0,l.default)(t,2),n=r[0],a=r[1];a instanceof Date&&(a=i[n].due?i[n].due.inheritDate({year:a.getFullYear(),month:a.getMonth(),day:a.getDate()}):h.default.fromDate(a),e[n]=a),p.default.queueUpdate({type:"item_update",args:{id:n,due:a?a.toAPIFormat():null}})}),t({type:"ITEM_UPDATE_DUE",payload:e}),n=r(),(0,c.keys)(e).forEach(function(e){return ae(e,n)}),Signals.sendSignal("instant_refresh_interface")}};r.itemUpdateDue=W;var G=function(){return function(e,t){var r=t(),n=r.undo;if("ITEM_UPDATE_DUE_UNDO"===n.type){var a=(0,c.mapKeys)(n.idToDue,function(e,t){return m.default.getRealId(t)});(0,d.toPairs)(a).forEach(function(e){var t=(0,l.default)(e,2),r=t[0],n=t[1];p.default.queueUpdate({type:"item_update",args:{id:r,due:n?n.toAPIFormat():null}})}),e({type:"ITEM_UPDATE_DUE_UNDO"}),Signals.sendSignal("instant_refresh_interface")}}};r.itemUpdateDueUndo=G;var Y=function(){return function(e,t){var r=t(),n=r.undo;"ITEM_UPDATE_DAY_ORDER_UNDO"===n.type&&(p.default.queueUpdate({type:"item_update_day_orders",args:{ids_to_orders:n.orders}}),e({type:"ITEM_UPDATE_DAY_ORDER_UNDO"}),Signals.sendSignal("instant_refresh_interface"))}};r.itemUpdateDayOrderUndo=Y;var K=(0,c.curry)(function(e,t){return(0,f.compose)(d.flatten,c.values,(0,d.mapValues)(function(e){return e.map(function(e,t){return{id:e.id,child_order:t+1}})}),(0,d.mapValues)(function(t){return t.sort(e),t}),(0,d.groupBy)("parent_id"))(t)}),X=function(e,t){return function(r,n){e=m.default.getRealId(e);var a=n(),i=(0,_.itemGetByPID)(a)[e],o=(0,f.compose)((0,d.filter)(function(e){var t=e.id,r=e.child_order;return a.items[t].child_order!==r}),d.flatten,c.values,(0,d.mapValues)(K(t)),(0,d.groupBy)("section_id"))(i);r(H(null,o))}};r.itemSortProjectItems=X;var J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.withNotes,n=void 0===r||r;return function(t,r){e=e.map(function(e){return m.default.getRealId(e)});var o=r(),l=[],s=[],u={};e.forEach(function(e){var t=ee(e,o),r=t.next,n=t.newIDs,i=t.reorderedIDs,c=t.idMapping;o=r,l=l.concat(n),s=s.concat(i),u=a({},u,{},c)});var d=new Set(e.map(function(e){return o.items[e].project_id})),f=!0,h=!1,_=void 0;try{for(var v,b=d[Symbol.iterator]();!(f=(v=b.next()).done);f=!0){var y=v.value;if(i(o,y))return}}catch(e){h=!0,_=e}finally{try{f||null==b.return||b.return()}finally{if(h)throw _}}(0,c.uniq)(l).forEach(function(e){p.default.queueUpdate({type:"item_add",temp_id:e,args:ne(o.items[e])})}),s.length>0&&p.default.queueUpdate({type:"item_reorder",args:{items:(0,c.uniq)(s).map(function(e){return{id:e,child_order:o.items[e].child_order}})}});var g=(0,c.keys)(u).map(c.parseId);o=te(g,u,o),n&&(o=re(g,u,o)),t({type:"ITEM_DUPLICATE",payload:{state:o}}),Signals.sendSignal("instant_refresh_interface")}};r.itemDuplicate=J;var Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.withUndo,n=void 0!==r&&r;return e=(0,c.mapKeys)(e,function(e,t){return m.default.getRealId(t)}),p.default.queueUpdate({type:"item_update_day_orders",args:{ids_to_orders:e}}),{type:"ITEM_UPDATE_DAY_ORDER",payload:{orders:e,withUndo:n}}};r.itemUpdateDayOrder=Q;var Z=function(e,t){return function(r,n){var a=n(),i=a.items[e];if(i.due){var o=i.due.inheritDate({year:t.getFullYear(),month:t.getMonth(),day:t.getDate()});i.due.isSameDate(o)||r(W((0,u.default)({},i.id,o)))}else{var l=h.default.fromDate(t,{withTime:!1});r(W((0,u.default)({},i.id,l)))}}};r.itemMoveDueToDate=Z;var ee=function(e,t){var r=t.items[e],n=(0,_.itemGetChildren)(e,t),i=[r].concat((0,s.default)(n)).map(c.cloneDeep),o=i.reduce(function(e,t){var r=m.default.generate("item");return e[t.id]=r,e},{}),l=(0,c.toISODateString)(new Date,{toUTC:!0});i=i.map(function(e){return a({},e,{id:o[e.id],parent_id:o[e.parent_id]||e.parent_id,checked:0,date_added:l})});var u=r.child_order;i[0]=a({},i[0],{child_order:u+1});var d;if(r.parent_id){
var f=t.items[r.parent_id];d=(0,_.itemGetChildren)(f.id,t).filter(function(e){return e.child_order>u}).map(function(e){return a({},e,{child_order:e.child_order+1})})}else{d=(0,_.itemGetByPID)(t)[r.project_id].filter(function(e){return!e.parent_id}).filter(function(e){return e.child_order>u}).map(function(e){return a({},e,{child_order:e.child_order+1})})}var p=a({},t.items,{},(0,c.byID)(i),{},(0,c.byID)(d)),h=a({},t,{items:p}),v=d.map(function(e){return e.id});return{next:h,newIDs:i.map(function(e){return e.id}),reorderedIDs:v,idMapping:o}},te=function(e,t,r){var n=(0,R.getAssociatesObjectIDs)(e,r),i=n.reminders,o=i.map(function(e){var n=r.reminders[e];return a({},n,{id:m.default.generate("reminders"),item_id:t[n.item_id],due:"relative"===n.type?null:n.due})}),l=a({},r,{reminders:a({},r.reminders,{},(0,c.byID)(o))});return o.forEach(function(e){p.default.queueUpdate({type:"reminder_add",temp_id:e.id,args:e})}),l},re=function(e,t,r){var n=(0,R.getAssociatesObjectIDs)(e,r),i=n.notes,o=i.map(function(e){var n=r.notes[e];return a({},n,{id:m.default.generate("notes"),item_id:t[n.item_id]})}),l=a({},r,{notes:a({},r.notes,{},(0,c.byID)(o))});return o.forEach(function(e){p.default.queueUpdate({type:"note_add",temp_id:e.id,args:e})}),l},ne=function(e){var t=a({},e,{due:e.due?e.due.toAPIFormat():null});return delete t.sync_id,t},ae=function(e,t){var r=t.items[e];if(r.due){if(!r.due.with_time)return void E.RemindersModel.removeRelative(r.id);var n=t.user,a=n.auto_reminder,i=n.default_reminder;if(-1!==a&&(0,g.isPremium)(t)&&r.due&&r.due.with_time){var o=(0,c.values)(t.reminders).filter(function(e){return e.item_id===r.id});if(E.BufferedRemindersModel.reminders&&(o=o.concat(E.BufferedRemindersModel.reminders)),!(o.length>0)){var l=r.responsible_uid||n.id;E.RemindersModel.add({item_id:r.id,service:i,minute_offset:a,notify_uid:l,type:"relative"})}}}}},{"../../containers/premium_promo/PremiumOnlyModal":104,"../../models/DateExt":154,"../../models/Reminders.js":163,"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../../utils":1094,"../../utils/deps":1071,"../../utils/fp":1083,"../collaborators":983,"../counts":994,"../notes/constants":1020,"../user":1042,"../utils":1043,"./selectors":1007,"./utils":1008,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,redux:"redux"}],1005:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ITEM_ARCHIVE",{enumerable:!0,get:function(){return a.ITEM_ARCHIVE}}),Object.defineProperty(r,"ITEM_ARCHIVE_UNDO",{enumerable:!0,get:function(){return a.ITEM_ARCHIVE_UNDO}}),Object.defineProperty(r,"ITEM_COMPLETE",{enumerable:!0,get:function(){return a.ITEM_COMPLETE}}),Object.defineProperty(r,"ITEM_COMPLETE_RECURRING",{enumerable:!0,get:function(){return a.ITEM_COMPLETE_RECURRING}}),Object.defineProperty(r,"ITEM_COMPLETE_RECURRING_UNDO",{enumerable:!0,get:function(){return a.ITEM_COMPLETE_RECURRING_UNDO}}),Object.defineProperty(r,"ITEM_COMPLETE_UNDO",{enumerable:!0,get:function(){return a.ITEM_COMPLETE_UNDO}}),Object.defineProperty(r,"ITEM_DELETE",{enumerable:!0,get:function(){return a.ITEM_DELETE}}),Object.defineProperty(r,"ITEM_MOVE_AND_REORDER",{enumerable:!0,get:function(){return a.ITEM_MOVE_AND_REORDER}}),Object.defineProperty(r,"ITEM_MOVE_AND_REORDER_UNDO",{enumerable:!0,get:function(){return a.ITEM_MOVE_AND_REORDER_UNDO}}),Object.defineProperty(r,"ITEM_MOVE_MULTIPLE",{enumerable:!0,get:function(){return a.ITEM_MOVE_MULTIPLE}}),Object.defineProperty(r,"ITEM_MOVE_MULTIPLE_UNDO",{enumerable:!0,get:function(){return a.ITEM_MOVE_MULTIPLE_UNDO}}),Object.defineProperty(r,"ITEM_UNARCHIVE",{enumerable:!0,get:function(){return a.ITEM_UNARCHIVE}}),Object.defineProperty(r,"ITEM_UNCOMPLETE",{enumerable:!0,get:function(){return a.ITEM_UNCOMPLETE}}),Object.defineProperty(r,"ITEM_UPDATE",{enumerable:!0,get:function(){return a.ITEM_UPDATE}}),Object.defineProperty(r,"ITEM_UPDATE_DUE",{enumerable:!0,get:function(){return a.ITEM_UPDATE_DUE}}),Object.defineProperty(r,"ITEM_UPDATE_DUE_UNDO",{enumerable:!0,get:function(){return a.ITEM_UPDATE_DUE_UNDO}}),Object.defineProperty(r,"ITEM_UPDATE_DAY_ORDER_UNDO",{enumerable:!0,get:function(){return a.ITEM_UPDATE_DAY_ORDER_UNDO}}),Object.defineProperty(r,"itemAdd",{enumerable:!0,get:function(){return a.itemAdd}}),Object.defineProperty(r,"itemArchive",{enumerable:!0,get:function(){return a.itemArchive}}),Object.defineProperty(r,"itemArchiveUndo",{enumerable:!0,get:function(){return a.itemArchiveUndo}}),Object.defineProperty(r,"itemComplete",{enumerable:!0,get:function(){return a.itemComplete}}),Object.defineProperty(r,"itemCompleteRecurringUndo",{enumerable:!0,get:function(){return a.itemCompleteRecurringUndo}}),Object.defineProperty(r,"itemCompleteUndo",{enumerable:!0,get:function(){return a.itemCompleteUndo}}),Object.defineProperty(r,"itemDelete",{enumerable:!0,get:function(){return a.itemDelete}}),Object.defineProperty(r,"itemDuplicate",{enumerable:!0,get:function(){return a.itemDuplicate}}),Object.defineProperty(r,"itemMoveAndReorder",{enumerable:!0,get:function(){return a.itemMoveAndReorder}}),Object.defineProperty(r,"itemMoveAndReorderUndo",{enumerable:!0,get:function(){return a.itemMoveAndReorderUndo}}),Object.defineProperty(r,"itemMoveMultiple",{enumerable:!0,get:function(){return a.itemMoveMultiple}}),Object.defineProperty(r,"itemSortProjectItems",{enumerable:!0,get:function(){return a.itemSortProjectItems}}),Object.defineProperty(r,"itemUnarchive",{enumerable:!0,get:function(){return a.itemUnarchive}}),Object.defineProperty(r,"itemUncomplete",{enumerable:!0,get:function(){return a.itemUncomplete}}),Object.defineProperty(r,"itemUpdate",{enumerable:!0,get:function(){return a.itemUpdate}}),Object.defineProperty(r,"itemUpdateDayOrder",{enumerable:!0,get:function(){return a.itemUpdateDayOrder}}),Object.defineProperty(r,"itemUpdateDayOrderUndo",{enumerable:!0,get:function(){return a.itemUpdateDayOrderUndo}}),Object.defineProperty(r,"itemUpdateDue",{enumerable:!0,get:function(){return a.itemUpdateDue}}),Object.defineProperty(r,"itemUpdateDueUndo",{enumerable:!0,get:function(){return a.itemUpdateDueUndo}}),Object.defineProperty(r,"itemMoveDueToDate",{enumerable:!0,get:function(){return a.itemMoveDueToDate}}),Object.defineProperty(r,"itemGetAncestors",{enumerable:!0,get:function(){return i.itemGetAncestors}}),Object.defineProperty(r,"itemGetByID",{enumerable:!0,get:function(){return i.itemGetByID}}),Object.defineProperty(r,"itemGetByName",{enumerable:!0,get:function(){return i.itemGetByName}}),Object.defineProperty(r,"itemGetByPID",{enumerable:!0,get:function(){return i.itemGetByPID}}),Object.defineProperty(r,"itemGetBySyncID",{enumerable:!0,get:function(){return i.itemGetBySyncID}}),Object.defineProperty(r,"itemGetChildren",{enumerable:!0,get:function(){return i.itemGetChildren}}),Object.defineProperty(r,"itemGetIndent",{enumerable:!0,get:function(){return i.itemGetIndent}}),Object.defineProperty(r,"itemGetMaxTopLevelChildOrder",{enumerable:!0,get:function(){return i.itemGetMaxTopLevelChildOrder}}),Object.defineProperty(r,"itemGetOwn",{enumerable:!0,get:function(){return i.itemGetOwn}}),Object.defineProperty(r,"itemGetSectionGroups",{enumerable:!0,get:function(){return i.itemGetSectionGroups}}),Object.defineProperty(r,"itemGetUncompleted",{enumerable:!0,get:function(){return i.itemGetUncompleted}}),Object.defineProperty(r,"itemGetVisible",{enumerable:!0,get:function(){return i.itemGetVisible}}),Object.defineProperty(r,"itemGetDueByDate",{enumerable:!0,get:function(){return i.itemGetDueByDate}}),Object.defineProperty(r,"itemGetBySearch",{enumerable:!0,get:function(){return i.itemGetBySearch}}),Object.defineProperty(r,"itemGetUncompletedGroupedByDate",{enumerable:!0,get:function(){return i.itemGetUncompletedGroupedByDate}}),Object.defineProperty(r,"itemGetOwnGroupedByDate",{enumerable:!0,get:function(){return i.itemGetOwnGroupedByDate}}),Object.defineProperty(r,"annotateWithIndent",{enumerable:!0,get:function(){return i.annotateWithIndent}}),Object.defineProperty(r,"deserializeItemFields",{enumerable:!0,get:function(){return o.deserializeItemFields}}),Object.defineProperty(r,"getDefaultItemFields",{enumerable:!0,get:function(){return o.getDefaultItemFields}}),Object.defineProperty(r,"itemsCaseReducer",{enumerable:!0,get:function(){return l.itemsCaseReducer}}),r.default=void 0;var a=e("./actions"),i=e("./selectors"),o=e("./utils"),l=n(e("./reducers")),s=l.default;r.default=s},{"./actions":1004,"./reducers":1006,"./selectors":1007,"./utils":1008,"@babel/runtime/helpers/interopRequireWildcard":190}],1006:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.resolveFields=r.itemsCaseReducer=r.default=void 0;var o=i(e("@babel/runtime/helpers/toConsumableArray")),l=i(e("@babel/runtime/helpers/slicedToArray")),s=i(e("@babel/runtime/helpers/defineProperty")),u=e("../../utils"),c=e("../../utils/fp"),d=e("redux"),f=e("../modelbridge"),p=e("../utils"),m=e("../undo"),h=e("../load"),_=e("./actions"),v=e("../labels"),b=e("../sync"),y=e("./selectors"),g=e("./utils"),E=e("../notes/utils"),T=i(e("../../logger/Logger")),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.LOAD_LOCAL_DATA:var r=t.payload.items;return r?(0,c.mapValues)(g.deserializeItemFields,r):e;case _.ITEM_ADD:var n=t.payload;return a({},e,(0,s.default)({},n.id,n));case _.ITEM_UNARCHIVE:var i=a({},t.payload);return i=a({},i,{checked:0,in_history:0,child_order:(0,y.itemGetMaxTopLevelChildOrder)({project_id:i.project_id,section_id:null},{items:e})+1}),a({},e,(0,s.default)({},i.id,i));case f.MODEL_BRIDGE_UPDATE:return t.payload.items?a({},t.payload.items):e;case v.LABEL_RENAME:var o=t.payload,l=o.oldName,u=o.newName,d=Object.keys(e).filter(function(t){return e[t].labels.includes(l)});if(0===d.length)return e;var p=d.reduce(function(t,r){var n=e[r],i=n.labels.map(function(e){return e===l?u:e});return t[r]=a({},n,{labels:i}),t},{});return a({},e,{},p);case v.LABEL_REMOVE:var m=t.payload,b=m.name,E=m.removeFromTasks;if(!(void 0===E||E))return e;var T=Object.keys(e).filter(function(t){return e[t].labels.includes(b)});if(0===T.length)return e;var w=T.reduce(function(t,r){var n=e[r],i=n.labels.filter(function(e){return e!==b});return t[r]=a({},n,{labels:i}),t},{});return a({},e,{},w);default:return e}},R=w;r.default=R;var P=function(e,t){switch(t.type){case b.SYNC_FULL_UPDATE:var r=t.payload.items||[];return r=(0,u.byID)(r.map(g.deserializeItemFields)),a({},e,{items:r});case b.SYNC_UPDATE:var n=t.payload,i=n.day_orders,f=n.items,h=n.temp_id_mapping,v=n.notes,T=n.reminders;f&&(f=f.map(g.deserializeItemFields)),v&&(v=v.map(E.deserializeNote));var w=a({},e);if(h&&(w.items=(0,p.resolveTempID)(w.items,h)),i){var R=!1;(0,u.toPairs)(i).forEach(function(e){var t=(0,l.default)(e,2),r=t[0],n=t[1],i=w.items[r];i&&n!==i.day_order&&(R=!0,w.items[r]=a({},i,{day_order:n}))}),R&&(w.items=a({},w.items))}if(!f||0===f.length)return w;w.items=a({},w.items,{},(0,u.byID)(f)),w=D(w,{temp_id_mapping:h,items:f,reminders:T,notes:v});var P=(0,d.compose)((0,c.map)(function(e){return e.id}),c.flatten,(0,c.map)(function(e){return[e].concat((0,o.default)((0,y.itemGetChildren)(e.id,w)))}),(0,c.filter)(function(e){return e.in_history||e.is_deleted}))(f);return w=S(P,w)[0];case _.ITEM_UPDATE_DUE:var O=t.payload,C=(0,d.compose)((0,c.mapValues)(function(e){return a({},e,{due:O[e.id]})}),(0,c.pick)((0,u.keys)(O)))(e.items),k=a({},e,{items:a({},e.items,{},C)}),M=(0,d.compose)((0,c.mapValues)(function(e){return e.due}),(0,c.pick)((0,u.keys)(O)))(e.items);return k=(0,m.setUndo)({type:_.ITEM_UPDATE_DUE_UNDO,idToDue:M},k);case _.ITEM_UPDATE_DUE_UNDO:var j=e.undo.idToDue,N=(0,d.compose)((0,c.mapValues)(function(e){return a({},e,{due:j[e.id]})}),(0,c.pick)((0,u.keys)(j)))(e.items);return a({},e,{items:a({},e.items,{},N),undo:null});case _.ITEM_COMPLETE:var x=t.payload,L=x.id,q=x.force_history,U=x.date_completed,$=e.items[L],F=(0,y.itemGetChildren)(L,e),z=[$].concat((0,o.default)(F)),B=z.map(function(e){return e.id}),H=(0,g.getAssociatesObjectIDs)(B,e),V=H.notes,W=H.reminders;if(e=(0,m.setUndo)({type:_.ITEM_COMPLETE_UNDO,id:L,prevState:{items:(0,u.toIDMap)(z),notes:(0,c.pick)(V,e.notes),reminders:(0,c.pick)(W,e.reminders)},force_history:q},e),q||null===$.parent_id)e=(0,d.compose)((0,p.removeFromSlice)("items",B),(0,p.removeFromSlice)("notes",V),(0,p.removeFromSlice)("reminders",W))(e);else{var G=(0,d.compose)(u.toIDMap,(0,c.map)(function(e){return a({},e,{checked:1,date_completed:U})}))(z);e=a({},e,{items:a({},e.items,{},G)})}return e;case _.ITEM_COMPLETE_UNDO:var Y=e.undo.prevState;return a({},e,{items:a({},e.items,{},Y.items),notes:a({},e.notes,{},Y.notes),reminders:a({},e.reminders,{},Y.reminders),undo:null});case _.ITEM_COMPLETE_RECURRING:var K=t.payload,X=K.id,J=K.nextRecurrence,Q=e,Z=Q.items;e=(0,m.setUndo)({type:_.ITEM_COMPLETE_RECURRING_UNDO,id:X,due:J,duePrev:Z[X].due},e);var ee=a({},Z[X],{due:J});return a({},e,{items:a({},Z,(0,s.default)({},X,ee))});case _.ITEM_COMPLETE_RECURRING_UNDO:var te=e.undo,re=te.id,ne=te.duePrev,ae=a({},e.items[re],{due:ne});return a({},e,{items:a({},e.items,(0,s.default)({},re,ae)),undo:null});case _.ITEM_UNCOMPLETE:var ie=t.payload,oe=ie.id,le=ie.completedItems,se=le||[e.items[oe]].concat((0,o.default)((0,y.itemGetAncestors)(oe,e))),ue=(0,c.groupBy)("project_id")(e.items),ce=(0,c.groupBy)("section_id")(e.items),de=(0,c.groupBy)("parent_id")(e.items),fe=(0,d.compose)(u.toIDMap,(0,c.map)(function(e){var t;t=e.parent_id?de[e.parent_id]:e.section_id?ce[e.section_id]:ue[e.project_id];var r=Math.max.apply(Math,(0,o.default)((t||[]).map(function(e){var t=e.child_order;return void 0===t?0:t})));return a({},e,{checked:0,date_completed:null,in_history:0,child_order:Math.max(r,(t||[]).length)+1})}),(0,c.filter)(function(e){return e.checked}))(se);if(0===(0,u.values)(fe).length)return e;var pe=a({},e.items,{},fe),me=e,he=me.reminders,_e=(0,d.compose)((0,c.mapValues)((0,c.unset)("lprocessed")),(0,c.pickBy)(function(e){return fe[e.item_id]&&e.lprocessed}))(he);return(0,u.values)(_e).length>0&&(he=a({},he,{},_e)),a({},e,{items:pe,reminders:he});case _.ITEM_DELETE:case _.ITEM_ARCHIVE:var ve=t.payload.ids,be=(0,d.compose)((0,c.filter)(Boolean),c.flatten,(0,c.map)(function(t){return[e.items[t]].concat((0,o.default)((0,y.itemGetChildren)(t,e)))}))(ve),ye=be.map(function(e){return e.id}),ge=(0,g.getAssociatesObjectIDs)(ye,e),Ee=ge.notes,Te=ge.reminders;return t.type===_.ITEM_ARCHIVE&&(e=(0,m.setUndo)({type:_.ITEM_ARCHIVE_UNDO,ids:ye,prevState:{items:(0,u.toIDMap)(be),notes:(0,c.pick)(Ee,e.notes),reminders:(0,c.pick)(Te,e.reminders)}},e)),e=(0,d.compose)((0,p.removeFromSlice)("items",ye),(0,p.removeFromSlice)("notes",Ee),(0,p.removeFromSlice)("reminders",Te))(e);case _.ITEM_ARCHIVE_UNDO:var we=e.undo.prevState;return a({},e,{items:a({},e.items,{},we.items),notes:a({},e.notes,{},we.notes),reminders:a({},e.reminders,{},we.reminders),undo:null});case _.ITEM_MOVE_MULTIPLE:var Re=t.payload,Pe=Re.ids,De=Re.destPID,Oe=(0,m.setUndo)({type:_.ITEM_MOVE_MULTIPLE_UNDO,prevState:{items:(0,c.pick)(Pe,e.items)},destProject:e.projects[De]},e),Ce=(0,y.itemGetMaxTopLevelChildOrder)({project_id:De,section_id:null},e),Ie=!0,Ae=!1,Se=void 0;try{for(var ke,Me=Pe[Symbol.iterator]();!(Ie=(ke=Me.next()).done);Ie=!0){var je=ke.value;Ce++,Oe=A({id:je,project_id:De},Oe),Oe.items[je].child_order=Ce}}catch(e){Ae=!0,Se=e}finally{try{Ie||null==Me.return||Me.return()}finally{if(Ae)throw Se}}return Oe;case _.ITEM_MOVE_AND_REORDER:var Ne=t.payload,xe=Ne.moveTo,Le=Ne.orders,qe=Ne.allowUndo,Ue=a({},e);return xe&&(Ue=A(xe,e)),Le&&(Ue.items=(0,c.merge)(Ue.items,(0,u.byID)(Le))),qe&&(Ue=(0,m.setUndo)({type:_.ITEM_MOVE_AND_REORDER_UNDO,moveTo:xe?(0,c.pick)(["id","parent_id","section_id","project_id"],e.items[xe.id]):null,destProject:xe&&xe.project_id?e.projects[xe.project_id]:null,orders:Le?Le.map(function(t){var r=t.id;return(0,c.pick)(["id","child_order"],e.items[r])}):null},Ue)),Ue;case _.ITEM_MOVE_AND_REORDER_UNDO:var $e=t.payload,Fe=$e.moveTo,ze=$e.orders,Be=a({},e);return Fe&&(Be=A(Fe,e)),ze&&(Be.items=(0,c.merge)(Be.items,(0,u.byID)(ze))),Be.undo=null,Be;case _.ITEM_DUPLICATE:return t.payload.state;case _.ITEM_UPDATE:var He=t.payload,Ve=He.id,We=He.due,Ge=e.items[Ve];return Ge?(Ge.due&&We&&(e=I(Ge.id,e)),Ge=a({},Ge,{},t.payload),a({},e,{items:a({},e.items,(0,s.default)({},Ve,Ge))})):e;case _.ITEM_UPDATE_DAY_ORDER:var Ye=t.payload,Ke=Ye.orders,Xe=Ye.withUndo,Je=a({},e,{items:a({},e.items)});if((0,u.keys)(Ke).forEach(function(e){var t=Ke[e];Je.items[e]=a({},Je.items[e],{day_order:t})}),Xe){var Qe={};(0,u.keys)(Ke).forEach(function(t){Qe[t]=e.items[t].day_order}),Je=(0,m.setUndo)({type:_.ITEM_UPDATE_DAY_ORDER_UNDO,orders:Qe},Je)}return Je;case _.ITEM_UPDATE_DAY_ORDER_UNDO:var Ze=e.undo.orders,et=a({},e,{items:a({},e.items),undo:null});return(0,u.keys)(Ze).forEach(function(e){var t=Ze[e];et.items[e]=a({},et.items[e],{day_order:t})}),et;default:return e}};r.itemsCaseReducer=P;var D=function(e,t){try{var r=e.undo;if(!r)return e;var n=t.temp_id_mapping;switch(r.type){case _.ITEM_ARCHIVE_UNDO:case _.ITEM_COMPLETE_UNDO:var i=a({},r.prevState);i=O("items",i,t,["checked","in_history"]),i=O("notes",i,t,["is_archived"]),i=O("reminders",i,t);var o=a({},r,{prevState:i});return r.type===_.ITEM_ARCHIVE_UNDO&&(o.ids=o.ids.map(function(e){return n[e]||e})),r.type===_.ITEM_COMPLETE_UNDO&&(o.id=n[o.id]||o.id),a({},e,{undo:o});case _.ITEM_UPDATE_DUE_UNDO:var l=r.idToDue;return l=(0,c.mapKeys)(function(e){return n[e]||e},l),a({},e,{undo:a({},r,{idToDue:l})});case _.ITEM_MOVE_AND_REORDER_UNDO:var s=r.moveTo,u=r.orders;return s&&(s=C(["id","parent_id","section_id","project_id"],s,n)),u&&(u=u.map(function(e){return C(["id","child_order"],e,n)})),a({},e,{undo:a({},r,{moveTo:s,orders:u})});case _.ITEM_COMPLETE_RECURRING_UNDO:var d=n[r.id]||r.id;return a({},e,{undo:a({},r,{id:d})});default:return e}}catch(t){return T.default.captureError(t),e}},O=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=r.temp_id_mapping;if(!i&&!r[e])return t;var o=(0,p.resolveTempID)(t[e],i),l=(0,u.byID)(r[e]);return o=(0,c.mapValues)(function(e){return l[e.id]?a({},e,{},(0,c.omit)(n,l[e.id])):e})(o),a({},t,(0,s.default)({},e,o))},C=function(e,t,r){var n=a({},t),i=!1;return e.forEach(function(e){var a=n[e];if(t.hasOwnProperty(e)){var o=r[a];o&&a!==o&&(i=!0,n[e]=o)}}),i?n:t};r.resolveFields=C;var I=function(e,t){var r=t.reminders,n=(0,u.values)(r).filter(function(t){return t.item_id===e&&t.lprocessed});return 0===n.length?t:(n=(0,d.compose)(u.byID,(0,c.map)((0,c.omit)("lprocessed")))(n),r=a({},r,{},n),a({},t,{reminders:r}))},A=function(e,t){var r=t.items,n=t.sections,i=e.id,o=e.parent_id,l=void 0===o?null:o,f=e.section_id,p=void 0===f?null:f,m=e.project_id,h=void 0===m?null:m;if(l)p=r[l].section_id,h=r[l].project_id;else if(p)h=n[p].project_id;else if(!h)return t;var _=a({},r[i],{parent_id:l,section_id:p,project_id:h}),v=(0,d.compose)(u.byID,(0,c.map)(function(e){return a({},e,{section_id:p,project_id:h})}))((0,y.itemGetChildren)(i,t));return a({},t,{items:a({},r,(0,s.default)({},i,_),v)})},S=function(e,t){var r=(0,g.getAssociatesObjectIDs)(e,t),n=r.notes,a=r.reminders;return t=(0,d.compose)((0,p.removeFromSlice)("items",e),(0,p.removeFromSlice)("notes",n),(0,p.removeFromSlice)("reminders",a))(t),[t,{items:e,notes:n,reminders:a}]}},{"../../logger/Logger":132,"../../utils":1094,"../../utils/fp":1083,"../labels":1010,"../load":1014,"../modelbridge":1017,"../notes/utils":1024,"../sync":1038,"../undo":1041,"../utils":1043,"./actions":1004,"./selectors":1007,"./utils":1008,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200,redux:"redux"}],1007:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.annotateWithIndent=r.itemGetOwnGroupedByDate=r.itemGetUncompletedGroupedByDate=r.itemGetBySearch=r.itemGetDueByDate=r.itemGetIndent=r.itemGetMaxTopLevelChildOrder=r.itemGetSectionGroups=r.itemGetAncestors=r.itemGetChildren=r.itemGetByName=r.itemGetBySyncID=r.itemGetByPID=r.itemGetByID=r.itemGetOwn=r.getUncompletedExcludeSection=r.itemGetUncompleted=r.itemGetVisible=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("@babel/runtime/helpers/toConsumableArray")),s=e("../../utils"),u=e("../../utils/fp"),c=e("redux"),d=e("reselect"),f=i(e("../../models/TemporaryIds")),p=e("../collaborators"),m=e("../../components/agenda/sort"),h=e("../user"),_=(0,d.createSelector)(function(e){return e.items},(0,u.filter)(function(e){return!e.in_history}));r.itemGetVisible=_;var v=(0,d.createSelector)(_,(0,u.filter)(function(e){return!e.checked}));r.itemGetUncompleted=v;var b=(0,d.createSelector)(v,(0,u.filter)(function(e){return!(0,s.isSection)(e.content)}));r.getUncompletedExcludeSection=b;var y=(0,d.createSelector)(v,p.isSharedProject,function(e){return e.user},function(e,t,r){return e.filter(function(e){return!t(e.project_id)||!e.responsible_uid||e.responsible_uid===r.id})});r.itemGetOwn=y;var g=function(e,t){return t=f.default.getRealId(t),e.items[t]};r.itemGetByID=g;var E=(0,d.createSelector)(_,(0,u.groupBy)("project_id"));r.itemGetByPID=E;var T=function(e,t){return(0,s.values)(t.items).find(function(t){return t.sync_id===e})};r.itemGetBySyncID=T;var w=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=v(t),a=n.reduce(function(t,r){var n=(0,s.partialMatchIndex)(e,r.content);return-1!==n&&t.push({item:r,index:n}),t},[]);return a=(0,u.sortBy)(["index","id"],a).slice(0,r).map(function(e){return e.item})};r.itemGetByName=w;var R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.sorted,a=void 0!==n&&n;e=f.default.getRealId(e);var i=t.items[e];if(!i)return[];var o=E(t)[i.project_id],s=(0,u.groupBy)("parent_id")(o),d=function e(t){var r=s[t.id];a&&(r=(0,u.sortBy)("child_order",r));var n=(0,c.compose)(u.flatten,(0,u.map)(function(t){return e(t)}))(r);return[t].concat((0,l.default)(n))}(i);return d.splice(0,1),d};r.itemGetChildren=R;var P=function e(t,r){var n=r.items[t]||{},a=n.parent_id;return a?[r.items[a]].concat((0,l.default)(e(a,r))):[]};r.itemGetAncestors=P;var D=(0,s.curry)(function(e,t){var r=E(t)[e],n=(0,u.groupBy)("section_id",r),a=(0,u.groupBy)("parent_id",r),i=function(e){return n[e]?n[e].filter(function(e){return null===e.parent_id}):[]},o=function e(t){var r=a[t.id],n=(0,c.compose)(u.flatten,(0,u.map)(function(t){return e(t)}),(0,u.sortBy)("child_order"))(r);return[t].concat((0,l.default)(n))},s=function(e){var t=(0,c.compose)(u.flatten,(0,u.map)(o),(0,u.sortBy)("child_order"))(i(e));return j(t)},d=(0,c.compose)((0,u.mapValues)(function(e){return s(e.id)}),(0,u.pickBy)(function(t){return t.project_id===e}),(0,u.get)("sections"))(t);return d[null]=s(null),d});r.itemGetSectionGroups=D;var O=function(e,t){var r=e.project_id,n=e.section_id;return r||(r=t.sections[n].project_id),n||(n=null),(0,c.compose)((0,u.get)("child_order"),u.last,(0,u.sortBy)("child_order"),(0,u.filter)(function(e){return e.section_id===n&&null===e.parent_id}),(0,u.get)(r),E)(t)||0};r.itemGetMaxTopLevelChildOrder=O;var C=function e(t,r){var n=r.items[t];return n&&n.parent_id?e(n.parent_id,r)+1:1};r.itemGetIndent=C;var I=(0,s.curry)(function(e,t){return v(t).filter(function(t){return!!t.due&&t.due.isSameDate(e)})});r.itemGetDueByDate=I;var A=(0,s.curry)(function(e,t){var r=_(t),n=(0,m.createSearchViewSort)(t),a=(0,s.looseMatch)(e);return r.filter(function(e){return a(e.content)}).sort(n)});r.itemGetBySearch=A;var S=(0,d.createSelector)(v,function(e){var t={};return e.forEach(function(e){if(e.due){var r=(0,s.toISODateString)(e.due,{dateOnly:!0});t[r]=t[r]?[].concat((0,l.default)(t[r]),[e]):[e]}}),t});r.itemGetUncompletedGroupedByDate=S;var k=(0,d.createSelector)(v,h.getUser,function(e,t){var r={};return e.forEach(function(e){if(e.due&&(!e.responsible_uid||t.id===e.responsible_uid)){var n=(0,s.toISODateString)(e.due,{dateOnly:!0});r[n]=r[n]?[].concat((0,l.default)(r[n]),[e]):[e]}}),r});r.itemGetOwnGroupedByDate=k;var M=function(e,t){return a({},e,{indent:C(e.id,t)})};r.annotateWithIndent=M;var j=function(e){var t={};return e.forEach(function(e,r){e.item_order=r+1,null===e.parent_id?e.indent=1:e.indent=(t[e.parent_id]||1)+1,t[e.id]=e.indent}),e}},{"../../components/agenda/sort":16,"../../models/TemporaryIds":174,"../../utils":1094,"../../utils/fp":1083,"../collaborators":983,"../user":1042,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200,redux:"redux",reselect:"reselect"}],1008:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(){return{due:null,note:null,labels:[],priority:1,responsible_uid:null,project_id:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).inbox_project,section_id:null}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultItemFields=i,r.getAssociatesObjectIDs=r.deserializeItemFields=void 0;var l=o(e("@babel/runtime/helpers/toConsumableArray")),s=o(e("@babel/runtime/helpers/defineProperty")),u=o(e("../../models/DateExt")),c=e("../../utils"),d=e("../../utils/fp"),f=function(e){var t=a({},e),r=!1;return t.due&&t.due instanceof Object&&(t.due=new u.default(t.due),r=!0),(0,c.isString)(t.date_added)&&(t.date_added=new Date(t.date_added),r=!0),r?t:e};r.deserializeItemFields=f;var p=function(e,t){e=new Set(e);var r=function(e){return(0,d.compose)(function(e){return new Set(e)},(0,d.map)(function(e){return e.id}),(0,d.filter)(e),c.values)},n=r(function(t){return e.has(t.item_id)})(t.notes),a=r(function(t){return e.has(t.item_id)})(t.reminders);return{notes:(0,l.default)(n),reminders:(0,l.default)(a)}};r.getAssociatesObjectIDs=p},{"../../models/DateExt":154,"../../utils":1094,"../../utils/fp":1083,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],1009:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.labelUpdateOrders=r.labelRename=r.labelUpdate=r.labelRemoveFromPersonal=r.labelMoveToPersonal=r.labelRemove=r.labelAdd=r.LABEL_RENAME=r.LABEL_UPDATE=r.LABEL_REMOVE=r.LABEL_ADD=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("@babel/runtime/helpers/defineProperty")),s=e("../../utils"),u=i(e("../../models/TemporaryIds")),c=i(e("../../models/SyncEngine")),d=e("./selectors");r.LABEL_ADD="LABEL_ADD";r.LABEL_REMOVE="LABEL_REMOVE";r.LABEL_UPDATE="LABEL_UPDATE";r.LABEL_RENAME="LABEL_RENAME";var f=function(e){return $isString(e)&&0==e.indexOf("_")},p=function(e){var t=e.name,r=e.color,n=void 0===r?7:r,i=e.item_order,o=e.is_favorite;return function(e){if(void 0===t||void 0===n||void 0===i)throw new Error("Missing required parameters");t=(0,d.labelNormalizeName)(t);var r=u.default.generate("label"),l={id:r,name:t,color:n,item_order:i,is_favorite:o};return c.default.queueUpdate({type:"label_register",temp_id:r,args:a({},l)}),e({type:"LABEL_ADD",payload:l}),l}};r.labelAdd=p;var m=function(e){return function(t,r){var n=(0,d.labelGetByName)(e,r());if(n){var a=n.id;c.default.queueUpdate({type:"label_delete",args:{id:a}})}else c.default.queueUpdate({type:"label_delete_occurrences",args:{name:e}});t({type:"LABEL_REMOVE",payload:{name:e}})}};r.labelRemove=m;var h=function(e){return function(t,r){var n=r();if(!(0,d.labelGetByName)(e,n)){var a={name:e,item_order:(0,d.labelGetMaxOrder)(n)+1};return p(a)(t)}}};r.labelMoveToPersonal=h;var _=function(e){return function(t,r){f(e)&&(e=u.default.getRealId(e));var n=(0,d.labelGetByID)(r(),e);n&&(c.default.queueUpdate({type:"label_delete",args:{id:e,cascade:"none"}}),t({type:"LABEL_REMOVE",payload:{name:n.name,removeFromTasks:!1}}))}};r.labelRemoveFromPersonal=_;var v=function(e,t){var r=t.name,n=t.color,a=t.item_order,i=t.is_favorite;return function(t,o){f(e)&&(e=u.default.getRealId(e));var l=(0,d.labelGetByID)(o(),e);if(l){var p={id:e,name:r,color:n,item_order:a,is_favorite:i};if(p=(0,s.omitBy)(p,function(e){return void 0===e}),p.name&&(p.name=(0,d.labelNormalizeName)(p.name)),null!=r){var m={oldName:l.name,newName:r,sync:!1};b(m)(t)}var h=Object.keys(p);h.length<=1||h.every(function(e){return p[e]===l[e]})||(c.default.queueUpdate({type:"label_update",args:p}),t({type:"LABEL_UPDATE",payload:p}))}}};r.labelUpdate=v;var b=function(e){var t=e.oldName,r=e.newName,n=e.sync,a=void 0===n||n;return function(e){r=(0,d.labelNormalizeName)(r),t!==r&&(a&&c.default.queueUpdate({type:"label_rename",args:{name_old:t,name_new:r}}),e({type:"LABEL_RENAME",payload:{oldName:t,newName:r}}))}};r.labelRename=b;var y=function(e){return function(t){if(0!==Object.keys(e).length){e=(0,s.mapKeys)(e,function(e,t){return f(t)?u.default.getRealId(t):t}),c.default.queueUpdate({type:"label_update_orders",args:{id_order_mapping:JSON.stringify(e)}});t({type:"LABEL_UPDATE",payload:(0,s.toPairs)(e).map(function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return{id:f(r)?r:parseInt(r),item_order:n}})})}}};r.labelUpdateOrders=y},{"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../../utils":1094,"./selectors":1012,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],1010:[function(e,t,r){
"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"LABEL_ADD",{enumerable:!0,get:function(){return a.LABEL_ADD}}),Object.defineProperty(r,"LABEL_REMOVE",{enumerable:!0,get:function(){return a.LABEL_REMOVE}}),Object.defineProperty(r,"LABEL_UPDATE",{enumerable:!0,get:function(){return a.LABEL_UPDATE}}),Object.defineProperty(r,"LABEL_RENAME",{enumerable:!0,get:function(){return a.LABEL_RENAME}}),Object.defineProperty(r,"labelAdd",{enumerable:!0,get:function(){return a.labelAdd}}),Object.defineProperty(r,"labelUpdate",{enumerable:!0,get:function(){return a.labelUpdate}}),Object.defineProperty(r,"labelRename",{enumerable:!0,get:function(){return a.labelRename}}),Object.defineProperty(r,"labelUpdateOrders",{enumerable:!0,get:function(){return a.labelUpdateOrders}}),Object.defineProperty(r,"labelRemove",{enumerable:!0,get:function(){return a.labelRemove}}),Object.defineProperty(r,"labelMoveToPersonal",{enumerable:!0,get:function(){return a.labelMoveToPersonal}}),Object.defineProperty(r,"labelRemoveFromPersonal",{enumerable:!0,get:function(){return a.labelRemoveFromPersonal}}),Object.defineProperty(r,"labelGetFavorite",{enumerable:!0,get:function(){return o.labelGetFavorite}}),Object.defineProperty(r,"labelGetByID",{enumerable:!0,get:function(){return o.labelGetByID}}),Object.defineProperty(r,"labelGetByName",{enumerable:!0,get:function(){return o.labelGetByName}}),Object.defineProperty(r,"labelGetAllPersonal",{enumerable:!0,get:function(){return o.labelGetAllPersonal}}),Object.defineProperty(r,"labelGetAllShared",{enumerable:!0,get:function(){return o.labelGetAllShared}}),Object.defineProperty(r,"labelGetAllByName",{enumerable:!0,get:function(){return o.labelGetAllByName}}),Object.defineProperty(r,"labelSearchList",{enumerable:!0,get:function(){return o.labelSearchList}}),Object.defineProperty(r,"labelGetBySearch",{enumerable:!0,get:function(){return o.labelGetBySearch}}),Object.defineProperty(r,"labelGetMaxOrder",{enumerable:!0,get:function(){return o.labelGetMaxOrder}}),Object.defineProperty(r,"labelGetCount",{enumerable:!0,get:function(){return o.labelGetCount}}),Object.defineProperty(r,"labelNormalizeName",{enumerable:!0,get:function(){return o.labelNormalizeName}}),Object.defineProperty(r,"sortLabels",{enumerable:!0,get:function(){return l.sortLabels}}),Object.defineProperty(r,"compareLabelsFn",{enumerable:!0,get:function(){return l.compareLabelsFn}}),r.default=void 0;var a=e("./actions"),i=n(e("./reducers")),o=e("./selectors"),l=e("./utils"),s=i.default;r.default=s},{"./actions":1009,"./reducers":1011,"./selectors":1012,"./utils":1013,"@babel/runtime/helpers/interopRequireDefault":189}],1011:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../../utils"),s=e("../load"),u=e("../sync"),c=e("../utils"),d=e("./actions"),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.LOAD_LOCAL_DATA:return t.payload.labels?t.payload.labels:e;case u.SYNC_UPDATE:var r=t.payload,n=r.labels,i=r.temp_id_mapping;return i&&(e=(0,c.resolveTempID)(e,i)),n&&(e=(0,c.mergeSyncUpdate)(e,n)),e;case u.SYNC_FULL_UPDATE:return(0,l.keyBy)(t.payload.labels,"id");case d.LABEL_ADD:var f=t.payload,p=a({},e);return p[f.id]=f,p;case d.LABEL_REMOVE:var m=t.payload.name,h=Object.keys(e).find(function(t){return e[t].name===m});if(void 0===h)return e;var _=a({},e);return delete _[h],_;case d.LABEL_UPDATE:var v=$isArray(t.payload)?t.payload:[t.payload],b=a({},e),y=!0,g=!1,E=void 0;try{for(var T,w=v[Symbol.iterator]();!(y=(T=w.next()).done);y=!0){var R=T.value,P=R.id;b[P]&&(b[P]=a({},b[P],{},R))}}catch(e){g=!0,E=e}finally{try{y||null==w.return||w.return()}finally{if(g)throw E}}return b;case d.LABEL_RENAME:var D=t.payload,O=D.oldName,C=D.newName,I=Object.keys(e).find(function(t){return e[t].name===O});return void 0===I?e:a({},e,(0,o.default)({},I,a({},e[I],{name:C})));default:return e}},p=f;r.default=p},{"../../utils":1094,"../load":1014,"../sync":1038,"../utils":1043,"./actions":1009,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1012:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return"number"==typeof e?String(e):e.replace(/[<>"=#+\s%!?~:@,()&]+/g,"_").trim()}function o(e,t){if(arguments.length<1)throw new Error("First argument is required");e=i(e);var r=(0,f.createSelector)(function(e){return e.labels},function(t){return(0,m.compose)((0,d.find)(function(t){return t.name===e}),c.values)(t)});return 1===arguments.length?r:r(t)}function l(e,t){return(0,m.compose)((0,d.map)(function(e){return e.label}),(0,d.sortBy)(["i","label.item_order","label.id","label.name"]),(0,d.filter)(function(e){return-1!==e.i}),(0,d.map)(function(e){return{i:(0,h.default)(t,e.name),label:e}}))(e)}var s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.labelNormalizeName=i,r.labelGetByName=o,r.labelSearchList=l,r.labelGetFavorite=r.labelGetAllPersonal=r.labelGetAllShared=r.labelGetAllByName=r.labelGetCount=r.labelGetMaxOrder=r.labelGetBySearch=r.labelGetByID=void 0;var u=s(e("@babel/runtime/helpers/defineProperty")),c=e("../../utils"),d=e("../../utils/fp"),f=e("reselect"),p=s(e("../../models/TemporaryIds")),m=e("redux"),h=s(e("../../utils/partialMatchIndex")),_=e("../..//utils/deps"),v=(0,_.defineDeps)("reducers/labels/selectors",["itemGetVisible"]),b=function(e,t){var r=e.labels;return t=p.default.getRealId(t),r[t]};r.labelGetByID=b;var y=function(e,t){var r=e.labels;return l(Object.values(r),t)};r.labelGetBySearch=y;var g=function(e){var t=e.labels,r=Object.values(t);return 0==r.length?1:r.reduce(function(e,t){return Math.max(e,t.item_order)},Number.NEGATIVE_INFINITY)};r.labelGetMaxOrder=g;var E=function(e){var t=e.labels;return Object.values(t).length};r.labelGetCount=E;var T=(0,c.memoizeReturn)(function(e){var t=v.itemGetVisible(e),r={};return t.forEach(function(e){var t=e.labels;(void 0===t?[]:t).forEach(function(e){r[e]||(e=i(e),r[e]={name:e})})}),r}),w=(0,f.createSelector)(T,function(e){return e.labels},function(e,t){return a({},e,{},(0,c.keyBy)((0,c.values)(t),function(e){return i(e.name)}))});r.labelGetAllByName=w;var R=(0,f.createSelector)(w,c.values),P=(0,f.createSelector)(R,(0,m.compose)((0,d.sortBy)("name"),(0,d.filter)(function(e){return void 0===e.id})));r.labelGetAllShared=P;var D=(0,f.createSelector)(R,(0,m.compose)((0,d.sortBy)("item_order"),(0,d.filter)(function(e){return void 0!==e.id})));r.labelGetAllPersonal=D;var O=(0,f.createSelector)(D,(0,d.filter)(function(e){return e.is_favorite}));r.labelGetFavorite=O},{"../..//utils/deps":1071,"../../models/TemporaryIds":174,"../../utils":1094,"../../utils/fp":1083,"../../utils/partialMatchIndex":1115,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,redux:"redux",reselect:"reselect"}],1013:[function(e,t,r){"use strict";function n(e,t){return(0,o.default)(e).sort(function(e,r){return a(t[e]||{name:e},t[r]||{name:r})})}function a(e,t){return e.id&&t.id?e.item_order-t.item_order:e.id?-1:t.id?1:e.name.localeCompare(t.name)}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.sortLabels=n,r.compareLabelsFn=a;var o=i(e("@babel/runtime/helpers/toConsumableArray"))},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],1014:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.loadLocalData=r.LOAD_LOCAL_DATA=void 0;r.LOAD_LOCAL_DATA="LOAD_LOCAL_DATA";var n=function(e){return{type:"LOAD_LOCAL_DATA",payload:e}};r.loadLocalData=n},{}],1015:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=e.mainView;return t&&t.reactView}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isReactView=i,r.default=r.isShowingProject=r.show7DaysView=r.showTodayView=r.showActivityView=r.showQueryView=r.showFilterView=r.showLabelView=r.showProjectView=r.VIEW_SHOW_7_DAYS=r.VIEW_SHOW_TODAY=r.VIEW_SHOW_FILTER=r.VIEW_SHOW_LABEL=r.VIEW_SHOW_ACTIVITY_LOG=r.VIEW_SHOW_QUERY=r.VIEW_SHOW_PROJECT=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=e("./sync"),u=e("../constants/constants"),c=e("./utils"),d=e("./filters"),f=e("./user"),p=e("../init/featureFlags"),m=o(e("../utils/isTempID"));r.VIEW_SHOW_PROJECT="VIEW_SHOW_PROJECT";r.VIEW_SHOW_QUERY="VIEW_SHOW_QUERY";r.VIEW_SHOW_ACTIVITY_LOG="VIEW_SHOW_ACTIVITY_LOG";r.VIEW_SHOW_LABEL="VIEW_SHOW_LABEL";r.VIEW_SHOW_FILTER="VIEW_SHOW_FILTER";r.VIEW_SHOW_TODAY="VIEW_SHOW_TODAY";r.VIEW_SHOW_7_DAYS="VIEW_SHOW_7_DAYS";var h=function(){e("../components/projects_list/ProjectList").default.deselectCurrent()},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bottomListSelected,n=void 0!==r&&r,a=t.withChildren,i=void 0!==a&&a,o=t.focusedItemId,l=void 0===o?null:o;return function(t,r){n||h();var a=r();return e=e.map((0,c.toUniqueID)(a)),window.location.hash="#"+encodeURIComponent("project/".concat(e[0])),t({type:"VIEW_SHOW_PROJECT",payload:{ids:e,bottomListSelected:n,withChildren:i,focusedItemId:l,reactView:(0,f.shouldShowReactView)(a)}})}};r.showProjectView=_;var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bottomListSelected,n=void 0!==r&&r;return function(t,r){n||h(),window.location.hash="#"+encodeURIComponent("agenda/@".concat(e)),t({type:"VIEW_SHOW_LABEL",payload:{id:e,bottomListSelected:n,reactView:(0,f.shouldShowReactView)(r())}})}};r.showLabelView=v;var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bottomListSelected,n=void 0!==r&&r;return n||h(),function(t,r){var a=r(),i=(0,d.filterGetByID)(a,e);if(!i)throw new Error("Cannot show filter view for non-exist filter id: "+e);window.location.hash="#"+encodeURIComponent("agenda/".concat(i.query)),t({type:"VIEW_SHOW_FILTER",payload:{id:e,bottomListSelected:n,reactView:(0,f.shouldShowReactView)(a)}})}};r.showFilterView=b;var y=function(e){return function(t,r){return h(),window.location.hash="#"+encodeURIComponent("agenda/".concat(e)),t({type:"VIEW_SHOW_QUERY",payload:{query:e,reactView:(0,f.shouldShowReactView)(r())}})}};r.showQueryView=y;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.projectId,r=e.itemId,n=e.eventFilter,a=e.userFilter;return h(),{type:"VIEW_SHOW_ACTIVITY_LOG",payload:{projectId:t,itemId:r,eventFilter:n,userFilter:a}}};r.showActivityView=g;var E=function(){return function(e,t){return h(),window.location.hash="#"+encodeURIComponent("agenda/".concat(u.DEFAULT_QUERY_TODAY)),e({type:"VIEW_SHOW_TODAY",payload:{reactView:(0,f.shouldShowReactView)(t())}})}};r.showTodayView=E;var T=function(){return function(e,t){return h(),window.location.hash="#"+encodeURIComponent("agenda/".concat(u.DEFAULT_QUERY_7_DAYS)),e({type:"VIEW_SHOW_7_DAYS",payload:{reactView:(0,f.shouldShowReactView)(t())||p.featureFlags["global.upcoming_view"].isEnabled()}})}};r.show7DaysView=T;var w=function(e,t){var r=e.mainView;return!(!r||r.type!==u.MAIN_VIEW_TYPE_PROJECT)&&(r.ids&&r.ids.includes(t))};r.isShowingProject=w;var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VIEW_SHOW_PROJECT":return a({type:u.MAIN_VIEW_TYPE_PROJECT},t.payload);case"VIEW_SHOW_QUERY":return a({type:u.MAIN_VIEW_TYPE_QUERY},t.payload);case"VIEW_SHOW_ACTIVITY_LOG":return a({type:u.MAIN_VIEW_TYPE_ACTIVITY_LOG},t.payload);case"VIEW_SHOW_LABEL":return a({type:u.MAIN_VIEW_TYPE_LABEL},t.payload);case"VIEW_SHOW_FILTER":return a({type:u.MAIN_VIEW_TYPE_FILTER},t.payload);case"VIEW_SHOW_TODAY":return a({type:u.MAIN_VIEW_TYPE_TODAY},t.payload);case"VIEW_SHOW_7_DAYS":return a({type:u.MAIN_VIEW_TYPE_7_DAYS},t.payload);case s.SYNC_UPDATE:var r=t.payload.temp_id_mapping;return e.ids&&e.ids.filter(function(e){return r[e]})?a({},e,{ids:e.ids.map(function(e){return(0,m.default)(e)&&r[e]?r[e]:e})}):e.id&&r[e.id]?a({},e,{id:r[e.id]}):e;default:return e}},P=R;r.default=P},{"../components/projects_list/ProjectList":69,"../constants/constants":94,"../init/featureFlags":125,"../utils/isTempID":1102,"./filters":1e3,"./sync":1038,"./user":1042,"./utils":1043,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1016:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.hideModal=r.showModal=r.MODAL_TYPES=r.HIDE_MODAL=r.SHOW_MODAL=void 0;var n=e("../utils/Env");r.SHOW_MODAL="SHOW_MODAL";r.HIDE_MODAL="HIDE_MODAL";var a={QUICK_ADD:"QUICK_ADD"};r.MODAL_TYPES=a;var i=function(e){var t=e.type,r=e.props,i=void 0===r?{}:r;return function(e){if(t===a.QUICK_ADD&&n.isMacApp)return Signals.sendSignal("show_quick_add");e({type:"SHOW_MODAL",modalType:t,modalProps:i})}};r.showModal=i;var o=function(){return{type:"HIDE_MODAL"}};r.hideModal=o;var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return{type:t.modalType,props:t.modalProps};case"HIDE_MODAL":return{};default:return e}};r.default=l},{"../utils/Env":1057}],1017:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.modelBridgeMiddleware=r.ModelBridge=r.bridgeUpdate=r.MODEL_BRIDGE_UPDATE=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/defineProperty")),u=e("../utils"),c=e("../utils/fp"),d=i(e("../logger/Logger"));r.MODEL_BRIDGE_UPDATE="MODEL_BRIDGE_UPDATE";var f=function(e){return{type:"MODEL_BRIDGE_UPDATE",payload:e}};r.bridgeUpdate=f;var p=function(){function e(){var t=this;(0,o.default)(this,e),(0,s.default)(this,"handleModelUpdate",function(e){try{if(1===(0,u.keys)(e)||0===(0,u.keys)(e))throw new Error("Assertion error: update should be a single key object");t.dispatchBridgeUpdate(e)}catch(e){d.default.captureError(e,{tags:{critical:"model_bridge"}})}}),(0,s.default)(this,"dispatchBridgeUpdate",function(e){t.store.dispatch(f(e))}),(0,s.default)(this,"dispatchBridgeUpdateDebounced",(0,u.debounce)(this.dispatchBridgeUpdate,30))}return(0,l.default)(e,[{key:"init",value:function(e){this.store=e,Signals.connect("bridge:model_update",this.handleModelUpdate)}}]),e}(),m=new p;r.ModelBridge=m;var h=function(e,t){var r={},n=!0,a=!1,i=void 0;try{for(var o,l=(0,u.keys)(e)[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value;e[s]!==t[s]&&(r[s]=e[s])}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r},_=(0,c.mapValues)(function(e){return a({},e)}),v=function(e){return function(t){return function(r){var n=e.getState(),a=t(r),i=e.getState(),o=h(i,n);return o=_(o),Signals.sendSignal("bridge:redux_update",o),a}}};r.modelBridgeMiddleware=v},{"../logger/Logger":132,"../utils":1094,"../utils/fp":1083,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1018:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.hasMoreItemNotes=r.hasMoreProjectNotes=void 0;var n=e("./sync"),a=e("./load"),i=e("./notes"),o=e("../utils/fp"),l=function(e){return e.reduce(function(e,t){return e[t]=1,e},{})},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.LOAD_LOCAL_DATA:var r=t.payload.moreNotes;return void 0===r?e:null===r?{items:{},projects:{}}:r;case i.NOTE_FETCH:if(!t.payload||0===t.payload.length)return e;var s=t.payload[0];return s.item_id?(0,o.unset)("items.".concat(s.item_id),e):(0,o.unset)("projects.".concat(s.project_id),e);case n.SYNC_FULL_UPDATE:var u=t.payload,c=u.incomplete_item_ids,d=u.incomplete_project_ids;return{items:c?l(c):{},projects:d?l(d):{}};default:return e}},u=function(e,t){return Boolean((0,o.get)("moreNotes.projects.".concat(t),e))};r.hasMoreProjectNotes=u;var c=function(e,t){return Boolean((0,o.get)("moreNotes.items.".concat(t),e))};r.hasMoreItemNotes=c;var d=s;r.default=d},{"../utils/fp":1083,"./load":1014,"./notes":1021,"./sync":1038}],1019:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.noteFetch=r.noteFetchFromProject=r.noteFetchFromItem=r.noteRemoveReaction=r.noteAddReaction=r.noteInsert=r.noteRemove=r.noteAddWithFiles=r.noteUpdate=r.noteAdd=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("@babel/runtime/helpers/defineProperty")),s=i(e("../../models/TemporaryIds")),u=i(e("../../models/SyncEngine")),c=e("../user"),d=e("./constants"),f=e("./selectors"),p=e("./utils"),m=e("../items"),h=e("../projects"),_=function(e){var t=e.parentId,r=e.content,n=e.type,i=e.usersToNotify,o=e.file,l=e.additionalProperties,c=void 0===l?{}:l;return function(e,l){if(n!==d.TYPE_ITEM_NOTE&&n!==d.TYPE_PROJECT_NOTE)throw new Error("Programming error: incorrect note type. (note_type=".concat(n,")"));var f=l(),p=f.user.id,m=a({content:r,posted_uid:p},c);n===d.TYPE_ITEM_NOTE?m.item_id=t:m.project_id=t,i&&(m.uids_to_notify=i),o&&o.file_server_info&&(m.file_attachment=o.file_server_info);var h=a({},m,{id:s.default.generate("note"),posted:new Date});return u.default.queueUpdate({type:"note_add",temp_id:h.id,args:m}),e({type:d.NOTE_ADD,payload:h}),h}};r.noteAdd=_;var v=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i,o){e=s.default.getRealId(e);var l=o(),c=l.notes[e];if(c){var f={note_id:c.id};t&&(f.content=t),r&&(f.file_attachment=r),u.default.queueUpdate({type:"note_update",args:f});var p=a({},c,{},f,{},n);return delete p.note_id,i({type:d.NOTE_UPDATE,payload:p}),p}}};r.noteUpdate=v;var b=function(e){var t=e.parentId,r=e.content,n=e.type,a=e.usersToNotify,i=e.files;return function(e){if(0===i.length)return e(_({parentId:t,content:r,type:n,usersToNotify:a}));i.forEach(function(i,o){var l=(0,p.generateFile)(i),s=l.file_info,u=l.is_buffer_obj,c=e(_({parentId:t,content:0===o?r:"",type:n,usersToNotify:a,file:s,additionalProperties:{is_buffer_obj:u}}));i.addCallback(function(t){if(t.success&&!t.instant){var r=t.file_server_info;r.upload_state="completed",e(v(c.id,null,r,{is_buffer_obj:!1}))}})})}};r.noteAddWithFiles=b;var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.shouldSync,n=void 0===r||r;return function(t,r){e=s.default.getRealId(e);var a=r(),i=a.notes[e];i&&(n&&u.default.queueUpdate({type:"note_delete",args:{note_id:i.id}}),t({type:d.NOTE_REMOVE,payload:i.id}))}};r.noteRemove=y;var g=function(e){if(e&&e.id)return e=(0,p.deserializeNote)(e),{type:d.NOTE_UPDATE,payload:e}};r.noteInsert=g;var E=function(e,t){return function(r,n){e=s.default.getRealId(e);var a=n(),i=a.user.id;a.notes[e]&&(u.default.queueUpdate({type:"note_reaction_add",args:{id:e,reaction:t}}),r({type:d.NOTE_ADD_REACTION,payload:{id:e,userId:i,reaction:t}}))}};r.noteAddReaction=E;var T=function(e,t){return function(r,n){e=s.default.getRealId(e);var a=n(),i=a.user.id,o=a.notes[e];o&&o.reactions&&(u.default.queueUpdate({type:"note_reaction_remove",args:{id:e,reaction:t}}),r({type:d.NOTE_REMOVE_REACTION,payload:{id:e,userId:i,reaction:t}}))}};r.noteRemoveReaction=T;var w=function(e,t){return function(r,n){e=s.default.getRealId(e);var a=n();return fetch("/API/".concat(u.default.api_version,"/get_item"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:(0,c.getToken)(a),item_id:e,sync_id:t,all_data:1})}).then(function(e){return e.json().then(function(t){return[e.status,t]})}).then(function(e){var t=(0,o.default)(e,2),n=t[0],a=t[1];if(200!==n)throw a;return a.notes=a.notes.map(p.deserializeNote),r({type:d.NOTE_FETCH,payload:a.notes}),a.item=(0,m.deserializeItemFields)(a.item),Signals.sendSignal("refresh_interface"),a})}};r.noteFetchFromItem=w;var R=function(e){return function(t,r){e=s.default.getRealId(e);var n=r();return fetch("/API/".concat(u.default.api_version,"/get_project"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:(0,c.getToken)(n),project_id:e,all_data:1})}).then(function(e){return e.json().then(function(t){return[e.status,t]})}).then(function(e){var r=(0,o.default)(e,2),n=r[0],i=r[1];if(200!==n)throw i;return t({type:d.NOTE_FETCH,payload:i.notes}),t((0,h.projectArchivedFeteched)(a({},i.project))),Signals.sendSignal("refresh_interface"),i})}};r.noteFetchFromProject=R;var P=function(e){var t=e.type,r=e.item,n=e.project;return function(e){return e(t===d.TYPE_ITEM_NOTE?w(r.id,r.sync_id):R(n.id))}};r.noteFetch=P,$queryArgument("print_mode")&&(window.NotesModel={},window.NotesModel.TYPE_ITEM_NOTE=d.TYPE_ITEM_NOTE,window.NotesModel.TYPE_PROJECT_NOTE=d.TYPE_PROJECT_NOTE,window.NotesModel.getNotes=function(t,r){var n=e("../../stores/store").default;return(0,f.noteGetByParentIDSorted)(n.getState(),t,r)})},{"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../../stores/store":1048,"../items":1005,"../projects":1026,"../user":1042,"./constants":1020,"./selectors":1023,"./utils":1024,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],1020:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NOTE_REMOVE_REACTION=r.NOTE_ADD_REACTION=r.NOTE_FETCH=r.NOTE_REMOVE=r.NOTE_UPDATE=r.NOTE_ADD=r.TYPE_ITEM_NOTE=r.TYPE_PROJECT_NOTE=void 0;r.TYPE_PROJECT_NOTE="project_note";r.TYPE_ITEM_NOTE="item_note";r.NOTE_ADD="NOTE_ADD";r.NOTE_UPDATE="NOTE_UPDATE";r.NOTE_REMOVE="NOTE_REMOVE";r.NOTE_FETCH="NOTE_FETCH";r.NOTE_ADD_REACTION="NOTE_ADD_REACTION";r.NOTE_REMOVE_REACTION="NOTE_REMOVE_REACTION"},{}],1021:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"noteAdd",{enumerable:!0,get:function(){return i.noteAdd}}),Object.defineProperty(r,"noteAddReaction",{enumerable:!0,get:function(){return i.noteAddReaction}}),Object.defineProperty(r,"noteAddWithFiles",{enumerable:!0,get:function(){return i.noteAddWithFiles}}),Object.defineProperty(r,"noteFetch",{enumerable:!0,get:function(){return i.noteFetch}}),Object.defineProperty(r,"noteFetchFromItem",{enumerable:!0,get:function(){return i.noteFetchFromItem}}),Object.defineProperty(r,"noteFetchFromProject",{enumerable:!0,get:function(){return i.noteFetchFromProject}}),Object.defineProperty(r,"noteInsert",{enumerable:!0,get:function(){return i.noteInsert}}),Object.defineProperty(r,"noteRemove",{enumerable:!0,get:function(){return i.noteRemove}}),Object.defineProperty(r,"noteRemoveReaction",{enumerable:!0,get:function(){return i.noteRemoveReaction}}),Object.defineProperty(r,"noteUpdate",{enumerable:!0,get:function(){return i.noteUpdate}}),Object.defineProperty(r,"TYPE_PROJECT_NOTE",{enumerable:!0,get:function(){return o.TYPE_PROJECT_NOTE}}),Object.defineProperty(r,"TYPE_ITEM_NOTE",{enumerable:!0,get:function(){return o.TYPE_ITEM_NOTE}}),Object.defineProperty(r,"NOTE_ADD",{enumerable:!0,get:function(){return o.NOTE_ADD}}),Object.defineProperty(r,"NOTE_UPDATE",{enumerable:!0,get:function(){return o.NOTE_UPDATE}}),Object.defineProperty(r,"NOTE_REMOVE",{enumerable:!0,get:function(){return o.NOTE_REMOVE}}),Object.defineProperty(r,"NOTE_FETCH",{enumerable:!0,get:function(){return o.NOTE_FETCH}}),Object.defineProperty(r,"NOTE_ADD_REACTION",{enumerable:!0,get:function(){return o.NOTE_ADD_REACTION}}),Object.defineProperty(r,"NOTE_REMOVE_REACTION",{enumerable:!0,get:function(){return o.NOTE_REMOVE_REACTION}}),Object.defineProperty(r,"noteGetAll",{enumerable:!0,get:function(){return l.noteGetAll}}),Object.defineProperty(r,"noteGetByID",{enumerable:!0,get:function(){return l.noteGetByID}}),Object.defineProperty(r,"noteGetByItem",{enumerable:!0,get:function(){return l.noteGetByItem}}),Object.defineProperty(r,"noteGetByItemSorted",{enumerable:!0,get:function(){return l.noteGetByItemSorted}}),Object.defineProperty(r,"noteGetByParentID",{enumerable:!0,get:function(){return l.noteGetByParentID}}),Object.defineProperty(r,"noteGetByParentIDSorted",{enumerable:!0,get:function(){return l.noteGetByParentIDSorted}}),Object.defineProperty(r,"noteGetByProject",{enumerable:!0,get:function(){return l.noteGetByProject}}),Object.defineProperty(r,"noteGetByProjectSorted",{enumerable:!0,get:function(){return l.noteGetByProjectSorted}}),Object.defineProperty(r,"noteGetGroupedByParentID",{enumerable:!0,get:function(){return l.noteGetGroupedByParentID}}),Object.defineProperty(r,"noteGetBySearch",{enumerable:!0,get:function(){return l.noteGetBySearch}}),Object.defineProperty(r,"hasMoreNotes",{enumerable:!0,get:function(){return l.hasMoreNotes}}),Object.defineProperty(r,"hasMoreItemNotes",{enumerable:!0,get:function(){return l.hasMoreItemNotes}}),Object.defineProperty(r,"hasMoreProjectNotes",{enumerable:!0,get:function(){return l.hasMoreProjectNotes}}),r.default=void 0;var a=n(e("./reducers")),i=e("./actions"),o=e("./constants"),l=e("./selectors"),s=a.default;r.default=s},{"./actions":1019,"./constants":1020,"./reducers":1022,"./selectors":1023,"@babel/runtime/helpers/interopRequireDefault":189}],1022:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("@babel/runtime/helpers/toConsumableArray")),s=e("../../utils"),u=e("../../utils/fp"),c=e("../load"),d=e("../sync"),f=e("../items"),p=e("./constants"),m=e("../utils"),h=e("./utils"),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.LOAD_LOCAL_DATA:return t.payload.notes?(0,u.compose)((0,u.keyBy)("id"),(0,u.map)(h.deserializeNote))((0,u.values)(t.payload.notes)):e;case d.SYNC_UPDATE:var r=t.payload,n=r.notes,i=r.project_notes,_=r.temp_id_mapping;_&&(e=(0,m.resolveTempID)(e,_));var v=[];return n&&(v=n),i&&(v=[].concat((0,l.default)(v),(0,l.default)(i))),v=v.map(function(e){return e.posted?(0,h.deserializeNote)(e):e}),v.length>0&&(e=(0,m.mergeSyncUpdate)(e,v)),Signals.sendSignal("notes_updated",v),e;case d.SYNC_FULL_UPDATE:var b=t.payload,y=b.notes,g=b.project_notes;return y=y||[],g=g||[],(0,u.compose)((0,u.keyBy)("id"),(0,u.map)(h.deserializeNote))([].concat((0,l.default)(y),(0,l.default)(g)));case p.NOTE_ADD:case p.NOTE_UPDATE:return a({},e,(0,o.default)({},t.payload.id,t.payload));case p.NOTE_REMOVE:var E=a({},e);return delete E[t.payload],E;case p.NOTE_ADD_REACTION:var T=t.payload,w=T.id,R=T.reaction,P=T.userId,D=e[w],O=D.reactions||{},C=O[R]||[];return C.indexOf(P)>-1?e:(C=[].concat((0,l.default)(C),[P]),O=a({},O,(0,o.default)({},R,C)),a({},e,(0,o.default)({},w,a({},e[w],{reactions:O}))));case p.NOTE_REMOVE_REACTION:var I=t.payload,A=I.id,S=I.reaction,k=I.userId,M=e[A],j=M.reactions;if(!j[S]||-1===j[S].indexOf(k))return e;return 0===j[S].filter(function(e){return e!==k}).length&&(j=(0,s.omit)(j,S)),0===Object.keys(j).length&&(j=null),a({},e,(0,o.default)({},A,a({},e[A],{reactions:j})));case f.ITEM_UNCOMPLETE:var N=(0,u.compose)((0,u.map)(function(e){return a({},e,{is_archived:0})}),(0,u.filter)(function(e){return e.item_id===t.payload.id}),u.values)(e);return N.length?a({},e,{},(0,u.keyBy)("id",N)):e;case p.NOTE_FETCH:if(!t.payload||0===t.payload.length)return e;var x=t.payload.filter(function(t){return!e[t.id]}).map(h.deserializeNote);return 0===x.length?e:a({},e,{},(0,u.keyBy)("id",x));default:return e}},v=_;r.default=v},{"../../utils":1094,"../../utils/fp":1083,"../items":1005,"../load":1014,"../sync":1038,"../utils":1043,"./constants":1020,"./utils":1024,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],1023:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.hasMoreProjectNotes=r.hasMoreItemNotes=r.hasMoreNotes=r.noteGetBySearch=r.noteGetItemNoteCount=r.noteGetByParentIDSorted=r.noteGetByParentID=r.noteGetByProjectSorted=r.noteGetByProject=r.noteGetByItemSorted=r.noteGetByItem=r.noteGetGroupedByParentID=r.noteGetByID=r.noteGetAll=void 0
;var a=n(e("@babel/runtime/helpers/toConsumableArray")),i=e("../../utils"),o=e("../../utils/fp"),l=e("reselect"),s=n(e("../../models/TemporaryIds")),u=e("./constants"),c=e("./utils"),d=e("../items/selectors"),f=e("../../components/agenda/sort"),p=(0,l.createSelector)(function(e){return e.notes},function(e){return(0,i.values)(e)});r.noteGetAll=p;var m=function(e,t){return e.notes[s.default.getRealId(t)]};r.noteGetByID=m;var h=(0,l.createSelector)(p,function(e){var t={},r={};return e.forEach(function(e){e.item_id?(r[e.item_id]||(r[e.item_id]=[]),r[e.item_id].push(e)):(t[e.project_id]||(t[e.project_id]=[]),t[e.project_id].push(e))}),{itemNotes:r,projectNotes:t}});r.noteGetGroupedByParentID=h;var _=function(e,t){return h(e).itemNotes[t]||[]};r.noteGetByItem=_;var v=function(e,t){return _(e,t).sort(c.sortByPostedTimeFn)};r.noteGetByItemSorted=v;var b=function(e,t){return h(e).projectNotes[t]||[]};r.noteGetByProject=b;var y=function(e,t){return b(e,t).sort(c.sortByPostedTimeFn)};r.noteGetByProjectSorted=y;var g=function(e,t,r){return t=s.default.getRealId(t),r===u.TYPE_ITEM_NOTE?_(e,t):r===u.TYPE_PROJECT_NOTE?b(e,t):void 0};r.noteGetByParentID=g;var E=function(e,t,r){return g(e,t,r).sort(c.sortByPostedTimeFn)};r.noteGetByParentIDSorted=E;var T=function(e,t,r){var n=r.countChildren;if(void 0!==n&&n){var o,l=t.map(function(t){return(0,d.itemGetChildren)(t,e).map(function(e){return e.id})});t=(o=t).concat.apply(o,(0,a.default)(l))}var s=t.map(function(t){return _(e,t).length});return i.sum.apply(void 0,(0,a.default)(s))};r.noteGetItemNoteCount=T;var w=(0,o.get)("file_attachment.file_name"),R=(0,o.get)("file_attachment.title"),P=(0,i.curry)(function(e,t){var r=(0,i.looseMatch)(e),n=function(e){var t=w(e),n=R(e);return t&&r(t)||n&&r(n)},a=(0,f.createNoteSearchViewSort)(t);return p(t).filter(function(e){return r(e.content)||n(e)}).sort(a)});r.noteGetBySearch=P;var D=function(e,t,r){return r===u.TYPE_ITEM_NOTE?O(e,t):r===u.TYPE_PROJECT_NOTE?C(e,t):void 0};r.hasMoreNotes=D;var O=function(e,t){return Boolean(e.moreNotes.items[t])};r.hasMoreItemNotes=O;var C=function(e,t){return Boolean(e.moreNotes.projects[t])};r.hasMoreProjectNotes=C},{"../../components/agenda/sort":16,"../../models/TemporaryIds":174,"../../utils":1094,"../../utils/fp":1083,"../items/selectors":1007,"./constants":1020,"./utils":1024,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200,reselect:"reselect"}],1024:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.generateFile=r.sortByPostedTimeFn=r.deserializeNote=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../../utils"),s=function(e){return a({},e,{posted:new Date(e.posted)})};r.deserializeNote=s;var u=function(e,t){return(0,l.isString)(e.posted)&&(e.posted=new Date(e.posted)),(0,l.isString)(t.posted)&&(t.posted=new Date(t.posted)),e.posted.getTime()===t.posted.getTime()?e.id-t.id:e.posted.getTime()-t.posted.getTime()};r.sortByPostedTimeFn=u;var c=function(e){var t,r={};return e.file_server_info?(r.file_server_info=e.file_server_info,t=!1):(r.file_server_info={file_name:e.file.name,file_type:e.file.type,file_size:e.file.size,upload_state:"pending"},t=!0),{file_info:r,is_buffer_obj:t}};r.generateFile=c},{"../../utils":1094,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1025:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.projectArchive=r.projectArchivedFeteched=r.projectFetchArchived=r.projectUnarchive=r.projectMoveAndReorderUndo=r.projectMoveAndReorder=r.projectUpdateLocalFields=r.projectUpdate=r.projectRemove=r.projectAdd=r.PROJECT_UPDATE_LOCAL=r.PROJECT_UPDATE=r.PROJECT_UNARCHIVE=r.PROJECT_REMOVE=r.PROJECT_MOVE_AND_REORDER_UNDO=r.PROJECT_MOVE_AND_REORDER=r.PROJECT_ARCHIVED_FETCHED=r.PROJECT_ARCHIVE=r.PROJECT_ADD=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../../utils"),s=e("../utils"),u=i(e("../../models/SyncEngine")),c=i(e("../../models/TemporaryIds")),d=i(e("../../logger/Logger")),f=e("../../reducers/items"),p=e("../../models/Colors"),m=e("./selectors");r.PROJECT_ADD="PROJECT_ADD";r.PROJECT_ARCHIVE="PROJECT_ARCHIVE";r.PROJECT_ARCHIVED_FETCHED="PROJECT_ARCHIVED_FETCHED";r.PROJECT_MOVE_AND_REORDER="PROJECT_MOVE_AND_REORDER";r.PROJECT_MOVE_AND_REORDER_UNDO="PROJECT_MOVE_AND_REORDER_UNDO";r.PROJECT_REMOVE="PROJECT_REMOVE";r.PROJECT_UNARCHIVE="PROJECT_UNARCHIVE";r.PROJECT_UPDATE="PROJECT_UPDATE";r.PROJECT_UPDATE_LOCAL="PROJECT_UPDATE_LOCAL";var h=function(e){var t=e.name,r=e.color,n=void 0===r?p.DEFAULT_COLOR:r,a=e.parent_id,i=void 0===a?null:a,o=e.is_favorite,l=void 0!==o&&o,s=e.child_order;return function(e,r){if(!t||""==t.trim())throw new Error("project name cannot be empty");var a=(0,m.projectGetByParentID)(i)(r()).filter(function(e){return e.child_order>=s}).map(function(e){return{id:e.id,child_order:e.child_order+1}});e(y(a,{noUndo:!0}));var o={id:c.default.generate("project"),name:t.trim(),color:n,parent_id:i,child_order:s,is_favorite:l,collapsed:0,is_archived:!1};return u.default.queueUpdate({type:"project_add",temp_id:o.id,args:o}),e({type:"PROJECT_ADD",payload:o}),o}};r.projectAdd=h;var _=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t=t.map(function(e){return c.default.getRealId(e)}),t.find(function(e){return(0,l.isRealID)(e)&&(0,s.isNonUniqueID)(e)}))return void d.default.captureMessage("Attempt to delete project with non-unique ID",{level:"error",extra:{ids:t}});var n=!0,a=!1,i=void 0;try{for(var o,f=t[Symbol.iterator]();!(n=(o=f.next()).done);n=!0){var p=o.value;u.default.queueUpdate({type:"project_delete",args:{id:p}})}}catch(e){a=!0,i=e}finally{try{n||null==f.return||f.return()}finally{if(a)throw i}}return{type:"PROJECT_REMOVE",payload:t}};r.projectRemove=_;var v=function(e,t){return function(r){e=c.default.getRealId(e),t=a({},t),(t.hasOwnProperty("indent")||t.hasOwnProperty("item_order")||t.hasOwnProperty("parent_id")||t.hasOwnProperty("child_order"))&&(console.log("[warning] ordering structure should not be updated by PROJECT_UPDATE action"),t=(0,l.omit)(t,["indent","item_order","parent_id","child_order"])),t.name&&(t.name=t.name.trim()),u.default.queueUpdate({type:"project_update",args:a({id:e},t)}),r({type:"PROJECT_UPDATE",payload:(0,o.default)({},e,t)})}};r.projectUpdate=v;var b=function(e){return{type:"PROJECT_UPDATE_LOCAL",payload:e}};r.projectUpdateLocalFields=b;var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{noUndo:!1},r=t.noUndo;return function(t,n){var i=n(),o=i.projects;e=e.map((0,s.resolveTempIDFields)(["id","parent_id"]));var l=e.map(function(e){e=a({},e);var t=o[e.id];return t.parent_id===e.parent_id&&delete e.parent_id,t.child_order===e.child_order&&delete e.child_order,e}).filter(function(e){return void 0!==e.parent_id||void 0!==e.child_order}),c=!0,d=!1,f=void 0;try{for(var p,m=l[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h=p.value,_=h.id,v=h.parent_id;void 0!==v&&u.default.queueUpdate({type:"project_move",args:{id:_,parent_id:v}})}}catch(e){d=!0,f=e}finally{try{c||null==m.return||m.return()}finally{if(d)throw f}}var b=l.filter(function(e){return void 0!==e.child_order}).map(function(e){return{id:e.id,child_order:e.child_order}});0!==b.length&&u.default.queueUpdate({type:"project_reorder",args:{projects:b}}),l.length>0&&t({type:"PROJECT_MOVE_AND_REORDER",payload:{orders:l,noUndo:r}})}};r.projectMoveAndReorder=y;var g=function(){return function(e,t){var r=t(),n=r.undo;if("PROJECT_MOVE_AND_REORDER_UNDO"===n.type){var a=(0,l.values)(n.projects),i=!0,o=!1,s=void 0;try{for(var c,d=a[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){var f=c.value,p=f.id,m=f.parent_id;void 0!==m&&u.default.queueUpdate({type:"project_move",args:{id:p,parent_id:m}})}}catch(e){o=!0,s=e}finally{try{i||null==d.return||d.return()}finally{if(o)throw s}}var h=a.filter(function(e){return void 0!==e.child_order}).map(function(e){return{id:e.id,child_order:e.child_order}});h.length>0&&u.default.queueUpdate({type:"project_reorder",args:{projects:h}}),e({type:"PROJECT_MOVE_AND_REORDER_UNDO"}),Signals.sendSignal("instant_refresh_interface")}}};r.projectMoveAndReorderUndo=g;var E=function(e){return function(t){e.is_archived=!1,u.default.queueUpdate({type:"project_unarchive",args:{id:e.id}}),t({type:"PROJECT_UNARCHIVE",payload:e})}};r.projectUnarchive=E;var T=function(e){return function(t,r){var n=r().user.token;return fetch("/API/".concat(u.default.api_version,"/projects/get_data"),{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"project_id=".concat(e,"&token=").concat(n)}).then(function(e){if(200===e.status)return e.json();throw e}).then(function(e){return t(w(e.project)),e.items=e.items.map(function(e){return(0,f.deserializeItemFields)(e)}),e})}};r.projectFetchArchived=T;var w=function(e){e=(0,l.isArray)(e)?e:[e];var t=e.filter(function(e){return(0,l.isRealID)(e.id)&&(0,s.isNonUniqueID)(e.id)});return t.length>0?(d.default.captureMessageWithTrace("Fetched non-unique projects",{extra:{bads:t},tags:{critical:"unique_id"}}),{type:"PROJECT_ARCHIVED_FETCHED",payload:[]}):{type:"PROJECT_ARCHIVED_FETCHED",payload:e}};r.projectArchivedFeteched=w;var R=function(t){return function(r){return e("../../models/SyncEngine").default.queueUpdate({type:"project_archive",args:{id:t}}),r({type:"PROJECT_ARCHIVE",payload:t})}};r.projectArchive=R},{"../../logger/Logger":132,"../../models/Colors":151,"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../../reducers/items":1005,"../../utils":1094,"../utils":1043,"./selectors":1028,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1026:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"projectsCases",{enumerable:!0,get:function(){return a.projectsCases}}),Object.defineProperty(r,"projectAdd",{enumerable:!0,get:function(){return i.projectAdd}}),Object.defineProperty(r,"projectArchive",{enumerable:!0,get:function(){return i.projectArchive}}),Object.defineProperty(r,"projectArchivedFeteched",{enumerable:!0,get:function(){return i.projectArchivedFeteched}}),Object.defineProperty(r,"projectFetchArchived",{enumerable:!0,get:function(){return i.projectFetchArchived}}),Object.defineProperty(r,"projectMoveAndReorder",{enumerable:!0,get:function(){return i.projectMoveAndReorder}}),Object.defineProperty(r,"projectMoveAndReorderUndo",{enumerable:!0,get:function(){return i.projectMoveAndReorderUndo}}),Object.defineProperty(r,"projectRemove",{enumerable:!0,get:function(){return i.projectRemove}}),Object.defineProperty(r,"projectUnarchive",{enumerable:!0,get:function(){return i.projectUnarchive}}),Object.defineProperty(r,"projectUpdate",{enumerable:!0,get:function(){return i.projectUpdate}}),Object.defineProperty(r,"projectUpdateLocalFields",{enumerable:!0,get:function(){return i.projectUpdateLocalFields}}),Object.defineProperty(r,"PROJECT_ADD",{enumerable:!0,get:function(){return i.PROJECT_ADD}}),Object.defineProperty(r,"PROJECT_ARCHIVE",{enumerable:!0,get:function(){return i.PROJECT_ARCHIVE}}),Object.defineProperty(r,"PROJECT_ARCHIVED_FETCHED",{enumerable:!0,get:function(){return i.PROJECT_ARCHIVED_FETCHED}}),Object.defineProperty(r,"PROJECT_MOVE_AND_REORDER",{enumerable:!0,get:function(){return i.PROJECT_MOVE_AND_REORDER}}),Object.defineProperty(r,"PROJECT_MOVE_AND_REORDER_UNDO",{enumerable:!0,get:function(){return i.PROJECT_MOVE_AND_REORDER_UNDO}}),Object.defineProperty(r,"PROJECT_REMOVE",{enumerable:!0,get:function(){return i.PROJECT_REMOVE}}),Object.defineProperty(r,"PROJECT_UNARCHIVE",{enumerable:!0,get:function(){return i.PROJECT_UNARCHIVE}}),Object.defineProperty(r,"PROJECT_UPDATE",{enumerable:!0,get:function(){return i.PROJECT_UPDATE}}),Object.defineProperty(r,"PROJECT_UPDATE_LOCAL",{enumerable:!0,get:function(){return i.PROJECT_UPDATE_LOCAL}}),Object.defineProperty(r,"projectGetActive",{enumerable:!0,get:function(){return o.projectGetActive}}),Object.defineProperty(r,"projectGetActiveSorted",{enumerable:!0,get:function(){return o.projectGetActiveSorted}}),Object.defineProperty(r,"projectGetActiveWithIndent",{enumerable:!0,get:function(){return o.projectGetActiveWithIndent}}),Object.defineProperty(r,"projectGetByID",{enumerable:!0,get:function(){return o.projectGetByID}}),Object.defineProperty(r,"projectGetByNameSearch",{enumerable:!0,get:function(){return o.projectGetByNameSearch}}),Object.defineProperty(r,"projectGetChildren",{enumerable:!0,get:function(){return o.projectGetChildren}}),Object.defineProperty(r,"projectGetFavorite",{enumerable:!0,get:function(){return o.projectGetFavorite}}),Object.defineProperty(r,"projectGetInbox",{enumerable:!0,get:function(){return o.projectGetInbox}}),Object.defineProperty(r,"projectGetMaxTopLevelChildOrder",{enumerable:!0,get:function(){return o.projectGetMaxTopLevelChildOrder}}),Object.defineProperty(r,"projectGetParent",{enumerable:!0,get:function(){return o.projectGetParent}}),Object.defineProperty(r,"projectGetTeamInbox",{enumerable:!0,get:function(){return o.projectGetTeamInbox}}),Object.defineProperty(r,"createProjectPickBySelector",{enumerable:!0,get:function(){return o.createProjectPickBySelector}}),r.default=void 0;var a=n(e("./reducers")),i=e("./actions"),o=e("./selectors"),l=a.default;r.default=l},{"./actions":1025,"./reducers":1027,"./selectors":1028,"@babel/runtime/helpers/interopRequireWildcard":190}],1027:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.projectsCases=r.getAssociatesObjectIDs=r.default=void 0;var o=i(e("@babel/runtime/helpers/toConsumableArray")),l=i(e("@babel/runtime/helpers/slicedToArray")),s=i(e("@babel/runtime/helpers/defineProperty")),u=e("../../utils"),c=e("../../utils/fp"),d=e("../load"),f=i(e("../../utils/deleteUndefinedProperties")),p=e("../sync"),m=e("./actions"),h=e("./selectors"),v=e("../utils"),b=e("../undo"),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOAD_LOCAL_DATA:if(!t.payload.projects)return e;return(0,c.mapValues)(function(e){return e=a({},e),e.inbox_project&&(e.name=_("Inbox")),e.team_inbox&&(e.name=_("Team Inbox")),e},t.payload.projects);case p.SYNC_FULL_UPDATE:return(0,u.keyBy)(t.payload.projects,"id");case m.PROJECT_ADD:return a({},e,(0,s.default)({},t.payload.id,t.payload));case m.PROJECT_UPDATE_LOCAL:case m.PROJECT_UPDATE:var r=a({},e),n=!0,i=!1,o=void 0;try{for(var v,b=(0,u.toPairs)(t.payload)[Symbol.iterator]();!(n=(v=b.next()).done);n=!0){var y=(0,l.default)(v.value,2),g=y[0],E=y[1],T=r[g];T&&(T=a({},T,{},E),T=(0,f.default)(T),r[g]=T)}}catch(e){i=!0,o=e}finally{try{n||null==b.return||b.return()}finally{if(i)throw o}}return r;case m.PROJECT_UNARCHIVE:var w=t.payload;return w=a({},w,{is_archived:0,parent_id:null,child_order:(0,h.projectGetMaxTopLevelChildOrder)({projects:e})+1}),a({},e,(0,s.default)({},w.id,w));case m.PROJECT_ARCHIVED_FETCHED:return a({},e,{},(0,c.compose)(u.toIDMap,(0,c.map)(function(e){return a({},e,{_fetched_at:Date.now()})}))(t.payload));default:return e}},g=function(e){if(!e)return e;var t=!1,r=a({},e),n=Date.now(),i=!0,o=!1,l=void 0;try{for(var s,c=(0,u.values)(e)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var d=s.value;d.is_archived&&d._fetched_at&&n-d._fetched_at>864e5&&(delete r[d.id],t=!0)}}catch(e){o=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return t?r:e},E=(0,c.compose)(g,y);r.default=E;var T=function(e,t){e=new Set(e);var r=function(e){return(0,c.compose)(function(e){return new Set(e)},(0,c.map)(function(e){return e.id}),(0,c.filter)(e),u.values)},n=r(function(t){return e.has(t.project_id)})(t.items),a=r(function(t){return!t.item_id?e.has(t.project_id):n.has(t.item_id)})(t.notes),i=r(function(e){return n.has(e.item_id)})(t.reminders),o=r(function(t){return e.has(t.project_id)})(t.sections);return{items:n,notes:a,reminders:i,sections:o}};r.getAssociatesObjectIDs=T;var w=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.includeSubprojects;if(void 0!==n&&n){var a=(0,c.compose)((0,c.map)(function(e){return e.id}),c.flatten,(0,c.map)(function(e){return(0,h.projectGetChildren)(e,t)}))(e);e=new Set([].concat((0,o.default)(e),(0,o.default)(a)))}else e=new Set(e);var i=T(e,t),l=i.items,s=i.notes,u=i.reminders,d=i.sections;return(0,c.compose)((0,v.removeFromSlice)("projects",e),(0,v.removeFromSlice)("sections",d),(0,v.removeFromSlice)("items",l),(0,v.removeFromSlice)("notes",s),(0,v.removeFromSlice)("reminders",u))(t)},R=function(e,t){switch(t.type){case m.PROJECT_MOVE_AND_REORDER:var r=t.payload,n=r.orders,i=r.noUndo,o=a({},e.projects),l={},s=!0,d=!1,f=void 0;try{for(var h,y=n[Symbol.iterator]();!(s=(h=y.next()).done);s=!0){var g=h.value,E=g.id,T=g.parent_id,R=g.child_order,D=a({},o[E]);l[E]={id:E},void 0!==T&&(l[E].parent_id=D.parent_id,D.parent_id=T),void 0!==R&&(l[E].child_order=D.child_order,D.child_order=R),o[E]=D}}catch(e){d=!0,f=e}finally{try{s||null==y.return||y.return()}finally{if(d)throw f}}var O=a({},e,{projects:o});return i||(O=(0,b.setUndo)({type:m.PROJECT_MOVE_AND_REORDER_UNDO,projects:l},O)),O;case m.PROJECT_MOVE_AND_REORDER_UNDO:return a({},e,{projects:(0,c.merge)(e.projects,e.undo.projects),undo:null});case m.PROJECT_ARCHIVE:var C=t.payload,I=e.projects[C],A=w([C],e,{includeSubprojects:!0});return A=(0,b.pushMessage)((0,u.format)(_("{project_name} archived"),{project_name:I.name}),A);case m.PROJECT_REMOVE:var S=t.payload;return w(S,e,{includeSubprojects:!1});case p.SYNC_UPDATE:var k=t.payload,M=k.projects,j=k.temp_id_mapping;if(j&&(e=a({},e,{projects:(0,v.resolveTempID)(e.projects,j)}),e=P(e,t.payload)),!M||0===M.length)return e;e=a({},e,{projects:a({},e.projects,{},(0,u.byID)(M))});var N=(0,c.compose)((0,c.map)(function(e){return e.id}),(0,c.filter)(function(e){return e.is_deleted||e.is_archived}))(M);return e=w(N,e,{includeSubprojects:!1})}return e};r.projectsCases=R;var P=function(e,t){try{var r=e.undo;if(!r)return e;var n=t.temp_id_mapping;switch(r.type){case m.PROJECT_MOVE_AND_REORDER_UNDO:var i=r.projects;return i=(0,c.compose)((0,c.mapValues)(function(e){return a({},e,{parent_id:n[e.parent_id]||e.parent_id})}),(0,c.mapKeys)(function(e){return n[e]||e}))(i),a({},e,{undo:a({},r,{projects:i})});default:return e}}catch(t){return e}}},{"../../utils":1094,"../../utils/deleteUndefinedProperties":1070,"../../utils/fp":1083,"../load":1014,"../sync":1038,"../undo":1041,"../utils":1043,"./actions":1025,"./selectors":1028,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200}],1028:[function(e,t,r){"use strict";function n(e,t){var r=(0,u.createSelector)(function(e){return e.projects},function(t){return(0,l.getByNameSearch)(e,t)});return 1===arguments.length?r:r(t)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.projectGetByNameSearch=n,r.createProjectPickBySelector=r.projectGetMaxTopLevelChildOrder=r.projectGetMinTopLevelChildOrder=r.projectGetFavorite=r.projectGetParent=r.projectGetChildren=r.projectGetActiveWithIndent=r.projectGetActiveSorted=r.projectGetByParentID=r.projectGetActive=r.projectGetTeamInbox=r.projectGetInbox=r.projectGetByID=void 0;var i=e("../../utils/fp"),o=e("redux"),l=e("../utils"),s=a(e("../../models/TemporaryIds")),u=e("reselect"),c=function(e,t){return t=s.default.getRealId(t),e.projects[t]};r.projectGetByID=c;var d=function(e){return e.projects[e.user.inbox_project]};r.projectGetInbox=d;var f=function(e){return e.projects[e.user.team_inbox]};r.projectGetTeamInbox=f;var p=(0,u.createSelector)(function(e){return e.projects},(0,i.filter)(function(e){return!e.is_archived}));r.projectGetActive=p;var m=(0,u.createSelector)(p,(0,i.groupBy)("parent_id")),h=function(e){return(0,o.compose)((0,i.sortBy)("child_order"),(0,i.filter)(function(t){return t.parent_id===e}),i.values,function(e){return e.projects})};r.projectGetByParentID=h;var _=(0,u.createSelector)(m,function(e){return(0,l.descendentsSorted)(null,e)});r.projectGetActiveSorted=_;var v=(0,u.createSelector)(m,function(e){return(0,l.annotateIndentOrder)((0,l.descendentsSorted)(null,e))});r.projectGetActiveWithIndent=v;var b=function(e,t){return(0,l.descendentsSorted)(e,m(t))};r.projectGetChildren=b;var y=function(e,t){var r=e.projects[t];return e.projects[r.parent_id]};r.projectGetParent=y;var g=(0,u.createSelector)(_,(0,i.filter)(function(e){return e.is_favorite}));r.projectGetFavorite=g;var E=(0,u.createSelector)(_,(0,o.compose)(function(e){return e.length>0?e[0].child_order:1},(0,i.filter)(function(e){return null===e.parent_id})));r.projectGetMinTopLevelChildOrder=E;var T=(0,u.createSelector)(_,(0,o.compose)(function(e){return e.length>0?e[e.length-1].child_order:1},(0,i.filter)(function(e){return null===e.parent_id})));r.projectGetMaxTopLevelChildOrder=T;var w=function(e){return(0,u.createSelector)(function(e){return e.projects},(0,i.pickBy)(e))};r.createProjectPickBySelector=w},{"../../models/TemporaryIds":174,"../../utils/fp":1083,"../utils":1043,"@babel/runtime/helpers/interopRequireDefault":189,redux:"redux",reselect:"reselect"}],1029:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getRemindersByItemID=r.reminderGetGroupByItemID=r.reminderUpdate=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../utils/fp"),s=e("../utils"),u=e("../reducers/modelbridge"),c=e("./items/actions"),d=e("../models/Reminders"),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.MODEL_BRIDGE_UPDATE:var r=t.payload.reminders;return r?a({},r):e;case c.ITEM_COMPLETE_RECURRING:var n=t.payload.id,i=(0,l.values)(e).filter(function(e){return e.item_id===n&&e.lprocessed});return 0===i.length?e:(i=(0,l.compose)(l.byID,(0,l.map)((0,l.omit)("lprocessed")))(i),a({},e,{},i));default:return e}},p=function(e,t){return function(r,n){var a=n(),i=_(e,a),o=t.filter(function(e){return!e.id}),l=i.filter(function(e){return!t.some(function(t){return t.id===e.id})});o.forEach(function(e){"location"===e.type?d.RemindersModel.addLocation(e):d.RemindersModel.add(e)}),l.forEach(function(e){d.RemindersModel.remove(e.id)})}};r.reminderUpdate=p;var m=(0,l.createSelector)(function(e){return e.reminders},(0,l.compose)((0,l.groupBy)("item_id"),l.values));r.reminderGetGroupByItemID=m;var h=[],_=(0,s.curry)(function(e,t){return m(t)[e]||h});r.getRemindersByItemID=_;var v=f;r.default=v},{"../models/Reminders":163,"../reducers/modelbridge":1017,"../utils":1094,"../utils/fp":1083,"./items/actions":1004,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1030:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("redux"),o=a(e("./user")),l=n(e("./archived")),s=n(e("./items")),u=n(e("./projects")),c=a(e("./filters")),d=a(e("./labels")),f=a(e("./notes")),p=a(e("./reminders")),m=a(e("./tooltip")),h=a(e("./mainView")),_=n(e("./collaborators")),v=a(e("./stats")),b=a(e("./clock")),y=a(e("./settings")),g=a(e("./undo")),E=a(e("./dateistLangs")),T=a(e("./detailView")),w=a(e("./drafts")),R=a(e("./tempIds")),P=n(e("./sections")),D=a(e("./moreNotes")),O=n(e("./completed")),C=a(e("./consistency")),I=a(e("./modals")),A=a(e("./externalServices")),S=a(e("./version")),k=n(e("./completed_items")),M=(0,i.combineReducers)({user:o.default,notes:f.default,reminders:p.default,items:s.default,sections:P.default,projects:u.default,labels:d.default,filters:c.default,tooltip:m.default,mainView:h.default,detailView:T.default,stats:v.default,settings:y.default,clock:b.default,undo:g.default,dateistLangs:E.default,drafts:w.default,moreNotes:D.default,tempIds:R.default,archived:l.default,completed:O.default,modals:I.default,externalServices:A.default,version:S.default,collaborators:_.default,completedItems:k.default}),j=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){return t.reduce(function(e,t){return t(e,r)},e)}}(M,l.archivedCases,k.completedItemsCases,O.completedCases,s.itemsCaseReducer,P.sectionsCaseReducer,u.projectsCases,_.collaboratorsCases,C.default);r.default=j},{"./archived":979,"./clock":981,"./collaborators":983,"./completed":986,"./completed_items":988,"./consistency":992,"./dateistLangs":995,"./detailView":996,"./drafts":997,"./externalServices":998,"./filters":1e3,"./items":1005,"./labels":1010,"./mainView":1015,"./modals":1016,"./moreNotes":1018,"./notes":1021,"./projects":1026,"./reminders":1029,"./sections":1032,"./settings":1036,"./stats":1037,"./tempIds":1039,"./tooltip":1040,"./undo":1041,"./user":1042,"./version":1044,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,redux:"redux"}],1031:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.sectionUnarchive=r.sectionReorderUndo=r.sectionReorder=r.sectionMoveUndo=r.sectionMove=r.sectionUpdate=r.sectionArchive=r.sectionRemove=r.sectionAdd=r.SECTION_UNARCHIVE=r.SECTION_UPDATE=r.SECTION_REOREDER_UNDO=r.SECTION_REOREDER=r.SECTION_REMOVE=r.SECTION_MOVE_UNDO=r.SECTION_MOVE=r.SECTION_ARCHIVE=r.SECTION_ADD=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("../../models/TemporaryIds")),s=i(e("../../models/SyncEngine")),u=e("../../utils"),c=e("../utils"),d=e("./selectors"),f=e("../../constants/constants");r.SECTION_ADD="SECTION_ADD";r.SECTION_ARCHIVE="SECTION_ARCHIVE";r.SECTION_MOVE="SECTION_MOVE";r.SECTION_MOVE_UNDO="SECTION_MOVE_UNDO";r.SECTION_REMOVE="SECTION_REMOVE";r.SECTION_REOREDER="SECTION_REOREDER";r.SECTION_REOREDER_UNDO="SECTION_REOREDER_UNDO";r.SECTION_UPDATE="SECTION_UPDATE";r.SECTION_UNARCHIVE="SECTION_UNARCHIVE";var p=function(e){return function(t,r){var n=r(),i=(0,d.sectionGetByPID)(e.project_id)(n);if(i.length>=f.MAX_SECTION_PER_PERJECT){var o=(0,u.format)(_n("For performance reasons you can add at most one section per project.","For performance reasons you can add at most {n} sections per project.",f.MAX_SECTION_PER_PERJECT),{n:f.MAX_SECTION_PER_PERJECT});return alert(o),null}var c=a({id:l.default.generate("section"),date_added:(0,u.toISODateString)(new Date,{toUTC:!0})},e);e.section_order===Number.NEGATIVE_INFINITY&&(c.section_order=1),s.default.queueUpdate({type:"section_add",temp_id:c.id,args:c});var p=i.filter(function(t){return t.section_order>=e.section_order}),m=p.map(function(e,t){return{id:e.id,section_order:c.section_order+t+1}});return m.length>0&&s.default.queueUpdate({type:"section_reorder",args:{sections:m}}),t({type:"SECTION_ADD",payload:{section:c,reorder:m}}),c}};r.sectionAdd=p;var m=function(e){return function(t){e=l.default.getRealId(e),s.default.queueUpdate({type:"section_delete",args:{id:e}}),t({type:"SECTION_REMOVE",payload:{id:e}}),Signals.sendSignal("instant_refresh_interface")}};r.sectionRemove=m;var h=function(e){return function(t){e=l.default.getRealId(e);var r=(0,u.toISODateString)(new Date,{toUTC:!0});s.default.queueUpdate({type:"section_archive",args:{id:e,date_archived:r}}),t({type:"SECTION_ARCHIVE",payload:{id:e,archivedDate:r}}),Signals.sendSignal("instant_refresh_interface")}};r.sectionArchive=h;var _=function(e){return e=a({},e,{id:l.default.getRealId(e.id)}),s.default.queueUpdate({type:"section_update",args:e}),{type:"SECTION_UPDATE",payload:e}};r.sectionUpdate=_;var v=function(e){return function(t,r){var n=r();e=(0,c.resolveTempIDFields)(["id","project_id"],e),s.default.queueUpdate({type:"section_move",args:e}),e.section_order=(0,d.sectionGetMaxOrder)(e.project_id,n)+1,s.default.queueUpdate({type:"section_reorder",args:{sections:[{id:e.id,section_order:e.section_order}]}}),t({type:"SECTION_MOVE",payload:e}),Signals.sendSignal("instant_refresh_interface")}};r.sectionMove=v;var b=function(){return function(e,t){var r=t();if("SECTION_MOVE_UNDO"===r.undo.type){var n=r.undo.section,a=n.id,i=n.section_order,o=n.project_id;s.default.queueUpdate({type:"section_move",args:{id:a,project_id:o}}),s.default.queueUpdate({type:"section_reorder",args:{sections:[{id:a,section_order:i}]}}),e({type:"SECTION_MOVE_UNDO"}),Signals.sendSignal("instant_refresh_interface")}}};r.sectionMoveUndo=b;var y=function(e,t){return function(r,n){e=e.map((0,c.resolveTempIDFields)("id"));var a=n(),i=a.sections;if(e=e.filter(function(e){var t=e.id,r=e.section_order;return i[t].section_order!==r}),0!==e.length)return s.default.queueUpdate({type:"section_reorder",args:{sections:e}}),r({type:"SECTION_REOREDER",payload:{orders:e,withUndo:t}})}};r.sectionReorder=y
;var g=function(){return function(e,t){var r=t(),n=r.undo,a=r.sections;if("SECTION_REOREDER_UNDO"===n.type){var i=n.orders;i=i.filter(function(e){var t=e.id,r=e.section_order;return a[t].section_order!==r}),0!==i.length&&(s.default.queueUpdate({type:"section_reorder",args:{sections:i}}),e({type:"SECTION_REOREDER_UNDO",payload:i}),Signals.sendSignal("instant_refresh_interface"))}}};r.sectionReorderUndo=g;var E=function(e){return function(t){var r=l.default.getRealId(e.id);s.default.queueUpdate({type:"section_unarchive",args:{id:r}}),t({type:"SECTION_UNARCHIVE",payload:e})}};r.sectionUnarchive=E},{"../../constants/constants":94,"../../models/SyncEngine":171,"../../models/TemporaryIds":174,"../../utils":1094,"../utils":1043,"./selectors":1034,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1032:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"SECTION_ADD",{enumerable:!0,get:function(){return a.SECTION_ADD}}),Object.defineProperty(r,"SECTION_ARCHIVE",{enumerable:!0,get:function(){return a.SECTION_ARCHIVE}}),Object.defineProperty(r,"SECTION_MOVE",{enumerable:!0,get:function(){return a.SECTION_MOVE}}),Object.defineProperty(r,"SECTION_MOVE_UNDO",{enumerable:!0,get:function(){return a.SECTION_MOVE_UNDO}}),Object.defineProperty(r,"SECTION_REMOVE",{enumerable:!0,get:function(){return a.SECTION_REMOVE}}),Object.defineProperty(r,"SECTION_REOREDER_UNDO",{enumerable:!0,get:function(){return a.SECTION_REOREDER_UNDO}}),Object.defineProperty(r,"SECTION_UPDATE",{enumerable:!0,get:function(){return a.SECTION_UPDATE}}),Object.defineProperty(r,"SECTION_UNARCHIVE",{enumerable:!0,get:function(){return a.SECTION_UNARCHIVE}}),Object.defineProperty(r,"sectionAdd",{enumerable:!0,get:function(){return a.sectionAdd}}),Object.defineProperty(r,"sectionArchive",{enumerable:!0,get:function(){return a.sectionArchive}}),Object.defineProperty(r,"sectionMove",{enumerable:!0,get:function(){return a.sectionMove}}),Object.defineProperty(r,"sectionMoveUndo",{enumerable:!0,get:function(){return a.sectionMoveUndo}}),Object.defineProperty(r,"sectionRemove",{enumerable:!0,get:function(){return a.sectionRemove}}),Object.defineProperty(r,"sectionReorder",{enumerable:!0,get:function(){return a.sectionReorder}}),Object.defineProperty(r,"sectionReorderUndo",{enumerable:!0,get:function(){return a.sectionReorderUndo}}),Object.defineProperty(r,"sectionUpdate",{enumerable:!0,get:function(){return a.sectionUpdate}}),Object.defineProperty(r,"sectionUnarchive",{enumerable:!0,get:function(){return a.sectionUnarchive}}),Object.defineProperty(r,"sectionGetByPID",{enumerable:!0,get:function(){return i.sectionGetByPID}}),Object.defineProperty(r,"sectionGetMaxOrder",{enumerable:!0,get:function(){return i.sectionGetMaxOrder}}),Object.defineProperty(r,"sectionsCaseReducer",{enumerable:!0,get:function(){return o.sectionsCaseReducer}}),r.default=void 0;var a=e("./actions"),i=e("./selectors"),o=n(e("./reducers")),l=o.default;r.default=l},{"./actions":1031,"./reducers":1033,"./selectors":1034,"@babel/runtime/helpers/interopRequireWildcard":190}],1033:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.sectionsCaseReducer=r.default=void 0;var o=i(e("@babel/runtime/helpers/toConsumableArray")),l=i(e("@babel/runtime/helpers/defineProperty")),s=e("../../utils/fp"),u=e("../../utils"),c=e("../load"),d=e("../sync"),f=e("./actions"),p=e("./selectors"),m=e("../items/actions"),h=e("../utils"),_=e("../undo"),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.LOAD_LOCAL_DATA:var r=t.payload.sections;return r?(0,s.mapValues)(g)(r):e;case d.SYNC_FULL_UPDATE:var n=t.payload.sections;return n?(0,s.compose)(u.toIDMap,(0,s.map)(g))(n):e;case f.SECTION_ADD:var i=t.payload,o=i.section,m=i.reorder,h=a({},e,(0,l.default)({},o.id,o));return m.length>0&&(h=(0,s.merge)(h,(0,s.byID)(m))),h;case f.SECTION_UPDATE:var _=t.payload,v=e[_.id];return a({},e,(0,l.default)({},v.id,a({},v,{},_)));case f.SECTION_UNARCHIVE:var b=t.payload,y=(0,p.sectionGetMaxOrder)(b.project_id,{sections:e});return a({},e,(0,l.default)({},b.id,a({},b,{is_archived:!1,date_archived:null,collapsed:!1,section_order:y+1})));default:return e}},b=v;r.default=b;var y=function(e){return function(t,r){var n=e(t,r);if(void 0===t||t.sections===n.sections)return n;var a=(0,s.compose)((0,s.map)(function(e){return e.id}),(0,s.filter)(function(e){return e.is_archived||e.is_deleted}),(0,s.get)("sections"))(n);return T(a,n)}}(function(e,t){switch(t.type){case f.SECTION_ARCHIVE:case f.SECTION_REMOVE:var r=t.payload.id,n=(0,h.updateObjects)(r,{is_archived:!0},e.sections);return a({},e,{sections:n});case f.SECTION_MOVE:var i=t.payload,o=i.id,c=i.project_id,v=i.section_order,b=e.sections,y=b[o],E=a({},y,{project_id:c,section_order:v}),T=a({},e,{sections:a({},b,(0,l.default)({},o,E))});return T=w([o],T),T=(0,_.setUndo)({type:f.SECTION_MOVE_UNDO,section:y,destProject:e.projects[c]},T);case f.SECTION_MOVE_UNDO:var P=e.undo.section,D=P.id,O=P.project_id,C=P.section_order,I=e.sections,A=I[D],S=a({},A,{project_id:O,section_order:C}),k=a({},e,{sections:a({},I,(0,l.default)({},D,S)),undo:null});return k=w([D],k);case d.SYNC_UPDATE:var M=t.payload,j=M.temp_id_mapping,N=M.sections,x=a({},e);if(j&&(x.sections=(0,h.resolveTempID)(x.sections,j),x=R(x,j)),!N||0==N.length)return x;N=(0,s.compose)(u.toIDMap,(0,s.map)(g))(N),x.sections=a({},x.sections,{},N);var L=(0,s.compose)((0,s.map)(function(e){return e.id}),(0,s.filter)(function(e){return N[e.id].project_id!==e.project_id}),s.values,(0,s.pick)((0,u.keys)(N)),(0,s.get)("sections"))(e);return L.length>0&&(x=w(L,x)),x;case f.SECTION_REOREDER:var q=t.payload.orders,U=q.map(function(t){var r=t.id;return{id:r,section_order:e.sections[r].section_order}}),$=a({},e);return $.sections=(0,s.merge)($.sections,(0,s.byID)(q)),t.payload.withUndo&&($=(0,_.setUndo)({type:f.SECTION_REOREDER_UNDO,orders:U},$)),$;case f.SECTION_REOREDER_UNDO:var F=e.undo.orders;return a({},e,{sections:(0,s.merge)(e.sections,(0,s.byID)(F)),undo:null});case m.ITEM_UNCOMPLETE:var z=t.payload.section;if(z){var B=(0,p.sectionGetMaxOrder)(z.project_id,e);return a({},e,{sections:a({},e.sections,(0,l.default)({},z.id,a({},z,{is_archived:!1,date_archived:null,collapsed:!1,section_order:B+1})))})}}return e});r.sectionsCaseReducer=y;var g=function(e){return a({},e,{date_added:new Date(e.date_added)})},E=function(e,t){e=new Set(e);var r=function(e){return(0,s.compose)(function(e){return new Set(e)},(0,s.map)(function(e){return e.id}),(0,s.filter)(e),s.values)},n=r(function(t){return e.has(t.section_id)})(t.items),a=r(function(e){return n.has(e.item_id)})(t.notes),i=r(function(e){return n.has(e.item_id)})(t.reminders);return(0,s.mapValues)(function(e){return(0,o.default)(e)},{items:n,notes:a,reminders:i})},T=function(e,t){e=new Set(e);var r=E(e,t),n=r.items,a=r.notes,i=r.reminders;return(0,s.compose)((0,h.removeFromSlice)("sections",e),(0,h.removeFromSlice)("items",n),(0,h.removeFromSlice)("notes",a),(0,h.removeFromSlice)("reminders",i))(t)},w=function(e,t){var r=E(e,t),n=r.items,i=r.notes;return n=(0,s.compose)(u.toIDMap,(0,s.map)(function(e){return a({},e,{project_id:t.sections[e.section_id].project_id})}),(0,s.map)(function(e){return t.items[e]}))(n),i=(0,s.compose)(u.toIDMap,(0,s.map)(function(e){return a({},e,{project_id:n[e.item_id].project_id})}),(0,s.map)(function(e){return t.notes[e]}))(i),a({},t,{items:a({},t.items,{},n),notes:a({},t.notes,{},i)})},R=function(e,t){var r=e.undo;if(!r)return e;switch(r.type){case f.SECTION_MOVE_UNDO:var n=r.section;return n=(0,h.resolveTempIDPaths)(["id","project_id"],t,n),a({},e,{undo:a({},r,{section:n})});case f.SECTION_REOREDER_UNDO:var i=r.orders;return i=i.map((0,h.resolveTempIDPaths)(["id"],t)),a({},e,{undo:a({},r,{orders:i})});default:return e}}},{"../../utils":1094,"../../utils/fp":1083,"../items/actions":1004,"../load":1014,"../sync":1038,"../undo":1041,"../utils":1043,"./actions":1031,"./selectors":1034,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],1034:[function(e,t,r){"use strict";function n(e,t){return(0,i.getByNameSearch)(e,t.sections)}Object.defineProperty(r,"__esModule",{value:!0}),r.sectionGetByNameSearch=n,r.sectionGetMaxOrder=r.sectionGetByPID=void 0;var a=e("../../utils/fp"),i=e("../utils"),o=function(e){return(0,a.compose)((0,a.sortBy)("section_order"),(0,a.filter)(function(t){return t.project_id===e}),a.values,(0,a.get)("sections"))};r.sectionGetByPID=o;var l=function(e,t){return(0,a.compose)(function(e){return e||0},a.last,(0,a.sortBy)(function(e){return e}),(0,a.map)(function(e){return e.section_order}),(0,a.filter)(function(t){return t.project_id===e}),a.values,(0,a.get)("sections"))(t)};r.sectionGetMaxOrder=l},{"../../utils/fp":1083,"../utils":1043}],1035:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.sortedProjects=r.dataLoaded=void 0;var a=n(e("@babel/runtime/helpers/toConsumableArray")),i=e("../utils"),o=e("../utils/fp"),l=function(e){return null!=e.user&&null!=e.items&&null!=e.projects};r.dataLoaded=l;var s=function(e){var t=e.projects,r=t,n=(0,o.compose)((0,o.groupBy)("parent_id"),i.values)(t);return function e(t){var i=r[t],l=n[t];if(!l||0===l.length)return[i];var s=(0,o.compose)(o.flatten,(0,o.map)(function(t){return e(t.id)}),(0,o.sortBy)("child_order"))(l);return null===t?s:[i].concat((0,a.default)(s))}(null)};r.sortedProjects=s},{"../utils":1094,"../utils/fp":1083,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],1036:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getTheme=void 0;var n=e("../utils/fp"),a=e("./load"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(t.type===a.LOAD_LOCAL_DATA){var r=t.payload["settings.theme"];return 0===r||r?{theme:r}:e}return e},o=function(e){var t=$queryArgument("theme");if(t)try{return parseInt(t)}catch(e){}var r=(0,n.get)("settings.theme",e);return 0===r||r?r:(0,n.get)("user.theme",e)};r.getTheme=o;var l=i;r.default=l},{"../utils/fp":1083,"./load":1014}],1037:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.totalCompleted=r.weekGoal=r.completedThisWeek=r.dailyGoal=r.completedToday=r.default=r.removeOldWeekItems=r.removeOldDayItems=r.thisWeek=r.weekItemsKey=r.today=r.resetThisWeekCount=r.resetTodayCount=r.fetchStats=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("@babel/runtime/helpers/defineProperty")),s=e("../utils"),u=e("../utils/fp"),c=e("redux"),d=e("./load"),f=e("../reducers/sync"),p=e("../reducers/items"),m=i(e("./higherorder/catchAndLogError")),h=function(){return function(e){return fetch("/sync/v8.3/completed/get_stats?as_karma_graph=0",{credentials:"include"}).then(function(e){if(200!=e.status){var t=new Error(e.statusText);throw t.jsonRes=e,t}return e.json()}).then(function(t){return e({type:"STATS_FETCHED",payload:t}),t})}};r.fetchStats=h;var _=function(e){return{type:"STATS_RESET_TODAY_COUNT",payload:e}};r.resetTodayCount=_;var v=function(e){return{type:"STATS_RESET_THIS_WEEK_COUNT",payload:e}};r.resetThisWeekCount=v;var b=function(){return(0,s.toISODateString)(new Date,{dateOnly:!0})};r.today=b;var y=function(e){var t=new Date(e);return t.setDate(e.getDate()+(1-e.getDay()-7)%7),t},g=function(e){var t=y(e),r=new Date(e);return r.setDate(t.getDate()+6),t=(0,s.toISODateString)(t,{dateOnly:!0}),r=(0,s.toISODateString)(r,{dateOnly:!0}),"".concat(t,"/").concat(r)};r.weekItemsKey=g;var E=function(){return g(new Date)};r.thisWeek=E;var T=function(e,t,r){var n=e[t];return n||(n={total_completed:0,date:t}),n=a({},n,{total_completed:Math.max(n.total_completed+r,0)}),a({},e,(0,l.default)({},t,n))},w=function(e,t,r){var n=e[t];if(!n){var i=t.split("/"),s=(0,o.default)(i,2);n={total_completed:0,from:s[0],to:s[1]}}return n=a({},n,{total_completed:Math.max(n.total_completed+r,0)}),a({},e,(0,l.default)({},t,n))},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=[0,1,2,3,4,5,6].map(function(e){var r=new Date(t);return r.setDate(t.getDate()-e),(0,s.toISODateString)(r,{dateOnly:!0})});return(0,s.keys)(e).find(function(e){return-1===r.indexOf(e)})?(0,u.pick)(r,e):e};r.removeOldDayItems=R;var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=[0,1,2,3].map(function(e){var r=new Date(t);return r.setDate(r.getDate()-7*e),g(r)});return(0,s.keys)(e).find(function(e){return-1===r.indexOf(e)})?(0,u.pick)(r,e):e};r.removeOldWeekItems=P;var D=(0,c.compose)((0,u.keyBy)("date"),(0,u.map)((0,u.pick)(["total_completed","date"]))),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;switch(t.type){case d.LOAD_LOCAL_DATA:var n=t.payload.stats;if(!n)return e;return(0,s.mapValues)(n.days_items,function(e){return e.goal_first_reached_at?a({},e,{goal_first_reached_at:new Date(e.goal_first_reached_at)}):e});case"STATS_FETCHED":return D(t.payload.days_items);case f.SYNC_FULL_UPDATE:case f.SYNC_UPDATE:var i=(0,u.get)("stats.days_items")(t.payload);if(!i)return e;i=D(i);var c=a({},e),m=!1,h=!0,_=!1,v=void 0;try{for(var y,g=(0,u.toPairs)(i)[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var E=(0,o.default)(y.value,2),w=E[0],R=E[1];(0,u.get)("".concat(w,".total_completed"))(e)!==R.total_completed&&(c[w]=a({},c[w],{},R),m=!0)}}catch(e){_=!0,v=e}finally{try{h||null==g.return||g.return()}finally{if(_)throw v}}return m?c:e;case p.ITEM_COMPLETE:case p.ITEM_COMPLETE_RECURRING:var P=T(e,b(),1),O=(0,u.getOr)(0,"".concat(b(),".total_completed"),e)<r,C=(0,u.getOr)(0,"".concat(b(),".total_completed"),P)>=r;return!(0,u.get)("".concat(b(),".goal_first_reached_at"),P)&&O&&C&&(P[b()].goal_first_reached_at=new Date),P;case p.ITEM_UNCOMPLETE:case p.ITEM_COMPLETE_UNDO:case p.ITEM_COMPLETE_RECURRING_UNDO:return T(e,b(),-1);case"STATS_RESET_TODAY_COUNT":var I=t.payload,A=e[b()];return A?(A=a({},A,{total_completed:I}),delete A.goal_first_reached_at,a({},e,(0,l.default)({},b(),A))):e;default:return e}},C=(0,c.compose)((0,u.keyBy)(function(e){return"".concat(e.from,"/").concat(e.to)}),(0,u.map)((0,u.pick)(["total_completed","to","from"]))),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;switch(t.type){case d.LOAD_LOCAL_DATA:var n=t.payload.stats;if(!n)return e;return(0,s.mapValues)(n.week_items,function(e){return e.goal_first_reached_at?a({},e,{goal_first_reached_at:new Date(e.goal_first_reached_at)}):e});case"STATS_FETCHED":return C(t.payload.week_items);case f.SYNC_FULL_UPDATE:case f.SYNC_UPDATE:var i=(0,u.get)("stats.week_items")(t.payload);if(!i)return e;i=C(i);var c=a({},e),m=!1,h=!0,_=!1,v=void 0;try{for(var b,y=(0,u.toPairs)(i)[Symbol.iterator]();!(h=(b=y.next()).done);h=!0){var g=(0,o.default)(b.value,2),T=g[0],R=g[1];(0,u.get)("".concat(T,".total_completed"))(e)!==R.total_completed&&(c[T]=a({},c[T],{},R),m=!0)}}catch(e){_=!0,v=e}finally{try{h||null==y.return||y.return()}finally{if(_)throw v}}return m?c:e;case p.ITEM_COMPLETE:case p.ITEM_COMPLETE_RECURRING:var P=E(),D=w(e,P,1),O=(0,u.getOr)(0,"".concat(P,".total_completed"),e)<r,I=(0,u.getOr)(0,"".concat(P,".total_completed"),D)>=r;return!(0,u.get)("".concat(P,".goal_first_reached_at"),D)&&O&&I&&(D[P].goal_first_reached_at=new Date),D;case p.ITEM_UNCOMPLETE:case p.ITEM_COMPLETE_UNDO:case p.ITEM_COMPLETE_RECURRING_UNDO:return w(e,E(),-1);case"STATS_RESET_THIS_WEEK_COUNT":var A=t.payload,S=e[E()];return S?(S=a({},S,{total_completed:A}),delete S.goal_first_reached_at,a({},e,(0,l.default)({},E(),S))):e;default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{daily_goal:1,ignore_days:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOAD_LOCAL_DATA:var r=t.payload.stats;return r?r.goals:e;case"STATS_FETCHED":var n=t.payload.goals.daily_goal,a=t.payload.goals.ignore_days,i=t.payload.goals.weekly_goal;return n===e.daily_goal&&i===e.weekly_goal&&(0,s.isEqual)(a,e.ignore_days)?e:{daily_goal:n,ignore_days:a,weekly_goal:i};case f.SYNC_FULL_UPDATE:case f.SYNC_UPDATE:var o=t.payload.user;if(!o)return e;var l=o.daily_goal,u=o.weekly_goal,c=o.ignore_days;return l===e.daily_goal&&u===e.weekly_goal&&(0,s.isEqual)(c,e.ignore_days)?e:{daily_goal:l,ignore_days:c,weekly_goal:u};default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOAD_LOCAL_DATA:if(!t.payload.user&&!t.payload.stats)return e;var r=(0,u.get)("user.completed_count")(t.payload);return r||(0,u.getOr)(0,"stats.completed_count")(t.payload);case"STATS_FETCHED":return t.payload.completed_count;case f.SYNC_FULL_UPDATE:case f.SYNC_UPDATE:var n=(0,u.get)("stats.completed_count")(t.payload);return n||e;case p.ITEM_COMPLETE:case p.ITEM_COMPLETE_RECURRING:return e+1;case p.ITEM_UNCOMPLETE:case p.ITEM_COMPLETE_UNDO:case p.ITEM_COMPLETE_RECURRING_UNDO:return e-1;default:return e}},k=function(e,t){var r=e&&e.goals,n=e&&e.days_items,a=e&&e.week_items,i=e&&e.completed_count;return r=A(r,t),n=O(n,t,r.daily_goal),a=I(a,t,r.weekly_goal),i=S(i,t),e?e.goals===r&&e.days_items===n&&e.week_items===a&&e.completed_count===i?e:(n=R(n),a=P(a),{days_items:n,week_items:a,goals:r,completed_count:i}):{days_items:n,week_items:a,goals:r,completed_count:i}},M=(0,m.default)(k,{tags:{reducer:"stats"}});r.default=M;var j=function(e){return(0,u.getOr)(0,"stats.days_items.".concat(b(),".total_completed"),e)};r.completedToday=j;var N=function(e){return(0,u.get)("stats.goals.daily_goal",e)};r.dailyGoal=N;var x=function(e){return(0,u.getOr)(0,"stats.week_items.".concat(E(),".total_completed"),e)};r.completedThisWeek=x;var L=function(e){return(0,u.get)("stats.goals.weekly_goal",e)};r.weekGoal=L;var q=function(e){return(0,u.getOr)(0,"stats.completed_count",e)};r.totalCompleted=q},{"../reducers/items":1005,"../reducers/sync":1038,"../utils":1094,"../utils/fp":1083,"./higherorder/catchAndLogError":1003,"./load":1014,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,redux:"redux"}],1038:[function(e,t,r){"use strict";function n(e){return{type:o,payload:e}}function a(e){return{type:i,payload:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.receiveSyncUpdate=n,r.receiveFullSyncUpdate=a,r.SYNC_UPDATE=r.SYNC_FULL_UPDATE=void 0;var i="SYNC_FULL_UPDATE";r.SYNC_FULL_UPDATE=i;var o="SYNC_UPDATE";r.SYNC_UPDATE=o},{}],1039:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../modelbridge"),s=e("../sync"),u=e("../../utils/fp"),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.MODEL_BRIDGE_UPDATE:var r=t.payload.tempIds;return r?a({},r):e;case s.SYNC_UPDATE:var n=t.payload.temp_id_mapping;return n&&0!==(0,u.keys)(n).length?a({},e,{},n):e;default:return e}},d=c;r.default=d},{"../../utils/fp":1083,"../modelbridge":1017,"../sync":1038,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1040:[function(e,t,r){"use strict";function n(){return i(v,b),T(v)}function a(){return i(v,y),T(v)}function i(e,t){fetch("/sync/v8/tooltips/mark_event?token=".concat(window.User.token,"&name=").concat(e,"&event=").concat(t)).catch(function(e){m.captureError(e)})}function o(e,t){var r=(0,_.createSelector)(C,function(t){return null===t||-1!==t.indexOf(e)});return 1===arguments.length?r:arguments.length>1?r(arguments[1]):void 0}function l(e,t){var r=(0,_.createSelector)(I,function(t){return null!==t&&-1!==t.indexOf(e)});return 1===arguments.length?r:arguments.length>1?r(arguments[1]):void 0}var s=e("@babel/runtime/helpers/interopRequireWildcard"),u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.acceptPremiumTrial=n,r.rejectPremiumTrial=a,r.markEvent=i,r.hasSeen=o,r.isScheduled=l,r.default=r.markUnseen=r.markSeen=r.scheduledUpdated=r.seenUpdated=r.EVENT_CLOSE=r.EVENT_FOLLOW=r.EVENT_PREMIUM_EXPIRING_CLOSE=r.EVENT_PREMIUM_EXPIRING_FOLLOW=r.EVENT_PREMIUM_TRIAL_CLOSE=r.EVENT_PREMIUM_TRIAL_FOLLOW=r.TOOLTIP_PROMOTE_MACOS_APP=r.TOOLTIP_PROMOTE_WINDOWS_APP=r.TOOLTIP_2019_YEAR_IN_REVIEW=r.TOOLTIP_FOUNDATIONS=r.TOOLTIP_GOOGLE_ASSISTANT=r.TOOLTIP_CHECKBOX_PRIORITY=r.TOOLTIP_EMPTY_STATE_NEXT_7DAYS=r.TOOLTIP_EMPTY_STATE_INBOX=r.TOOLTIP_DARK_THEME=r.TOOLTIP_FIRST_TASK_COMPLETED=r.TOOLTIP_COMPLETE_FIRST_TASK=r.TOOLTIP_PREMIUM_EXPIRING=r.TOOLTIP_PREMIUM_TRIAL=r.TOOLTIP_SHARING=r.TOOLTIP_SMART_SCHEDULE=r.TOOLTIP_MARK_UNSEEN=r.TOOLTIP_RECEIVED_UPDATE=r.TOOLTIP_MARK_AS_SEEN=r.TOOLTIP_UPDATED=void 0;var c=u(e("@babel/runtime/helpers/toConsumableArray")),d=e("../utils"),f=e("../utils/fp"),p=e("redux"),m=s(e("../logger/Logger")),h=e("./load"),_=e("reselect");r.TOOLTIP_UPDATED="TOOLTIP_UPDATED";r.TOOLTIP_MARK_AS_SEEN="TOOLTIP_MARK_AS_SEEN";r.TOOLTIP_RECEIVED_UPDATE="TOOLTIP_RECEIVED_UPDATE";r.TOOLTIP_MARK_UNSEEN="TOOLTIP_MARK_UNSEEN";r.TOOLTIP_SMART_SCHEDULE="smart_schedule";r.TOOLTIP_SHARING="sharing";var v="premium_trial";r.TOOLTIP_PREMIUM_TRIAL=v;r.TOOLTIP_PREMIUM_EXPIRING="premium_expiring";r.TOOLTIP_COMPLETE_FIRST_TASK="web_complete_first_task";r.TOOLTIP_FIRST_TASK_COMPLETED="web_first_task_completed";r.TOOLTIP_DARK_THEME="dark_theme";r.TOOLTIP_EMPTY_STATE_INBOX="empty_state_inbox_first";r.TOOLTIP_EMPTY_STATE_NEXT_7DAYS="empty_state_next7days_first";r.TOOLTIP_CHECKBOX_PRIORITY="checkboxes_priority";r.TOOLTIP_GOOGLE_ASSISTANT="assistant_intro";r.TOOLTIP_FOUNDATIONS="foundations";r.TOOLTIP_2019_YEAR_IN_REVIEW="yir_2019_summary";r.TOOLTIP_PROMOTE_WINDOWS_APP="web_promote_windows_app";r.TOOLTIP_PROMOTE_MACOS_APP="web_promote_macos_app";var b="follow";r.EVENT_PREMIUM_TRIAL_FOLLOW=b;var y="close";r.EVENT_PREMIUM_TRIAL_CLOSE=y;r.EVENT_PREMIUM_EXPIRING_FOLLOW="follow";r.EVENT_PREMIUM_EXPIRING_CLOSE="close";r.EVENT_FOLLOW="follow";r.EVENT_CLOSE="close";var g=function(e){return{type:"TOOLTIP_UPDATED",payload:{seen:e}}};r.seenUpdated=g;var E=function(e){return{type:"TOOLTIP_UPDATED",payload:{scheduled:e}}};r.scheduledUpdated=E;var T=function(e,t){return function(r,n){return r({type:"TOOLTIP_MARK_AS_SEEN",payload:e}),t&&i(e,t),fetch("/sync/v8/tooltips/mark_as_seen?token=".concat(n().user.token,"&name=").concat(e)).catch(function(){})}};r.markSeen=T;var w=function(e){return function(t,r){return t({type:"TOOLTIP_MARK_UNSEEN",payload:e}),fetch("/sync/v8/tooltips/reset_seen?token=".concat(r().user.token,"&name=").concat(e))}};r.markUnseen=w;var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.LOAD_LOCAL_DATA:return t.payload["tooltip.seen"]||e;case"TOOLTIP_UPDATED":var r=t.payload.seen;if(void 0===r)return e;if(null===e)return r;var n=(0,f.difference)(r,e);return 0===n.length?e:[].concat((0,c.default)(e),(0,c.default)(n));case"TOOLTIP_MARK_AS_SEEN":if(null===e)return e;var a=t.payload;return(0,d.uniq)([].concat((0,c.default)(e),[a]));case"TOOLTIP_MARK_UNSEEN":return null===e?e:(0,d.without)(e,t.payload);default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.LOAD_LOCAL_DATA:return t.payload["tooltip.scheduled"]||e;case"TOOLTIP_UPDATED":var r=t.payload.scheduled;if(void 0===r)return e;if(null===e)return r;var n=(0,f.difference)(r,e);return 0===n.length?e:[].concat((0,c.default)(e),(0,c.default)(n));case"TOOLTIP_MARK_AS_SEEN":return null===e?e:(0,d.without)(e,t.payload);default:return e}},D=(0,p.combineReducers)({seen:R,scheduled:P}),O=D;r.default=O;var C=(0,f.get)("tooltip.seen"),I=(0,f.get)("tooltip.scheduled")},{"../logger/Logger":132,"../utils":1094,"../utils/fp":1083,"./load":1014,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190,"@babel/runtime/helpers/toConsumableArray":200,redux:"redux",reselect:"reselect"}],1041:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.pushMessage=r.setUndo=r.notifyAddToProject=r.undoPushMessage=r.undoClear=r.NOTIFY_ADD_TO_PROJECT=r.UNDO_PUSH_MESSAGE=r.UNDO_CLEAR=void 0;var o=i(e("@babel/runtime/helpers/defineProperty"));r.UNDO_CLEAR="UNDO_CLEAR";r.UNDO_PUSH_MESSAGE="UNDO_PUSH_MESSAGE";r.NOTIFY_ADD_TO_PROJECT="NOTIFY_ADD_TO_PROJECT";var l=function(){return{type:"UNDO_CLEAR"}};r.undoClear=l;var s=function(e){return{type:"UNDO_PUSH_MESSAGE",payload:e}};r.undoPushMessage=s;var u=function(e,t){return function(r,n){var a=n().projects[t];r({type:"NOTIFY_ADD_TO_PROJECT",payload:{itemID:e,project:a}})}};r.notifyAddToProject=u;var c=function(e,t){return a({},t,{undo:a({createdAt:new Date},e)})};r.setUndo=c;var d=function(e,t){return a({},t,{undo:{createdAt:new Date,message:e}})};r.pushMessage=d;var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNDO_CLEAR":return null;case"UNDO_PUSH_MESSAGE":return{createdAt:new Date,message:t.payload};case"NOTIFY_ADD_TO_PROJECT":return a({type:t.type,createdAt:new Date},t.payload);default:return e}},p=f;r.default=p},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1042:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.shouldShowReactView=r.getToken=r.getTimezoneInfo=r.getTimeFormat=r.getWeekStartDay=r.getNextWeekDay=r.getDaysOff=r.getKarma=r.getUser=r.itemsPerProjectLimit=r.isDoistUser=r.isDayOff=r.isPremium=r.daysSinceJoin=r.default=r.receivedUserUpdate=r.USER_RECEIVED_UPDATE=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),l=e("../utils"),s=e("./load"),u=e("../reducers/sync"),c=e("../constants/constants"),d=e("reselect");r.USER_RECEIVED_UPDATE="USER_RECEIVED_UPDATE";var f=function(e){return{type:"USER_RECEIVED_UPDATE",payload:e}};r.receivedUserUpdate=f;var p=function(e){return e.join_date instanceof Date?e:a({},e,{join_date:new Date(e.join_date)})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.LOAD_LOCAL_DATA:return t.payload.user?p(t.payload.user):e;case u.SYNC_FULL_UPDATE:case u.SYNC_UPDATE:var r=t.payload.user;return r?(r=p(r),e&&(0,l.isEqual)(r.days_off,e.days_off)&&(r.days_off=e.days_off),r):e;case"USER_RECEIVED_UPDATE":return a({},e,{},t.payload);default:return e}},h=m;r.default=h;var _=function(e){var t=e.user;return Math.round(((new Date).getTime()-t.join_date.getTime())/864e5)};r.daysSinceJoin=_;var v=(0,d.createSelector)(function(e){return e.user},function(e){if(!e)return!1;if(e.is_premium)return!0;var t;return e.premium_until?t=new Date(e.premium_until):e.free_trail_expires&&(t=new Date(e.free_trail_expires)),!!(t&&t>new Date)});r.isPremium=v;var b=function(e){var t=e.user.days_off,r=(new Date).getDay(),n=0===r?7:r;return-1!==t.indexOf(n)};r.isDayOff=b;var y=(0,d.createSelector)(function(e){return e.user},function(e){return e&&(e.email.endsWith("@doist.com")||e.email.endsWith("@doist.io"))});r.isDoistUser=y;var g=function(e){return v(e)?c.MAX_ITEMS_PER_PROJECT_PREMIUM:c.MAX_ITEMS_PER_PROJECT_FREE};r.itemsPerProjectLimit=g;var E=function(e){return e.user};r.getUser=E;var T=function(e){return e.user.karma};r.getKarma=T;var w=function(e){return e.user.days_off};r.getDaysOff=w;var R=function(e){return e.user.next_week};r.getNextWeekDay=R;var P=function(e){return e.user.start_day};r.getWeekStartDay=P;var D=function(e){return e.user.time_format};r.getTimeFormat=D;var O=function(e){return e.user.tz_info};r.getTimezoneInfo=O;var C=function(e){return e.user.token};r.getToken=C;var I=function(e){return y(e)&&(!event||!event.altKey)};r.shouldShowReactView=I},{"../constants/constants":94,"../reducers/sync":1038,"../utils":1094,"./load":1014,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,reselect:"reselect"}],1043:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,
u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){return e=e.toLowerCase(),null==t||0===t.length||""===e?[]:(0,d.compose)((0,d.map)(function(e){return e.e}),(0,d.sortBy)(["i","e.item_order","e.id"]),(0,d.filter)(function(e){return-1!==e.i}),(0,d.map)(function(t){return{i:(0,f.partialMatchIndex)(e,t.name),e:t}}),(0,d.filter)(function(e){return!e.is_archived&&!e.is_deleted}))(t)}function o(e){return(e||[]).reduce(function(e,t){return t.project_id&&(e.projects[t.project_id]=a({},t,{id:t.project_id})),t.section_id&&(e.sections[t.section_id]=a({},t,{id:t.section_id})),t.item_id&&(e.items[t.item_id]=a({},t,{id:t.item_id})),e},{projects:{},sections:{},items:{}})}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getByNameSearch=i,r.parseCompleted=o,r.resolveTempIDPaths=r.resolveTempIDFields=r.updateObjects=r.annotateIndentOrder=r.descendentsSorted=r.toUniqueID=r.isNonUniqueID=r.isUniqueID=r.mergeSyncUpdate=r.removeFromSlice=r.resolveTempID=void 0;var s=l(e("@babel/runtime/helpers/toConsumableArray")),u=l(e("@babel/runtime/helpers/defineProperty")),c=l(e("@babel/runtime/helpers/slicedToArray")),d=e("../utils/fp"),f=e("../utils"),p=l(e("../models/TemporaryIds")),m=function(e,t){var r,n=!0,i=!1,o=void 0;try{for(var l,s=(0,f.toPairs)(t)[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var u=(0,c.default)(l.value,2),d=u[0],p=u[1],m=e[d];m&&(r||(r=a({},e)),m=a({},m,{id:p}),delete r[d],r[m.id]=m)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r||e};r.resolveTempID=m;var h=(0,f.curry)(function(e,t,r){(0,f.isIterable)(t)&&(t=new Set(t));var n=t instanceof Set?function(e){return t.has(e.id)}:t,i=new Set((0,d.compose)((0,d.map)(function(e){return e.id}),(0,d.filter)(n),d.values,(0,d.get)(e))(r));if(0===i.size)return r;var o=a({},r[e]),l=!0,s=!1,c=void 0;try{for(var p,m=i[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){delete o[p.value]}}catch(e){s=!0,c=e}finally{try{l||null==m.return||m.return()}finally{if(s)throw c}}return a({},r,(0,u.default)({},e,o))});r.removeFromSlice=h;var _=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.removeArchived,i=void 0===n||n;if(!t||0==t.length)return e;var o=a({},e),l=!0,s=!1,u=void 0;try{for(var c,d=t[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var f=c.value,p=f.id,m=f.is_deleted,h=f.is_archived;if(i&&(m||h))delete o[p];else if(o[p]){var _=e[p];o[p]=a({},_,{},f)}else o[p]=f}}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}return o};r.mergeSyncUpdate=_;var v=Math.pow(2,28)-1,b=function(e){return e>v};r.isUniqueID=b;var y=function(e){return e<=v};r.isNonUniqueID=y;var g=(0,f.curry)(function(e,t){return(0,f.isTempID)(t)||b(t)?t:e.user.unique_prefix<<28|t});r.toUniqueID=g;var E=function e(t,r){var n=r[t];return n?(0,d.compose)(d.flatten,(0,d.map)(function(t){var n=e(t.id,r);return[t].concat((0,s.default)(n))}),(0,d.sortBy)("child_order"))(n):[]};r.descendentsSorted=E;var T=function(e){var t={};return e.map(function(e,r){var n=r+1,i=null===e.parent_id?1:(t[e.parent_id]||1)+1;return t[e.id]=i,a({},e,{item_order:n,indent:i})})};r.annotateIndentOrder=T;var w=function(e,t,r){return(0,f.isArray)(e)||(e=[e]),a({},r,{},(0,d.compose)((0,d.mapValues)(function(e){return a({},e,{},t)}),(0,d.pick)(e))(r))};r.updateObjects=w;var R=(0,f.curry)(function(e,t){e=(0,f.isArray)(e)?e:[e];var r=a({},t),n=!1;return e.forEach(function(e){if(t.hasOwnProperty(e)){var a=r[e];if((0,f.isArray)(a))r[e]=a.map(function(e){var t=p.default.getRealId(e);return e!==t&&(n=!0),t});else{var i=p.default.getRealId(a);a!==i&&(n=!0),r[e]=i}}}),n?r:t});r.resolveTempIDFields=R;var P=(0,f.curry)(function(e,t,r){e=(0,f.isArray)(e)?e:[e];var n=a({},r),i=!1;return e.forEach(function(e){if(r.hasOwnProperty(e)){var a=n[e];if((0,f.isArray)(a))n[e]=a.map(function(e){var r=t[e]||e;return e!==r&&(i=!0),r});else{var o=t[a]||a;a!==o&&(i=!0),n[e]=o}}}),i?n:r});r.resolveTempIDPaths=P},{"../models/TemporaryIds":174,"../utils":1094,"../utils/fp":1083,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200}],1044:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return{type:u,payload:e}}function o(e){return e.version&&e.version.newVersion}var l=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getNewVersion=o,r.default=r.listenForVersionUpdate=r.NEW_VERSION_UPDATE=void 0;var s=l(e("@babel/runtime/helpers/defineProperty")),u="NEW_VERSION_UPDATE";r.NEW_VERSION_UPDATE=u;var c=function(){return function(e){Signals.connect("new_version_available",function(t){e(i(t))})}};r.listenForVersionUpdate=c;var d=function(e,t){return e?t.type===u?a({},e,{newVersion:t.payload}):e:{newVersion:null}},f=d;r.default=f},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1045:[function(e,t,r){"use strict";function n(){if(navigator.onLine){return o.default.global_error||o.default.getQueueErrorLength()||!l.default.fetched_data_from_server}return!0}function a(){var e=/(iPhone)/i.test(navigator.userAgent),t=!!navigator.userAgent.match(/Version\/[\d.]+.*Safari/);return e&&t}var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isOffline=n,r.isMobileSafari=a,r.default=void 0;var o=i(e("../models/SyncEngine")),l=i(e("../models/LoadEngine")),s={isOffline:n,isMobileSafari:a};r.default=s},{"../models/LoadEngine":159,"../models/SyncEngine":171,"@babel/runtime/helpers/interopRequireDefault":189}],1046:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("../logger/Logger")),i=e("../reducers/mainView"),o=e("../reducers/modelbridge"),l=new Set([o.MODEL_BRIDGE_UPDATE,i.VIEW_SHOW_PROJECT,i.VIEW_SHOW_QUERY,i.VIEW_SHOW_ACTIVITY_LOG,i.VIEW_SHOW_LABEL,i.VIEW_SHOW_FILTER,i.VIEW_SHOW_TODAY,i.VIEW_SHOW_7_DAYS]),s=function(){return function(e){return function(t){try{l.has(t.type)||a.captureBreadcrumb({message:t.type,category:"redux_action",level:"debug"})}catch(e){}return e(t)}}},u=s;r.default=u},{"../logger/Logger":132,"../reducers/mainView":1015,"../reducers/modelbridge":1017,"@babel/runtime/helpers/interopRequireWildcard":190}],1047:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=o(e("@babel/runtime/helpers/defineProperty")),s=i(e("../logger/Logger")),u=e("../reducers/modelbridge"),c=e("../reducers/sync"),d=function(){return function(e){return function(t){try{return e(t)}catch(e){throw t=a({},t),t.type!=u.MODEL_BRIDGE_UPDATE&&t.type!=c.SYNC_FULL_UPDATE||delete t.payload,s.captureError(e,{tags:{where:"redux"},extra:{action:t}}),e}}}},f=d;r.default=f},{"../logger/Logger":132,"../reducers/modelbridge":1017,"../reducers/sync":1038,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/interopRequireWildcard":190}],1048:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("redux"),i=n(e("redux-thunk")),o=n(e("../reducers/root")),l=n(e("./crashReporter")),s=n(e("./actionLogger")),u=e("../reducers/modelbridge"),c=n(e("../models/DateistDefLoader")),d=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.compose,f=[l.default,i.default,u.modelBridgeMiddleware,s.default],p=(0,a.createStore)(o.default,d(a.applyMiddleware.apply(void 0,f)));u.ModelBridge.init(p),c.default.init(p);var m=p;r.default=m},{"../models/DateistDefLoader":155,"../reducers/modelbridge":1017,"../reducers/root":1030,"./actionLogger":1046,"./crashReporter":1047,"@babel/runtime/helpers/interopRequireDefault":189,redux:"redux","redux-thunk":"redux-thunk"}],1049:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.subscribeSelectedPromise=void 0;var a=n(e("@babel/runtime/helpers/toConsumableArray")),i=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length<2)throw new Error("subscribeSelected error: missing required argument");var i=r.slice(0,-1),o=r[r.length-1],l=i.map(function(t){return t(e.getState())});return e.subscribe(function(){var t=e.getState(),r=!1,n=i.map(function(e,n){var a=e(t);return l[n]!==a&&(r=!0),a});r&&(l=n,o.apply(void 0,(0,a.default)(n)))})},o=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(function(t){var n=r.slice(0,-1),o=r[r.length-1],l=i.apply(void 0,[e].concat((0,a.default)(n),[function(){o.apply(void 0,arguments)&&(l(),t.apply(void 0,arguments))}]))})};r.subscribeSelectedPromise=o;var l=i;r.default=l},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],1050:[function(e,t,r){"use strict";svgs["ft/ft_aep.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M5 23h1.5l.7-2h3.4l.7 2H13l-3-8H8l-3 8zm4-6.8l1.2 3.7H7.6L9 16.2zm9.5 5c-.2 1.1-1.2 1.8-2.6 1.8-1.7 0-2.9-1.1-2.9-3 0-1.8 1.2-3 2.8-3 1.4 0 2.7.8 2.7 3v.3h-4.2c0 1 .6 1.7 1.6 1.7.8 0 1.2-.3 1.3-.9h1.3zm-4-1.8H17c0-1-.5-1.4-1.3-1.4-.7 0-1.2.5-1.4 1.4z" fill="#8374E3"/></g></svg>',svgs["ft/ft_ai.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M6 23h1.5l.7-2h3.4l.7 2H14l-3-8H9l-3 8zm4-6.8l1.2 3.7H8.6l1.3-3.7zm6 .8a1 1 0 0 1-1-1c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1zm-.8 6v-5h1.6v5h-1.6z" fill="#F3A77B"/></g></svg>',svgs["ft/ft_code.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><g stroke="#8397A9" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.3"><path d="M15 13.9l3.4 3.1-3.4 3.1M9 13.9L5.6 17 9 20.1"/></g></g></svg>',svgs["ft/ft_excel.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><g><path d="M5 13.5c0-.3.2-.5.5-.5h13c.3 0 .5.2.5.5v9c0 .3-.2.5-.5.5h-13a.5.5 0 0 1-.5-.5v-9zm5 6.5v2h8v-2h-8zm0-6v2h8v-2h-8zm0 3v2h8v-2h-8z" fill="#84B898"/><path d="M6 14h3v2H6v-2zm0 3h3v2H6v-2zm0 3h3v2H6v-2z" fill="#FFF"/><path d="M6 14h3v2H6v-2zm0 3h3v2H6v-2zm0 3h3v2H6v-2z" fill-opacity=".2" fill="#88C24F"/></g></g></svg>',svgs["ft/ft_extemail.svg"]='<svg width="24" height="17" viewBox="0 0 24 17" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0-6h24v29H0z"/><path d="M2.6 1l-1.1.1-.4.4-.1 1v12l.1 1 .4.4 1 .1h19l1-.1.4-.4.1-1v-12l-.1-1-.4-.4-1-.1h-19zm0-1h18.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v11.8c0 1 0 1.3-.3 1.6-.1.3-.4.6-.7.7-.3.2-.7.3-1.6.3H2.6c-1 0-1.3 0-1.6-.3-.3-.1-.6-.4-.7-.7-.2-.3-.3-.7-.3-1.6V2.6c0-1 0-1.3.3-1.6C.4.7.7.4 1 .3c.3-.2.7-.3 1.6-.3z" fill="#C0C6CC" fill-rule="nonzero"/><path d="M2.6 1l-1.1.1-.4.4-.1 1v12l.1 1 .4.4 1 .1h19l1-.1.4-.4.1-1v-12l-.1-1-.4-.4-1-.1h-19z" fill="#FFF"/><path d="M12 8.5l10.8-5a.5.5 0 0 1 .4 1L12 9.5.8 4.5a.5.5 0 0 1 .4-1l10.8 5z" fill="#C0C6CC" fill-rule="nonzero"/></g></svg>',svgs["ft/ft_generic.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1zM7 21v2h10v-2h1v2c0 .6-.5 1-1 1H7a1 1 0 0 1-1-1v-2h1z" fill="#C0C6CC"/><path d="M11 17v-4.5c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5V17h2l-3 4-3-4h2z" fill="#8397A9"/></g></svg>',svgs["ft/ft_image.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><circle id="a" cx="3" cy="2" r="1"/><path id="b" d="M1 10.4V12h12V8.3L9.9 3.7 6.1 8.5l-2-2z"/></defs><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><g><path d="M5 21l4-5 2 2 4-5 4 6v4c0 .6-.4 1-1 1H6a1 1 0 0 1-1-1v-2z" fill="#A7D467"/><path d="M8 15a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="#FED837"/><g transform="translate(5 11)"><use fill="#FFF" xlink:href="#a"/><use fill-opacity=".2" fill="#FED837" xlink:href="#a"/></g><g transform="translate(5 11)"><use fill="#FFF" xlink:href="#b"/><use fill-opacity=".2" fill="#A7D467" xlink:href="#b"/></g></g></g></svg>',svgs["ft/ft_pdf.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M11.3 11.5c-2.5 1 4.6 11.1 6 8.2 1.6-2.9-12.8 1.4-10.6 3.7 1.9 1.8 7.3-12.9 4.6-11.9z" stroke="#E6786E"/></g></svg>',svgs["ft/ft_pp.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M5 23h14v1H5v-1zm0-3h14v1H5v-1zm9-3h5v1h-5v-1zm1-3h4v1h-4v-1z" fill="#F3A77B"/><g transform="translate(5 10)"><path d="M4 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" fill="#F3A77B"/><circle fill="#FFD3BA" cx="4" cy="4" r="3"/><path d="M4 7a3 3 0 0 0 3-3H4V1a3 3 0 1 0 0 6z" fill="#FDF1EA"/><path fill="#F3A77B" d="M3 1h1v3h3v1H3z"/></g></g></svg>',svgs["ft/ft_psd.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M6 23h1.6v-3h1.2c1.9 0 3.2-.8 3.2-2.5S10.7 15 8.8 15H6v8zm1.6-4.1v-2.7h1.2c1 0 1.6.3 1.6 1.3 0 .9-.6 1.4-1.6 1.4H7.6zm8 4.1c1.5 0 2.4-.7 2.4-1.8 0-1.3-.9-1.6-2.3-1.8-1-.2-1.3-.3-1.3-.7 0-.5.4-.7 1-.7.7 0 1 .2 1.1.7h1.3c-.1-1.3-1.1-1.7-2.4-1.7-1.1 0-2.3.6-2.3 1.7s.6 1.5 2.2 1.8c1 .1 1.3.3 1.3.8s-.3.7-1 .7c-.9 0-1.2-.3-1.3-1H13c0 1.3 1 2 2.6 2z" fill="#4A90E2"/></g></svg>',svgs["ft/ft_sketch.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M8.8.5l2.6 3L6 10.2.6 3.5l2.7-3z"/></defs><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><g transform="translate(6 13)"><use fill="#FFF" xlink:href="#a"/><use stroke="#FFA64D" fill-opacity=".2" fill="#FFA64D" xlink:href="#a"/><rect fill="#FFB770" x="3" y="3" width="6" height="1" rx=".5"/></g></g></svg>',svgs["ft/ft_text.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1zM5 23h14v1H5v-1zm0-3h14v1H5v-1zm0-3h14v1H5v-1zm0-3h14v1H5v-1zm0-3h7v1H5v-1z" fill="#C0C6CC"/></g></svg>',svgs["ft/ft_word.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M5 23h14v1H5v-1zm0-3h14v1H5v-1zm0-3h14v1H5v-1zm0-3h14v1H5v-1zm0-3h7v1H5v-1z" fill="#8BB7EB"/></g></svg>',svgs["ft/ft_zip.svg"]='<svg width="24" height="29" viewBox="0 0 24 29" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 2C0 .9.9 0 2 0h14l8 8v19a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z" fill="#C0C6CC"/><path d="M1 2c0-.6.5-1 1-1h13.6L23 8.4V27c0 .6-.4 1-1 1H2a1 1 0 0 1-1-1V2z" fill="#FFF"/><path d="M16 0v8h8v1h-8a1 1 0 0 1-1-1V0h1z" fill="#C0C6CC"/><path d="M6 0h4v18H6V0zm1 3v1h1V3H7zm1 1v1h1V4H8zM7 5v1h1V5H7zm1 1v1h1V6H8zM7 7v1h1V7H7zm1 1v1h1V8H8zM7 9v1h1V9H7zm1 1v1h1v-1H8zm-1 1v1h1v-1H7zm1 1v1h1v-1H8zm-1 1v1h1v-1H7zm1 1v1h1v-1H8zm-2 5h4v4c0 .6-.4 1-1 1H7a1 1 0 0 1-1-1v-4zm1 3v1h2v-1H7zm0-7v1h1v-1H7zM8 2v1h1V2H8zM7 1v1h1V1H7zm1 15v1h1v-1H8z" fill="#8397A9"/></g></svg>'},{}],1051:[function(e,t,r){"use strict";svgs["sm1/activity_log.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><rect width="15" height="13" x="4.5" y="5.5" stroke="currentColor" rx="2"/><path fill="currentColor" d="M11.03 15.38a.5.5 0 0 0 .95-.04l1.64-5.89 1.5 3.26a.5.5 0 0 0 .45.29H20v-1h-4.11l-1.94-4.2a.5.5 0 0 0-.93.07l-1.58 5.7L10 9.64a.5.5 0 0 0-.91-.05L7.9 12H4v1h4.2a.5.5 0 0 0 .45-.28l.82-1.64 1.56 4.3z"/></g></svg>',svgs["sm1/add_above.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M9 6.74L6.35 9.4a.5.5 0 0 1-.7-.7l3.53-3.54a.5.5 0 0 1 .7 0l3.55 3.53a.5.5 0 0 1-.71.7L10 6.69V18.5a.5.5 0 1 1-1 0V6.74zM17 15h2.5a.5.5 0 1 1 0 1H17v2.5a.5.5 0 1 1-1 0V16h-2.5a.5.5 0 1 1 0-1H16v-2.5a.5.5 0 1 1 1 0V15z"/></svg>',svgs["sm1/add_below.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M9 17.26L6.35 14.6a.5.5 0 0 0-.7.7l3.53 3.54a.5.5 0 0 0 .7 0l3.55-3.53a.5.5 0 0 0-.71-.7L10 17.31V5.5a.5.5 0 1 0-1 0v11.76zM17 9h2.5a.5.5 0 1 0 0-1H17V5.5a.5.5 0 1 0-1 0V8h-2.5a.5.5 0 1 0 0 1H16v2.5a.5.5 0 1 0 1 0V9z"/></svg>',svgs["sm1/add_integration.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V14H7.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"/><rect width="12" height="12" x="4.5" y="7.5" stroke="currentColor" rx="2"/><path fill="currentColor" fill-rule="nonzero" d="M19 16.7V6a1 1 0 0 0-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"/></g></svg>',svgs["sm1/add_label.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M4.5 7.2v8.6c0 1 .8 1.7 1.7 1.7h10a2 2 0 0 0 1.3-.7l3.5-4.7a1 1 0 0 0 0-1.2l-3.5-4.7a2 2 0 0 0-1.4-.7H6.2c-1 0-1.7.8-1.7 1.7z"/><path fill="currentColor" d="M12 12v2.5a.5.5 0 1 1-1 0V12H8.5a.5.5 0 1 1 0-1H11V8.5a.5.5 0 1 1 1 0V11h2.5a.5.5 0 1 1 0 1H12z"/></g></svg>',svgs["sm1/add_member.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M12 4.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zM4.5 18.3v.1c0 .6.8 1.1 1.8 1.1h11.4c1 0 1.8-.5 1.8-1v-.3c0-2.5-3.3-4.7-7.5-4.7s-7.5 2.2-7.5 4.8z"/><path fill="currentColor" d="M21 11v2a.5.5 0 1 1-1 0v-2h-2a.5.5 0 1 1 0-1h2V8a.5.5 0 1 1 1 0v2h2a.5.5 0 1 1 0 1h-2z"/></g></svg>',svgs["sm1/add_member_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M20 11v2a.5.5 0 1 1-1 0v-2h-2a.5.5 0 1 1 0-1h2V8a.5.5 0 1 1 1 0v2h2a.5.5 0 1 1 0 1h-2z"/><path stroke="currentColor" d="M12 5.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-6.5 12v.2c0 .4.6.8 1.5.8h10c.9 0 1.5-.4 1.5-.8v-.2c0-2.1-2.9-4-6.5-4s-6.5 1.9-6.5 4z"/></g></svg>',svgs["sm1/add_section.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M9 11V9a.5.5 0 0 1 1 0v2h2a.5.5 0 1 1 0 1h-2v2a.5.5 0 1 1-1 0v-2H7a.5.5 0 1 1 0-1h2zM4.5 21a.5.5 0 1 1 0-1h15a.5.5 0 1 1 0 1h-15zM6 6h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H6zM4.5 4a.5.5 0 0 1 0-1h15a.5.5 0 1 1 0 1h-15z"/></svg>',svgs["sm1/alert.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" transform="translate(.93 .93)"><path d="M0 0h26.13v26.13H0z"/><path fill="currentColor" d="M13.07 25.2a12.13 12.13 0 1 1 0-24.27 12.13 12.13 0 0 1 0 24.27zm0-.94a11.2 11.2 0 1 0 0-22.4 11.2 11.2 0 0 0 0 22.4z"/><path fill="currentColor" d="M12.13 7.47H14V14h-1.87z"/><circle cx="13.07" cy="17.03" r="1.17" fill="currentColor"/></g></svg>',svgs["sm1/archive.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M5.5 9.5V18A1.5 1.5 0 0 0 7 19.5h10a1.5 1.5 0 0 0 1.5-1.5V9.5h-13zm-1 0h15V7A1.5 1.5 0 0 0 18 5.5H6A1.5 1.5 0 0 0 4.5 7v2.5z"/><rect width="6" height="1" x="9" y="12" fill="currentColor" rx=".5"/></g></svg>',svgs["sm1/attachment.svg"]='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path d="M5.235 12.754l7.857-7.856a3.064 3.064 0 1 1 4.334 4.335l-7.495 7.495a1.916 1.916 0 0 1-2.709-2.71l6.953-6.953.813.813-6.953 6.953a.768.768 0 0 0 0 1.084.768.768 0 0 0 1.083 0l7.495-7.495a1.916 1.916 0 0 0-2.709-2.71l-7.856 7.857a3.064 3.064 0 1 0 4.335 4.335l7.314-7.315.813.813-7.315 7.314a4.212 4.212 0 0 1-5.96 0 4.212 4.212 0 0 1 0-5.96z" fill="currentColor"</g></svg>',svgs["sm1/audio_play.svg"]='<svg width="11" height="14" viewBox="0 0 11 14" xmlns="http://www.w3.org/2000/svg"><path d="M1.6.8l8 5.4a1 1 0 0 1 0 1.6l-8 5.4a1 1 0 0 1-1.6-.8V1.6A1 1 0 0 1 1.6.8z" fill="#202020" fill-rule="evenodd"/></svg>',svgs["sm1/audio_stop.svg"]='<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><rect width="12" height="12" rx="2" fill="#202020" fill-rule="evenodd"/></svg>',svgs["sm1/bell.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M18.83 17a14.04 14.04 0 0 1-2.12-7.38C16.71 7.08 14.61 5 12 5S7.29 7.07 7.29 9.63c-.03 2.71-.69 4.9-2.13 7.37h13.68zM15 18a3 3 0 0 1-6 0H4v-1a13.41 13.41 0 0 0 2.29-7.38C6.29 6.53 8.85 4 12 4a5.67 5.67 0 0 1 5.71 5.63c.03 2.9.86 5.05 2.29 7.37v1h-5zm-1 0h-4a2 2 0 1 0 4 0z"/></svg>',svgs["sm1/calendar.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm10 12a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM7 8h10a.5.5 0 1 1 0 1H7a.5.5 0 0 1 0-1z"/></svg>',svgs["sm1/calendar_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M12 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8zm0 1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1.25 7a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zm.75-5a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1h7z"/></svg>',svgs["sm1/cancel_checked_icon.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm3.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/></svg>',svgs["sm1/caret.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M16 10l-4 4-4-4"/></svg>',svgs["sm1/check_mark.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z" fill-rule="evenodd"/></svg>',svgs["sm1/check_mark_big.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M10.24 15.07L6.06 10.9a.5.5 0 0 0-.7 0c-.2.2-.2.5 0 .71l4.88 4.89 8.43-8.43a.5.5 0 0 0 0-.7.5.5 0 0 0-.7-.01l-7.73 7.72z"/></svg>',svgs["sm1/checkbox_checked.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm3.9-11.4a.5.5 0 0 1 .7.8l-6 6a.5.5 0 0 1-.7 0l-2.5-2.5a.5.5 0 0 1 .7-.8l2.1 2.2L16 8.6z"/></svg>',svgs["sm1/clock.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M11 12.5v-5a.5.5 0 0 1 1 0V12h4.5a.5.5 0 1 1 0 1H11v-.5zm1 7.5a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"/></svg>',svgs["sm1/close_big.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M11.3 12L5 5.9A.5.5 0 1 1 6 5l6.1 6.2L18.1 5a.5.5 0 0 1 .8.8L12.7 12l6.2 6.1a.5.5 0 0 1-.8.8L12 12.7 5.9 19A.5.5 0 0 1 5 18l6.2-6.1z"/></svg>',svgs["sm1/close_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 10.62l4.833-4.834a.976.976 0 1 1 1.381 1.38L13.381 12l4.833 4.833a.976.976 0 0 1-1.38 1.381L12 13.381l-4.833 4.833a.976.976 0 0 1-1.381-1.38L10.619 12 5.786 7.167a.976.976 0 1 1 1.38-1.381L12 10.619z"/></svg>',svgs["sm1/close_tiny.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 11.286l3.929-3.929a.505.505 0 1 1 .714.714L12.714 12l3.929 3.929a.505.505 0 1 1-.714.714L12 12.714l-3.929 3.929a.505.505 0 1 1-.714-.714L11.286 12 7.357 8.071a.505.505 0 1 1 .714-.714L12 11.286z"/></svg>',svgs["sm1/comments.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793zM11 20.086L14.086 17H19a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h6v3.086z"/></svg>',svgs["sm1/comments_fill.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793z"/></svg>',svgs["sm1/comments_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M12 2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H9.5l-1.793 1.793A1 1 0 0 1 6 13.086V12H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8zm0 1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h3v2.086L9.086 11H12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1z"/></svg>',svgs["sm1/download.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><g transform="translate(4 3)"><rect width="17" height="1" y="14" rx=".5"/><path d="M9 10.293l2.146-2.147a.5.5 0 0 1 .708.708L9.207 11.5a1 1 0 0 1-1.414 0L5.146 8.854a.5.5 0 0 1 .708-.708L8 10.293V1a.5.5 0 0 1 1 0v9.293z"/></g></g></svg>',svgs["sm1/drag.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M9.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-5-5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>',svgs["sm1/edit.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M9.5 19h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z"/><path stroke="currentColor" d="M4.42 16.03a1.5 1.5 0 0 0-.43.9l-.22 2.02a.5.5 0 0 0 .55.55l2.02-.21a1.5 1.5 0 0 0 .9-.44L18.7 7.4a1.5 1.5 0 0 0 0-2.12l-.7-.7a1.5 1.5 0 0 0-2.13 0L4.42 16.02z"/></g></svg>',svgs["sm1/email.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M6 6h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H6zm10.7 1.6a.5.5 0 0 1 .6.8L12 13.1 6.7 9.4a.5.5 0 1 1 .6-.8l4.7 3.3 4.7-3.3z"/></svg>',svgs["sm1/emoji.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor"><path d="M9.375 11.75a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm5.25 0a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25zm.603 1.75a3.335 3.335 0 0 1-6.456 0h6.456z"/><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 1a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>',
svgs["sm1/evernote.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="evernote" d="M0 .05h13.96v15.87H0z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(5 4)"><mask id="b" fill="#fff"><use xlink:href="#evernote"/></mask><path fill="#C4C4C4" fill-rule="nonzero" d="M10.4 7.56a3.5 3.5 0 0 0-.65.04c.06-.44.25-.98.92-.96.75.03.85.7.85 1.15a3.19 3.19 0 0 0-1.12-.23zm3.18-4.75a1.34 1.34 0 0 0-.88-1.07c-.39-.13-1.17-.27-2.15-.38a17.4 17.4 0 0 0-2.29-.06 1.3 1.3 0 0 0-.75-.98A6.13 6.13 0 0 0 4.67.14c-.3.08-.64.25-.83.5-.13.17-.2.4-.2.7v.94l.01.7a.6.6 0 0 1-.62.58H1.47c-.34 0-.6.05-.79.14a1.08 1.08 0 0 0-.43.33c-.21.27-.25.6-.25.93 0 0 0 .28.07.8.06.42.53 3.3.98 4.17.17.34.28.48.62.63.76.31 2.49.65 3.3.75.8.1 1.31.3 1.62-.3l.14-.36c.26-.76.3-1.43.3-1.92 0-.05.07-.05.07 0 0 .35-.07 1.56.9 1.89.38.12 1.17.24 1.97.33.73.08 1.25.35 1.25 2.12 0 1.08-.24 1.22-1.48 1.22-1 0-1.39.03-1.39-.73 0-.62.64-.55 1.11-.55.22 0 .06-.15.06-.53s.25-.6.02-.6c-1.64-.05-2.6 0-2.6 1.94 0 1.77.7 2.1 3.03 2.1 1.83 0 2.47-.05 3.22-2.28.15-.44.51-1.78.73-4.03.14-1.42-.13-5.71-.34-6.8zm-12.19.32h1.57c.1 0 .16-.07.16-.16L3.1 1.34c0-.3.07-.55.18-.76l.05-.1a.03.03 0 0 0-.01.01L.27 3.36a.03.03 0 0 0 0 .02l.15-.08c.27-.11.59-.18.97-.18z" mask="url(#b)"/></g></svg>',svgs["sm1/ext_attachment.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M11 13h2.5c.3 0 .5.2.5.5s-.2.5-.5.5H11v2.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V14H7.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5H10v-2.5c0-.3.2-.5.5-.5s.5.2.5.5V13z"/><rect width="12" height="12" x="4.5" y="7.5" stroke="currentColor" rx="2"/><path fill="currentColor" fill-rule="nonzero" d="M19 16.7V6a1 1 0 0 0-1-1H7.3c.2-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3h7.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v7.8c0 1 0 1.3-.3 1.6-.1.3-.4.5-.7.7zm-1.6.3H9.6h7.8z"/></g></svg>',svgs["sm1/facebook.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M19.12 20h-4.08v-6.2h2.08l.31-2.41h-2.39V9.85c0-.7.2-1.18 1.2-1.18h1.27V6.51c-.22-.03-.98-.1-1.86-.1-1.84 0-3.1 1.13-3.1 3.2v1.78h-2.09v2.41h2.09V20H4.88a.88.88 0 0 1-.88-.88V4.88c0-.49.4-.88.88-.88h14.24c.48 0 .88.4.88.88v14.24a.88.88 0 0 1-.88.88z"/></svg>',svgs["sm1/fetch_completed.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M12 3a9 9 0 0 1 0 18 9.002 9.002 0 0 1-8.86-7.411.5.5 0 0 1 .984-.176A8.002 8.002 0 0 0 12 20 8 8 0 1 0 4.614 8.922L4.582 9H7.5a.5.5 0 0 1 .492.41L8 9.5a.5.5 0 0 1-.41.492L7.5 10h-4a.5.5 0 0 1-.492-.41L3 9.5v-4a.5.5 0 0 1 .992-.09L4 5.5v2.373A9.002 9.002 0 0 1 12 3zm3.646 5.896a.5.5 0 0 1 .708.708l-5.5 5.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708l2.146 2.147z"/></svg>',svgs["sm1/file.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M18.5 9.5a1.1 1.1 0 0 0-.1 0h-3.1a2 2 0 0 1-1-.2 1.4 1.4 0 0 1-.6-.6 2 2 0 0 1-.2-1v-3-.2a1.1 1.1 0 0 0-.1 0H7.6c-.8 0-1 0-1.3.2a1.3 1.3 0 0 0-.6.6c-.1.2-.2.5-.2 1.3v10.8c0 .8 0 1 .2 1.3.1.3.3.5.6.6.2.1.5.2 1.3.2h8.8c.8 0 1 0 1.3-.2.3-.1.5-.3.6-.6.1-.2.2-.5.2-1.3V9.6v-.1zm-5-5z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5l5 5"/><rect width="6" height="1" x="9" y="12" fill="currentColor" rx=".5"/><rect width="6" height="1" x="9" y="15" fill="currentColor" rx=".5"/></g></svg>',svgs["sm1/filter.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M12 19a5 5 0 0 0 5-5c0-1.102-.345-2-1.064-3.03-.259-.371-1.414-1.832-1.697-2.225-.775-1.077-1.338-2.124-1.765-3.403a.5.5 0 0 0-.948 0c-.427 1.28-.99 2.326-1.765 3.403-.283.393-1.438 1.854-1.697 2.225C7.344 12 7 12.898 7 14a5 5 0 0 0 5 5z"/></svg>',svgs["sm1/gear.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M16.523 6.38l1.193-.598a1 1 0 0 1 1.314.394l1.529 2.648a1 1 0 0 1-.317 1.335l-1.204.793a7.263 7.263 0 0 1-.026 2.079l1.23.81a1 1 0 0 1 .317 1.335l-1.529 2.648a1 1 0 0 1-1.314.394l-1.345-.674a7.194 7.194 0 0 1-1.757 1.027l-.087 1.488a1 1 0 0 1-.998.941H10.47a1 1 0 0 1-.998-.941L9.39 18.65a7.188 7.188 0 0 1-1.883-1.045l-1.223.613a1 1 0 0 1-1.314-.394l-1.529-2.648a1 1 0 0 1 .317-1.335l1.05-.692a7.242 7.242 0 0 1-.03-2.318l-1.02-.672a1 1 0 0 1-.317-1.335L4.97 6.176a1 1 0 0 1 1.314-.394l1.068.536a7.191 7.191 0 0 1 2.05-1.173l.071-1.204A1 1 0 0 1 10.471 3h3.058a1 1 0 0 1 .998.941l.075 1.283a7.197 7.197 0 0 1 1.921 1.156zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>',svgs["sm1/gear_alert.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path fill="currentColor" d="M20.6 9a1 1 0 0 1-.4 1.2L19 11a7.3 7.3 0 0 1 0 2l1.2.8a1 1 0 0 1 .4 1.4L19 17.8a1 1 0 0 1-1.3.4l-1.3-.7a7.2 7.2 0 0 1-1.8 1v1.6a1 1 0 0 1-1 .9h-3.1a1 1 0 0 1-1-1l-.1-1.4a7.2 7.2 0 0 1-1.9-1l-1.2.6a1 1 0 0 1-1.3-.4l-1.6-2.6a1 1 0 0 1 .4-1.4l1-.7a7.2 7.2 0 0 1 0-2.3l-1-.6a1 1 0 0 1-.4-1.4L5 6.2a1 1 0 0 1 1.3-.4l1 .5a7.2 7.2 0 0 1 2.1-1.2V4a1 1 0 0 1 1-.9h3.1a1 1 0 0 1 1 1l.1 1.2.6.3A5 5 0 0 0 20.6 9zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><circle cx="20" cy="4" r="4" fill="#FF961F" class="dot"/></g></svg>',svgs["sm1/heart.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="none" stroke="currentColor" d="M12 18.345c5.642-4.767 6.354-5.448 7.099-6.988a3.79 3.79 0 0 0 .401-1.69c0-2.307-1.772-4.167-3.944-4.167-1.252 0-2.407.62-3.15 1.657L12 7.725l-.407-.568C10.851 6.12 9.696 5.5 8.444 5.5 6.272 5.5 4.5 7.36 4.5 9.667c0 .582.13 1.13.401 1.69.745 1.54 1.457 2.221 7.099 6.988z"/></svg>',svgs["sm1/heart_strike.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><rect width="21.92" height="1" x="1.82" y="10.78" rx=".5" transform="rotate(-45 12.78 11.28)"/><path fill-rule="nonzero" d="M16.76 5.17l-.85.85a3.26 3.26 0 0 0-.36-.02c-1.08 0-2.09.54-2.74 1.45L12 8.59l-.81-1.14A3.37 3.37 0 0 0 8.44 6C6.55 6 5 7.63 5 9.67c0 .5.11.98.35 1.47.44.9.88 1.5 2.49 2.96l-.71.7C5.04 12.88 4 11.43 4 9.68A4.56 4.56 0 0 1 8.44 5a4.3 4.3 0 0 1 3.07 1.28c.18.18.34.38.49.59a4.63 4.63 0 0 1 .7-.79A4.3 4.3 0 0 1 15.57 5c.41 0 .82.06 1.2.17zm2.43 1.81c.51.76.81 1.69.81 2.69 0 2.8-2.67 4.83-8 9.33l-2.62-2.2.72-.72 1.9 1.61c5.25-4.44 5.96-5.14 6.65-6.55A3.29 3.29 0 0 0 19 9.67a3.82 3.82 0 0 0-.53-1.96l.72-.73z"/></g></svg>',svgs["sm1/history.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 12h4v1h-5V8h1v4zm-7 0h2l-2.5 3L2 12h2a8 8 0 1 1 8 8v-1a7 7 0 1 0-7-7z"/></svg>',svgs["sm1/indent.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M19.5 8h-9a.5.5 0 1 0 0 1h9a.5.5 0 0 0 0-1zm0 4h-7a.5.5 0 1 0 0 1h7a.5.5 0 1 0 0-1zm0 4h-9a.5.5 0 1 0 0 1h9a.5.5 0 1 0 0-1zm-14.354.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L8.793 12.5l-3.647 3.646z"/></svg>',svgs["sm1/info.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0 1a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm.5 6a.5.5 0 0 1 .5.5V15h1a.5.5 0 1 1 0 1h-3a.5.5 0 1 1 0-1h1v-4h-1a.5.5 0 1 1 0-1h1.5zm-.16-2.68a.84.84 0 1 1 0 1.68.84.84 0 0 1 0-1.68z"/></svg>',svgs["sm1/job.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M16 8H6a1 1 0 0 0-1 1v2h14V9a1 1 0 0 0-1-1h-2zM8 7V6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h2zm1 0h6V6a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v1zm10 5H5v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5z"/></svg>',svgs["sm1/karma_1.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M12 16.5c-.2-.4-2.5-2.4-3.2-4l-.2-1c0-3.2 2-3.6 3.4-3.6s3.4.4 3.4 3.5c0 .3-.1.7-.3 1-.7 1.7-3 3.7-3.1 4zm0 0z"/></g></svg>',svgs["sm1/karma_2.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M12 6.8c1.3 0 3.4.3 3.4 3.4 0 1.2-1.6 3.2-2.3 4.7-1 2.4-1 3.4-1 3.4s-.2-1-1.2-3.4c-.6-1.5-2.2-3.5-2.2-4.7 0-3.1 2-3.4 3.3-3.4z"/></g></svg>',svgs["sm1/karma_3.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M15.7 12.3c0 3.2-3.4 5.8-3.4 5.8v-7.3c0-3.2 2-2.9 3-2.9s.4 1.2.4 4.4zm-7.4 0c0-3.2-.7-4.4.3-4.4s3.1-.3 3.1 2.9V18s-3.4-2.6-3.4-5.8z"/></g></svg>',svgs["sm1/karma_4.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M7.5 7.5c1 0 3.4.2 3.4 3.4v7.8S7.5 15.3 7.5 12s-1-4.5 0-4.5zm9 0c1 0 0 1.3 0 4.5S13 18.8 13 18.8v-8c0-3.1 2.4-3.3 3.4-3.3z"/></g></svg>',svgs["sm1/karma_5.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M6.4 7.5c1 0 4.5 2.4 4.5 5.6v5.7s-3-.6-3.4-6.8c-.2-3.2-2-4.5-1.1-4.5zm11.2 0c1 0-1 1.3-1.1 4.5-.4 6.2-3.4 6.8-3.4 6.8V13c0-3.2 3.5-5.6 4.5-5.6zM12 5.9c.4 0 1 .2 1 1.6s-1 3.4-1 3.4-1-2-1-3.4.6-1.6 1-1.6z"/></g></svg>',svgs["sm1/karma_6.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M12 17.5s.4-.2 1.1-2.2c.9-2.4 3.1-4.5 5.7-4.5 0 1.2-1 .7-2.3 4.5a4.8 4.8 0 0 1-4.5 3.4v-1.2 1.2a4.8 4.8 0 0 1-4.5-3.4c-1.4-3.8-2.3-3.4-2.3-4.5 2.6 0 4.8 2 5.7 4.5.7 2 1 2.2 1.1 2.2zm0-11s1.3.4 2.3 1c.6.5 1 1.2 1 1.2s-1.3 1-2.2 2.3c-.8 1-1.1 2.2-1.1 2.2s-.3-1.1-1.1-2.2C10 9.8 8.6 8.7 8.6 8.7s.6-.7 1.2-1.1c1-.7 2.2-1.1 2.2-1.1z"/></g></svg>',svgs["sm1/karma_7.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M12 18.6v.1zm2.6-5a19 19 0 0 1 2-2.8c3.4-3.4 2 2 1.2 3.3-1.5 2.8-5.8 4.7-5.8 4.7S7.8 17 6.4 14.2c-.8-1.4-2.2-6.8 1.1-3.3l1.8 2.4-1.5-3.6 3 3.1s.6.6 1.2.6 1.1-.6 1.1-.6l3.1-3-1.6 3.7zM12 6.3L14.8 8 12 10.9 9.2 8 12 6.4z"/></g></svg>',svgs["sm1/karma_8.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd" transform="translate(-3 -3)"><circle cx="12" cy="12" r="8" fill="currentColor"/><path fill="#FFF" d="M10.9 10.9s.5.5 1.1.5c.6 0 1.1-.5 1.1-.5l3.4-3.4-3.4 6.8s-.6.8-1.1.8c-.6 0-1.1-.9-1.1-.9L7.5 7.5l3.4 3.4zm-3.4 0c1.4 1.5 4.5 6.6 4.5 7.8 0 3.2 0 0 0 0s-4.2-1.6-5.6-4.4c-.8-1.5-2.2-7 1.1-3.4zm4.5 7.8c0-1.1 4.6-7.9 4.6-7.9 3.4-3.4 2 2 1.2 3.3-1.5 2.8-5.8 4.7-5.8 4.7zm0-12.3l2.3 1.1L12 9.8 9.7 7.5 12 6.4z"/></g></svg>',svgs["sm1/keyboard_non_retina.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><path d="M7 9h1v1H7V9zm3 0h1v1h-1V9zm3 0h1v1h-1V9zm3 0h1v1h-1V9zm-9 2h1v1H7v-1zm3 0h1v1h-1v-1zm3 0h1v1h-1v-1zm3 0h1v1h-1v-1zm-8 3h8v1H8v-1z"/><path fill-rule="nonzero" d="M6.56 7c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C5.04 7.7 5 7.9 5 8.56v6.88c0 .66.04.86.15 1.07a.82.82 0 0 0 .34.34c.21.11.41.15 1.07.15h10.88c.66 0 .86-.04 1.07-.15a.82.82 0 0 0 .34-.35c.11-.2.15-.4.15-1.06V8.56c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56zm0-1h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v6.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 0 1-.75.75c-.33.18-.65.27-1.54.27H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 0 1-.75-.75c-.18-.33-.27-.65-.27-1.54V8.56c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27z"/></g></svg>',svgs["sm1/keyboard_retina.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><path d="M6.5 14h2v1h-2v-1zm10-2h1v1h-1v-1zm0-2h1v1h-1v-1zm-10 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm2 2h1v1h-1v-1zm0-2h1v1h-1v-1zm1 4h2v1h-2v-1zm-6 0h5v1h-5v-1z"/><path fill-rule="nonzero" d="M6.56 7c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C5.04 7.7 5 7.9 5 8.56v6.88c0 .66.04.86.15 1.07a.82.82 0 0 0 .34.34c.21.11.41.15 1.07.15h10.88c.66 0 .86-.04 1.07-.15a.82.82 0 0 0 .34-.35c.11-.2.15-.4.15-1.06V8.56c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56zm0-1h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v6.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 0 1-.75.75c-.33.18-.65.27-1.54.27H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 0 1-.75-.75c-.18-.33-.27-.65-.27-1.54V8.56c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27z"/></g></svg>',svgs["sm1/label.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M5.914 11.086l4.5-4.5A2 2 0 0 1 11.828 6H16a2 2 0 0 1 2 2v4.172a2 2 0 0 1-.586 1.414l-4.5 4.5a2 2 0 0 1-2.828 0l-4.172-4.172a2 2 0 0 1 0-2.828zM14 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg>',svgs["sm1/label_outline.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M3.914 11.086l6.5-6.5A2 2 0 0 1 11.828 4H18a2 2 0 0 1 2 2v6.172a2 2 0 0 1-.586 1.414l-6.5 6.5a2 2 0 0 1-2.828 0l-6.172-6.172a2 2 0 0 1 0-2.828zm.707.707a1 1 0 0 0 0 1.414l6.172 6.172a1 1 0 0 0 1.414 0l6.5-6.5a1 1 0 0 0 .293-.707V6a1 1 0 0 0-1-1h-6.172a1 1 0 0 0-.707.293l-6.5 6.5zM14.75 10.5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5z"/></svg>',svgs["sm1/leave.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M6.5 8.3V5.63c0-1.17.9-2.13 2-2.13h7c1.1 0 2 .95 2 2.13v11.74c0 1.17-.9 2.13-2 2.13h-7c-1.1 0-2-.95-2-2.13V14.7"/><path fill="currentColor" d="M12.8 11l-2.15-2.15a.5.5 0 1 1 .7-.7L14 10.79a1 1 0 0 1 0 1.42l-2.65 2.64a.5.5 0 0 1-.7-.7L12.79 12H4.5a.5.5 0 0 1 0-1h8.3z"/></g></svg>',svgs["sm1/lightbulb_outline.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path fill="currentColor" id="lightbulb_outline" d="M12 6c3.052 0 5.5 2.448 5.5 5.5 0 1.32-.393 2.274-1.266 3.562l-.425.615c-.588.856-.891 1.411-1.078 2.02l-.468 2.338a1.2 1.2 0 0 1-1.177.965h-2.172a1.2 1.2 0 0 1-1.177-.965l-.458-2.291c-.21-.68-.512-1.23-1.088-2.067l-.425-.615C6.893 13.774 6.5 12.819 6.5 11.5 6.5 8.448 8.948 6 12 6zm1.65 12h-3.3l.368 1.84a.2.2 0 0 0 .196.16h2.172a.2.2 0 0 0 .196-.16L13.65 18zM12 7c-2.5 0-4.5 2-4.5 4.5 0 2.326 1.73 3.353 2.576 5.498h3.848c.845-2.145 2.576-3.172 2.576-5.498C16.5 9 14.5 7 12 7zm7.582 7.1l1.848.765a.5.5 0 1 1-.383.924l-1.847-.766a.5.5 0 0 1 .382-.923zm-14.511.27a.5.5 0 0 1-.27.653l-1.848.766a.5.5 0 0 1-.383-.924l1.848-.765a.5.5 0 0 1 .653.27zM21.7 7.482a.5.5 0 0 1-.27.653l-1.849.765a.5.5 0 0 1-.382-.923l1.847-.766a.5.5 0 0 1 .654.27zm-18.748-.27l1.847.765a.5.5 0 0 1-.382.923L2.57 8.135a.5.5 0 1 1 .383-.924zm13.065-5.413a.5.5 0 0 1 .27.654L15.524 4.3a.5.5 0 0 1-.923-.382l.765-1.848a.5.5 0 0 1 .653-.27zm-7.383.27l.766 1.85a.5.5 0 0 1-.923.382L7.71 2.453a.5.5 0 1 1 .924-.383z"/></defs><use xlink:href="#lightbulb_outline"/></svg>',svgs["sm1/link.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M7.39 12.339l.706.707-1.768 1.768a2 2 0 1 0 2.829 2.828l3.535-3.535a2 2 0 0 0 0-2.829l.707-.707a3 3 0 0 1 0 4.243l-3.535 3.535a3 3 0 0 1-4.243-4.242l1.768-1.768zm8.838-.354l-.707-.707 1.768-1.768a2 2 0 1 0-2.829-2.828l-3.535 3.536a2 2 0 0 0 0 2.828l-.707.707a3 3 0 0 1 0-4.243l3.535-3.535a3 3 0 0 1 4.243 4.243l-1.768 1.767z"/></svg>',svgs["sm1/list.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M10 11.5c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm0 4c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm0-8c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5s-.2.5-.5.5h-7a.5.5 0 0 1-.5-.5zm-4 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/></svg>',svgs["sm1/location_mark.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M12 19c-3.3-4.2-5-7.2-5-9a5 5 0 1 1 10 0c0 1.8-1.7 4.8-5 9zm0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',svgs["sm1/mail.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" fill-rule="nonzero" d="M12 11.4l4.7-3.8a.5.5 0 1 1 .6.8L12 12.6 6.7 8.4a.5.5 0 0 1 .6-.8l4.7 3.8z"/><rect width="15" height="13" x="4.5" y="5.5" stroke="currentColor" rx="2"/></g></svg>',svgs["sm1/member_big.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="none" stroke="currentColor" d="M12 4.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zM4.5 18.3v.1c0 .6.8 1.1 1.8 1.1h11.4c1 0 1.8-.5 1.8-1v-.3c0-2.5-3.3-4.7-7.5-4.7s-7.5 2.2-7.5 4.8z"/></svg>',svgs["sm1/member_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="none" stroke="currentColor" d="M12 5.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-6.5 12v.2c0 .4.6.8 1.5.8h10c.9 0 1.5-.4 1.5-.8v-.2c0-2.1-2.9-4-6.5-4s-6.5 1.9-6.5 4z"/></svg>',svgs["sm1/menu.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.5 5h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm0 6h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 6h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1z"/></svg>',svgs["sm1/microphone.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M13 16.5V19h2.5a.5.5 0 1 1 0 1h-6a.5.5 0 1 1 0-1H12v-2.5c-.8 0-1.6-.3-2.2-.6-.7-.4-1.3-1-1.7-1.7-.4-.8-.6-1.6-.6-2.6V9a.5.5 0 0 1 1 0v2.6c0 .8.2 1.5.5 2.1.3.6.7 1 1.3 1.3.6.3 1.3.5 2.1.5h.2c.8 0 1.5-.2 2.1-.5.6-.3 1-.7 1.3-1.3.3-.6.5-1.3.5-2.1V9a.5.5 0 1 1 1 0v2.6c0 1-.2 1.8-.6 2.6-.4.7-1 1.3-1.7 1.7-.6.3-1.4.5-2.2.6zM12.5 3C13.9 3 15 4.1 15 5.5v6a2.5 2.5 0 1 1-5 0v-6C10 4.1 11.1 3 12.5 3z"/></svg>',svgs["sm1/mobile.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M7.6 4h4.8c1 0 1.3 0 1.6.3.3.1.6.4.7.7.2.3.3.7.3 1.6v10.8c0 1 0 1.3-.3 1.6-.1.3-.4.6-.7.7-.3.2-.7.3-1.6.3H7.6c-1 0-1.3 0-1.6-.3a1.8 1.8 0 0 1-.7-.7c-.2-.3-.3-.7-.3-1.6V6.6c0-1 0-1.3.3-1.6.1-.3.4-.6.7-.7.3-.2.7-.3 1.6-.3zm0 1l-1.1.1a.8.8 0 0 0-.4.4l-.1 1v11l.1 1a.8.8 0 0 0 .4.4l1 .1h5l1-.1a.8.8 0 0 0 .4-.4l.1-1v-11l-.1-1a.8.8 0 0 0-.4-.4l-1-.1h-5zm-.1 2h5a.5.5 0 1 1 0 1h-5a.5.5 0 0 1 0-1zm0 9h5a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1zM18 9.5v4h-1v-4h1zm2-1v6h-1v-6h1z"/></svg>',svgs["sm1/more.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" transform="translate(3 10)"><circle cx="2" cy="2" r="2"/><circle cx="9" cy="2" r="2"/><circle cx="16" cy="2" r="2"/></g></svg>',svgs["sm1/more_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="3"><path fill="currentColor" fill-rule="evenodd" d="M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm6 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>',svgs["sm1/move.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd" transform="translate(4 4)"><circle cx="8" cy="8" r="7.5" stroke="currentColor"/><path fill="currentColor" d="M10.11 7.82L8.15 5.85a.5.5 0 1 1 .7-.7l2.83 2.82a.5.5 0 0 1 0 .71l-2.83 2.83a.5.5 0 1 1-.7-.7l1.98-1.99H4.5a.5.5 0 1 1 0-1h5.61z"/></g></svg>',svgs["sm1/name.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M11.67 17l-1-2.82H6.76L5.76 17H4.47l3.64-9.86h1.22L12.96 17h-1.29zm-3-8.27l-1.55 4.4h3.2l-1.55-4.4h-.1zm7.97 7.37c1.21 0 2.1-.8 2.1-1.85v-.68l-1.97.13c-1.12.08-1.62.47-1.62 1.2 0 .76.64 1.2 1.5 1.2zm-.22 1.03c-1.42 0-2.48-.85-2.48-2.2 0-1.31.97-2.07 2.68-2.17l2.13-.14v-.67c0-.9-.57-1.4-1.67-1.4-.88 0-1.5.33-1.66.91h-1.2c.17-1.18 1.33-1.96 2.9-1.96 1.8 0 2.8.92 2.8 2.45V17H18.8v-1.09h-.1a2.55 2.55 0 0 1-2.28 1.22z"/></svg>',svgs["sm1/notification_assigned.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#FF9E13"/><path fill="#FFF" d="M11 11V8a1 1 0 0 1 2 0v3h3a1 1 0 0 1 0 2h-3v3a1 1 0 0 1-2 0v-3H8a1 1 0 0 1 0-2h3z"/></g></svg>',svgs["sm1/notification_commented.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#506578"/><path fill="#FFF" d="M14 15v1.43a.5.5 0 0 1-.82.39L11 15H9.92c-.67 0-.9-.07-1.15-.2a1.36 1.36 0 0 1-.57-.57c-.13-.24-.2-.48-.2-1.15v-2.16c0-.67.07-.9.2-1.15.13-.25.32-.44.57-.57.24-.13.48-.2 1.15-.2h4.16c.67 0 .9.07 1.15.2.25.13.44.32.57.57.13.24.2.48.2 1.15v2.16c0 .67-.07.9-.2 1.15-.13.25-.32.44-.57.57-.24.13-.48.2-1.15.2H14z"/></g></svg>',svgs["sm1/notification_completed.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#3C9B0D"/><path fill="#FFF" d="M10.536 13.071l4.242-4.243a1 1 0 0 1 1.414 1.415l-4.95 4.95a1 1 0 0 1-1.414 0l-2.12-2.122a1 1 0 0 1 1.413-1.414l1.415 1.414z"/></g></svg>',svgs["sm1/notification_deleted.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#838383"/><path fill="#FFF" d="M16 11a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2h8z"/></g></svg>',svgs["sm1/notification_payment.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#4DC1E6"/><path fill="#FFF" d="M11.46 15.6v-3.06l-.31-.08c-1.65-.4-2.4-1.22-2.4-2.61 0-1.51 1.06-2.57 2.7-2.77V6h1.3v1.1c1.5.23 2.53 1.26 2.6 2.65h-1.37a1.6 1.6 0 0 0-1.24-1.32v2.9l.12.02c1.87.46 2.64 1.24 2.64 2.67 0 1.58-1.04 2.65-2.76 2.89V18h-1.28v-1.06c-1.73-.18-2.87-1.21-2.96-2.75h1.4c.1.73.68 1.24 1.56 1.4zm1.28-.02c.8-.18 1.33-.7 1.33-1.37 0-.64-.41-1.05-1.33-1.34v2.71zM11.46 8.4c-.79.17-1.28.66-1.28 1.36 0 .6.38.96 1.28 1.24V8.4z"/></g></svg>',svgs["sm1/notification_read.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M12 7.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0-1a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11z"/></svg>',svgs["sm1/notification_uncompleted.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#838383"/><path fill="#FFF" d="M7.25 12.17a.36.36 0 0 1 0-.5l.48-.49a.36.36 0 0 1 .5 0l.25.26-.98.98-.25-.25zm.76.75l.98-.98L10 12.96l-.98.97-1.01-1zm1.51 1.52l.99-.98 1 1.01-.48.49a.69.69 0 0 1-.99 0l-.51-.52zM11 12.97l.98-.98L12.98 13l-.98.98-1-1zm1.47-1.47l.98-.98 1.01 1.01-.98.98-1-1zm1.47-1.47l.98-.98 1.01 1.01-.98.98-1-1zm1.47-1.46l.24-.25a.34.34 0 0 1 .5 0l.51.52a.35.35 0 0 1 0 .5l-.24.24-1.01-1.01z"/></g></svg>',svgs["sm1/notification_unread.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M12 6.5a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11zm0 1a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 2.5a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"/></svg>',svgs["sm1/notification_updated.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#4DC1E6"/><path fill="#FFF" d="M15.11 11.34a3.2 3.2 0 1 0-1.77 3.53l.78 1.03a4.48 4.48 0 1 1 2.29-4.56h1.64l-2.37 3.2-2.42-3.2h1.85z"/></g></svg>',svgs["sm1/notification_user_added.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#3A76EB"/><path fill="#FFF" d="M15 10V8h1v2h2v1h-2v2h-1v-2h-2v-1h2zm-5-2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm-3.5 6.6c0-1.4 1.6-2.6 3.5-2.6s3.5 1.2 3.5 2.6v.1c0 .5-.4.8-1 .8h-5c-.6 0-1-.3-1-.8z"/></g></svg>',svgs["sm1/notification_user_removed.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd" transform="translate(-4 -4)"><circle cx="12" cy="12" r="8" fill="#3D3D3D"/><path fill="#FFF" d="M10 8a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm-3.5 6.6c0-1.4 1.6-2.6 3.5-2.6s3.5 1.2 3.5 2.6v.1c0 .5-.4.8-1 .8h-5c-.6 0-1-.3-1-.8z"/><path fill="#F4F4F4" d="M14 11v-1h3v1z"/></g></svg>',svgs["sm1/notifications.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="sm1/notifications/a" d="M10.8 16a3 3 0 0 1-5.6 0h5.6zM5 15h6-6zm-3.8 0a1 1 0 0 1-.8-1.5 16 16 0 0 0 2.1-8 5.5 5.5 0 0 1 11 0c0 2.8.7 5.5 2.1 8a1 1 0 0 1-.8 1.5H1.2z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(4 3)"><mask id="sm1/notifications/b" fill="#fff"><use xlink:href="#sm1/notifications/a"/></mask><g mask="url(#sm1/notifications/b)"><path fill="currentColor" d="M-4-3h24v24H-4z"/></g></g></svg>',svgs["sm1/notifications_unread.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd" transform="translate(4 1)"><mask id="Mh8kEWo" fill="#fff"><path d="M10.83 18a3.001 3.001 0 0 1-5.66 0h5.66zM5 17h6-6zm5.237-14.526a5.002 5.002 0 0 0 3.312 6.312c.183 2.353.873 4.591 2.073 6.724A1 1 0 0 1 14.75 17H1.25a1 1 0 0 1-.872-1.49C1.795 12.992 2.5 10.327 2.5 7.5a5.5 5.5 0 0 1 7.737-5.026z"/></mask><g mask="url(#Mh8kEWo)"><path fill="currentColor" d="M-4-1h24v24H-4z" class="noti-bell"/></g><mask id="i2QrhMK" fill="#fff"><circle cx="15" cy="4" r="4"/></mask><g mask="url(#i2QrhMK)"><path fill="#FF9E13" d="M-4-1h24v24H-4z" class="noti-dot"/></g></g></svg>',svgs["sm1/person_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M8 8.5c2.93 0 4.87.838 5.819 2.515a2 2 0 0 1-1.592 2.98l-.149.005H3.922a2 2 0 0 1-1.74-2.985C3.13 9.338 5.07 8.5 8 8.5zm0 1c-2.604 0-4.204.691-4.948 2.008a1 1 0 0 0 .741 1.484l.129.008h8.156a1 1 0 0 0 .87-1.492C12.204 10.19 10.604 9.5 8 9.5zm0-8a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1.037a1.963 1.963 0 1 0 0 3.926 1.963 1.963 0 0 0 0-3.926z"/></svg>',svgs["sm1/platform_android.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M5 5h14v14H5z"/><path fill="currentColor" fill-rule="nonzero" d="M8.5 15.5c0 .32.26.58.58.58h.59v2.04a.87.87 0 1 0 1.75 0v-2.04h1.16v2.04a.87.87 0 1 0 1.75 0v-2.04h.59c.32 0 .58-.26.58-.58V9.67h-7v5.83zM7.04 9.67a.87.87 0 0 0-.87.87v4.09a.87.87 0 1 0 1.75 0v-4.09a.87.87 0 0 0-.88-.87zm9.92 0a.87.87 0 0 0-.88.87v4.09a.87.87 0 1 0 1.75 0v-4.09a.87.87 0 0 0-.87-.87zm-2.9-3.41l.76-.76a.29.29 0 0 0 0-.41.29.29 0 0 0-.42 0l-.86.86A3.4 3.4 0 0 0 12 5.58c-.56 0-1.08.14-1.55.37l-.87-.86a.29.29 0 0 0-.41 0 .29.29 0 0 0 0 .41l.76.77A3.49 3.49 0 0 0 8.5 9.08h7a3.48 3.48 0 0 0-1.44-2.82zm-3.23 1.66h-.58v-.59h.58v.59zm2.92 0h-.58v-.59h.58v.59z"/></g></svg>',svgs["sm1/platform_apple.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M18 14.22c-.22.7-.58 1.4-1.06 2.1-.74 1.1-1.48 1.66-2.21 1.66-.28 0-.69-.1-1.21-.27a3.9 3.9 0 0 0-1.3-.27c-.35 0-.76.09-1.22.27-.47.2-.85.29-1.14.29-.87 0-1.74-.73-2.6-2.18A8.47 8.47 0 0 1 6 11.59c0-1.28.32-2.33.97-3.15a3 3 0 0 1 2.45-1.2c.41 0 .92.08 1.52.24.6.17 1 .26 1.2.26.25 0 .66-.1 1.22-.29.6-.19 1.09-.29 1.5-.29.68 0 1.3.19 1.83.55a4.4 4.4 0 0 1 .9.84c-.46.38-.79.7-.99 1a2.95 2.95 0 0 0-.56 1.74c0 .7.2 1.32.6 1.87.4.56.85.91 1.36 1.06zm-3.24-9.87c0 .35-.08.73-.25 1.15a3.45 3.45 0 0 1-.8 1.16c-.31.3-.62.5-.93.6-.21.07-.51.11-.9.15.02-.84.24-1.56.68-2.17.42-.6 1.14-1.01 2.15-1.24a.8.8 0 0 1 .02.1.8.8 0 0 0 .02.08v.09l.01.08z"/></svg>',svgs["sm1/platform_macos.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><rect width="13" height="9" x="5.5" y="6.5" stroke="currentColor" rx="2"/><path fill="currentColor" d="M14.02 18H10v-1.72c0-.44.05-.6.13-.77a.9.9 0 0 1 .38-.38c.17-.08.33-.13.77-.13h1.46c.44 0 .6.05.77.13.16.1.29.22.38.38.08.17.13.33.13.77V18z"/><path fill="currentColor" d="M15 18H9a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1zM5 13h14a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3z"/></g></svg>',svgs["sm1/platform_windows.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M10.95 12.37v4.72L6 16.41v-4.04h4.95zm0-5.39v4.78H6v-4.1l4.95-.68zm7.12 5.39v5.7l-6.58-.9v-4.8h6.58zm0-6.37v5.76H11.5V6.91L18.07 6z"/></svg>',svgs["sm1/plus.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13"><path fill="currentColor" fill-rule="evenodd" d="M6 6V.5a.5.5 0 0 1 1 0V6h5.5a.5.5 0 1 1 0 1H7v5.5a.5.5 0 1 1-1 0V7H.5a.5.5 0 0 1 0-1H6z"/></svg>',svgs["sm1/plus_m.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd" transform="translate(4 3)"><mask id="jd4FBg" fill="#fff"><path d="M9 8h7a.5.5 0 1 1 0 1H9v7a.5.5 0 1 1-1 0V9H1a.5.5 0 0 1 0-1h7V1a.5.5 0 0 1 1 0v7z"/></mask><g mask="url(#jd4FBg)"><path fill="currentColor" d="M-4-3h24v24H-4z"/></g></g></svg>',svgs["sm1/plus_thick.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M13 11h6a1 1 0 0 1 0 2h-6v6a1 1 0 0 1-2 0v-6H5a1 1 0 0 1 0-2h6V5a1 1 0 0 1 2 0v6z"/></svg>',svgs["sm1/popout.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><rect width="12" height="12" x="4.5" y="7.5" stroke="currentColor" rx="2"/><path fill="currentColor" fill-rule="nonzero" d="M19 16.72V6a1 1 0 0 0-1-1H7.28c.17-.32.43-.56.74-.73.33-.18.65-.27 1.54-.27h7.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v7.88c0 .89-.1 1.21-.27 1.54-.17.31-.41.57-.73.74zm-1.56.28H9.56h7.88z"/><path fill="currentColor" d="M12.3 11H9.5a.5.5 0 1 1 0-1h4a.5.5 0 0 1 .5.5v4a.5.5 0 1 1-1 0v-2.8l-4.15 4.15a.5.5 0 0 1-.7-.7L12.29 11z"/></g></svg>',
svgs["sm1/print.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" fill-rule="nonzero" d="M15 18v-1h2.44c.66 0 .86-.04 1.07-.15a.82.82 0 0 0 .34-.35c.11-.2.15-.4.15-1.06v-4.88c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.35-.34c-.2-.11-.4-.15-1.06-.15H6.56c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C5.04 9.7 5 9.9 5 10.56v4.88c0 .66.04.86.15 1.07a.82.82 0 0 0 .34.34c.21.11.41.15 1.07.15H9v1H6.56c-.89 0-1.21-.1-1.54-.27a1.82 1.82 0 0 1-.75-.75c-.18-.33-.27-.65-.27-1.54v-4.88c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27h10.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54v4.88c0 .89-.1 1.21-.27 1.54a1.8 1.8 0 0 1-.75.75c-.33.18-.65.27-1.54.27H15z"/><path stroke="currentColor" d="M15.5 13.5h-7v3.94c0 .73.05 1.01.2 1.3.14.24.32.42.56.55.29.16.57.21 1.3.21h2.88c.73 0 1.01-.05 1.3-.2.24-.14.42-.32.55-.56.16-.29.21-.57.21-1.3V13.5z"/><path fill="currentColor" fill-rule="nonzero" d="M17 7h-1v-.44c0-.66-.04-.86-.15-1.07a.82.82 0 0 0-.34-.34C15.3 5.04 15.1 5 14.44 5H9.56c-.66 0-.86.04-1.07.15a.82.82 0 0 0-.34.34C8.04 5.7 8 5.9 8 6.57V7H7v-.44c0-.89.1-1.21.27-1.54.17-.32.43-.58.75-.75.33-.18.65-.27 1.54-.27h4.88c.89 0 1.21.1 1.54.27.32.17.58.43.75.75.18.33.27.65.27 1.54V7z"/><path fill="currentColor" d="M16 11h1v1h-1z"/></g></svg>',svgs["sm1/priority_1.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#d1453b" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_1_hc.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#ff7066" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_2.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#EB8909" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_2_hc.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#FF9A14" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_3.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#246fe0" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_3_hc.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#5297ff" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777z"/></svg>',svgs["sm1/priority_4.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777zm0-1.123C5.965 12.216 7.133 12 8.5 12c1.113 0 1.92.196 3.658.776 1.638.545 2.371.724 3.342.724 1.45 0 2.614-.262 3.5-.777V5.346c-.965.438-2.133.654-3.5.654-1.113 0-1.92-.196-3.658-.776C10.204 4.68 9.47 4.5 8.5 4.5c-1.45 0-2.614.262-3.5.777v7.377z"/></svg>',svgs["sm1/priority_4_hc.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777zm0-1.123C5.965 12.216 7.133 12 8.5 12c1.113 0 1.92.196 3.658.776 1.638.545 2.371.724 3.342.724 1.45 0 2.614-.262 3.5-.777V5.346c-.965.438-2.133.654-3.5.654-1.113 0-1.92-.196-3.658-.776C10.204 4.68 9.47 4.5 8.5 4.5c-1.45 0-2.614.262-3.5.777v7.377z"/></svg>',svgs["sm1/priority_flag.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M5 13.777V19.5a.5.5 0 1 1-1 0V5a.5.5 0 0 1 .223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.82 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0 1 20 4.5V13a.5.5 0 0 1-.223.416c-1.09.727-2.519 1.084-4.277 1.084-1.113 0-1.92-.196-3.658-.776C10.204 13.18 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777zm0-1.123C5.965 12.216 7.133 12 8.5 12c1.113 0 1.92.196 3.658.776 1.638.545 2.371.724 3.342.724 1.45 0 2.614-.262 3.5-.777V5.346c-.965.438-2.133.654-3.5.654-1.113 0-1.92-.196-3.658-.776C10.204 4.68 9.47 4.5 8.5 4.5c-1.45 0-2.614.262-3.5.777v7.377z"/></svg>',svgs["sm1/project.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M10.5 17h9a.5.5 0 1 1 0 1h-9a.5.5 0 1 1 0-1zm0-6h9a.5.5 0 1 1 0 1h-9a.5.5 0 1 1 0-1zm0-6h9a.5.5 0 1 1 0 1h-9a.5.5 0 1 1 0-1zM5.75 18.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zm0-6a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zm0-6a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5z"/></svg>',svgs["sm1/project_shared.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="project_shared_path" d="M6.146 16.562C6.672 14.187 8.624 13 12 13s5.328 1.187 5.854 3.562A1.182 1.182 0 0 1 16.7 18H7.3a1.182 1.182 0 0 1-1.154-1.438zM12 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/></defs><use fill="currentColor" fill-rule="nonzero" xlink:href="#project_shared_path"/></svg>',svgs["sm1/question.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M11.9 16.5c-.46 0-.8-.35-.8-.85s.34-.86.8-.86c.48 0 .8.36.8.86s-.32.85-.8.85zM9.5 9.87c.06-1.32.9-2.37 2.54-2.37 1.46 0 2.46.95 2.46 2.21 0 .96-.47 1.64-1.22 2.11-.73.46-.94.8-.94 1.45v.4h-1.02v-.57c0-.8.37-1.36 1.16-1.86.68-.43.94-.82.94-1.47 0-.76-.56-1.32-1.43-1.32-.87 0-1.43.55-1.5 1.42H9.5z"/><circle cx="12" cy="12" r="7.5" stroke="currentColor"/></g></svg>',svgs["sm1/quick_add_assignee.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M3.922 14a2 2 0 0 1-1.74-2.985C3.13 9.338 5.07 8.5 8 8.5c2.93 0 4.87.838 5.819 2.515A2 2 0 0 1 12.078 14H3.922zm0-1h8.156a1 1 0 0 0 .87-1.492C12.204 10.19 10.604 9.5 8 9.5c-2.604 0-4.204.691-4.948 2.008A1 1 0 0 0 3.922 13zM8 7.5a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1.037a1.963 1.963 0 1 0 0-3.926 1.963 1.963 0 0 0 0 3.926z"/></svg>',svgs["sm1/quick_add_calendar.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M4 2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4zm6.75 8.5a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zM4.5 5h7a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1z"/></svg>',svgs["sm1/quick_add_label.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M7.828 2H12a2 2 0 0 1 2 2v4.172a2 2 0 0 1-.586 1.414l-4 4a2 2 0 0 1-2.828 0L2.414 9.414a2 2 0 0 1 0-2.828l4-4A2 2 0 0 1 7.828 2zm0 1a1 1 0 0 0-.707.293l-4 4a1 1 0 0 0 0 1.414l4.172 4.172a1 1 0 0 0 1.414 0l4-4A1 1 0 0 0 13 8.172V4a1 1 0 0 0-1-1H7.828zM10 7a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/></svg>',svgs["sm1/quick_add_priority.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M2 9.5V3a.5.5 0 0 1 .276-.447C3.025 2.179 4.096 2 5.5 2c.901 0 1.485.135 2.658.526C9.235 2.885 9.735 3 10.5 3c1.263 0 2.192-.155 2.776-.447A.5.5 0 0 1 14 3v6.5a.5.5 0 0 1-.276.447c-.749.374-1.82.553-3.224.553-.901 0-1.485-.135-2.658-.526C6.765 9.615 6.265 9.5 5.5 9.5c-1.08 0-1.915.113-2.5.329V13.5a.5.5 0 1 1-1 0v-4zm1-6.171v5.45C3.666 8.59 4.499 8.5 5.5 8.5c.901 0 1.485.135 2.658.526 1.077.359 1.577.474 2.342.474 1.08 0 1.915-.113 2.5-.329v-5.45c-.666.188-1.499.279-2.5.279-.901 0-1.485-.135-2.658-.526C6.765 3.115 6.265 3 5.5 3c-1.08 0-1.915.113-2.5.329z"/></svg>',svgs["sm1/quick_add_project.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="nonzero" d="M6.5 11h7a.5.5 0 1 1 0 1h-7a.5.5 0 1 1 0-1zm0-4h7a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1zm0-4h7a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1zM3 12.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/></svg>',svgs["sm1/recurring.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="9" viewBox="0 0 15 9"><path fill="currentColor" fill-rule="evenodd" d="M12 3v4.4l1.3-1.3a.5.5 0 0 1 .7.8l-1.8 1.7a1 1 0 0 1-1.4 0L9 7a.5.5 0 0 1 .7-.8L11 7.4V3.1c0-.8 0-1-.2-1.3-.1-.3-.3-.5-.6-.6C10 1.1 9.7 1 9 1H7V0h2c.8 0 1.3 0 1.7.3.4.2.8.6 1 1 .2.4.3.9.3 1.7zM3 6V1.6L1.7 2.9A.5.5 0 0 1 1 2L2.8.4a1 1 0 0 1 1.4 0L6 2a.5.5 0 0 1-.7.8L4 1.6v4.3c0 .8 0 1 .2 1.3.1.3.3.5.6.6.2.1.5.2 1.3.2H8v1H6c-.8 0-1.3 0-1.7-.3-.4-.2-.8-.6-1-1C3.1 7.3 3 6.8 3 6z"/></svg>',svgs["sm1/reminder.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M6.355 17.438a7.5 7.5 0 1 1 11.29 0l1.709 1.708a.5.5 0 0 1-.708.708l-1.708-1.709A7.471 7.471 0 0 1 12 20c-1.891 0-3.619-.7-4.938-1.855l-1.708 1.709a.5.5 0 0 1-.708-.708l1.709-1.708zM12 19a6.5 6.5 0 1 0 0-13 6.5 6.5 0 0 0 0 13zm0-7h2.5a.5.5 0 1 1 0 1h-3a.5.5 0 0 1-.5-.5V8a.5.5 0 1 1 1 0v4zm4.604-6.896a.5.5 0 0 1-.708-.708l.336-.335a2.5 2.5 0 0 1 3.536 0l.671.671a2.5 2.5 0 0 1 0 3.536l-.335.336a.5.5 0 0 1-.708-.708l.336-.335a1.5 1.5 0 0 0 0-2.122l-.671-.671a1.5 1.5 0 0 0-2.122 0l-.335.336zM4.605 7.898a.5.5 0 0 1-.707.707l-.337-.337a2.5 2.5 0 0 1 0-3.536l.671-.671a2.5 2.5 0 0 1 3.536 0l.337.337a.5.5 0 0 1-.707.707l-.337-.337a1.5 1.5 0 0 0-2.122 0l-.671.671a1.5 1.5 0 0 0 0 2.122l.337.337z"/></svg>',svgs["sm1/reminder_small.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" fill-rule="nonzero" d="M6 1.502a4.5 4.5 0 0 1 3.728 7.021l1.126 1.126a.5.5 0 0 1-.638.765l-.07-.058-1.07-1.069A4.484 4.484 0 0 1 6 10.502a4.484 4.484 0 0 1-3.076-1.215l-1.07 1.07a.5.5 0 0 1-.765-.639l.057-.07 1.126-1.125A4.5 4.5 0 0 1 6 1.503zm0 1a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm-.5 1a.5.5 0 0 1 .492.41l.008.09v2h1.5a.5.5 0 0 1 .09.992l-.09.008h-2a.5.5 0 0 1-.492-.41L5 6.502v-2.5a.5.5 0 0 1 .5-.5zm5.368-2.328l.12.109.232.232a1.75 1.75 0 0 1 .092 2.375.5.5 0 1 1-.76-.65.75.75 0 0 0 .036-.93l-.075-.088-.233-.232a.75.75 0 0 0-.922-.11.5.5 0 1 1-.526-.85 1.75 1.75 0 0 1 2.036.144zM3.17 1.03a.5.5 0 1 1-.526.85.75.75 0 0 0-.922.11l-.232.232a.75.75 0 0 0-.04 1.017.5.5 0 0 1-.76.65 1.75 1.75 0 0 1 .093-2.374l.232-.232A1.75 1.75 0 0 1 3.17 1.03z"/></svg>',svgs["sm1/remove_label.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M5.3 16.58l-.71.71A2.13 2.13 0 0 1 4 15.82V7.18C4 5.98 5.02 5 6.25 5h9.86c.2 0 .43.04.65.12l-.88.88H6.25C5.55 6 5 6.54 5 7.18v8.64c0 .3.11.56.3.76zm3.82.42h7c.3 0 .8-.24.97-.47l3.52-4.75c.1-.13.1-.43 0-.56l-2.43-3.28.71-.71 2.52 3.4c.36.48.36 1.26 0 1.75l-3.52 4.74c-.36.49-1.15.88-1.78.88H8.12l1-1zm-4.27 2.85a.5.5 0 0 1-.7-.7l15-15a.5.5 0 0 1 .7.7l-15 15z"/></svg>',svgs["sm1/scheduler.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M15 6v7.077c0 .669-.07.911-.2 1.156a1.371 1.371 0 0 1-.567.567c-.245.13-.487.2-1.156.2H4.923c-.669 0-.911-.07-1.156-.2a1.363 1.363 0 0 1-.567-.567c-.13-.245-.2-.487-.2-1.156V4.5A1.5 1.5 0 0 1 4.5 3H5V1.5h1V3h6V1.5h1V3h.5A1.5 1.5 0 0 1 15 4.5V6zM5.117 6c-.473 0-.617.028-.764.108a.59.59 0 0 0-.247.252c-.078.15-.106.296-.106.777v5.726c0 .481.028.628.106.777a.59.59 0 0 0 .247.252c.147.08.291.108.764.108h7.766c.473 0 .617-.028.764-.108a.59.59 0 0 0 .247-.252c.078-.15.106-.296.106-.777V7.137c0-.481-.028-.628-.106-.777a.59.59 0 0 0-.247-.252C13.5 6.028 13.356 6 12.883 6H5.117z"/></svg>',svgs["sm1/scheduler_error.svg"]='<svg width="28" height="28" viewBox="0 0 28 28"><path fill="currentColor" fill-rule="nonzero" d="M12.996 2.532a.5.5 0 0 1-.431.56C7.12 3.803 3 8.46 3 14c0 6.075 4.925 11 11 11 5.54 0 10.198-4.12 10.907-9.564a.5.5 0 0 1 .992.13C25.125 21.505 20.045 26 14 26 7.373 26 2 20.627 2 14 2 7.955 6.495 2.875 12.436 2.101a.5.5 0 0 1 .56.431zM14 17.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zm0-9.498c.806 0 1.46.654 1.46 1.46l-.002.043-.464 5.825c-.098 1.223-1.89 1.223-1.988 0l-.46-5.752a1.46 1.46 0 0 1 1.198-1.553l.14-.018.116-.005zm7.305-3.523a11.988 11.988 0 0 1 4.594 7.957.5.5 0 0 1-.992.129 10.988 10.988 0 0 0-4.211-7.293.5.5 0 0 1 .609-.793zm-5.83-2.381l.09.003c1.047.137 2.064.41 3.03.81a.5.5 0 1 1-.384.924 10.921 10.921 0 0 0-2.775-.742.5.5 0 0 1-.048-.983l.087-.012z" /></svg>',svgs["sm1/scheduler_month.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z"/><path fill="currentColor" d="M16.15 4.22a7.23 7.23 0 0 0 1.79 14.22A7.25 7.25 0 0 0 24 15.18 10.02 10.02 0 0 1 14.04 24C8.48 24 4 19.52 4 14a10.02 10.02 0 0 1 12.15-9.78z"/></g></svg>',svgs["sm1/scheduler_next_week.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" fill-rule="nonzero"><path d="M6 3.5h16A2.5 2.5 0 0 1 24.5 6v2.5h-21V6A2.5 2.5 0 0 1 6 3.5z" opacity=".1"/><path d="M22 3a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h16zm0 1H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm-3.109 12.188l.007.01-.004-.005-.003-.005zM21.5 8a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zM19 16.52a.504.504 0 0 1-.023.131l-.015.04a.494.494 0 0 1-.05.093l-.014.018a.503.503 0 0 1-.033.04l-3.511 3.512a.5.5 0 0 1-.765-.638l.057-.07L17.292 17H9.5a.5.5 0 0 1-.492-.41L9 16.5a.5.5 0 0 1 .41-.492L9.5 16h7.792l-2.646-2.646a.5.5 0 0 1 .638-.765l.07.057 3.511 3.513.017.019.009.01-.027-.03.03.035.029.04a.52.52 0 0 1 .066.162l.008.052v.007l-.002-.026.005.072v.02z"/></g></svg>',svgs["sm1/scheduler_no_date.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z"/><path fill="currentColor" d="M14 15l3.18-3.18a.5.5 0 1 1 .7.7l-3.17 3.19 3.18 3.18a.5.5 0 0 1-.7.7L14 16.42l-3.18 3.19a.5.5 0 0 1-.7-.71l3.17-3.18-3.18-3.19a.5.5 0 0 1 .7-.7L14 15z"/><path fill="currentColor" d="M22 3h.15c1.34 0 1.83.14 2.32.4.49.26.87.65 1.13 1.14.26.48.4.97.4 2.3v14.32c0 1.33-.14 1.82-.4 2.3a2.73 2.73 0 0 1-1.14 1.14c-.48.26-.97.4-2.3.4H5.84c-1.33 0-1.82-.14-2.3-.4a2.73 2.73 0 0 1-1.14-1.14c-.26-.49-.4-.97-.4-2.3V6.83c0-1.33.14-1.82.4-2.3A2.73 2.73 0 0 1 3.54 3.4c.48-.26.97-.4 2.3-.4H6V1.5a.5.5 0 0 1 1 0V3h14V1.5a.5.5 0 1 1 1 0V3zM4.28 7c-.44 0-.6.05-.77.13a.9.9 0 0 0-.38.38c-.08.17-.13.33-.13.77v13.16c0 .89.1 1.21.27 1.54.17.32.43.58.75.75.33.18.65.27 1.54.27h16.88c.89 0 1.21-.1 1.54-.27.32-.17.58-.43.75-.75.18-.33.27-.65.27-1.54V8.28c0-.44-.05-.6-.13-.77a.9.9 0 0 0-.38-.38c-.16-.08-.33-.13-.77-.13H4.28z"/></g></svg>',svgs["sm1/scheduler_postpone.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path fill="currentColor" fill-rule="nonzero" d="M19.646 1.146a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L22.792 6H14a9.5 9.5 0 0 0-9.496 9.23l-.004.27A9.5 9.5 0 0 0 14 25a9.504 9.504 0 0 0 9.065-6.649.5.5 0 1 1 .954.3A10.504 10.504 0 0 1 14 26C8.201 26 3.5 21.299 3.5 15.5S8.201 5 14 5h8.792l-3.146-3.146a.5.5 0 0 1-.057-.638z"/></svg>',svgs["sm1/scheduler_smart_date.svg"]='<svg width="28" height="28"><g fill="currentColor" fill-rule="nonzero"><path d="M12.996 2.532a.5.5 0 0 1-.431.56C7.12 3.803 3 8.46 3 14c0 6.075 4.925 11 11 11 5.54 0 10.198-4.12 10.907-9.564a.5.5 0 0 1 .992.13C25.125 21.505 20.045 26 14 26 7.373 26 2 20.627 2 14 2 7.955 6.495 2.875 12.436 2.101a.5.5 0 0 1 .56.431zm8.309 1.947a11.988 11.988 0 0 1 4.594 7.957.5.5 0 0 1-.992.129 10.988 10.988 0 0 0-4.211-7.293.5.5 0 0 1 .609-.793zm-5.83-2.381l.09.003c1.047.137 2.064.41 3.03.81a.5.5 0 1 1-.384.924 10.921 10.921 0 0 0-2.775-.742.5.5 0 0 1-.048-.983l.087-.012z" /><text font-family="-apple-system, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="12" font-weight="500"><tspan x="14" y="18" text-anchor="middle">21</tspan></text></g></svg>',svgs["sm1/scheduler_today.svg"]='<svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" fill-rule="nonzero"><path d="M6 3.5h16A2.5 2.5 0 0 1 24.5 6v2.5h-21V6A2.5 2.5 0 0 1 6 3.5z" opacity=".1"/><path d="M22 3a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h16zm0 1H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm-.5 4a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1z" /><text font-family="-apple-system, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="11" transform="translate(4 2)"><tspan x="9.5" y="18" text-anchor="middle">21</tspan></text></g></svg>',svgs["sm1/scheduler_tomorrow.svg"]='<svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" fill-ule="nonzero"><path d="M14 19a5 5 0 1 1 0-10 5 5 0 0 1 0 10z" opacity=".1" /><path d="M10.939 21.391a.5.5 0 0 1 .27.653L9.68 25.74a.5.5 0 1 1-.924-.383l1.53-3.695a.5.5 0 0 1 .654-.271zm6.776.27l1.53 3.696a.5.5 0 0 1-.923.383l-1.531-3.696a.5.5 0 0 1 .924-.382zM14 8a6 6 0 1 1 0 12 6 6 0 0 1 0-12zm-7.391 9.061a.5.5 0 0 1-.27.654l-3.696 1.53a.5.5 0 0 1-.383-.923l3.696-1.531a.5.5 0 0 1 .653.27zm15.435-.27l3.696 1.53a.5.5 0 0 1-.383.924l-3.695-1.53a.5.5 0 1 1 .382-.924zM14 9a5 5 0 1 0 0 10 5 5 0 0 0 0-10zM2.643 8.755l3.695 1.53a.5.5 0 1 1-.382.924L2.26 9.68a.5.5 0 1 1 .383-.924zm23.367.27a.5.5 0 0 1-.27.653l-3.696 1.531a.5.5 0 0 1-.382-.924l3.695-1.53a.5.5 0 0 1 .653.27zM9.678 2.26l1.531 3.696a.5.5 0 0 1-.924.382l-1.53-3.695a.5.5 0 1 1 .923-.383zm9.297-.27a.5.5 0 0 1 .27.653l-1.53 3.695a.5.5 0 1 1-.924-.382l1.53-3.696a.5.5 0 0 1 .654-.27z" /></g></svg>',svgs["sm1/search.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="sm1/search/a" d="M11.44 10.73l4.41 4.42a.5.5 0 0 1-.7.7l-4.42-4.41a6.5 6.5 0 1 1 .7-.71zM6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(4 4)"><mask id="sm1/search/b" fill="#fff"><use xlink:href="#sm1/search/a"/></mask><g mask="url(#sm1/search/b)"><path fill="currentColor" d="M-3-4h24v24H-4z"/></g></g></svg>',svgs["sm1/settings.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M3 3h18v18H3z"/><path fill="currentColor" fill-rule="nonzero" d="M8.82 6.62l-.33.2-.82-.83a.63.63 0 0 0-.9 0L6 6.79a.62.62 0 0 0-.01.89l.82.82-.2.34a6.21 6.21 0 0 0-.66 1.6l-.1.38H4.69a.63.63 0 0 0-.63.64v1.1c0 .36.28.64.63.64h1.16l.1.37a6.21 6.21 0 0 0 .66 1.61l.2.34-.82.82a.63.63 0 0 0 0 .9l.79.77a.62.62 0 0 0 .89.01l.82-.82.34.2a6.21 6.21 0 0 0 1.6.66l.38.1v1.16c0 .35.28.63.64.63h1.1a.62.62 0 0 0 .64-.63v-1.16l.37-.1a6.21 6.21 0 0 0 1.61-.67l.34-.2.82.83c.25.25.64.24.9 0l.77-.79a.62.62 0 0 0 .01-.89l-.82-.82.2-.33a6.21 6.21 0 0 0 .66-1.62l.1-.37h1.16a.63.63 0 0 0 .63-.64v-1.1a.62.62 0 0 0-.63-.64h-1.16l-.1-.37a6.21 6.21 0 0 0-.67-1.61l-.2-.34.83-.82a.63.63 0 0 0 0-.9L17.21 6a.62.62 0 0 0-.89-.01l-.82.82-.33-.2a6.21 6.21 0 0 0-1.62-.66l-.37-.1V4.69a.63.63 0 0 0-.64-.63h-1.1a.62.62 0 0 0-.64.63v1.16l-.37.1a6.21 6.21 0 0 0-1.61.66zm1-1.53v-.4c0-.9.72-1.63 1.63-1.63h1.1c.9 0 1.64.72 1.64 1.63v.4c.4.12.78.28 1.15.48l.28-.29a1.62 1.62 0 0 1 2.3.01l.79.78c.64.64.65 1.67 0 2.3l-.28.29c.2.37.36.75.48 1.15h.4c.9 0 1.63.73 1.63 1.64v1.1c0 .9-.73 1.64-1.63 1.64h-.4a7.2 7.2 0 0 1-.48 1.15l.29.28a1.62 1.62 0 0 1-.01 2.3l-.78.79a1.63 1.63 0 0 1-2.3 0l-.29-.28c-.37.2-.75.36-1.15.48v.4c0 .9-.73 1.63-1.64 1.63h-1.1A1.63 1.63 0 0 1 9.8 19.3v-.4a7.2 7.2 0 0 1-1.15-.48l-.29.29a1.62 1.62 0 0 1-2.3-.01l-.78-.78a1.63 1.63 0 0 1 0-2.3l.27-.29a7.2 7.2 0 0 1-.47-1.15h-.4c-.9 0-1.63-.73-1.63-1.64v-1.1c0-.9.72-1.64 1.63-1.64h.4c.12-.4.28-.78.47-1.15l-.28-.29a1.62 1.62 0 0 1 .01-2.3l.78-.78a1.63 1.63 0 0 1 2.3 0l.29.27c.37-.19.75-.35 1.15-.47z"/><path fill="currentColor" fill-rule="nonzero" d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/></g></svg>',svgs["sm1/share_project.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M7 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM0 18.3c0-3 3.1-5.3 7-5.3s7 2.4 7 5.3v.1c0 .9-.9 1.6-2 1.6H2c-1.1 0-2-.7-2-1.6v-.1zm1 0v.1c0 .3.4.6 1 .6h10c.6 0 1-.3 1-.6v-.1C13 16 10.4 14 7 14s-6 2-6 4.3zM12.9 14c1.1-.6 2.6-1 4.1-1 3.9 0 7 2.4 7 5.3v.1c0 .9-.9 1.6-2 1.6h-7.6l.5-1H22c.6 0 1-.3 1-.6v-.1c0-2.3-2.6-4.3-6-4.3-1.3 0-2.4.3-3.4.7a6.8 6.8 0 0 0-.7-.7zM17 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg>',svgs["sm1/smart_schedule.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="nonzero" d="M10.992 3.544a.5.5 0 0 1-.404.58A8.002 8.002 0 0 0 4 12a8 8 0 0 0 8 8c3.892 0 7.201-2.8 7.876-6.588a.5.5 0 1 1 .984.176A9.002 9.002 0 0 1 12 21a9 9 0 0 1-9-9 9.002 9.002 0 0 1 7.412-8.86.5.5 0 0 1 .58.404zm1.339 3.684c.298-.46 1.011-.174.91.364L12.602 11H14.5a.5.5 0 0 1 .42.772l-3.25 5c-.3.46-1.012.174-.911-.364L11.398 13H9.5a.5.5 0 0 1-.42-.772zm5.474-2.106a8.99 8.99 0 0 1 3.055 5.29.5.5 0 1 1-.984.176 7.99 7.99 0 0 0-2.716-4.702.5.5 0 0 1 .645-.764zM13.588 3.14c.5.089.991.22 1.467.392a.5.5 0 0 1-.34.94 7.938 7.938 0 0 0-1.303-.348.5.5 0 0 1 .176-.984z"/></svg>',svgs["sm1/smart_schedule_strike.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M15.724 13.603l-.707-.708L16.739 11h-3.618l-.5-.501.77-4.243-2.387 2.626-.708-.707L15 3l-1.09 6-.033.179-.15.821H19l-3.276 3.603zm-2.02 2.222L9 21l1.09-6 .033-.179.15-.821H5l3.276-3.603.707.708L7.261 13h3.618l.5.501-.77 4.243 2.387-2.626.708.707zm5.442 4.029a.5.5 0 0 0 .708-.708l-15-15a.5.5 0 0 0-.708.708l15 15z"/></svg>',svgs["sm1/sort.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M7 17.26L4.35 14.6a.5.5 0 0 0-.7.7l3.53 3.54a.5.5 0 0 0 .7 0l3.55-3.53a.5.5 0 0 0-.71-.7L8 17.31V5.5a.5.5 0 1 0-1 0v11.76zM17.07 6.74l2.65 2.65a.5.5 0 0 0 .7-.7L16.9 5.14a.5.5 0 0 0-.7 0l-3.54 3.53a.5.5 0 0 0 .7.7l2.72-2.7V18.5a.5.5 0 1 0 1 0V6.74z"/></svg>',svgs["sm1/starred.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="#FEBA07" fill-opacity=".1" stroke="#ED9D04" stroke-linejoin="square" d="M8.2 18.6l3.8-2.3 3.8 2.3a.8.8 0 0 0 1-.9l-.9-4.2 3.3-2.8a.8.8 0 0 0-.4-1.3L14.4 9l-1.7-4a.8.8 0 0 0-1.4 0L9.6 9l-4.4.4a.8.8 0 0 0-.4 1.3l3.3 2.8-1 4.2a.8.8 0 0 0 1.1.9z"/></g></svg>',svgs["sm1/sync.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M5.06 11.085l-1.17.955a.5.5 0 1 1-.633-.774l1.68-1.372a1 1 0 0 1 1.379.11l1.44 1.615a.5.5 0 0 1-.747.665l-.957-1.074a6 6 0 0 0 10.934 4.13l.718.718A7 7 0 0 1 5.06 11.085zm13.905 1.62l1.07-.936a.5.5 0 0 1 .66.752l-1.618 1.415a1 1 0 0 1-1.4-.082l-1.359-1.502a.5.5 0 0 1 .742-.67l.902.997A6 6 0 0 0 7.014 8.661l-.718-.719a7 7 0 0 1 12.67 4.764z"/></svg>',svgs["sm1/template.svg"]='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" version="1.1" viewBox="0 0 16 16"><g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1"><g fill="currentColor" fill-rule="nonzero"><path d="M14.9333333,5.64705882 L16,5.64705882 L16,6.58823529 L14.9333333,6.58823529 L14.9333333,5.64705882 Z M14.9333333,7.52941176 L16,7.52941176 L16,8.47058824 L14.9333333,8.47058824 L14.9333333,7.52941176 Z M14.9333333,9.41176471 L16,9.41176471 L16,10.3529412 L14.9333333,10.3529412 L14.9333333,9.41176471 Z M14.9333333,11.2941176 L16,11.2941176 L16,12.2352941 L14.9333333,12.2352941 L14.9333333,11.2941176 Z M14.9333333,13.1764706 L16,13.1764706 L16,14.1176471 L14.9333333,14.1176471 L14.9333333,13.1764706 Z M14.9333333,3.76470588 L16,3.76470588 L16,4.70588235 L14.9333333,4.70588235 L14.9333333,3.76470588 Z M6.4,15.0588235 L7.46666667,15.0588235 L7.46666667,16 L6.4,16 L6.4,15.0588235 Z M4.26666667,15.0588235 L5.33333333,15.0588235 L5.33333333,16 L4.26666667,16 L4.26666667,15.0588235 Z M8.53333333,15.0588235 L9.6,15.0588235 L9.6,16 L8.53333333,16 L8.53333333,15.0588235 Z M10.6666667,15.0588235 L11.7333333,15.0588235 L11.7333333,16 L10.6666667,16 L10.6666667,15.0588235 Z M12.8,15.0588235 L13.8666667,15.0588235 L13.8666667,16 L12.8,16 L12.8,15.0588235 Z"/><path d="M2.13333333,0.941176471 C1.5442296,0.941176471 1.06666667,1.36255553 1.06666667,1.88235294 L1.06666667,12.2352941 C1.06666667,12.7550915 1.5442296,13.1764706 2.13333333,13.1764706 L11.7333333,13.1764706 C12.322437,13.1764706 12.8,12.7550915 12.8,12.2352941 L12.8,1.88235294 C12.8,1.36255553 12.322437,0.941176471 11.7333333,0.941176471 L2.13333333,0.941176471 Z M2.13333333,0 L11.7333333,0 C12.9115408,0 13.8666667,0.842758118 13.8666667,1.88235294 L13.8666667,12.2352941 C13.8666667,13.2748889 12.9115408,14.1176471 11.7333333,14.1176471 L2.13333333,14.1176471 C0.955125867,14.1176471 0,13.2748889 0,12.2352941 L0,1.88235294 C0,0.842758118 0.955125867,0 2.13333333,0 Z"/></g></g></svg>',svgs["sm1/theme.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="currentColor" fill-rule="evenodd"><path fill-rule="nonzero" d="M14.505 19.09c.345.617.733.84 1.464.842.653.001 1.417-.43 2.015-1.104C19.418 17.173 20 15.383 20 12.23 20 7.679 16.413 4 12 4s-8 3.68-8 8.23c0 2.465.59 4.183 1.727 4.675.765.332 1.37.33 2.306.068.175-.049.217-.061.685-.207 1.168-.362 1.85-.503 2.761-.483 1.595.022 2.237.71 2.772 2.192l.028.078c.099.273.157.414.226.536zm-.873.488c-.528-.943-.44-2.271-2.166-2.295-2.407-.053-3.783 1.558-6.136.54C3.467 17.017 3 14.459 3 12.23 3 7.133 7.03 3 12 3s9 4.133 9 9.23c0 3.528-.734 5.492-2.26 7.253-.678.764-1.693 1.45-2.773 1.449-1.08-.003-1.807-.411-2.335-1.354z"/><path d="M11.909 7.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3.214 1.17a1 1 0 1 1 1.286-1.532 1 1 0 0 1-1.286 1.532zm1.71 2.962a1 1 0 1 1 1.97-.348 1 1 0 0 1-1.97.348zM16.24 15a1 1 0 1 1 1.732 1 1 1 0 0 1-1.732-1zm-9.254-3.368a1 1 0 1 1-1.97-.348 1 1 0 0 1 1.97.348zm1.71-2.962A1 1 0 1 1 7.41 7.138 1 1 0 0 1 8.695 8.67z"/></g></svg>',svgs["sm1/todoist_logo.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M21 0H3a3 3 0 0 0-3 3v3.7L4 9c.4.2.8.2 1.1 0l8-4.6a.8.8 0 0 1 .8 0l1 .5c.2.2.1.6 0 .7L5.1 11c-.4.3-.7.3-1.2 0L0 8.8v2l4 2.4c.4.2.8.2 1.1 0l8-4.6a.8.8 0 0 1 .8 0l1 .5c.2.1.1.5 0 .6l-9.7 5.6c-.4.2-.7.3-1.2 0A857 857 0 0 1 0 13v2l4 2.3c.4.2.8.2 1.1 0l8-4.6a.8.8 0 0 1 .8 0l1 .5c.2.2.1.6 0 .7l-9.7 5.5c-.4.3-.7.3-1.2 0a857 857 0 0 1-4-2.3v4A3 3 0 0 0 3 24h18a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3"/></svg>',svgs["sm1/todoist_outline.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="currentColor" fill-rule="evenodd"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6z"/><path d="M7.42 16.89l6.47-3.73c.14-.08.15-.32 0-.41l-.57-.32a.51.51 0 0 0-.5 0L7.4 15.55a.67.67 0 0 1-.67 0L4 13.96v1.35l2.72 1.58c.24.13.47.13.7 0m0-5.4l6.47-3.72c.14-.08.15-.33 0-.41l-.57-.32a.51.51 0 0 0-.5 0L7.4 10.16a.67.67 0 0 1-.67 0L4 8.57v1.35l2.72 1.58c.24.13.47.13.7 0"/><path d="M7.42 14.2l6.47-3.73c.14-.08.15-.33 0-.42l-.57-.32a.51.51 0 0 0-.5 0L7.4 12.87a.67.67 0 0 1-.67 0L4 11.26v1.36l2.72 1.57c.24.14.47.14.7 0"/></g></svg>',svgs["sm1/trash.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><rect width="14" height="1" x="5" y="6" fill="currentColor" rx=".5"/><path fill="currentColor" d="M10 9h1v8h-1V9zm3 0h1v8h-1V9z"/><path stroke="currentColor" d="M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"/></g></svg>',svgs["sm1/twist.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#C4C4C4" d="M18 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h12zM8.89 8.4L4 7.14v1.37h4.93c.05 0 .07 0 .07-.05 0-.04-.03-.06-.11-.08zM7.5 11.74c0-.3.04-.45.29-.54l5.2-1.54a.02.02 0 0 0 .01-.02v-.43c0-.12-.06-.2-.15-.2l-.18.03-6.33.9a.39.39 0 0 0-.34.39v2.45c0 .22.17.36.38.32l1.1-.22a.02.02 0 0 0 .02-.02v-1.12zm2.32 1.06a.6.6 0 0 0-.32.56v2.73c0 .2.2.3.36.2l2.57-1.6 1.17.81a.08.08 0 0 0 .05.02c.04 0 .06-.02.07-.06l.55-1.92 1.43-.9a.64.64 0 0 0 .3-.54V9.7c0-.18-.1-.27-.23-.27-.07 0-.11.02-.15.04l-5.8 3.35z"/></svg>',svgs["sm1/twitter.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" fill-rule="evenodd" d="M20.92 4.3a7.85 7.85 0 0 1-2.54 1A3.94 3.94 0 0 0 15.47 4a4.04 4.04 0 0 0-3.89 5.02 11.23 11.23 0 0 1-8.23-4.27 4.17 4.17 0 0 0-.54 2.06c0 1.42.7 2.67 1.78 3.4a3.92 3.92 0 0 1-1.81-.5v.04a4.07 4.07 0 0 0 3.2 4.01 3.89 3.89 0 0 1-1.8.08 4 4 0 0 0 3.73 2.84A7.88 7.88 0 0 1 2 18.38a11.11 11.11 0 0 0 6.12 1.83c7.34 0 11.35-6.23 11.35-11.64v-.53a8.19 8.19 0 0 0 1.98-2.12 7.82 7.82 0 0 1-2.29.64 4.08 4.08 0 0 0 1.76-2.26"/></svg>',svgs["sm1/unarchive.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M18.5 9.5h-13V18A1.5 1.5 0 0 0 7 19.5h10a1.5 1.5 0 0 0 1.5-1.5V9.5zm-14 0h15V7A1.5 1.5 0 0 0 18 5.5H6A1.5 1.5 0 0 0 4.5 7v2.5z"/><path fill="currentColor" d="M11.98 13.7l2.47 2.48a.5.5 0 1 0 .71-.7l-2.83-2.83a.5.5 0 0 0-.7 0L8.8 15.48a.5.5 0 0 0 .7.7l2.48-2.47z"/></g></svg>',
svgs["sm1/upload.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M12 5.5L9.85 7.65a.5.5 0 1 1-.7-.71l2.64-2.65a1 1 0 0 1 1.42 0l2.64 2.65a.5.5 0 0 1-.7.7L13 5.5v9.3a.5.5 0 0 1-1 0V5.5z"/><path stroke="currentColor" stroke-linecap="round" d="M20.5 11.5v4.44c0 .89-.1 1.21-.28 1.54a1.88 1.88 0 0 1-.81.75c-.35.18-.7.27-1.65.27H7.24c-.95 0-1.3-.1-1.64-.27a1.88 1.88 0 0 1-.8-.75c-.2-.33-.29-.65-.29-1.54V11.5"/></g></svg>',svgs["sm1/warning.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="#FF9801" d="M13.77 4.8l7.3 12.17A2 2 0 0 1 19.36 20H4.75a2 2 0 0 1-1.72-3.03l7.3-12.17a2 2 0 0 1 3.44 0z"/><path fill="#FFF" d="M10.88 8.41h2.35l-.2 5.92h-1.95l-.2-5.92zm-.07 7.91c0-.7.45-1.11 1.24-1.11s1.26.4 1.26 1.11c0 .7-.47 1.11-1.26 1.11s-1.24-.4-1.24-1.1z"/></g></svg>'},{}],1052:[function(e,t,r){"use strict";svgs["sm2/magnifying_glass.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path fill="#000" fill-rule="nonzero" d="M11.43 10.83l3.34 3.34c.17.17.17.44 0 .6a.43.43 0 0 1-.6 0l-3.34-3.34a6 6 0 1 1 .6-.6zm-8.17-.3a5.14 5.14 0 1 0 7.27-7.27 5.14 5.14 0 0 0-7.27 7.27z"/></svg>',svgs["sm2/no_search_result.svg"]='<svg xmlns="http://www.w3.org/2000/svg" width="60" height="55"><path fill="currentColor" fill-rule="nonzero" d="M58.82 47.68l-10.2-10.21c2-3.22 2.86-6.96 2.58-10.62h5.1c.72 0 1.3-.59 1.3-1.3V1.3c0-.72-.58-1.3-1.3-1.3h-55C.58 0 0 .58 0 1.3v24.24c0 .72.58 1.3 1.3 1.3h14.83a17.56 17.56 0 0 0 17.54 18.94c3.22 0 6.44-.88 9.27-2.63l10.21 10.2a3.99 3.99 0 0 0 5.67 0 3.99 3.99 0 0 0 0-5.67zM2.61 24.24V2.61H55v21.63h-4.2a17.61 17.61 0 0 0-34.27 0H2.61zm20.46 14.55a15 15 0 0 1 10.6-25.58 15 15 0 0 1 10.6 25.58 15 15 0 0 1-21.2 0zm33.91 12.72a1.4 1.4 0 0 1-1.99 0l-9.92-9.92a17.75 17.75 0 0 0 2-1.99l9.91 9.92a1.4 1.4 0 0 1 0 1.99zm-14.1-32.53a12.95 12.95 0 0 0-9.21-3.82 13.05 13.05 0 0 0 0 26.07c3.48 0 6.75-1.36 9.21-3.82a12.95 12.95 0 0 0 3.82-9.22c0-3.48-1.35-6.75-3.82-9.21zM26.3 20.82a10.36 10.36 0 0 1 7.38-3.05c2.78 0 5.4 1.08 7.37 3.05a10.36 10.36 0 0 1 2.72 10.03H23.59c-.9-3.47 0-7.32 2.7-10.03zm7.38 17.8a10.36 10.36 0 0 1-9-5.17h18a10.48 10.48 0 0 1-9 5.17zm-3.23-11.16a1.3 1.3 0 0 1 0-1.84l1.38-1.38-1.38-1.38A1.3 1.3 0 0 1 32.28 21l1.38 1.39L35.04 21a1.3 1.3 0 0 1 1.85 1.85l-1.38 1.38 1.38 1.38a1.3 1.3 0 0 1-1.85 1.84l-1.38-1.38-1.38 1.38a1.3 1.3 0 0 1-1.84 0zM50.69 7.3c0 .72-.58 1.3-1.3 1.3H8.21a1.3 1.3 0 0 1 0-2.6h41.18c.72 0 1.3.58 1.3 1.3z"/></svg>'},{}],1053:[function(e,t,r){"use strict";window.svgs={parser:new DOMParser,cachedElements:{},getString:function(e,t){if(!this[e])return console.error("svgs.getString() received undefined path: "+e),null;var r=this[e];return t&&t.className&&(r=r.replace("<svg ",'<svg class="'+t.className+'" ')),r=r.replace("<svg ",'<svg data-svgs-path="'+e+'" ')},get:function(e,t){if(!this[e])return console.error("svgs.get() received undefined path: "+e),null;t&&t.extra_class&&console.error("svgs: Found deprecated extrass_class usage"+e),this.cachedElements[e]||(this.cachedElements[e]=this.parser.parseFromString(this[e],"text/html").body.firstChild);var r=this.cachedElements[e].cloneNode(!0);return r.setAttribute("data-svgs-path",e),t&&t.className&&(r.classList?r.classList.add(t.className):"[object SVGAnimatedString]"===r.className.toString()?r.className.baseVal=r.className.baseVal.toString()+" "+t.className:r.className=r.className+" "+t.className),t&&t.width&&r.setAttribute("width",t.width),t&&t.height&&r.setAttribute("height",t.height),r}}},{}],1054:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US"," ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],a=n.reduce(function(e,t,r){return e[t]=r,e},{}),i=a;r.default=i},{}],1055:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.idbs=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("idbstorage")),l=n(e("../logger/Logger")),s="localStorage",u=/.*quota*./i,c=function(e){return u.test(e.name)||u.test(e.message)},d=new o.default({name:"todoist.cellstorage"});r.idbs=d;var f=function(){function e(t){(0,a.default)(this,e),this.key=t,this.driverType=localStorage.getItem("".concat(this.key,"/driver"))||s}return(0,i.default)(e,[{key:"get",value:function(){if(this.checkDriverType(),this.usingLocalStorage){var e=localStorage.getItem("".concat(this.key,"/data"));return void 0===e?Promise.resolve(e):Promise.resolve(JSON.parse(e))}return d.getItem(this.key)}},{key:"set",value:function(e){if(this.checkDriverType(),this.usingLocalStorage)try{return void 0===e?this.clear():(localStorage.setItem("".concat(this.key,"/data"),JSON.stringify(e)),Promise.resolve())}catch(t){return c(t)?(this.switchToIDBDriver(),this.set(e)):Promise.reject(t)}return d.setItem(this.key,e)}},{key:"clear",value:function(){return this.checkDriverType(),this.usingLocalStorage?(localStorage.removeItem("".concat(this.key,"/data")),Promise.resolve()):d.clear()}},{key:"switchToIDBDriver",value:function(){localStorage.removeItem("".concat(this.key,"/data")),this.driverType="indexedDB",localStorage.setItem("".concat(this.key,"/driver"),"indexedDB")}},{key:"checkDriverType",value:function(){if(this.driverType!==s&&"indexedDB"!==this.driverType){var e=new Error("CellStorage: invalid driver '".concat(this.driverType,"'"));throw l.default.captureError(e,{tags:{where:"cellstroage"}}),Signals.sendSignal("clean_reload"),e}}},{key:"_DEBUG_forceSwtichIndexedDB",value:function(){var e=JSON.parse(localStorage.getItem("".concat(this.key,"/data")));this.switchToIDBDriver(),this.set(e)}},{key:"usingLocalStorage",get:function(){return this.driverType===s}},{key:"usingIndexedDB",get:function(){return"indexedDB"===this.driverType}}]),e}();r.default=f},{"../logger/Logger":132,"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,idbstorage:"idbstorage"}],1056:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("dateist"),a={weekdayNames:[_("Sunday"),_("Monday"),_("Tuesday"),_("Wednesday"),_("Thursday"),_("Friday"),_("Saturday")],weekdayNamesAbbreviations:[_("Sun"),_("Mon"),_("Tue"),_("Wed"),_("Thu"),_("Fri"),_("Sat")],dayShort:[_("su"),_("mo"),_("tu"),_("we"),_("th"),_("fr"),_("sa")],humanizeDayDiff:function(e,t){var r=!0,i="";if(0==e)i=_("Today");else if(1==e)i=_("Tomorrow");else if(-1==e)i=_("Yesterday");else if(e>0&&e<=7){var o=a.getWeekDay(t.getDay());i=o}else r=!1,i=a.formatView(t,!1);if(window.PRINT_MODE&&(i=a.formatView(t,!1)),r&&n.DateistDateHelpers.has_time(t)){var l=a.getDateistLang();"zh"==l||"ja"==l||"ko"==l?i=a.getHourAndMin(t)+i:i+=a.getHourAndMin(t)}return i},prettyDate:function(e){var t,r=new Date(e),n=((new Date).getTime()-r.getTime())/1e3;return n<5?_x("time_ago","Just now"):n<60?(t=Math.floor(n),_nx("time_ago","1 second ago","{n} seconds ago",t).replace("{n}",t.toString())):n<3600?(t=Math.floor(n/60),_nx("time_ago","1 minute ago","{n} minutes ago",t).replace("{n}",t.toString())):n<86400?(t=Math.floor(n/3600),_nx("time_ago","1 hour ago","{n} hours ago",t).replace("{n}",t.toString())):n<604800?(t=Math.floor(n/86400),_nx("time_ago","1 day ago","{n} days ago",t).replace("{n}",t.toString())):n>=604800?(t=Math.floor(n/604800),_nx("time_ago","1 week ago","{n} weeks ago",t).replace("{n}",t.toString())):""},jsonFormat:function(e){function t(e){return e<10&&(e="0"+e),e}var r=e.getUTCFullYear(),n=e.getUTCDate();return r+"-"+(e.getUTCMonth()+1)+"-"+n+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getSeconds())},format:function(e,t,r){if(!e)return"";var i={lang:a.getDateistLang()},o=new Date,l=!1;e.getFullYear()!=o.getFullYear()&&(l=!0),t&&n.DateistDateHelpers.is_overdue(o,e)&&(l=!0);var s=!1;59!=e.getSeconds()&&(s=!0);var u={with_year:l,with_month:!0,with_time:s,with_day:!0};a.isUsDates()?i.us_dates=1:i.us_dates=0,a.isAmPm()?i.am_pm=1:i.am_pm=0,r&&$update(u,r);var c=Dateist.format_date(e,i,u);if(r&&r.with_weekday){return this.weekdayNamesAbbreviations[e.getDay()]+" "+c}return c},formatView:function(e,t){return this.format(e,!1,{lang:window.LANG,with_weekday:t})},getWeekDay:function(e){return _(this.weekdayNames[e])},getWeekdayShort:function(e){return a.dayShort[e.getDay()]},parse:function(e,t,r,n,i){var o={all_results:i,us_dates:a.isUsDates()&&1||0,am_pm:a.isAmPm()&&1||0,start_day:a.startDay(),next_week:a.nextWeek()};n&&(o.ignored_matches=n);var l=[];t&&t.due?(o.task_date=t.due.toDate(),"en"!=t.due.lang&&l.push(t.due.lang)):window.DATEIST_LANG&&l.push(window.DATEIST_LANG),l.push("en");try{return 1==r?(window.DATEIST_LANG&&(o.lang=window.DATEIST_LANG),Dateist.parse_free_text(e,o)):Dateist.parse_multiple(e,l,o)}catch(e){return e}},dateistResultFromDate:function(e){var t={lang:a.getDateistLang()},r=Dateist.format_date(e,t,{with_time:!1});return Dateist.parse(r,t)},getHourAndMin:function(e){var t={lang:a.getDateistLang()};a.isAmPm()?t.am_pm=1:t.am_pm=0;var r={with_year:!1,with_month:!1,with_day:!1,with_time:!0,only_with_time:!0};return Dateist.format_date(e,t,r)},isUsDates:function(){return!window.Settings||window.Settings.US_DATES},isAmPm:function(){return!window.Settings||window.Settings.AMPM},startDay:function(){return window.Settings?window.Settings.START_DAY:1},nextWeek:function(){return window.Settings?window.Settings.NEXT_WEEK:1},getDateistLang:function(){return window.DATEIST_LANG||window.LANG||"en"}},i=a;r.default=i},{dateist:455}],1057:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.isWindows=r.isMac=r.isSafari=r.isIE11=r.isIE=r.isMacApp=r.isChromeApp=r.isOutlookApp=r.isWindowApp=void 0;var n=-1!=window.location.hostname.indexOf("win.todoist");r.isWindowApp=n;var a=-1!=window.location.hostname.indexOf("outlook.todoist");r.isOutlookApp=a;var i=-1!=window.location.hostname.indexOf("chrome.todoist");r.isChromeApp=i;var o=null!=navigator.userAgent.match(/Todoist for macOS|TDMacApp/);r.isMacApp=o;var l=window.navigator.userAgent.toLowerCase().match(/msie|trident/);r.isIE=l;var s=!!window.MSInputMethodContext&&!!document.documentMode;r.isIE11=s;var u=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);r.isSafari=u;var c=/macintosh/i.test(window.navigator.userAgent);r.isMac=c;var d=/windows/i.test(window.navigator.userAgent);r.isWindows=d;var f={isWindowApp:n,isOutlookApp:a,isChromeApp:i,isMacApp:o,isMac:c,isIE:l,isIE11:s,isSafari:u,isWindows:d};r.default=f},{}],1058:[function(e,t,r){"use strict";function n(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1059:[function(e,t,r){"use strict";function n(e){this.size=0,this.limit="number"==typeof e?e:10,this.map={},this.head=null,this.tail=null}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("lodash/isNumber")),o=a(e("lodash/isString")),l=a(e("lodash/values")),s=a(e("lodash/keys"));n.prototype.lrunode=function(e,t){void 0!==e&&null!==e&&(this.key=e),void 0!==t&&null!==t&&(this.value=t),this.prev=null,this.next=null},n.prototype.setHead=function(e){e.next=this.head,e.prev=null,null!==this.head&&(this.head.prev=e),this.head=e,null===this.tail&&(this.tail=e),this.size++,this.map[e.key]=e},n.prototype.set=function(e,t){if(!(0,i.default)(e)&&!(0,o.default)(e))throw new Error("Invalid arguemnt. key has to be string or number, but ".concat(e," is received"));var r=new n.prototype.lrunode(e,t);return this.map[e]?(this.map[e].value=r.value,this.delete(r.key)):this.size>=this.limit&&(delete this.map[this.tail.key],this.size--,this.tail=this.tail.prev,this.tail.next=null),this.setHead(r),this},n.prototype.get=function(e){if(this.map[e]){var t=this.map[e].value,r=new n.prototype.lrunode(e,t);return this.delete(e),this.setHead(r),t}},n.prototype.has=function(e){return!!this.map[e]},n.prototype.delete=function(e){if(!this.has(e))return!1;var t=this.map[e];return null!==t.prev?t.prev.next=t.next:this.head=t.next,null!==t.next?t.next.prev=t.prev:this.tail=t.prev,delete this.map[e],this.size--,!0},n.prototype.clear=function(e){this.size=0,this.map={},this.head=null,this.tail=null,"number"==typeof e&&(this.limit=e)},n.prototype.forEach=function(e){for(var t=this.head,r=0;t;)e.apply(this,[t,r,this]),r++,t=t.next},n.prototype.values=function(){return(0,l.default)(this.map).map(function(e){return e.value})},n.prototype.keys=function(){return(0,s.default)(this.map)}},{"@babel/runtime/helpers/interopRequireDefault":189,"lodash/isNumber":"lodash/isNumber","lodash/isString":"lodash/isString","lodash/keys":"lodash/keys","lodash/values":"lodash/values"}],1060:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/toConsumableArray")),o=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),s=function(){function e(){(0,o.default)(this,e),this.locked=!1,this.deferred=[]}return(0,l.default)(e,[{key:"lock",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.timeout;this.locked=!0,r&&(this.unlockTimeout&&clearTimeout(this.unlockTimeout),this.unlockTimeout=setTimeout(function(){e.locked&&e.unlock(),e.unlockTimeout=null},r))}},{key:"unlock",value:function(){this.locked=!1;var e=(0,i.default)(this.deferred);this.deferred=[],this.unlockTimeout&&(clearTimeout(this.unlockTimeout),this.unlockTimeout=null),Promise.resolve().then(function(){e.forEach(function(e){return e()})})}},{key:"onUnlock",value:function(e){var t=u(e),r=(0,a.default)(t,2),n=r[0],i=r[1];return this.locked?this.deferred.push(i):Promise.resolve().then(i),n}}]),e}();r.default=s;var u=function(e){var t,r;return[new Promise(function(e,n){t=e,r=n}),function(){try{t(e())}catch(e){r(e)}}]}},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/toConsumableArray":200}],1061:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=function(){function e(t,r,n){(0,a.default)(this,e),this.jobFn=t,this.resolve=r,this.reject=n}return(0,i.default)(e,[{key:"exec",value:function(){try{var e=this.jobFn();return e instanceof Promise?e.then(this.resolve.bind(this),this.reject.bind(this)):(this.resolve(e),Promise.resolve(e))}catch(e){return Promise.reject(e)}}}]),e}(),l=function(){function e(){(0,a.default)(this,e),this.queue=[],this.isExecuting=!1}return(0,i.default)(e,[{key:"put",value:function(e){var t=this;return new Promise(function(r,n){var a=new o(e,r,n);t.queue.push(a),t.startNextJob()})}},{key:"clear",value:function(){this.queue=[]}},{key:"startNextJob",value:function(){if(0!=this.length&&!this.isExecuting){var e=this.queue[0];this.queue=this.queue.slice(1),this.isExecuting=!0,e.exec().then(this.onExecComplete.bind(this),this.onExecComplete.bind(this))}}},{key:"onExecComplete",value:function(){this.isExecuting=!1,this.startNextJob()}},{key:"length",get:function(){return this.queue.length}}]),e}();r.default=l},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189}],1062:[function(e,t,r){"use strict";function n(){var e,t=arguments[0],r=0;if(1==arguments.length)return t;if(2==arguments.length&&"object"==(0,i.default)(arguments[1]))e=arguments[1];else{e=[];for(var n=1,a=arguments.length;n!=a;++n)e[n-1]=arguments[n]}return t.replace(o,function(t,n,a){if(t[0]==t[1])return t.substring(1);var i=e[n||r++];return"i"==a||"d"==a?+i:i})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/typeof")),o=/%?%(?:\(([^)]+)\))?([disr])/g},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/typeof":201}],1063:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e,t){var r=new Date;e.addEventListener("compositionstart",function(){r=new Date}),e.addEventListener("compositionend",function(e){var n=new Date;setTimeout(function(){r&&r>=n&&r.getTime()-n.getTime()<50||t(e)},10)})},a=n;r.default=a},{}],1064:[function(e,t,r){"use strict";function n(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1065:[function(e,t,r){"use strict";function n(e){return navigator.clipboard?navigator.clipboard.writeText(e):window.clipboardData?(window.clipboardData.setData("Text",e),Promise.resolve()):a(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n,n.supported=navigator.clipboard||window.clipboardData||document.queryCommandSupported&&document.queryCommandSupported("copy");var a=function(e){var t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left=0,t.style.top=0,t.style.zIndex=-1,t.style.opacity=0,t.setAttribute("readonly",""),document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);var r=document.execCommand("copy");return t.remove(),r?Promise.resolve():Promise.reject()}},{}],1066:[function(e,t,r){"use strict";function n(){var e=function(e,t,r,n,a){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6];r.lang=t;try{return Dateist.parse(e,r)}catch(e){return null}},t=(0,i.default)(e),r=(0,i.default)(e);return function(e,a,i){var o=n.now(),l=t(e,a,i,o.getMonth(),o.getDate());return l&&"hour"===l.unit&&(l=r(e,a,i,o.getMonth(),o.getDate(),o.getHours(),o.getMinutes())),l?l.due_date:null}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("./memoize"));n.defaultNow=function(){return new Date},n.now=n.defaultNow},{"./memoize":1108,"@babel/runtime/helpers/interopRequireDefault":189}],1067:[function(e,t,r){"use strict";function n(e){if("string"!=typeof e)return"";try{if(e.length<50)return e;var t=document.createElement("a");t.setAttribute("href",e);var r=t.pathname;if("/"==r)return e.substring(0,50)+"\u2026";r.endsWith("/")&&(r=r.substring(0,r.length-1));var n=r.split("/");return n.length<3?e.substring(0,50)+"\u2026":t.protocol+"//"+t.hostname+"/"+n[1]+"/\u2026/"+n[n.length-1]}catch(t){return"string"==typeof e?e:""}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1068:[function(e,t,r){"use strict";function n(e){return e=new Date(e.getTime()),e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999),e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1069:[function(e,t,r){"use strict";function n(e){return e=new Date(e.getTime()),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1070:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=(0,u.default)(e).filter(function(e){var t=(0,s.default)(e,2);t[0];return void 0===t[1]}).map(function(e){return(0,s.default)(e,1)[0]});if(0===t.length)return e;var r=a({},e),n=!0,i=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){delete r[l.value]}}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return r}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("@babel/runtime/helpers/slicedToArray")),u=o(e("lodash/toPairs"))},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"lodash/toPairs":"lodash/toPairs"}],1071:[function(e,t,r){"use strict";function n(e,t){return new _(e,t)}function a(e){for(var t in e){if(!m[t])throw new Error("Undefined dep: cannot inject dependencies ".concat(t," that is not defined yet"));var r=e[t];m[t].inject(r)}}function i(){var e=v(m);if(e.length>0){var t=e.map(function(e){var t=(0,l.default)(e,2),r=t[0],n=t[1];return"".concat(r,": [").concat(n.join(", "),"]")}).join("\n");throw new Error("Following deps was not injected:\n".concat(t))}}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.defineDeps=n,r.inject=a,r.checkIfAllInjected=i,r.Deps=r._clearRegistry=void 0;var l=o(e("@babel/runtime/helpers/slicedToArray")),s=o(e("@babel/runtime/helpers/classCallCheck")),u=o(e("@babel/runtime/helpers/createClass")),c=e("redux"),d=o(e("lodash/fp/toPairs")),f=o(e("lodash/fp/filter")),p=o(e("lodash/fp/map")),m={},h=function(){for(var e in m)delete m[e]};r._clearRegistry=h;var _=function(){function e(t,r){if((0,s.default)(this,e),m[t])throw new Error("Name collision error: Deps for module ".concat(t," has already defined. (try use different ID)"));this.id=t,this.expectedDeps=r,m[t]=this}return(0,u.default)(e,[{key:"inject",value:function(e){for(var t in e)this[t]=e[t]}},{key:"missingDeps",get:function(){var e=this;return this.expectedDeps.filter(function(t){return!e[t]})}},{key:"hasMissingDeps",get:function(){return 0===this.missingDeps.length}}]),e}();r.Deps=_;var v=(0,c.compose)((0,f.default)(function(e){var t=(0,l.default)(e,2);t[0];return t[1].length>0}),(0,p.default)(function(e){var t=(0,l.default)(e,2);return[t[0],t[1].missingDeps]}),d.default)},{"@babel/runtime/helpers/classCallCheck":183,"@babel/runtime/helpers/createClass":184,"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"lodash/fp/filter":"lodash/fp/filter","lodash/fp/map":"lodash/fp/map","lodash/fp/toPairs":"lodash/fp/toPairs",redux:"redux"}],1072:[function(e,t,r){"use strict";function n(e,t){"function"==typeof e&&(e=[e]);var r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;if(t.target.closest(l))return!0}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return!1}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1073:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"eventFrom",{enumerable:!0,get:function(){return a.default}});var a=n(e("./eventFrom"))},{"./eventFrom":1072,"@babel/runtime/helpers/interopRequireDefault":189}],1074:[function(e,t,r){"use strict";Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this,r=this;if(!document.documentElement.contains(t))return null;do{if(r.matches(e))return r;r=r.parentElement}while(null!==r&&void 0!==r);return null}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean).forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})},{}],1075:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.easeOutQuint=r.easeInQuint=r.easeInOutQuart=r.easeOutQuart=r.easeInQuart=r.easeInOutCubic=r.easeOutCubic=r.easeInCubic=r.easeInOutQuad=r.easeOutQuad=r.easeInQuad=r.linear=void 0;var n=function(e){return e};r.linear=n;var a=function(e){return Math.pow(e,2)};r.easeInQuad=a;var i=function(e){return-(Math.pow(e-1,2)-1)};r.easeOutQuad=i;var o=function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)};r.easeInOutQuad=o;var l=function(e){return Math.pow(e,3)};r.easeInCubic=l;var s=function(e){return Math.pow(e-1,3)+1};r.easeOutCubic=s;var u=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};r.easeInOutCubic=u;var c=function(e){return Math.pow(e,4)};r.easeInQuart=c;var d=function(e){return-(Math.pow(e-1,4)-1)};r.easeOutQuart=d;var f=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)};r.easeInOutQuart=f;var p=function(e){return Math.pow(e,5)};r.easeInQuint=p;var m=function(e){return Math.pow(e-1,5)+1};r.easeOutQuint=m;var h={linear:n,easeInQuad:a,easeOutQuad:i,easeInOutQuad:o,easeInCubic:l,easeOutCubic:s,easeInOutCubic:u,easeInQuart:c,easeOutQuart:d,easeInOutQuart:f,easeInQuint:p,easeOutQuint:m};r.default=h},{}],1076:[function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.element,n=void 0===r?document:r,a=t.stopPropagation,i=void 0===a||a,o=function(t){if(t.key&&"Escape"===t.key||27===t.keyCode)return i&&t.stopPropagation(),e(t)};return n.addEventListener("keydown",o),function(){n.removeEventListener("keydown",o)}}Object.defineProperty(r,"__esModule",{value:!0}),r.addEscapeHandler=n},{}],1077:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){var r=(0,u.default)(e);return(0,s.default)(a({},t),r)}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("lodash/omit")),u=o(e("lodash/keys"))},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"lodash/keys":"lodash/keys","lodash/omit":"lodash/omit"}],1078:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e){return e.split(" ")[0]},a=n;r.default=a},{}],1079:[function(e,t,r){"use strict";function n(e,t){for(var r=e,n=0,a=Object.keys(t);n<a.length;n++){var i=a[n],o=new RegExp("\\{\\s*".concat(i,"\\s*\\}"),"g"),l=t[i];r=r.replace(o,l)}return r}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1080:[function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.withYear,n=void 0!==r&&r,a=t.withWeekday,o=void 0===a||a,l=t.withTime;return void 0===l||l||(e instanceof i.DateExt&&(e=e.toDate()),e=DateistDateHelpers.date_max(e)),DateUtils.format(e,!1,{lang:window.LANG,with_weekday:o,with_year:n})}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a=e("../utils/deps"),i=(0,a.defineDeps)("utils/formatDate",["DateExt"])},{"../utils/deps":1071}],1081:[function(e,t,r){"use strict";function n(e,t){var r=(0,o.compose)((0,s.default)(function(e){var t=(0,i.default)(e,2),r=t[0];return{name:r,value:t[1],re:new RegExp("\\{\\s*".concat(r,"\\s*\\}"),"g")}}),l.default)(t),n=(0,o.compose)((0,c.default)("startIndex"),(0,u.default)(function(e){return e}),d.default,(0,s.default)(function(t){for(var r,n=t.name,a=t.value,i=t.re,o=[];null!==(r=i.exec(e));)o.push({name:n,value:a,re:i,startIndex:r.index,endIndex:r.index+r[0].length});return o}))(r),a=[],p=0,m=!0,h=!1,_=void 0;try{for(var v,b=n[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var y=v.value,g=y.startIndex,E=y.endIndex,T=y.value,w=document.createTextNode(e.slice(p,g)),R=T;(0,f.default)(T)||T instanceof Element||(R=document.createTextNode(T)),a.push(w),a.push(R),p=E}}catch(e){h=!0,_=e}finally{try{m||null==b.return||b.return()}finally{if(h)throw _}}var P=document.createTextNode(e.slice(p,e.length));return a.push(P),a}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=e("redux"),l=a(e("lodash/toPairs")),s=a(e("lodash/fp/map")),u=a(e("lodash/fp/filter")),c=a(e("lodash/fp/sortBy")),d=a(e("lodash/flatten")),f=a(e("lodash/isElement"))},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"lodash/flatten":"lodash/flatten","lodash/fp/filter":"lodash/fp/filter","lodash/fp/map":"lodash/fp/map","lodash/fp/sortBy":"lodash/fp/sortBy","lodash/isElement":"lodash/isElement","lodash/toPairs":"lodash/toPairs",redux:"redux"}],1082:[function(e,t,r){"use strict";function n(e){return function(t){return e?console.log(e,t):console.log(t),t}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1083:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"compose",{enumerable:!0,get:function(){return a.compose}}),Object.defineProperty(r,"createSelector",{enumerable:!0,get:function(){return i.createSelector}}),Object.defineProperty(r,"byID",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"consoleLog",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"difference",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"filter",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"find",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"findLast",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"flatten",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"get",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"getOr",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"groupBy",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"head",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(r,"keyBy",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"keys",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(r,"last",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(r,"map",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(r,"mapValues",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(r,"mapKeys",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(r,"max",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(r,"merge",{enumerable:!0,get:function(){return R.default}}),
Object.defineProperty(r,"min",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(r,"omit",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(r,"pick",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(r,"pickBy",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(r,"set",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(r,"sortBy",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(r,"sum",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(r,"toPairs",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(r,"unset",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(r,"values",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(r,"partition",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(r,"intersectionWith",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(r,"uniqBy",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(r,"orderBy",{enumerable:!0,get:function(){return q.default}});var a=e("redux"),i=e("reselect"),o=n(e("../toIDMap")),l=n(e("./consoleLog")),s=n(e("lodash/fp/difference")),u=n(e("lodash/fp/filter")),c=n(e("lodash/fp/find")),d=n(e("lodash/fp/findLast")),f=n(e("lodash/fp/flatten")),p=n(e("lodash/fp/get")),m=n(e("lodash/fp/getOr")),h=n(e("lodash/fp/groupBy")),_=n(e("lodash/fp/head")),v=n(e("lodash/fp/keyBy")),b=n(e("lodash/keys")),y=n(e("lodash/fp/last")),g=n(e("lodash/fp/map")),E=n(e("lodash/fp/mapValues")),T=n(e("lodash/fp/mapKeys")),w=n(e("lodash/fp/max")),R=n(e("lodash/fp/merge")),P=n(e("lodash/fp/min")),D=n(e("lodash/fp/omit")),O=n(e("lodash/fp/pick")),C=n(e("lodash/fp/pickBy")),I=n(e("lodash/fp/set")),A=n(e("lodash/fp/sortBy")),S=n(e("lodash/fp/sum")),k=n(e("lodash/fp/toPairs")),M=n(e("lodash/fp/unset")),j=n(e("lodash/values")),N=n(e("lodash/fp/partition")),x=n(e("lodash/fp/intersectionWith")),L=n(e("lodash/fp/uniqBy")),q=n(e("lodash/fp/orderBy"))},{"../toIDMap":1129,"./consoleLog":1082,"@babel/runtime/helpers/interopRequireDefault":189,"lodash/fp/difference":"lodash/fp/difference","lodash/fp/filter":"lodash/fp/filter","lodash/fp/find":"lodash/fp/find","lodash/fp/findLast":"lodash/fp/findLast","lodash/fp/flatten":"lodash/fp/flatten","lodash/fp/get":"lodash/fp/get","lodash/fp/getOr":"lodash/fp/getOr","lodash/fp/groupBy":"lodash/fp/groupBy","lodash/fp/head":"lodash/fp/head","lodash/fp/intersectionWith":"lodash/fp/intersectionWith","lodash/fp/keyBy":"lodash/fp/keyBy","lodash/fp/last":"lodash/fp/last","lodash/fp/map":"lodash/fp/map","lodash/fp/mapKeys":"lodash/fp/mapKeys","lodash/fp/mapValues":"lodash/fp/mapValues","lodash/fp/max":"lodash/fp/max","lodash/fp/merge":"lodash/fp/merge","lodash/fp/min":"lodash/fp/min","lodash/fp/omit":"lodash/fp/omit","lodash/fp/orderBy":"lodash/fp/orderBy","lodash/fp/partition":"lodash/fp/partition","lodash/fp/pick":"lodash/fp/pick","lodash/fp/pickBy":"lodash/fp/pickBy","lodash/fp/set":"lodash/fp/set","lodash/fp/sortBy":"lodash/fp/sortBy","lodash/fp/sum":"lodash/fp/sum","lodash/fp/toPairs":"lodash/fp/toPairs","lodash/fp/uniqBy":"lodash/fp/uniqBy","lodash/fp/unset":"lodash/fp/unset","lodash/keys":"lodash/keys","lodash/values":"lodash/values",redux:"redux",reselect:"reselect"}],1084:[function(e,t,r){"use strict";function n(){return i++}function a(e){var t=n();return"".concat(e,"-").concat(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var i=0},{}],1085:[function(e,t,r){"use strict";function n(e){if(!e)return"";var t=new Date,r=new Date;r.setDate(r.getDate()+1);var n=e instanceof o.default?e:o.default.fromDate(new Date(e)),a=DateistDateHelpers.day_diff(t,n.toDate());return(0,i.default)({date_future:a<=7&&a>1,date_overdue:n.isLessThan(t),date_today:n.isSameDate(t),date_tom:n.isSameDate(r)})}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("classnames")),o=a(e("../models/DateExt")),l=n;r.default=l},{"../models/DateExt":154,"@babel/runtime/helpers/interopRequireDefault":189,classnames:"classnames"}],1086:[function(e,t,r){"use strict";function n(e){var t=0,r=0,n=e;do{t+=n.offsetTop||0,r+=n.offsetLeft||0,n=n.offsetParent}while(n);return{top:t,left:r}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1087:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){if(e!==Object(e)||t!==Object(t))return{};var r=a({},e);for(var n in t)(void 0===e[n]||(0,s.default)(e[n],t[n]))&&delete r[n];return r}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=o(e("lodash/isEqual"))},{"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189,"lodash/isEqual":"lodash/isEqual"}],1088:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<e.length;r++)if(t.hasOwnProperty(e[r]))return!0;return!1}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1089:[function(e,t,r){"use strict";function n(e,t){return(0,i.default)(e,t)&&e.getHours()==t.getHours()&&e.getMinutes()==t.getMinutes()}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("./isOnSameDate"))},{"./isOnSameDate":1099,"@babel/runtime/helpers/interopRequireDefault":189}],1090:[function(e,t,r){"use strict";function n(e){return!(59===e.getMinutes()&&59===e.getSeconds())}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1091:[function(e,t,r){"use strict";function n(e,t){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba(".concat(parseInt(r[1],16),", ").concat(parseInt(r[2],16),", ").concat(parseInt(r[3],16),", ").concat(t,")")}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1092:[function(e,t,r){"use strict";function n(e,t){var r=window.devicePixelRatio;if(r){var n=e.width,a=e.height;e.width=n*r,e.height=a*r,e.style.width="".concat(n,"px"),e.style.height="".concat(a,"px"),t.scale(r,r)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1093:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./isTempID")),i=function(e){return e=e.map(function(e){return(0,a.default)(e)?-1*parseInt(e.substring(1)):e}),e.reduce(function(e,t){return e^t},0)},o=i;r.default=o},{"./isTempID":1102,"@babel/runtime/helpers/interopRequireDefault":189}],1094:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ASCII",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"Env",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"SeqJobQueue",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"addDeferCompositionEndListener",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"easing",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"filterOtherProps",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"hexToRGB",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"highDefCanvas",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"isCompositionEscEvent",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"isTempID",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"isRealID",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"isoToDate",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(r,"mapRange",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"partialMatchName",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(r,"partialMatchIndex",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(r,"shallowEqual",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(r,"toISODateString",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(r,"todayISO",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(r,"tweening",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(r,"firstName",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(r,"toIDMap",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(r,"parseId",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(r,"idHash",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(r,"uploadJSON",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(r,"isSection",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(r,"isIterable",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(r,"looseMatch",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(r,"shortName",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(r,"formatToDOM",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(r,"memoize",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(r,"memoizeReturn",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(r,"isOnSameDate",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(r,"hasSameDateAndTime",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(r,"dayMax",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(r,"dayMin",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(r,"hasTime",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(r,"range",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(r,"move",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(r,"traverseTracking",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(r,"getElementOffset",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(r,"GUID",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(r,"LRU",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(r,"CellStorage",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(r,"createMemoizedDateParser",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(r,"timezones",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(r,"LMemoize",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(r,"byID",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(r,"shuffle",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(r,"recursiveTraverse",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(r,"isUniqueID",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(r,"toUniqueID",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(r,"sum",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(r,"plainItemText",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(r,"generateElementId",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(r,"nextWeek",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(r,"resolveKeyboardKey",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(r,"normalizeMatchStr",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(r,"hasAny",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(r,"getObjectDifference",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(r,"isMouseOver",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(r,"formatDate",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(r,"jsonAPI",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(r,"getDueClassName",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(r,"Lock",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(r,"DateUtils",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(r,"isFixedPosition",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(r,"cropURL",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(r,"copyToClipboard",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(r,"eventFrom",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(r,"__LEGACY_format",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(r,"parseDateString",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(r,"cloneDeep",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(r,"debounce",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(r,"findIndex",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(r,"flatten",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(r,"flow",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(r,"groupBy",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(r,"intersection",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(r,"isArray",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(r,"isString",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(r,"isElement",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(r,"isNumber",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(r,"isUndefined",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(r,"isEqual",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(r,"keyBy",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(r,"keys",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(r,"mapKeys",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(r,"mapValues",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(r,"max",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(r,"merge",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(r,"omit",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(r,"omitBy",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(r,"pick",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(r,"without",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(r,"sortBy",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(r,"sortedUniq",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(r,"toPairs",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(r,"throttle",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(r,"uniq",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(r,"values",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(r,"curry",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(r,"some",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(r,"invert",{enumerable:!0,get:function(){return Ze.default}});var a=n(e("./ASCII")),i=n(e("./Env")),o=n(e("./SeqJobQueue")),l=n(e("./addDeferCompositionEndListener")),s=n(e("./easing")),u=n(e("./filterOtherProps")),c=n(e("./format")),d=n(e("./hexToRGB")),f=n(e("./highDefCanvas")),p=n(e("./isCompositionEscEvent")),m=n(e("./isTempID")),h=n(e("./isRealID")),_=n(e("./isoToDate")),v=n(e("./mapRange")),b=n(e("./partialMatchName")),y=n(e("./partialMatchIndex")),g=n(e("./shallowEqual")),E=n(e("./toISODateString")),T=n(e("./todayISO")),w=n(e("./tweening")),R=n(e("./firstName")),P=n(e("./toIDMap")),D=n(e("./parseId")),O=n(e("./idHash")),C=n(e("./uploadJSON")),I=n(e("./isSection")),A=n(e("./isIterable")),S=n(e("./looseMatch")),k=n(e("./shortName")),M=n(e("./formatToDOM")),j=n(e("./memoize")),N=n(e("./memoizeReturn")),x=n(e("./isOnSameDate")),L=n(e("./hasSameDateAndTime")),q=n(e("./dayMax")),U=n(e("./dayMin")),$=n(e("./hasTime")),F=n(e("./range")),z=n(e("./move")),B=n(e("./traverseTracking")),H=n(e("./getElementOffset")),V=n(e("./GUID")),W=n(e("./LRU")),G=n(e("./CellStorage")),Y=n(e("./createMemoizedDateParser")),K=n(e("./timezones")),X=n(e("lodash/memoize")),J=n(e("./byID")),Q=n(e("./shuffle")),Z=n(e("./recursiveTraverse")),ee=n(e("./isUniqueID")),te=n(e("./toUniqueID")),re=n(e("./sum")),ne=n(e("./plainItemText")),ae=n(e("./generateElementId")),ie=n(e("./nextWeek")),oe=n(e("./resolveKeyboardKey")),le=n(e("./normalizeMatchStr")),se=n(e("./hasAny")),ue=n(e("./getObjectDifference")),ce=n(e("./isMouseOver")),de=n(e("./formatDate")),fe=n(e("./jsonAPI")),pe=n(e("./getDueClassName")),me=n(e("./Lock")),he=n(e("./DateUtils")),_e=n(e("./isFixedPosition")),ve=n(e("./cropURL")),be=n(e("./copyToClipboard")),ye=n(e("./dom/eventFrom")),ge=n(e("./__LEGACY_format")),Ee=n(e("./parseDateString")),Te=n(e("lodash/cloneDeep")),we=n(e("lodash/debounce")),Re=n(e("lodash/findIndex")),Pe=n(e("lodash/flatten")),De=n(e("lodash/flow")),Oe=n(e("lodash/groupBy")),Ce=n(e("lodash/intersection")),Ie=n(e("lodash/isArray")),Ae=n(e("lodash/isString")),Se=n(e("lodash/isElement")),ke=n(e("lodash/isNumber")),Me=n(e("lodash/isUndefined")),je=n(e("lodash/isEqual")),Ne=n(e("lodash/keyBy")),xe=n(e("lodash/keys")),Le=n(e("lodash/mapKeys")),qe=n(e("lodash/mapValues")),Ue=n(e("lodash/max")),$e=n(e("lodash/merge")),Fe=n(e("lodash/omit")),ze=n(e("lodash/omitBy")),Be=n(e("lodash/pick")),He=n(e("lodash/without")),Ve=n(e("lodash/sortBy")),We=n(e("lodash/sortedUniq")),Ge=n(e("lodash/toPairs")),Ye=n(e("lodash/throttle")),Ke=n(e("lodash/uniq")),Xe=n(e("lodash/values")),Je=n(e("lodash/curry")),Qe=n(e("lodash/some")),Ze=n(e("lodash/invert"))},{"./ASCII":1054,"./CellStorage":1055,"./DateUtils":1056,"./Env":1057,"./GUID":1058,"./LRU":1059,"./Lock":1060,"./SeqJobQueue":1061,"./__LEGACY_format":1062,"./addDeferCompositionEndListener":1063,"./byID":1064,"./copyToClipboard":1065,"./createMemoizedDateParser":1066,"./cropURL":1067,"./dayMax":1068,"./dayMin":1069,"./dom/eventFrom":1072,"./easing":1075,"./filterOtherProps":1077,"./firstName":1078,"./format":1079,"./formatDate":1080,"./formatToDOM":1081,"./generateElementId":1084,"./getDueClassName":1085,"./getElementOffset":1086,"./getObjectDifference":1087,"./hasAny":1088,"./hasSameDateAndTime":1089,"./hasTime":1090,"./hexToRGB":1091,"./highDefCanvas":1092,"./idHash":1093,"./isCompositionEscEvent":1095,"./isFixedPosition":1096,"./isIterable":1097,"./isMouseOver":1098,"./isOnSameDate":1099,"./isRealID":1100,"./isSection":1101,"./isTempID":1102,"./isUniqueID":1103,"./isoToDate":1104,"./jsonAPI":1105,"./looseMatch":1106,"./mapRange":1107,"./memoize":1108,"./memoizeReturn":1109,"./move":1110,"./nextWeek":1111,"./normalizeMatchStr":1112,"./parseDateString":1113,"./parseId":1114,"./partialMatchIndex":1115,"./partialMatchName":1116,"./plainItemText":1117,"./range":1118,"./recursiveTraverse":1119,"./resolveKeyboardKey":1120,"./shallowEqual":1121,"./shortName":1122,"./shuffle":1126,"./sum":1127,"./timezones":1128,"./toIDMap":1129,"./toISODateString":1130,"./toUniqueID":1131,"./todayISO":1132,"./traverseTracking":1133,"./tweening":1134,"./uploadJSON":1135,"@babel/runtime/helpers/interopRequireDefault":189,"lodash/cloneDeep":"lodash/cloneDeep","lodash/curry":"lodash/curry","lodash/debounce":"lodash/debounce","lodash/findIndex":"lodash/findIndex","lodash/flatten":"lodash/flatten","lodash/flow":"lodash/flow","lodash/groupBy":"lodash/groupBy","lodash/intersection":"lodash/intersection","lodash/invert":"lodash/invert","lodash/isArray":"lodash/isArray","lodash/isElement":"lodash/isElement","lodash/isEqual":"lodash/isEqual","lodash/isNumber":"lodash/isNumber","lodash/isString":"lodash/isString","lodash/isUndefined":"lodash/isUndefined","lodash/keyBy":"lodash/keyBy","lodash/keys":"lodash/keys","lodash/mapKeys":"lodash/mapKeys","lodash/mapValues":"lodash/mapValues","lodash/max":"lodash/max","lodash/memoize":"lodash/memoize","lodash/merge":"lodash/merge","lodash/omit":"lodash/omit","lodash/omitBy":"lodash/omitBy","lodash/pick":"lodash/pick","lodash/some":"lodash/some","lodash/sortBy":"lodash/sortBy","lodash/sortedUniq":"lodash/sortedUniq","lodash/throttle":"lodash/throttle","lodash/toPairs":"lodash/toPairs","lodash/uniq":"lodash/uniq","lodash/values":"lodash/values","lodash/without":"lodash/without"}],1095:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,a;document.addEventListener("compositionend",function(){n=new Date,a=!1}),document.addEventListener("compositionstart",function(){a=!0});var i=function(e){var t=new Date,r=n&&t.getTime()-n.getTime()<500;return 27==e.keyAscii&&(a||r)},o=i;r.default=o},{}],1096:[function(e,t,r){"use strict";function n(e){return!(e===document||!e)&&(!("fixed"!==window.getComputedStyle(e).getPropertyValue("position").toLowerCase())||n(e.parentNode))}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1097:[function(e,t,r){"use strict";function n(e){return null!==e&&void 0!==e&&"function"==typeof e[Symbol.iterator]}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1098:[function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.within,a=void 0===n?0:n,i=t.getBoundingClientRect(),o=i.top,l=i.right,s=i.bottom,u=i.left,c=e.clientX,d=e.clientY;return c>=u-a&&c<=l+a&&d<=s+a&&d>=o-a}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1099:[function(e,t,r){"use strict";function n(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1100:[function(e,t,r){"use strict";function n(e){return!(0,i.default)(e)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("./isTempID"))},{"./isTempID":1102,"@babel/runtime/helpers/interopRequireDefault":189}],1101:[function(e,t,r){"use strict";function n(e){return e&&(0===e.indexOf("* ")||e.lastIndexOf(":")===e.length-1)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e){return $isString(e)&&0==e.indexOf("_")},a=n;r.default=a},{}],1103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=Math.pow(2,28)-1,a=function(e){return e>n},i=a;r.default=i},{}],1104:[function(e,t,r){"use strict";function n(e){var t=a.exec(e);if(!t)return new Date;try{var r=[parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3])],n=r[0],i=r[1],o=r[2];return new Date(n,i,o)}catch(e){return new Date}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a=/\s*(\d\d\d\d)-(\d\d)-(\d\d)\s*/i},{}],1105:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"!==e[0])throw new Error("jsonAPI error: resourcePath should begin with '/'");var r=t.params||{};if(t.withToken){var n=u.store.getState().user.token;r.token=n,t.headers=a({},t.headers,{Authorization:"Bearer ".concat(n)}),delete t.withToken}var i="/API/".concat(u.SyncEngine.api_version).concat(e);if(Object.keys(r).length>0){var o=Object.keys(r).map(function(e){return e+"="+encodeURIComponent(r[e])}).join("&");i=i+"?"+o}return fetch(i,t).then(function(e){if(200===e.status)return e.json();var t=new Error("HTTP Error");throw t.response=e,t.url=i,t})}var o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("@babel/runtime/helpers/defineProperty")),s=e("./deps"),u=(0,s.defineDeps)("jsonAPI",["store","SyncEngine"])},{"./deps":1071,"@babel/runtime/helpers/defineProperty":185,"@babel/runtime/helpers/interopRequireDefault":189}],1106:[function(e,t,r){"use strict";function n(e){var t=e.toLowerCase().split(" ").filter(function(e){return!!e}),r=function(e){return e=e.toLowerCase(),-1===t.map(function(t){return e.indexOf(t)}).indexOf(-1)};return 1===arguments.length?r:arguments.length>1?r(arguments[1]):void 0}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1107:[function(e,t,r){"use strict";function n(e,t,r,n,a){return r+(n-r)*(a-e)/(t-e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1108:[function(e,t,r){"use strict";function n(e,t){return e===t}function a(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,a=0;a<n;a++)if(!e(t[a],r[a]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,i=null;return function(){return a(t,r,arguments)||(i=e.apply(null,arguments)),r=arguments,i}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i},{}],1109:[function(e,t,r){"use strict";function n(e){var t;return function(){var r=e.apply(null,arguments);return t===r||(0,i.default)(t,r)?t:(t=r,r)}}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("lodash/isEqual"))},{"@babel/runtime/helpers/interopRequireDefault":189,"lodash/isEqual":"lodash/isEqual"}],1110:[function(e,t,r){"use strict";function n(e,t){var r=function(r){if(e<0||t<0||e>=r.length||t>=r.length)throw new Error("Invalid array index");var n=(0,i.default)(r);return n.splice(e,1),n.splice(t,0,r[e]),n};return 3===arguments.length?r(arguments[2]):r}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/toConsumableArray"))},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],1111:[function(e,t,r){"use strict";function n(e){var t=new Date,r=e.next_week,n=e.start_day,a=n-(0===t.getDay()?7:t.getDay());a<=0&&(a+=7);var i=r-n;i<0&&(i+=7);var o=a+i,l=new Date;return l.setDate(t.getDate()+o),l}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1112:[function(e,t,r){"use strict";function n(e){return e.normalize?e.normalize("NFD").replace(a,"").normalize("NFC").toLowerCase().trim():e.toLowerCase().trim()}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a=new RegExp("[\\u0300-\\u036e\\u1dc0-\\u1dfe\\u20d0-\\u20fe\\ufe20-\\ufe2e\\u3099-\\u309a\\u1161-\\u1175\\u11a8-\\u11c2]","g")},{}],1113:[function(e,t,r){"use strict";function n(e){var t=e.split("-").map(function(e){return parseInt(e)}),r=(0,i.default)(t,3),n=r[0],a=r[1],o=r[2];return new Date(n,a-1,o)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("@babel/runtime/helpers/slicedToArray")),o=n;r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],1114:[function(e,t,r){"use strict";function n(e){if((0,i.default)(e))return e;try{return parseInt(e)}catch(e){}return e}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("./isTempID"))},{"./isTempID":1102,"@babel/runtime/helpers/interopRequireDefault":189}],1115:[function(e,t,r){"use strict";function n(e,t){e=e.toLowerCase(),t=t.toLowerCase();var r=i(t),n=t.indexOf(e),a=r.indexOf(e);return-1!==n?n:-1!==a?a:-1}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a=void 0!="".normalize,i=function(e){return a?e.normalize("NFD").replace(/[\u0300-\u036e\u1dc0-\u1dfe\u20d0-\u20fe\ufe20-\ufe2e\u3099-\u309a]+/g,""):e}},{}],1116:[function(e,t,r){"use strict";function n(e,t){if(!e||!t)return!1;if(t=t.trim().toLowerCase(),e=e.toLowerCase(),e.split(" ").filter(function(e){return""!==e}).length>1)return 0===t.indexOf(e);var r=t.split(" ").filter(function(e){return""!==e});return e=e.trim(),r.filter(function(t){return 0===t.indexOf(e)}).length>0}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("lodash/curry")),o=(0,i.default)(n);r.default=o},{"@babel/runtime/helpers/interopRequireDefault":189,"lodash/curry":"lodash/curry"}],1117:[function(e,t,r){"use strict";function n(e){return i.default.format(e,o).replace(/^\*\s+/g,"")}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("../components/formatter/Formatter")),o={only_text:!0,as_html:!1,with_links:!0,with_email:!0}},{"../components/formatter/Formatter":22,"@babel/runtime/helpers/interopRequireDefault":189}],1118:[function(e,t,r){"use strict";function n(){var e,t;if(1==arguments.length)e=0,t=arguments[0];else{if(2!=arguments.length)throw new Error("Invalid arguments");e=arguments[0],t=arguments[1]}for(var r=[],n=e;n<t;n++)r.push(n);return r}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1119:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/typeof")),i=n(e("@babel/runtime/helpers/slicedToArray")),o=n(e("lodash/toPairs")),l=function e(t,r,n){var l=!0,s=!1,u=void 0;try{for(var c,d=(0,o.default)(t)[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var f=(0,i.default)(c.value,2),p=f[0],m=f[1],h=n?n+"."+p:p;r(h,m),"object"===(0,a.default)(m)&&e(m,r,h)}}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}},s=function(e,t){l(e,t,null)},u=s;r.default=u},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199,"@babel/runtime/helpers/typeof":201,"lodash/toPairs":"lodash/toPairs"}],1120:[function(e,t,r){"use strict";function n(e){switch(e){case 37:case"Left":case"ArrowLeft":return a.ARROW_LEFT;case 38:case"Up":case"ArrowUp":return a.ARROW_UP;case 39:case"Right":case"ArrowRight":return a.ARROW_RIGHT;case 40:case"Down":case"ArrowDown":return a.ARROW_DOWN;case 13:case"Enter":return a.ENTER;case 8:case"Backspace":return a.BACKSPACE;case 27:case"Esc":case"Escape":return a.ESCAPE;case 9:case"Tab":return a.TAB;default:return e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var a={ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ENTER:"Enter",
BACKSPACE:"Backspace",ESCAPE:"Escape",TAB:"Tab"}},{}],1121:[function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=Object.prototype.hasOwnProperty,i=0;i<r.length;i+=1){if(!a.call(t,r[i])||e[r[i]]!==t[r[i]])return!1;if(e[r[i]]!==t[r[i]])return!1}return!0}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1122:[function(e,t,r){"use strict";function n(e){var t=e.split(" ");return t.length>1?t[0]+" "+t[1].substring(0,1)+".":t[0]}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ADD_SECTION=r.ADD_TASK_AT_TOP=r.ADD_TASK_AT_BOTTOM=void 0;var n=["a","\u0444"];r.ADD_TASK_AT_BOTTOM=n;var a=["A","\u0424"];r.ADD_TASK_AT_TOP=a;var i=["s","\u044b","\u05d3"];r.ADD_SECTION=i},{}],1124:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useKeyListener",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"ADD_TASK_AT_BOTTOM",{enumerable:!0,get:function(){return i.ADD_TASK_AT_BOTTOM}}),Object.defineProperty(r,"ADD_TASK_AT_TOP",{enumerable:!0,get:function(){return i.ADD_TASK_AT_TOP}}),Object.defineProperty(r,"ADD_SECTION",{enumerable:!0,get:function(){return i.ADD_SECTION}});var a=n(e("./useKeyListener")),i=e("./constants")},{"./constants":1123,"./useKeyListener":1125,"@babel/runtime/helpers/interopRequireDefault":189}],1125:[function(e,t,r){"use strict";function n(e){if(e){var t=(e.nodeName||"undefined").toLowerCase();if("textarea"===t||"input"===t||"select"===t||"textbox"===e.getAttribute("role"))return!1}return!0}function a(e,t){(0,i.useEffect)(function(){function r(r){if(n(r.target)&&e.includes(r.key))return r.preventDefault(),t(r),!1}return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}},[e,t])}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("react"),o=a;r.default=o},{react:"react"}],1126:[function(e,t,r){"use strict";function n(e){e=(0,i.default)(e);for(var t,r,n=e.length;0!==n;)r=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[r],e[r]=t;return e}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/toConsumableArray"))},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/toConsumableArray":200}],1127:[function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return e+t},0)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1128:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getTimezoneName=r.getTimezoneOffset=void 0;var a=n(e("./toISODateString")),i=n(e("moment-timezone")),o={"GMT -12:00":"Etc/GMT+12","GMT -11:00":"Etc/GMT+11","GMT -10:00":"Etc/GMT+10","GMT -9:00":"Etc/GMT+9","GMT -8:00":"Etc/GMT+8","GMT -7:00":"Etc/GMT+7","GMT -6:00":"Etc/GMT+6","GMT -5:00":"Etc/GMT+5","GMT -4:00":"Etc/GMT+4","GMT -3:00":"Etc/GMT+3","GMT -2:00":"Etc/GMT+2","GMT -1:00":"Etc/GMT+1",GMT:"Etc/GMT+0",UTC:"Etc/GMT+0","GMT +1:00":"Etc/GMT-1","GMT +2:00":"Etc/GMT-3","GMT +3:00":"Etc/GMT-3","GMT +4:00":"Etc/GMT-4","GMT +5:00":"Etc/GMT-5","GMT +6:00":"Etc/GMT-6","GMT +7:00":"Etc/GMT-7","GMT +8:00":"Etc/GMT-8","GMT +9:00":"Etc/GMT-9","GMT +10:00":"Etc/GMT-10","GMT +11:00":"Etc/GMT-11","GMT +12:00":"Etc/GMT-12","GMT +13:00":"Etc/GMT-13"},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.useUTC,o=void 0!==n&&n;try{return-i.default.tz(o?t:(0,a.default)(t),s(e)).utcOffset()}catch(e){return 0}};r.getTimezoneOffset=l;var s=function(e){return o[e]?o[e]:e};r.getTimezoneName=s;var u={getTimezoneName:s,getTimezoneOffset:l};r.default=u},{"./toISODateString":1130,"@babel/runtime/helpers/interopRequireDefault":189,"moment-timezone":"moment-timezone"}],1129:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("lodash/isString")),i=n(e("lodash/isNumber")),o=function(e){return e.reduce(function(e,t){return(0,a.default)(t.id)||(0,i.default)(t.id)?(e[t.id]=t,e):e},{})},l=o;r.default=l},{"@babel/runtime/helpers/interopRequireDefault":189,"lodash/isNumber":"lodash/isNumber","lodash/isString":"lodash/isString"}],1130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e){return e<10?"0"+e:e},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.toUTC,a=void 0!==r&&r,i=t.dateOnly,o=void 0!==i&&i,l=t.withOffset,s=void 0!==l&&l,u=a?e.getUTCFullYear():e.getFullYear(),c=n(a?e.getUTCMonth()+1:e.getMonth()+1),d=n(a?e.getUTCDate():e.getDate());if(o)return"".concat(u,"-").concat(c,"-").concat(d);var f=n(a?e.getUTCHours():e.getHours()),p=n(a?e.getUTCMinutes():e.getMinutes()),m=n(a?e.getUTCSeconds():e.getSeconds()),h="".concat(a?e.getUTCMilliseconds():e.getMilliseconds()).padStart(4,"0");if(a)return"".concat(u,"-").concat(c,"-").concat(d,"T").concat(f,":").concat(p,":").concat(m,".").concat(h,"Z");if(!s)return"".concat(u,"-").concat(c,"-").concat(d,"T").concat(f,":").concat(p,":").concat(m,".").concat(h);var _=e.getTimezoneOffset(),v=n(Math.abs(Math.floor(_/60))),b=n(Math.abs(_%60)),y=_>0?"-":"+",g="".concat(y).concat(v,":").concat(b);return"".concat(u,"-").concat(c,"-").concat(d,"T").concat(f,":").concat(p,":").concat(m,".").concat(h).concat(g)},i=a;r.default=i},{}],1131:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./isTempID")),i=n(e("./isUniqueID")),o=n(e("lodash/curry")),l=(0,o.default)(function(e,t){return(0,a.default)(t)||(0,i.default)(t)?t:e.user.unique_prefix<<28|t}),s=l;r.default=s},{"./isTempID":1102,"./isUniqueID":1103,"@babel/runtime/helpers/interopRequireDefault":189,"lodash/curry":"lodash/curry"}],1132:[function(e,t,r){"use strict";function n(){var e=new Date,t=e.getDate()>9?e.getDate():"0".concat(e.getDate()),r=e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1);return"".concat(e.getFullYear(),"-").concat(r,"-").concat(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],1133:[function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";if(e.getAttribute){var r=e.getAttribute("data-track");if(r){var a=r.split("|"),o=(0,i.default)(a,2),l=o[0],s=o[1];track(l,t,s)}}e.parentNode&&n(e.parentNode)}var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var i=a(e("@babel/runtime/helpers/slicedToArray"))},{"@babel/runtime/helpers/interopRequireDefault":189,"@babel/runtime/helpers/slicedToArray":199}],1134:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("./mapRange")),i=function(e){var t,r=e.from,n=e.to,i=e.duration,o=e.easing,l=e.step,s=e.startAfter,u=void 0===s?0:s,c=Date.now()+u,d=c+i,f=new Promise(function(e){t=e}),p=function e(){var i=Date.now();if(i<c)return void requestAnimationFrame(e);if(i>=d)return void t();var s=(0,a.default)(c,d,0,1,i);s=o(s);var u=(0,a.default)(0,1,r,n,s);l(u),requestAnimationFrame(e)};return requestAnimationFrame(p),f},o=i;r.default=o},{"./mapRange":1107,"@babel/runtime/helpers/interopRequireDefault":189}],1135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e,t){return new Promise(function(r,n){var a=new Blob([e],{type:"application/json"}),i=new File([a],t),o="/sync/v8/uploads/add?token=".concat(window.User.token,"&file_name=").concat(t),l=new XMLHttpRequest,s=new FormData;s.append("file",a),s.append("file_name",t),s.append("file_size",i.size|i.fileSize),s.append("file_type","application/json"),l.addEventListener("error",function(e){n(e.errors)}),l.addEventListener("load",function(e){var t=JSON.parse(e.currentTarget.responseText);t.error?n(t.error):r(t.file_url)}),l.open("POST",o,!0),l.send(s)})},a=n;r.default=a},{}]},{},[123]);
//# sourceMappingURL=/generated/Col_AppCollection.map.js
