var triggerElementID=null;var fingerCount=0;var startX=0;var startY=0;var curX=0;var curY=0;var deltaX=0;var deltaY=0;var horzDiff=0;var vertDiff=0;var minLength=30;var swipeLength=0;var swipeAngle=null;var swipeDirection=null;function touchStart(b,a){b.preventDefault();fingerCount=b.touches.length;if(fingerCount==1){startX=b.touches[0].pageX;startY=b.touches[0].pageY;triggerElementID=a}else{touchCancel(b)}}function touchMove(a){a.preventDefault();if(a.touches.length==1){curX=a.touches[0].pageX;curY=a.touches[0].pageY}else{touchCancel(a)}}function touchEnd(a){a.preventDefault();if(fingerCount==1&&curX!=0){swipeLength=Math.round(Math.sqrt(Math.pow(curX-startX,2)+Math.pow(curY-startY,2)));if(swipeLength>=minLength){caluculateAngle();determineSwipeDirection();processingRoutine();touchCancel(a)}else{touchCancel(a)}}else{touchCancel(a)}}function touchCancel(a){fingerCount=0;startX=0;startY=0;curX=0;curY=0;deltaX=0;deltaY=0;horzDiff=0;vertDiff=0;swipeLength=0;swipeAngle=null;swipeDirection=null;triggerElementID=null}function caluculateAngle(){var d=startX-curX;var c=curY-startY;var b=Math.round(Math.sqrt(Math.pow(d,2)+Math.pow(c,2)));var a=Math.atan2(c,d);swipeAngle=Math.round(a*180/Math.PI);if(swipeAngle<0){swipeAngle=360-Math.abs(swipeAngle)}}function determineSwipeDirection(){if((swipeAngle<=45)&&(swipeAngle>=0)){swipeDirection="left"}else{if((swipeAngle<=360)&&(swipeAngle>=315)){swipeDirection="left"}else{if((swipeAngle>=135)&&(swipeAngle<=225)){swipeDirection="right"}else{if((swipeAngle>45)&&(swipeAngle<135)){swipeDirection="down"}else{swipeDirection="up"}}}}}function processingRoutine(){var a=document.getElementById(triggerElementID);if(swipeDirection=="left"){nextCard()}else{if(swipeDirection=="right"){prevCard()}}};