(function(){function m(d,b){var c=this,a;c.element=typeof d=="object"?d:document.getElementById(d);c.wrapper=c.element.parentNode;c.element.style.webkitTransitionProperty="-webkit-transform";c.element.style.webkitTransitionTimingFunction="cubic-bezier(0,0,0.25,1)";c.element.style.webkitTransitionDuration="0";c.element.style.webkitTransform=o+"0,0"+u;c.options={bounce:s,momentum:s,checkDOMChanges:true,topOnDOMChanges:false,hScrollbar:s,vScrollbar:s,fadeScrollbar:p||!v,shrinkScrollbar:p||!v,desktopCompatibility:false,overflow:"auto",snap:false,bounceLock:false,scrollbarColor:"rgba(0,0,0,0.5)",onScrollEnd:function(){}};if(typeof b=="object"){for(a in b){c.options[a]=b[a]}}if(c.options.desktopCompatibility){c.options.overflow="hidden"}c.onScrollEnd=c.options.onScrollEnd;delete c.options.onScrollEnd;c.wrapper.style.overflow=c.options.overflow;c.refresh();window.addEventListener("onorientationchange" in window?"orientationchange":"resize",c,false);if(v||c.options.desktopCompatibility){c.element.addEventListener(q,c,false);c.element.addEventListener(n,c,false);c.element.addEventListener(r,c,false)}if(c.options.checkDOMChanges){c.element.addEventListener("DOMSubtreeModified",c,false)}}m.prototype={x:0,y:0,enabled:true,handleEvent:function(a){var b=this;switch(a.type){case q:b.touchStart(a);break;case n:b.touchMove(a);break;case r:b.touchEnd(a);break;case"webkitTransitionEnd":b.transitionEnd();break;case"orientationchange":case"resize":b.refresh();break;case"DOMSubtreeModified":b.onDOMModified(a);break}},onDOMModified:function(a){var b=this;if(a.target.parentNode!=b.element){return}setTimeout(function(){b.refresh()},0);if(b.options.topOnDOMChanges&&(b.x!=0||b.y!=0)){b.scrollTo(0,0,"0")}},refresh:function(){var a=this,c=a.x,d=a.y,b;a.scrollWidth=a.wrapper.clientWidth;a.scrollHeight=a.wrapper.clientHeight;a.scrollerWidth=a.element.offsetWidth;a.scrollerHeight=a.element.offsetHeight;a.maxScrollX=a.scrollWidth-a.scrollerWidth;a.maxScrollY=a.scrollHeight-a.scrollerHeight;a.directionX=0;a.directionY=0;if(a.scrollX){if(a.maxScrollX>=0){c=0}else{if(a.x<a.maxScrollX){c=a.maxScrollX}}}if(a.scrollY){if(a.maxScrollY>=0){d=0}else{if(a.y<a.maxScrollY){d=a.maxScrollY}}}if(a.options.snap){a.maxPageX=-Math.floor(a.maxScrollX/a.scrollWidth);a.maxPageY=-Math.floor(a.maxScrollY/a.scrollHeight);b=a.snap(c,d);c=b.x;d=b.y}if(c!=a.x||d!=a.y){a.setTransitionTime("0");a.setPosition(c,d,true)}a.scrollX=a.scrollerWidth>a.scrollWidth;a.scrollY=!a.options.bounceLock&&!a.scrollX||a.scrollerHeight>a.scrollHeight;if(a.options.hScrollbar&&a.scrollX){a.scrollBarX=a.scrollBarX||new l("horizontal",a.wrapper,a.options.fadeScrollbar,a.options.shrinkScrollbar,a.options.scrollbarColor);a.scrollBarX.init(a.scrollWidth,a.scrollerWidth)}else{if(a.scrollBarX){a.scrollBarX=a.scrollBarX.remove()}}if(a.options.vScrollbar&&a.scrollY&&a.scrollerHeight>a.scrollHeight){a.scrollBarY=a.scrollBarY||new l("vertical",a.wrapper,a.options.fadeScrollbar,a.options.shrinkScrollbar,a.options.scrollbarColor);a.scrollBarY.init(a.scrollHeight,a.scrollerHeight)}else{if(a.scrollBarY){a.scrollBarY=a.scrollBarY.remove()}}},setPosition:function(b,c,d){var a=this;a.x=b;a.y=c;a.element.style.webkitTransform=o+a.x+"px,"+a.y+"px"+u;if(!d){if(a.scrollBarX){a.scrollBarX.setPosition(a.x)}if(a.scrollBarY){a.scrollBarY.setPosition(a.y)}}},setTransitionTime:function(a){var b=this;a=a||"0";b.element.style.webkitTransitionDuration=a;if(b.scrollBarX){b.scrollBarX.bar.style.webkitTransitionDuration=a;b.scrollBarX.wrapper.style.webkitTransitionDuration=s&&b.options.fadeScrollbar?"300ms":"0"}if(b.scrollBarY){b.scrollBarY.bar.style.webkitTransitionDuration=a;b.scrollBarY.wrapper.style.webkitTransitionDuration=s&&b.options.fadeScrollbar?"300ms":"0"}},touchStart:function(c){var a=this,b;if(!a.enabled){return}c.preventDefault();c.stopPropagation();a.scrolling=true;a.moved=false;a.distX=0;a.distY=0;a.setTransitionTime("0");if(a.options.momentum||a.options.snap){b=new WebKitCSSMatrix(window.getComputedStyle(a.element).webkitTransform);if(b.e!=a.x||b.f!=a.y){document.removeEventListener("webkitTransitionEnd",a,false);a.setPosition(b.e,b.f);a.moved=true}}a.touchStartX=v?c.changedTouches[0].pageX:c.pageX;a.scrollStartX=a.x;a.touchStartY=v?c.changedTouches[0].pageY:c.pageY;a.scrollStartY=a.y;a.scrollStartTime=c.timeStamp;a.directionX=0;a.directionY=0},touchMove:function(d){if(!this.scrolling){return}var f=this,g=v?d.changedTouches[0].pageX:d.pageX,h=v?d.changedTouches[0].pageY:d.pageY,a=f.scrollX?g-f.touchStartX:0,b=f.scrollY?h-f.touchStartY:0,c=f.x+a,e=f.y+b;d.stopPropagation();f.touchStartX=g;f.touchStartY=h;if(c>=0||c<f.maxScrollX){c=f.options.bounce?Math.round(f.x+a/3):(c>=0||f.maxScrollX>=0)?0:f.maxScrollX}if(e>=0||e<f.maxScrollY){e=f.options.bounce?Math.round(f.y+b/3):(e>=0||f.maxScrollY>=0)?0:f.maxScrollY}if(f.distX+f.distY>5){if(f.distX-3>f.distY){e=f.y;b=0}else{if(f.distY-3>f.distX){c=f.x;a=0}}f.setPosition(c,e);f.moved=true;f.directionX=a>0?-1:1;f.directionY=b>0?-1:1}else{f.distX+=Math.abs(a);f.distY+=Math.abs(b)}},touchEnd:function(k){if(!this.scrolling){return}var x=this,d=k.timeStamp-x.scrollStartTime,h=v?k.changedTouches[0]:k,j,i,e,g,f=0,a=x.x,b=x.y,c;x.scrolling=false;if(!x.moved){x.resetPosition();if(v){j=h.target;while(j.nodeType!=1){j=j.parentNode}i=document.createEvent("MouseEvents");i.initMouseEvent("click",true,true,k.view,1,h.screenX,h.screenY,h.clientX,h.clientY,k.ctrlKey,k.altKey,k.shiftKey,k.metaKey,0,null);i._fake=true;j.dispatchEvent(i)}return}if(!x.options.snap&&d>250){x.resetPosition();return}if(x.options.momentum){e=x.scrollX===true?x.momentum(x.x-x.scrollStartX,d,x.options.bounce?-x.x+x.scrollWidth/5:-x.x,x.options.bounce?x.x+x.scrollerWidth-x.scrollWidth+x.scrollWidth/5:x.x+x.scrollerWidth-x.scrollWidth):{dist:0,time:0};g=x.scrollY===true?x.momentum(x.y-x.scrollStartY,d,x.options.bounce?-x.y+x.scrollHeight/5:-x.y,x.options.bounce?(x.maxScrollY<0?x.y+x.scrollerHeight-x.scrollHeight:0)+x.scrollHeight/5:x.y+x.scrollerHeight-x.scrollHeight):{dist:0,time:0};f=Math.max(Math.max(e.time,g.time),1);a=x.x+e.dist;b=x.y+g.dist}if(x.options.snap){c=x.snap(a,b);a=c.x;b=c.y;f=Math.max(c.time,f)}x.scrollTo(a,b,f+"ms")},transitionEnd:function(){var a=this;document.removeEventListener("webkitTransitionEnd",a,false);a.resetPosition()},resetPosition:function(){var b=this,c=b.x,a=b.y;if(b.x>=0){c=0}else{if(b.x<b.maxScrollX){c=b.maxScrollX}}if(b.y>=0||b.maxScrollY>0){a=0}else{if(b.y<b.maxScrollY){a=b.maxScrollY}}if(c!=b.x||a!=b.y){b.scrollTo(c,a)}else{if(b.moved){b.onScrollEnd();b.moved=false}if(b.scrollBarX){b.scrollBarX.hide()}if(b.scrollBarY){b.scrollBarY.hide()}}},snap:function(b,c){var a=this,d;if(a.directionX>0){b=Math.floor(b/a.scrollWidth)}else{if(a.directionX<0){b=Math.ceil(b/a.scrollWidth)}else{b=Math.round(b/a.scrollWidth)}}a.pageX=-b;b=b*a.scrollWidth;if(b>0){b=a.pageX=0}else{if(b<a.maxScrollX){a.pageX=a.maxPageX;b=a.maxScrollX}}if(a.directionY>0){c=Math.floor(c/a.scrollHeight)}else{if(a.directionY<0){c=Math.ceil(c/a.scrollHeight)}else{c=Math.round(c/a.scrollHeight)}}a.pageY=-c;c=c*a.scrollHeight;if(c>0){c=a.pageY=0}else{if(c<a.maxScrollY){a.pageY=a.maxPageY;c=a.maxScrollY}}d=Math.round(Math.max(Math.abs(a.x-b)/a.scrollWidth*500,Math.abs(a.y-c)/a.scrollHeight*500));return{x:b,y:c,time:d}},scrollTo:function(a,b,c){var d=this;if(d.x==a&&d.y==b){d.resetPosition();return}d.moved=true;d.setTransitionTime(c||"350ms");d.setPosition(a,b);if(c==="0"||c=="0s"||c=="0ms"){d.resetPosition()}else{document.addEventListener("webkitTransitionEnd",d,false)}},scrollToPage:function(e,a,c){var d=this,b;if(!d.options.snap){d.pageX=-Math.round(d.x/d.scrollWidth);d.pageY=-Math.round(d.y/d.scrollHeight)}if(e=="next"){e=++d.pageX}else{if(e=="prev"){e=--d.pageX}}if(a=="next"){a=++d.pageY}else{if(a=="prev"){a=--d.pageY}}e=-e*d.scrollWidth;a=-a*d.scrollHeight;b=d.snap(e,a);e=b.x;a=b.y;d.scrollTo(e,a,c||"500ms")},scrollToElement:function(a,d){a=typeof a=="object"?a:this.element.querySelector(a);if(!a){return}var e=this,b=e.scrollX?-a.offsetLeft:0,c=e.scrollY?-a.offsetTop:0;if(b>=0){b=0}else{if(b<e.maxScrollX){b=e.maxScrollX}}if(c>=0){c=0}else{if(c<e.maxScrollY){c=e.maxScrollY}}e.scrollTo(b,c,d)},momentum:function(i,f,b,g){var c=2.5,a=1.2,e=Math.abs(i)/f*1000,d=e*e/c/1000,h=0;if(i>0&&d>b){e=e*b/d/c;d=b}else{if(i<0&&d>g){e=e*g/d/c;d=g}}d=d*(i<0?-1:1);h=e/a;return{dist:Math.round(d),time:Math.round(h)}},destroy:function(b){var a=this;window.removeEventListener("onorientationchange" in window?"orientationchange":"resize",a,false);a.element.removeEventListener(q,a,false);a.element.removeEventListener(n,a,false);a.element.removeEventListener(r,a,false);document.removeEventListener("webkitTransitionEnd",a,false);if(a.options.checkDOMChanges){a.element.removeEventListener("DOMSubtreeModified",a,false)}if(a.scrollBarX){a.scrollBarX=a.scrollBarX.remove()}if(a.scrollBarY){a.scrollBarY=a.scrollBarY.remove()}if(b){a.wrapper.parentNode.removeChild(a.wrapper)}return null}};function l(a,c,d,g,b){var f=this,e=document;f.dir=a;f.fade=d;f.shrink=g;f.uid=++t;f.bar=e.createElement("div");f.bar.style.cssText="position:absolute;top:0;left:0;-webkit-transition-timing-function:cubic-bezier(0,0,0.25,1);pointer-events:none;-webkit-transition-duration:0;-webkit-transition-delay:0;-webkit-transition-property:-webkit-transform;z-index:10;background:"+b+";-webkit-transform:"+o+"0,0"+u+";"+(a=="horizontal"?"-webkit-border-radius:3px 2px;min-width:6px;min-height:5px":"-webkit-border-radius:2px 3px;min-width:5px;min-height:6px");f.wrapper=e.createElement("div");f.wrapper.style.cssText="-webkit-mask:-webkit-canvas(scrollbar"+f.uid+f.dir+");position:absolute;z-index:10;pointer-events:none;overflow:hidden;opacity:0;-webkit-transition-duration:"+(d?"300ms":"0")+";-webkit-transition-delay:0;-webkit-transition-property:opacity;"+(f.dir=="horizontal"?"bottom:2px;left:2px;right:7px;height:5px":"top:2px;right:2px;bottom:7px;width:5px;");f.wrapper.appendChild(f.bar);c.appendChild(f.wrapper)}l.prototype={init:function(b,f){var e=this,c=document,d=Math.PI,a;if(e.dir=="horizontal"){if(e.maxSize!=e.wrapper.offsetWidth){e.maxSize=e.wrapper.offsetWidth;a=c.getCSSCanvasContext("2d","scrollbar"+e.uid+e.dir,e.maxSize,5);a.fillStyle="rgb(0,0,0)";a.beginPath();a.arc(2.5,2.5,2.5,d/2,-d/2,false);a.lineTo(e.maxSize-2.5,0);a.arc(e.maxSize-2.5,2.5,2.5,-d/2,d/2,false);a.closePath();a.fill()}}else{if(e.maxSize!=e.wrapper.offsetHeight){e.maxSize=e.wrapper.offsetHeight;a=c.getCSSCanvasContext("2d","scrollbar"+e.uid+e.dir,5,e.maxSize);a.fillStyle="rgb(0,0,0)";a.beginPath();a.arc(2.5,2.5,2.5,d,0,false);a.lineTo(5,e.maxSize-2.5);a.arc(2.5,e.maxSize-2.5,2.5,0,d,false);a.closePath();a.fill()}}e.size=Math.max(Math.round(e.maxSize*e.maxSize/f),6);e.maxScroll=e.maxSize-e.size;e.toWrapperProp=e.maxScroll/(b-f);e.bar.style[e.dir=="horizontal"?"width":"height"]=e.size+"px"},setPosition:function(a){var b=this;if(b.wrapper.style.opacity!="1"){b.show()}a=Math.round(b.toWrapperProp*a);if(a<0){a=b.shrink?a+a*3:0;if(b.size+a<7){a=-b.size+6}}else{if(a>b.maxScroll){a=b.shrink?a+(a-b.maxScroll)*3:b.maxScroll;if(b.size+b.maxScroll-a<7){a=b.size+b.maxScroll-6}}}a=b.dir=="horizontal"?o+a+"px,0"+u:o+"0,"+a+"px"+u;b.bar.style.webkitTransform=a},show:function(){if(s){this.wrapper.style.webkitTransitionDelay="0"}this.wrapper.style.opacity="1"},hide:function(){if(s){this.wrapper.style.webkitTransitionDelay="350ms"}this.wrapper.style.opacity="0"},remove:function(){this.wrapper.parentNode.removeChild(this.wrapper);return null}};var s=("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix()),p=(/iphone|ipad/gi).test(navigator.appVersion),v=("ontouchstart" in window),q=v?"touchstart":"mousedown",n=v?"touchmove":"mousemove",r=v?"touchend":"mouseup",o="translate"+(s?"3d(":"("),u=s?",0)":")",t=0;window.iScroll=m})();